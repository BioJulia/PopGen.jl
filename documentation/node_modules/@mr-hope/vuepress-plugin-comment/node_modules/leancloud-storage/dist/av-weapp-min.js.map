{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9faa8e8d46c2e41415c5","webpack:///av-weapp-min.js","webpack:///./node_modules/underscore/underscore.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./src/utils/index.js","webpack:///./src/request.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./src/error.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./src/av.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./src/adapter.js","webpack:///./node_modules/core-js/library/modules/_validate-collection.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/modules/_array-methods.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/uuid/v4.js","webpack:///./src/ua/index.js","webpack:///./src/version.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./src/localstorage.js","webpack:///./src/cache.js","webpack:///./node_modules/charenc/charenc.js","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_collection.js","webpack:///./node_modules/core-js/library/modules/_set-collection-of.js","webpack:///./node_modules/core-js/library/modules/_set-collection-from.js","webpack:///./src/entry/index.js","webpack:///./src/entry/core.js","webpack:///./src/index.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_user-agent.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/promise-timeout/index.js","webpack:///./src/init.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/app-router.js","webpack:///./src/event.js","webpack:///./src/geopoint.js","webpack:///./src/acl.js","webpack:///./src/op.js","webpack:///./src/relation.js","webpack:///./src/file.js","webpack:///./src/uploader/cos.js","webpack:///./src/uploader/qiniu.js","webpack:///./src/uploader/s3.js","webpack:///./node_modules/md5/md5.js","webpack:///./node_modules/crypt/crypt.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./src/utils/parse-base64-browser.js","webpack:///./src/object.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/role.js","webpack:///./src/user.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./src/query.js","webpack:///./src/live-query.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./src/captcha.js","webpack:///./src/cloudfunction.js","webpack:///./src/push.js","webpack:///./src/status.js","webpack:///./src/search.js","webpack:///./src/insight.js","webpack:///./src/conversation.js","webpack:///./src/leaderboard.js","webpack:///./src/entry/use-adapters.js","webpack:///./node_modules/@leancloud/platform-adapters-weapp/lib/index.js","webpack:///./node_modules/event-target-shim/dist/event-target-shim.js","webpack:///./node_modules/babel-runtime/core-js/map.js","webpack:///./node_modules/core-js/library/fn/map.js","webpack:///./node_modules/core-js/library/modules/es6.map.js","webpack:///./node_modules/core-js/library/modules/_collection-strong.js","webpack:///./node_modules/core-js/library/modules/_array-species-create.js","webpack:///./node_modules/core-js/library/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/library/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/library/modules/_collection-to-json.js","webpack:///./node_modules/core-js/library/modules/_array-from-iterable.js","webpack:///./node_modules/core-js/library/modules/es7.map.of.js","webpack:///./node_modules/core-js/library/modules/es7.map.from.js","webpack:///./node_modules/babel-runtime/core-js/object/create.js","webpack:///./node_modules/core-js/library/fn/object/create.js","webpack:///./node_modules/core-js/library/modules/es6.object.create.js","webpack:///./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/_set-proto.js","webpack:///./node_modules/babel-runtime/core-js/weak-map.js","webpack:///./node_modules/core-js/library/fn/weak-map.js","webpack:///./node_modules/core-js/library/modules/es6.weak-map.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/_collection-weak.js","webpack:///./node_modules/core-js/library/modules/es7.weak-map.of.js","webpack:///./node_modules/core-js/library/modules/es7.weak-map.from.js","webpack:///./src/ua/comments-browser.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","previousUnderscore","_","ArrayProto","Array","ObjProto","SymbolProto","Symbol","push","slice","toString","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","create","Ctor","obj","_wrapped","nodeType","VERSION","builtinIteratee","optimizeCb","func","context","argCount","value","index","collection","accumulator","apply","arguments","cb","iteratee","identity","isFunction","isObject","matcher","Infinity","restArguments","startIndex","length","Math","max","rest","args","baseCreate","result","shallowProperty","key","has","path","deepGet","MAX_ARRAY_INDEX","pow","getLength","isArrayLike","each","forEach","map","collect","results","currentKey","createReduce","dir","reducer","memo","initial","reduce","foldl","inject","reduceRight","foldr","find","detect","predicate","keyFinder","findIndex","findKey","filter","select","list","reject","negate","every","all","some","any","contains","includes","include","item","fromIndex","guard","values","indexOf","invoke","contextPath","method","pluck","where","attrs","findWhere","computed","lastComputed","v","min","shuffle","sample","random","clone","last","rand","temp","sortBy","criteria","sort","left","right","a","b","group","behavior","partition","groupBy","indexBy","countBy","reStrSymbol","toArray","isString","match","size","pass","first","head","take","array","tail","drop","compact","Boolean","flatten","input","shallow","strict","output","idx","isArguments","j","len","without","otherArrays","difference","uniq","unique","isSorted","isBoolean","seen","union","arrays","intersection","argsLength","unzip","zip","createPredicateIndexFinder","findLastIndex","sortedIndex","low","high","mid","floor","createIndexFinder","predicateFind","isNaN","lastIndexOf","range","start","stop","step","ceil","chunk","count","executeBound","sourceFunc","boundFunc","callingContext","bind","TypeError","bound","callArgs","concat","partial","boundArgs","placeholder","position","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","wrap","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","constructor","proto","prop","allKeys","mapObject","pairs","invert","functions","methods","names","createAssigner","keysFunc","defaults","source","extend","extendOwn","assign","keyInObj","pick","omit","String","props","tap","interceptor","isMatch","eq","deepEq","aStack","bStack","type","className","valueOf","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isElement","nodelist","document","childNodes","Int8Array","isFinite","isSymbol","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","propertyOf","matches","accum","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","fallback","idCounter","uniqueId","prefix","id","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","template","text","settings","oldSettings","offset","variable","render","Function","e","data","chain","instance","_chain","chainResult","mixin","toJSON","core","version","__e","window","__g","store","uid","USE_SYMBOL","ctx","hide","$export","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","target","undefined","C","virtual","R","U","it","_interopRequireDefault","default","_promise","_promise2","_getPrototypeOf","_getPrototypeOf2","_stringify","_stringify2","_typeof2","_typeof3","_keys","_keys2","require","_require","debug","debugRequest","debugRequestError","_require2","getAdapter","requestsCount","ajax","url","query","headers","time","onprogress","queryString","encodeURIComponent","qs","request","promise","then","response","status","header","ok","error","catch","enabled","statusCode","responseText","isNullOrUndefined","x","ensureArray","transformFetchOptions","includeACL","fetchOptions","returnACL","getSessionToken","authOptions","sessionToken","user","EmptyConstructor","inherits","parent","protoProps","staticProps","child","__super__","parseDate","iso8601","setValue","segs","split","lastSeg","currentTarget","seg","findValue","firstSeg","isPlainObject","continueWhile","asyncFunction","resolve","md5","AV","sign","isMasterKey","signature","setAppKey","signKey","applicationKey","setHeaders","applicationId","useMasterKey","_config","masterKey","console","warn","hookKey","production","_sharedConfig","userAgent","disableCurrentUser","User","currentAsync","currentUser","_sessionToken","createApiUrl","service","apiURL","serverURLs","charAt","_appRouter","refresh","requestTimeout","errorJSON","code","message","JSON","parse","rawMessage","keepErrorRawMessage","err","_request","route","objectId","_fetchWhenSave","_where","toLowerCase","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","aFunction","fn","that","createDesc","exec","IObject","defined","AVError","OTHER_CAUSE","INTERNAL_SERVER_ERROR","CONNECTION_FAILED","OBJECT_NOT_FOUND","INVALID_QUERY","INVALID_CLASS_NAME","MISSING_OBJECT_ID","INVALID_KEY_NAME","INVALID_POINTER","INVALID_JSON","COMMAND_UNAVAILABLE","NOT_INITIALIZED","INCORRECT_TYPE","INVALID_CHANNEL_NAME","PUSH_MISCONFIGURED","OBJECT_TOO_LARGE","OPERATION_FORBIDDEN","CACHE_MISS","INVALID_NESTED_KEY","INVALID_FILE_NAME","INVALID_ACL","TIMEOUT","INVALID_EMAIL_ADDRESS","MISSING_CONTENT_TYPE","MISSING_CONTENT_LENGTH","INVALID_CONTENT_LENGTH","FILE_TOO_LARGE","FILE_SAVE_ERROR","FILE_DELETE_ERROR","DUPLICATE_VALUE","INVALID_ROLE_NAME","EXCEEDED_QUOTA","SCRIPT_FAILED","VALIDATION_ERROR","INVALID_IMAGE_DATA","UNSAVED_FILE_ERROR","INVALID_PUSH_TIME_ERROR","USERNAME_MISSING","PASSWORD_MISSING","USERNAME_TAKEN","EMAIL_TAKEN","EMAIL_MISSING","EMAIL_NOT_FOUND","SESSION_MISSING","MUST_CREATE_USER_THROUGH_SIGNUP","ACCOUNT_ALREADY_LINKED","LINKED_ID_MISSING","INVALID_LINKED_SESSION","UNSUPPORTED_SERVICE","X_DOMAIN_REQUEST","Iterators","TO_STRING_TAG","DOMIterables","NAME","Collection","isArrayIter","toLength","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","iterator","iterFn","next","done","uuid","getUA","setAdapters","realtime","liveQueryRealtime","_getAVPath","substring","_installationId","_getInstallationId","localStorage","getItemAsync","setItemAsync","_subscriptionId","_refreshSubscriptionId","subscriptionId","_getSubscriptionId","_parseDate","_extend","classProps","_encode","seenObjects","disallowObjects","full","_hasData","_toFullJSON","_toPointer","ACL","isDate","__type","iso","GeoPoint","isRegExp","Relation","Op","File","k","_decode","__op","pointer","_create","_finishFetch","latitude","longitude","relation","targetClassName","file","parseJSON","stringify","_encodeObjectOrArray","encodeAVObject","_arrayEach","_traverse","attributes","newChild","_each","_objectEach","callback","enable","namespaces","disable","_typeof","useColors","process","__nwjs","navigator","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","$1","formatArgs","namespace","humanize","diff","color","splice","lastC","log","_console","save","storage","setItem","removeItem","load","r","getItem","env","DEBUG","colors","formatters","$at","iterated","_t","_i","point","$keys","enumBugKeys","def","TAG","tag","stat","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","adapters","adapter","newAdapters","TYPE","bitmap","writable","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","display","appendChild","src","contentWindow","open","write","lt","close","Properties","px","cof","ARG","tryGet","T","callee","Constructor","forbiddenField","safe","LIBRARY","redefine","$iterCreate","setToStringTag","getPrototypeOf","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","is","createElement","val","toInteger","shared","mode","copyright","PromiseCapability","$$resolve","$$reject","fails","exp","_iterator","_iterator2","_symbol","_symbol2","wksExt","$Symbol","getOwnPropertySymbols","pIE","toIObject","gOPD","getOwnPropertyDescriptor","toObject","asc","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","arrayIndexOf","ObjectProto","classof","getIteratorMethod","SPECIES","D","channel","port","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","event","nextTick","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","set","clear","newPromiseCapability","promiseCapability","DESCRIPTORS","g","eval","v4","buf","rnds","rng","ii","bytesToUuid","comments","ua","arg","hiddenKeys","getOwnPropertyNames","syncApiNames","async","apiName","removeAsync","removeItemAsync","getCacheData","cacheData","expiredAt","getAsync","setAsync","ttl","charenc","utf8","stringToBytes","str","bin","bytesToString","bytes","decodeURIComponent","charCodeAt","fromCharCode","redefineAll","forOf","anInstance","common","IS_WEAK","ADDER","_c","IS_ADDER","getConstructor","setStrong","COLLECTION","of","A","from","mapping","mapFn","nextItem","useAdatpers","Promise","Cache","Conversation","TO_STRING","pos","descriptor","getKeys","defineProperties","toAbsoluteIndex","IS_INCLUDES","el","addToUnscopables","_k","Arguments","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","speciesConstructor","task","microtask","newPromiseCapabilityModule","perform","promiseResolve","versions","v8","$Promise","isNode","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","_v","_s","reaction","exited","handler","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","executor","onFulfilled","onRejected","capability","iter","$index","alreadyCalled","race","ret","un","macrotask","Observer","MutationObserver","WebKitMutationObserver","flush","standalone","toggle","node","createTextNode","observe","characterData","SAFE_CLOSING","riter","skipClosing","arr","onFinally","webpackPolyfill","deprecate","paths","children","$JSON","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","bth","byteToHex","substr","setup","selectColor","hash","createDebug","abs","_len","_key","curr","Number","ms","prevTime","prev","coerce","unshift","format","formatter","destroy","init","instances","delimiter","skips","stack","y","h","fmtShort","msAbs","round","fmtLong","plural","isPlural","long","$getPrototypeOf","$fails","wks","wksDefine","enumKeys","gOPNExt","$GOPD","$GOPS","$DP","gOPN","HIDDEN","TO_PRIMITIVE","isEnum","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","sym","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","gOPS","getSymbols","symbols","windowNames","getWindowNames","TimeoutError","timeoutMillis","getDefaultServerURLs","appId","isCNApp","stats","engine","api","rtm","_defineProperty","_defineProperty2","AppRouter","fillServerURLs","_disableAppRouter","_initialized","appKey","serverURL","setProduction","disableAppRouter","_setServerURLs","server","RTMRouter","urls","setServerURL","setServerURLs","setRequestTimeout","initialize","$Object","desc","lockedUntil","disabled","lock","servers","push_server","stats_server","engine_server","api_server","eventSplitter","Events","on","events","calls","_callbacks","shift","off","trigger","unbind","arg1","arg2","_validate","__defineGetter__","__defineSetter__","_latitude","_longitude","current","geolocation","getCurrentPosition","location","coords","radiansTo","d2r","PI","lat1rad","long1rad","lat2rad","long2rad","deltaLat","deltaLong","sinDeltaLatDiv2","sin","sinDeltaLongDiv2","cos","asin","sqrt","kilometersTo","milesTo","permissionsById","setReadAccess","setWriteAccess","accessList","userId","allowed","permission","_setAccess","accessType","Role","getName","permissions","_getAccess","getReadAccess","getWriteAccess","setPublicReadAccess","getPublicReadAccess","setPublicWriteAccess","getPublicWriteAccess","getRoleReadAccess","role","getRoleWriteAccess","setRoleReadAccess","setRoleWriteAccess","_initialize","_opDecoderMap","_registerDecoder","opName","decoder","json","op","ops","nextOp","_mergeWithPrevious","Set","_value","_estimate","oldValue","_UNSET","Unset","Increment","amount","_amount","BitAnd","BitOr","BitXor","Add","objects","_objects","AddUnique","newValue","matchingObj","anObj","Remove","other","adds","removes","_targetClassName","pointerToId","relationsToAdd","relationsToRemove","added","removed","idToPointer","pointers","newAdd","newRemove","newRelation","reverseQuery","parentClass","relationKey","Query","equalTo","_ensureParentAndKey","add","change","remove","targetClass","_getSubclass","_defaultParams","redirectClassNameForKey","_addCondition","qiniu","s3","AVRequest","parseBase64","hexOctet","extname","b64Digit","number","encodeBase64","chunks","b1","b2","b3","has2","has3","mimeType","metaData","base64","_extName","_data","_uploadHeaders","blob","uri","Blob","owner","withURL","__source","createWithoutData","_operations","toFullJSON","holder","getACL","_acl","setACL","acl","attrName","setUploadHeader","attr","thumbnailURL","width","height","quality","scaleToFit","fmt","ownerId","_fileToken","extName","keep_file_name","keepFileName","mime_type","_qiniu_key","_previousSave","uploadInfo","_token","token","_options","direction","provider","_callback","success","fetch","bucket","saveOptions","_bucket","upload_url","fileFormData","field","uptoken","crypt","isBuffer","encoding","bytesToWords","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","t","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToHex","base64map","rotl","rotr","randomBytes","words","hex","hexToBytes","bytesToBase64","triplet","base64ToBytes","imod4","isSlowBuffer","readFloatLE","_isBuffer","dataURItoBlob","dataURI","byteString","atob","ia","getValue","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","_slicedToArray2","_slicedToArray3","recursiveToPointer","RESERVED_KEYS","checkReservedKey","handleBatchResults","firstError","_mergeMagicFields","_serverData","_opSetQueue","_flags","_hashedJSON","_escapedAttributes","cid","changed","_silent","_pending","silent","_previousAttributes","saveAll","_deepSaveAsync","fetchAll","requests","dirty","fetchedAttrs","_cleanupUnsetKeys","fetchWhenSave","getObjectId","getCreatedAt","createdAt","getUpdatedAt","updatedAt","newSeenObjects","_refreshCache","_refreshingCache","_resetCacheForKey","currentChanges","dirtyKeys","escaped","model","specialFields","_startSave","_cancelSave","failedChanges","nextChanges","op1","op2","_saving","_finishSave","serverData","fetchedObjects","savedChanges","_applyOpSet","fetched","_rebuildAllEstimatedData","opSetQueue","hasData","opSet","actualTarget","actualKey","wasSet","_rebuildEstimatedDataForKey","firstKey","previousAttributes","unset","unused_value","dataToValidate","changes","isRealChange","increment","addUnique","bitAnd","bitOr","bitXor","keysToClear","revert","lastOp","_getSaveJSON","_canBeSerialized","_canBeSerializedAsValue","fetchedKeys","arg3","setOptions","unsavedChildren","unsavedFiles","_findUnsavedChildren","_allPreviousSaves","_failOnNotExist","failOnNotExist","queryParams","_getParams","makeRequest","_makeRequest","requestPromise","resp","serverAttrs","triggerDestroy","isNew","changing","_changing","deleteChanged","isValid","validate","disableBeforeHook","ignoreHook","disableAfterHook","hookName","__ignore_hooks","klass","_klass","destroyAll","objectsByClassNameAndFlags","flags","body","ids","ObjectClass","_classMap","NewClassObject","OldClassObject","_className","arg0","newArguments","_LCClassName","register","files","canBeSerializedAsValue","batch","newRemaining","readyToStart","bathSavePromise","_isIterable2","_isIterable3","_getIterator2","_getIterator3","sliceIterator","_arr","_e","isIterable","getIterator","setName","getUsers","getRoles","newName","_defineProperty3","getMiniappLoginCode","wx","login","errMsg","getMiniappAuthData","defaultUnionIdPlatform","preferUnionId","unionIdPlatform","asMainAccount","platform","main_account","mergeUnionDataIntoAuthData","authData","unionId","unionid","_isCurrentUser","_cleanupAuthData","isCurrent","_synchronizeAllAuthData","_synchronizeAuthData","authType","_authProviders","getAuthType","restoreAuthentication","dissociateAuthData","_handleSaveResult","makeCurrent","password","_saveCurrentUser","_linkWith","authenticate","associateWithAuthData","associateWithAuthDataAndUnionId","unionOptions","associateWithQQApp","associateWithWeapp","linkWithWeapp","associateWithQQAppWithUnionId","associateWithWeappWithUnionId","_unlinkFrom","_isLinked","isAnonymous","logOut","_logOutWithAll","_logOutWith","deauthenticate","signUp","username","signUpOrlogInWithMobilePhone","mobilePhoneNumber","smsCode","loginWithAuthData","loginWithAuthDataAndUnionId","unionLoginOptions","loginWithWeapp","loginWithWeappWithUnionId","loginWithQQApp","loginWithQQAppWithUnionId","logIn","follow","userObjectId","unfollow","followerQuery","followeeQuery","updatePassword","oldPassword","newPassword","old_password","new_password","getUsername","getMobilePhoneNumber","setMobilePhoneNumber","phone","setUsername","setPassword","getEmail","setEmail","email","authenticated","isAuthenticated","_fetchUserBySessionToken","refreshSessionToken","_currentUser","_currentUserMatchesDisk","_CURRENT_USER_KEY","become","logInWithMobilePhoneSmsCode","mobilePhone","logInWithMobilePhone","loginWithEmail","_logInWith","signUpOrlogInWithAuthData","signUpOrlogInWithAuthDataAndUnionId","_genId","loginAnonymously","userObj","FriendShipQuery","_friendshipTag","requestPasswordReset","requestEmailVerify","requestMobilePhoneVerify","validateToken","validate_token","requestPasswordResetBySmsCode","resetPasswordBySmsCode","verifyMobilePhone","requestLoginSmsCode","userData","_id","_registerAuthenticationProvider","requires","objectClass","_include","_select","_limit","_skip","or","queries","q","_orQuery","and","_andQuery","doCloudQuery","cql","pvalues","params","_newObject","_processResult","fromJSON","limit","skip","order","_includeACL","_order","queryJSON","_createRequest","_parseResponse","scan","orderedBy","batchSize","condition","scan_key","cursor","remainResults","sizeEqualTo","notEqualTo","lessThan","greaterThan","lessThanOrEqualTo","greaterThanOrEqualTo","containedIn","notContainedIn","containsAll","exists","doesNotExist","regex","modifiers","ignoreCase","multiline","matchesQuery","doesNotMatchQuery","matchesKeyInQuery","queryKey","doesNotMatchKeyInQuery","$or","$and","_quote","startsWith","endsWith","ascending","addAscending","descending","addDescending","near","withinRadians","distance","withinMiles","withinKilometers","withinGeoBox","southwest","northeast","$box","finished","callbacksDone","subscribe","LiveQuery","EventEmitter","requireRealtime","client","_client","_queryJSON","_onMessage","_dispatch","_onReconnect","queryId","query_id","updatedKeys","unsubscribe","deregister","userDefinedSubscriptionId","createLiveQueryClient","liveQueryClient","finally","pause","resume","EE","_events","_eventsCount","__proto__","eventNames","listeners","evt","available","ee","a1","a2","a3","a4","a5","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","Captcha","_authOptions","captchaToken","Cloud","_requestCaptcha","verify","verifyCaptcha","captcha","rpc","getServerDate","requestSmsCode","verifySmsCode","captcha_url","captcha_token","requestCaptcha","captcha_code","Installation","Push","send","push_time","expiration_time","expiration_time_interval","getUser","getUserPointer","currUser","Status","imageUrl","inboxType","image","_getDataJSON","sendStatusToFollowers","messageId","sendPrivateStatus","countUnreadStatuses","resetUnreadCount","statusQuery","InboxQuery","_objectClass","_sinceId","_maxId","_inboxType","_owner","sinceId","maxId","inboxQuery","SearchSortBuilder","_sortFields","_addField","missing","whereNear","geo","lat","lon","unit","build","SearchQuery","_sid","_hits","_queryString","_highlights","_sortBuilder","sid","highlights","builder","hits","hasMore","_hitEnd","reset","_oldSid","appURL","clazz","Insight","startJob","jobConfig","sql","JobQuery","serializeMessage","getPayload","isSystem","isTransient","getCreator","getLastMessageAt","getMembers","addMember","member","getMutedMembers","fromClient","from_peer","conv_id","transient","toClients","to_peers","pushData","push_data","broadcast","validTill","ts","valid_till","Statistic","LeaderboardVersionChangeInterval","NEVER","DAY","WEEK","MONTH","LeaderboardOrder","ASCENDING","DESCENDING","LeaderboardUpdateStrategy","BETTER","LAST","SUM","parseStatisticData","statisticData","statisticName","statisticValue","Leaderboard","updateStrategy","versionChangeInterval","nextResetAt","createLeaderboard","getLeaderboard","getStatistics","statisticNames","statistics","updateStatistics","overwrite","deleteStatistics","_getResults","selectUserKeys","includeUserKeys","includeStatistics","includeUser","rankingData","rank","includedStatistics","getResults","getResultsAroundUser","_update","updateVersionChangeInterval","updateUpdateStrategy","getArchives","activatedAt","deactivatedAt","__extends","extendStatics","setPrototypeOf","__","__assign","__rest","getStorageSync","setStorageSync","clearStorageSync","event_target_shim_1","EVENTS","WS","_super","protocol","_this","canIUse","_url","_protocol","_readyState","CONNECTING","errorHandler","CLOSED","dispatchEvent","socketTask","connectSocket","protocols","_socketTask","onOpen","OPEN","onError","onMessage","onClose","readyState","ArrayBuffer","CLOSING","EventTarget","WebSocket","_b","responseType","upload","uploadFile","filePath","formData","onProgressUpdate","progress","totalBytesSent","totalBytesExpectedToSend","percent","loaded","total","pd","retv","privateData","assert","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","stopped","immediateStopped","timeStamp","defineRedirectDescriptor","defineCallDescriptor","defineWrapper","BaseEvent","CustomEvent","isFunc","getWrapper","wrappers","wrapEvent","isStopped","setEventPhase","setCurrentTarget","setPassiveListener","getListeners","listenersMap","defineEventAttributeDescriptor","eventName","listenerType","ATTRIBUTE","delete","newNode","passive","defineEventAttribute","eventTargetPrototype","defineCustomEventTarget","CustomEventTarget","types","_map","_map2","_create2","_setPrototypeOf","_setPrototypeOf2","_weakMap","_weakMap2","composedPath","stopPropagation","stopImmediatePropagation","bubbles","composed","cancelBubble","initEvent","optionsIsObj","capture","removeEventListener","wrappedEvent","handleEvent","defaultPrevented","Map","strong","entry","getEntry","$iterDefine","setSpecies","SIZE","_f","_l","original","check","buggy","WeakMap","InternalMap","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","uncaughtFrozenStore","ufstore","$WeakMap","$assign","K","aLen","createArrayMethod","$has","arrayFind","arrayFindIndex","UncaughtFrozenStore","findUncaughtFrozen"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,gBAAZC,UAA0C,gBAAXC,QACxCA,OAAOD,QAAUD,IACQ,kBAAXG,SAAyBA,OAAOC,IAC9CD,UAAWH,GACe,gBAAZC,SACdA,QAAY,GAAID,IAEhBD,EAAS,GAAIC,KACI,mBAATK,MAAuBA,KAAOC,KAAM,WAC9C,M,aCNE,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUP,OAGnC,IAAIC,GAASO,EAAiBD,IAC7BE,EAAGF,EACHG,GAAG,EACHV,WAUD,OANAW,GAAQJ,GAAUK,KAAKX,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOS,GAAI,EAGJT,EAAOD,QAvBf,GAAIQ,KA4DJ,OAhCAF,GAAoBO,EAAIF,EAGxBL,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASf,EAASgB,EAAMC,GAC3CX,EAAoBY,EAAElB,EAASgB,IAClCG,OAAOC,eAAepB,EAASgB,GAC9BK,cAAc,EACdC,YAAY,EACZC,IAAKN,KAMRX,EAAoBkB,EAAI,SAASvB,GAChC,GAAIgB,GAAShB,GAAUA,EAAOwB,WAC7B,WAAwB,MAAOxB,GAAgB,SAC/C,WAA8B,MAAOA,GAEtC,OADAK,GAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASQ,EAAQC,GAAY,MAAOR,QAAOS,UAAUC,eAAejB,KAAKc,EAAQC,IAGzGrB,EAAoBwB,EAAI,GAGjBxB,EAAoBA,EAAoByB,EAAI,MCgB/C,SAAU9B,EAAQD,EAASM,IC7EjC,uBAKC,WAQC,GAAIR,GAAsB,gBAARM,OAAoBA,KAAKA,OAASA,MAAQA,MACjC,gBAAV4B,IAAsBA,EAAOA,SAAWA,GAAUA,GACzD3B,SAIN4B,EAAqBnC,EAAKoC,EAG1BC,EAAaC,MAAMR,UAAWS,EAAWlB,OAAOS,UAChDU,EAAgC,mBAAXC,QAAyBA,OAAOX,UAAY,KAGjEY,EAAOL,EAAWK,KAClBC,EAAQN,EAAWM,MACnBC,EAAWL,EAASK,SACpBb,EAAiBQ,EAASR,eAI1Bc,EAAgBP,MAAMQ,QACtBC,EAAa1B,OAAO2B,KACpBC,EAAe5B,OAAO6B,OAGtBC,EAAO,aAGPf,EAAI,SAASgB,GACf,MAAIA,aAAehB,GAAUgB,EACvB7C,eAAgB6B,QACtB7B,KAAK8C,SAAWD,GADiB,GAAIhB,GAAEgB,QASnB,KAAXlD,GAA2BA,EAAQoD,SAM5CtD,EAAKoC,EAAIA,OALY,KAAVjC,IAA0BA,EAAOmD,UAAYnD,EAAOD,UAC7DA,EAAUC,EAAOD,QAAUkC,GAE7BlC,EAAQkC,EAAIA,GAMdA,EAAEmB,QAAU,OAKZ,IAmBIC,GAnBAC,EAAa,SAASC,EAAMC,EAASC,GACvC,OAAgB,KAAZD,EAAoB,MAAOD,EAC/B,QAAoB,MAAZE,EAAmB,EAAIA,GAC7B,IAAK,GAAG,MAAO,UAASC,GACtB,MAAOH,GAAK5C,KAAK6C,EAASE,GAG5B,KAAK,GAAG,MAAO,UAASA,EAAOC,EAAOC,GACpC,MAAOL,GAAK5C,KAAK6C,EAASE,EAAOC,EAAOC,GAE1C,KAAK,GAAG,MAAO,UAASC,EAAaH,EAAOC,EAAOC,GACjD,MAAOL,GAAK5C,KAAK6C,EAASK,EAAaH,EAAOC,EAAOC,IAGzD,MAAO,YACL,MAAOL,GAAKO,MAAMN,EAASO,aAS3BC,EAAK,SAASN,EAAOF,EAASC,GAChC,MAAIxB,GAAEgC,WAAaZ,EAAwBpB,EAAEgC,SAASP,EAAOF,GAChD,MAATE,EAAsBzB,EAAEiC,SACxBjC,EAAEkC,WAAWT,GAAeJ,EAAWI,EAAOF,EAASC,GACvDxB,EAAEmC,SAASV,KAAWzB,EAAEU,QAAQe,GAAezB,EAAEoC,QAAQX,GACtDzB,EAAEP,SAASgC,GAMpBzB,GAAEgC,SAAWZ,EAAkB,SAASK,EAAOF,GAC7C,MAAOQ,GAAGN,EAAOF,EAASc,KAQ5B,IAAIC,GAAgB,SAAShB,EAAMiB,GAEjC,MADAA,GAA2B,MAAdA,EAAqBjB,EAAKkB,OAAS,GAAKD,EAC9C,WAIL,IAHA,GAAIC,GAASC,KAAKC,IAAIZ,UAAUU,OAASD,EAAY,GACjDI,EAAOzC,MAAMsC,GACbd,EAAQ,EACLA,EAAQc,EAAQd,IACrBiB,EAAKjB,GAASI,UAAUJ,EAAQa,EAElC,QAAQA,GACN,IAAK,GAAG,MAAOjB,GAAK5C,KAAKP,KAAMwE,EAC/B,KAAK,GAAG,MAAOrB,GAAK5C,KAAKP,KAAM2D,UAAU,GAAIa,EAC7C,KAAK,GAAG,MAAOrB,GAAK5C,KAAKP,KAAM2D,UAAU,GAAIA,UAAU,GAAIa,GAE7D,GAAIC,GAAO1C,MAAMqC,EAAa,EAC9B,KAAKb,EAAQ,EAAGA,EAAQa,EAAYb,IAClCkB,EAAKlB,GAASI,UAAUJ,EAG1B,OADAkB,GAAKL,GAAcI,EACZrB,EAAKO,MAAM1D,KAAMyE,KAKxBC,EAAa,SAASnD,GACxB,IAAKM,EAAEmC,SAASzC,GAAY,QAC5B,IAAImB,EAAc,MAAOA,GAAanB,EACtCqB,GAAKrB,UAAYA,CACjB,IAAIoD,GAAS,GAAI/B,EAEjB,OADAA,GAAKrB,UAAY,KACVoD,GAGLC,EAAkB,SAASC,GAC7B,MAAO,UAAShC,GACd,MAAc,OAAPA,MAAc,GAASA,EAAIgC,KAIlCC,EAAM,SAASjC,EAAKkC,GACtB,MAAc,OAAPlC,GAAerB,EAAejB,KAAKsC,EAAKkC,IAG7CC,EAAU,SAASnC,EAAKkC,GAE1B,IAAK,GADDV,GAASU,EAAKV,OACTjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAAK,CAC/B,GAAW,MAAPyC,EAAa,MACjBA,GAAMA,EAAIkC,EAAK3E,IAEjB,MAAOiE,GAASxB,MAAM,IAOpBoC,EAAkBX,KAAKY,IAAI,EAAG,IAAM,EACpCC,EAAYP,EAAgB,UAC5BQ,EAAc,SAAS5B,GACzB,GAAIa,GAASc,EAAU3B,EACvB,OAAwB,gBAAVa,IAAsBA,GAAU,GAAKA,GAAUY,EAS/DpD,GAAEwD,KAAOxD,EAAEyD,QAAU,SAASzC,EAAKgB,EAAUT,GAC3CS,EAAWX,EAAWW,EAAUT,EAChC,IAAIhD,GAAGiE,CACP,IAAIe,EAAYvC,GACd,IAAKzC,EAAI,EAAGiE,EAASxB,EAAIwB,OAAQjE,EAAIiE,EAAQjE,IAC3CyD,EAAShB,EAAIzC,GAAIA,EAAGyC,OAEjB,CACL,GAAIJ,GAAOZ,EAAEY,KAAKI,EAClB,KAAKzC,EAAI,EAAGiE,EAAS5B,EAAK4B,OAAQjE,EAAIiE,EAAQjE,IAC5CyD,EAAShB,EAAIJ,EAAKrC,IAAKqC,EAAKrC,GAAIyC,GAGpC,MAAOA,IAIThB,EAAE0D,IAAM1D,EAAE2D,QAAU,SAAS3C,EAAKgB,EAAUT,GAC1CS,EAAWD,EAAGC,EAAUT,EAIxB,KAAK,GAHDX,IAAQ2C,EAAYvC,IAAQhB,EAAEY,KAAKI,GACnCwB,GAAU5B,GAAQI,GAAKwB,OACvBoB,EAAU1D,MAAMsC,GACXd,EAAQ,EAAGA,EAAQc,EAAQd,IAAS,CAC3C,GAAImC,GAAajD,EAAOA,EAAKc,GAASA,CACtCkC,GAAQlC,GAASM,EAAShB,EAAI6C,GAAaA,EAAY7C,GAEzD,MAAO4C,GAIT,IAAIE,GAAe,SAASC,GAG1B,GAAIC,GAAU,SAAShD,EAAKgB,EAAUiC,EAAMC,GAC1C,GAAItD,IAAQ2C,EAAYvC,IAAQhB,EAAEY,KAAKI,GACnCwB,GAAU5B,GAAQI,GAAKwB,OACvBd,EAAQqC,EAAM,EAAI,EAAIvB,EAAS,CAKnC,KAJK0B,IACHD,EAAOjD,EAAIJ,EAAOA,EAAKc,GAASA,GAChCA,GAASqC,GAEJrC,GAAS,GAAKA,EAAQc,EAAQd,GAASqC,EAAK,CACjD,GAAIF,GAAajD,EAAOA,EAAKc,GAASA,CACtCuC,GAAOjC,EAASiC,EAAMjD,EAAI6C,GAAaA,EAAY7C,GAErD,MAAOiD,GAGT,OAAO,UAASjD,EAAKgB,EAAUiC,EAAM1C,GACnC,GAAI2C,GAAUpC,UAAUU,QAAU,CAClC,OAAOwB,GAAQhD,EAAKK,EAAWW,EAAUT,EAAS,GAAI0C,EAAMC,IAMhElE,GAAEmE,OAASnE,EAAEoE,MAAQpE,EAAEqE,OAASP,EAAa,GAG7C9D,EAAEsE,YAActE,EAAEuE,MAAQT,GAAc,GAGxC9D,EAAEwE,KAAOxE,EAAEyE,OAAS,SAASzD,EAAK0D,EAAWnD,GAC3C,GAAIoD,GAAYpB,EAAYvC,GAAOhB,EAAE4E,UAAY5E,EAAE6E,QAC/C7B,EAAM2B,EAAU3D,EAAK0D,EAAWnD,EACpC,QAAY,KAARyB,IAA2B,IAATA,EAAY,MAAOhC,GAAIgC,IAK/ChD,EAAE8E,OAAS9E,EAAE+E,OAAS,SAAS/D,EAAK0D,EAAWnD,GAC7C,GAAIqC,KAKJ,OAJAc,GAAY3C,EAAG2C,EAAWnD,GAC1BvB,EAAEwD,KAAKxC,EAAK,SAASS,EAAOC,EAAOsD,GAC7BN,EAAUjD,EAAOC,EAAOsD,IAAOpB,EAAQtD,KAAKmB,KAE3CmC,GAIT5D,EAAEiF,OAAS,SAASjE,EAAK0D,EAAWnD,GAClC,MAAOvB,GAAE8E,OAAO9D,EAAKhB,EAAEkF,OAAOnD,EAAG2C,IAAanD,IAKhDvB,EAAEmF,MAAQnF,EAAEoF,IAAM,SAASpE,EAAK0D,EAAWnD,GACzCmD,EAAY3C,EAAG2C,EAAWnD,EAG1B,KAAK,GAFDX,IAAQ2C,EAAYvC,IAAQhB,EAAEY,KAAKI,GACnCwB,GAAU5B,GAAQI,GAAKwB,OAClBd,EAAQ,EAAGA,EAAQc,EAAQd,IAAS,CAC3C,GAAImC,GAAajD,EAAOA,EAAKc,GAASA,CACtC,KAAKgD,EAAU1D,EAAI6C,GAAaA,EAAY7C,GAAM,OAAO,EAE3D,OAAO,GAKThB,EAAEqF,KAAOrF,EAAEsF,IAAM,SAAStE,EAAK0D,EAAWnD,GACxCmD,EAAY3C,EAAG2C,EAAWnD,EAG1B,KAAK,GAFDX,IAAQ2C,EAAYvC,IAAQhB,EAAEY,KAAKI,GACnCwB,GAAU5B,GAAQI,GAAKwB,OAClBd,EAAQ,EAAGA,EAAQc,EAAQd,IAAS,CAC3C,GAAImC,GAAajD,EAAOA,EAAKc,GAASA,CACtC,IAAIgD,EAAU1D,EAAI6C,GAAaA,EAAY7C,GAAM,OAAO,EAE1D,OAAO,GAKThB,EAAEuF,SAAWvF,EAAEwF,SAAWxF,EAAEyF,QAAU,SAASzE,EAAK0E,EAAMC,EAAWC,GAGnE,MAFKrC,GAAYvC,KAAMA,EAAMhB,EAAE6F,OAAO7E,KACd,gBAAb2E,IAAyBC,KAAOD,EAAY,GAChD3F,EAAE8F,QAAQ9E,EAAK0E,EAAMC,IAAc,GAI5C3F,EAAE+F,OAASzD,EAAc,SAAStB,EAAKkC,EAAMN,GAC3C,GAAIoD,GAAa1E,CAOjB,OANItB,GAAEkC,WAAWgB,GACf5B,EAAO4B,EACElD,EAAEU,QAAQwC,KACnB8C,EAAc9C,EAAK3C,MAAM,GAAI,GAC7B2C,EAAOA,EAAKA,EAAKV,OAAS,IAErBxC,EAAE0D,IAAI1C,EAAK,SAASO,GACzB,GAAI0E,GAAS3E,CACb,KAAK2E,EAAQ,CAIX,GAHID,GAAeA,EAAYxD,SAC7BjB,EAAU4B,EAAQ5B,EAASyE,IAEd,MAAXzE,EAAiB,MACrB0E,GAAS1E,EAAQ2B,GAEnB,MAAiB,OAAV+C,EAAiBA,EAASA,EAAOpE,MAAMN,EAASqB,OAK3D5C,EAAEkG,MAAQ,SAASlF,EAAKgC,GACtB,MAAOhD,GAAE0D,IAAI1C,EAAKhB,EAAEP,SAASuD,KAK/BhD,EAAEmG,MAAQ,SAASnF,EAAKoF,GACtB,MAAOpG,GAAE8E,OAAO9D,EAAKhB,EAAEoC,QAAQgE,KAKjCpG,EAAEqG,UAAY,SAASrF,EAAKoF,GAC1B,MAAOpG,GAAEwE,KAAKxD,EAAKhB,EAAEoC,QAAQgE,KAI/BpG,EAAE0C,IAAM,SAAS1B,EAAKgB,EAAUT,GAC9B,GACIE,GAAO6E,EADPxD,GAAUT,IAAUkE,GAAgBlE,GAExC,IAAgB,MAAZL,GAAuC,gBAAZA,IAAyC,gBAAVhB,GAAI,IAAyB,MAAPA,EAAa,CAC/FA,EAAMuC,EAAYvC,GAAOA,EAAMhB,EAAE6F,OAAO7E,EACxC,KAAK,GAAIzC,GAAI,EAAGiE,EAASxB,EAAIwB,OAAQjE,EAAIiE,EAAQjE,IAElC,OADbkD,EAAQT,EAAIzC,KACSkD,EAAQqB,IAC3BA,EAASrB,OAIbO,GAAWD,EAAGC,EAAUT,GACxBvB,EAAEwD,KAAKxC,EAAK,SAASwF,EAAG9E,EAAOsD,KAC7BsB,EAAWtE,EAASwE,EAAG9E,EAAOsD,IACfuB,GAAgBD,KAAcjE,KAAYS,KAAYT,OACnES,EAAS0D,EACTD,EAAeD,IAIrB,OAAOxD,IAIT9C,EAAEyG,IAAM,SAASzF,EAAKgB,EAAUT,GAC9B,GACIE,GAAO6E,EADPxD,EAAST,IAAUkE,EAAelE,GAEtC,IAAgB,MAAZL,GAAuC,gBAAZA,IAAyC,gBAAVhB,GAAI,IAAyB,MAAPA,EAAa,CAC/FA,EAAMuC,EAAYvC,GAAOA,EAAMhB,EAAE6F,OAAO7E,EACxC,KAAK,GAAIzC,GAAI,EAAGiE,EAASxB,EAAIwB,OAAQjE,EAAIiE,EAAQjE,IAElC,OADbkD,EAAQT,EAAIzC,KACSkD,EAAQqB,IAC3BA,EAASrB,OAIbO,GAAWD,EAAGC,EAAUT,GACxBvB,EAAEwD,KAAKxC,EAAK,SAASwF,EAAG9E,EAAOsD,KAC7BsB,EAAWtE,EAASwE,EAAG9E,EAAOsD,IACfuB,GAAgBD,IAAajE,KAAYS,IAAWT,OACjES,EAAS0D,EACTD,EAAeD,IAIrB,OAAOxD,IAIT9C,EAAE0G,QAAU,SAAS1F,GACnB,MAAOhB,GAAE2G,OAAO3F,EAAKqB,MAOvBrC,EAAE2G,OAAS,SAAS3F,EAAK1B,EAAGsG,GAC1B,GAAS,MAALtG,GAAasG,EAEf,MADKrC,GAAYvC,KAAMA,EAAMhB,EAAE6F,OAAO7E,IAC/BA,EAAIhB,EAAE4G,OAAO5F,EAAIwB,OAAS,GAEnC,IAAImE,GAASpD,EAAYvC,GAAOhB,EAAE6G,MAAM7F,GAAOhB,EAAE6F,OAAO7E,GACpDwB,EAASc,EAAUqD,EACvBrH,GAAImD,KAAKC,IAAID,KAAKgE,IAAInH,EAAGkD,GAAS,EAElC,KAAK,GADDsE,GAAOtE,EAAS,EACXd,EAAQ,EAAGA,EAAQpC,EAAGoC,IAAS,CACtC,GAAIqF,GAAO/G,EAAE4G,OAAOlF,EAAOoF,GACvBE,EAAOL,EAAOjF,EAClBiF,GAAOjF,GAASiF,EAAOI,GACvBJ,EAAOI,GAAQC,EAEjB,MAAOL,GAAOpG,MAAM,EAAGjB,IAIzBU,EAAEiH,OAAS,SAASjG,EAAKgB,EAAUT,GACjC,GAAIG,GAAQ,CAEZ,OADAM,GAAWD,EAAGC,EAAUT,GACjBvB,EAAEkG,MAAMlG,EAAE0D,IAAI1C,EAAK,SAASS,EAAOuB,EAAKgC,GAC7C,OACEvD,MAAOA,EACPC,MAAOA,IACPwF,SAAUlF,EAASP,EAAOuB,EAAKgC,MAEhCmC,KAAK,SAASC,EAAMC,GACrB,GAAIC,GAAIF,EAAKF,SACTK,EAAIF,EAAMH,QACd,IAAII,IAAMC,EAAG,CACX,GAAID,EAAIC,OAAW,KAAND,EAAc,MAAO,EAClC,IAAIA,EAAIC,OAAW,KAANA,EAAc,OAAQ,EAErC,MAAOH,GAAK1F,MAAQ2F,EAAM3F,QACxB,SAIN,IAAI8F,GAAQ,SAASC,EAAUC,GAC7B,MAAO,UAAS1G,EAAKgB,EAAUT,GAC7B,GAAIuB,GAAS4E,YAMb,OALA1F,GAAWD,EAAGC,EAAUT,GACxBvB,EAAEwD,KAAKxC,EAAK,SAASS,EAAOC,GAC1B,GAAIsB,GAAMhB,EAASP,EAAOC,EAAOV,EACjCyG,GAAS3E,EAAQrB,EAAOuB,KAEnBF,GAMX9C,GAAE2H,QAAUH,EAAM,SAAS1E,EAAQrB,EAAOuB,GACpCC,EAAIH,EAAQE,GAAMF,EAAOE,GAAK1C,KAAKmB,GAAaqB,EAAOE,IAAQvB,KAKrEzB,EAAE4H,QAAUJ,EAAM,SAAS1E,EAAQrB,EAAOuB,GACxCF,EAAOE,GAAOvB,IAMhBzB,EAAE6H,QAAUL,EAAM,SAAS1E,EAAQrB,EAAOuB,GACpCC,EAAIH,EAAQE,GAAMF,EAAOE,KAAaF,EAAOE,GAAO,GAG1D,IAAI8E,GAAc,kEAElB9H,GAAE+H,QAAU,SAAS/G,GACnB,MAAKA,GACDhB,EAAEU,QAAQM,GAAaT,EAAM7B,KAAKsC,GAClChB,EAAEgI,SAAShH,GAENA,EAAIiH,MAAMH,GAEfvE,EAAYvC,GAAahB,EAAE0D,IAAI1C,EAAKhB,EAAEiC,UACnCjC,EAAE6F,OAAO7E,OAIlBhB,EAAEkI,KAAO,SAASlH,GAChB,MAAW,OAAPA,EAAoB,EACjBuC,EAAYvC,GAAOA,EAAIwB,OAASxC,EAAEY,KAAKI,GAAKwB,QAKrDxC,EAAE0H,UAAYF,EAAM,SAAS1E,EAAQrB,EAAO0G,GAC1CrF,EAAOqF,EAAO,EAAI,GAAG7H,KAAKmB,KACzB,GAQHzB,EAAEoI,MAAQpI,EAAEqI,KAAOrI,EAAEsI,KAAO,SAASC,EAAOjJ,EAAGsG,GAC7C,MAAa,OAAT2C,GAAiBA,EAAM/F,OAAS,EAAe,MAALlD,MAAY,MACjD,MAALA,GAAasG,EAAc2C,EAAM,GAC9BvI,EAAEkE,QAAQqE,EAAOA,EAAM/F,OAASlD,IAMzCU,EAAEkE,QAAU,SAASqE,EAAOjJ,EAAGsG,GAC7B,MAAOrF,GAAM7B,KAAK6J,EAAO,EAAG9F,KAAKC,IAAI,EAAG6F,EAAM/F,QAAe,MAALlD,GAAasG,EAAQ,EAAItG,MAKnFU,EAAE8G,KAAO,SAASyB,EAAOjJ,EAAGsG,GAC1B,MAAa,OAAT2C,GAAiBA,EAAM/F,OAAS,EAAe,MAALlD,MAAY,MACjD,MAALA,GAAasG,EAAc2C,EAAMA,EAAM/F,OAAS,GAC7CxC,EAAE2C,KAAK4F,EAAO9F,KAAKC,IAAI,EAAG6F,EAAM/F,OAASlD,KAMlDU,EAAE2C,KAAO3C,EAAEwI,KAAOxI,EAAEyI,KAAO,SAASF,EAAOjJ,EAAGsG,GAC5C,MAAOrF,GAAM7B,KAAK6J,EAAY,MAALjJ,GAAasG,EAAQ,EAAItG,IAIpDU,EAAE0I,QAAU,SAASH,GACnB,MAAOvI,GAAE8E,OAAOyD,EAAOI,SAIzB,IAAIC,GAAU,SAASC,EAAOC,EAASC,EAAQC,GAC7CA,EAASA,KAET,KAAK,GADDC,GAAMD,EAAOxG,OACRjE,EAAI,EAAGiE,EAASc,EAAUuF,GAAQtK,EAAIiE,EAAQjE,IAAK,CAC1D,GAAIkD,GAAQoH,EAAMtK,EAClB,IAAIgF,EAAY9B,KAAWzB,EAAEU,QAAQe,IAAUzB,EAAEkJ,YAAYzH,IAE3D,GAAIqH,EAEF,IADA,GAAIK,GAAI,EAAGC,EAAM3H,EAAMe,OAChB2G,EAAIC,GAAKJ,EAAOC,KAASxH,EAAM0H,SAEtCP,GAAQnH,EAAOqH,EAASC,EAAQC,GAChCC,EAAMD,EAAOxG,WAELuG,KACVC,EAAOC,KAASxH,GAGpB,MAAOuH,GAIThJ,GAAE4I,QAAU,SAASL,EAAOO,GAC1B,MAAOF,GAAQL,EAAOO,GAAS,IAIjC9I,EAAEqJ,QAAU/G,EAAc,SAASiG,EAAOe,GACxC,MAAOtJ,GAAEuJ,WAAWhB,EAAOe,KAS7BtJ,EAAEwJ,KAAOxJ,EAAEyJ,OAAS,SAASlB,EAAOmB,EAAU1H,EAAUT,GACjDvB,EAAE2J,UAAUD,KACfnI,EAAUS,EACVA,EAAW0H,EACXA,GAAW,GAEG,MAAZ1H,IAAkBA,EAAWD,EAAGC,EAAUT,GAG9C,KAAK,GAFDuB,MACA8G,KACKrL,EAAI,EAAGiE,EAASc,EAAUiF,GAAQhK,EAAIiE,EAAQjE,IAAK,CAC1D,GAAIkD,GAAQ8G,EAAMhK,GACd+H,EAAWtE,EAAWA,EAASP,EAAOlD,EAAGgK,GAAS9G,CAClDiI,KAAa1H,GACVzD,GAAKqL,IAAStD,GAAUxD,EAAOxC,KAAKmB,GACzCmI,EAAOtD,GACEtE,EACJhC,EAAEuF,SAASqE,EAAMtD,KACpBsD,EAAKtJ,KAAKgG,GACVxD,EAAOxC,KAAKmB,IAEJzB,EAAEuF,SAASzC,EAAQrB,IAC7BqB,EAAOxC,KAAKmB,GAGhB,MAAOqB,IAKT9C,EAAE6J,MAAQvH,EAAc,SAASwH,GAC/B,MAAO9J,GAAEwJ,KAAKZ,EAAQkB,GAAQ,GAAM,MAKtC9J,EAAE+J,aAAe,SAASxB,GAGxB,IAAK,GAFDzF,MACAkH,EAAalI,UAAUU,OAClBjE,EAAI,EAAGiE,EAASc,EAAUiF,GAAQhK,EAAIiE,EAAQjE,IAAK,CAC1D,GAAImH,GAAO6C,EAAMhK,EACjB,KAAIyB,EAAEuF,SAASzC,EAAQ4C,GAAvB,CACA,GAAIyD,EACJ,KAAKA,EAAI,EAAGA,EAAIa,GACThK,EAAEuF,SAASzD,UAAUqH,GAAIzD,GADJyD,KAGxBA,IAAMa,GAAYlH,EAAOxC,KAAKoF,IAEpC,MAAO5C,IAKT9C,EAAEuJ,WAAajH,EAAc,SAASiG,EAAO5F,GAE3C,MADAA,GAAOiG,EAAQjG,GAAM,GAAM,GACpB3C,EAAE8E,OAAOyD,EAAO,SAAS9G,GAC9B,OAAQzB,EAAEuF,SAAS5C,EAAMlB,OAM7BzB,EAAEiK,MAAQ,SAAS1B,GAIjB,IAAK,GAHD/F,GAAS+F,GAASvI,EAAE0C,IAAI6F,EAAOjF,GAAWd,QAAU,EACpDM,EAAS5C,MAAMsC,GAEVd,EAAQ,EAAGA,EAAQc,EAAQd,IAClCoB,EAAOpB,GAAS1B,EAAEkG,MAAMqC,EAAO7G,EAEjC,OAAOoB,IAKT9C,EAAEkK,IAAM5H,EAActC,EAAEiK,OAKxBjK,EAAER,OAAS,SAASwF,EAAMa,GAExB,IAAK,GADD/C,MACKvE,EAAI,EAAGiE,EAASc,EAAU0B,GAAOzG,EAAIiE,EAAQjE,IAChDsH,EACF/C,EAAOkC,EAAKzG,IAAMsH,EAAOtH,GAEzBuE,EAAOkC,EAAKzG,GAAG,IAAMyG,EAAKzG,GAAG,EAGjC,OAAOuE,GAIT,IAAIqH,GAA6B,SAASpG,GACxC,MAAO,UAASwE,EAAO7D,EAAWnD,GAChCmD,EAAY3C,EAAG2C,EAAWnD,EAG1B,KAFA,GAAIiB,GAASc,EAAUiF,GACnB7G,EAAQqC,EAAM,EAAI,EAAIvB,EAAS,EAC5Bd,GAAS,GAAKA,EAAQc,EAAQd,GAASqC,EAC5C,GAAIW,EAAU6D,EAAM7G,GAAQA,EAAO6G,GAAQ,MAAO7G,EAEpD,QAAQ,GAKZ1B,GAAE4E,UAAYuF,EAA2B,GACzCnK,EAAEoK,cAAgBD,GAA4B,GAI9CnK,EAAEqK,YAAc,SAAS9B,EAAOvH,EAAKgB,EAAUT,GAC7CS,EAAWD,EAAGC,EAAUT,EAAS,EAGjC,KAFA,GAAIE,GAAQO,EAAShB,GACjBsJ,EAAM,EAAGC,EAAOjH,EAAUiF,GACvB+B,EAAMC,GAAM,CACjB,GAAIC,GAAM/H,KAAKgI,OAAOH,EAAMC,GAAQ,EAChCvI,GAASuG,EAAMiC,IAAQ/I,EAAO6I,EAAME,EAAM,EAAQD,EAAOC,EAE/D,MAAOF,GAIT,IAAII,GAAoB,SAAS3G,EAAK4G,EAAeN,GACnD,MAAO,UAAS9B,EAAO7C,EAAMuD,GAC3B,GAAI1K,GAAI,EAAGiE,EAASc,EAAUiF,EAC9B,IAAkB,gBAAPU,GACLlF,EAAM,EACRxF,EAAI0K,GAAO,EAAIA,EAAMxG,KAAKC,IAAIuG,EAAMzG,EAAQjE,GAE5CiE,EAASyG,GAAO,EAAIxG,KAAKgE,IAAIwC,EAAM,EAAGzG,GAAUyG,EAAMzG,EAAS,MAE5D,IAAI6H,GAAepB,GAAOzG,EAE/B,MADAyG,GAAMoB,EAAY9B,EAAO7C,GAClB6C,EAAMU,KAASvD,EAAOuD,GAAO,CAEtC,IAAIvD,IAASA,EAEX,MADAuD,GAAM0B,EAAcpK,EAAM7B,KAAK6J,EAAOhK,EAAGiE,GAASxC,EAAE4K,OAC7C3B,GAAO,EAAIA,EAAM1K,GAAK,CAE/B,KAAK0K,EAAMlF,EAAM,EAAIxF,EAAIiE,EAAS,EAAGyG,GAAO,GAAKA,EAAMzG,EAAQyG,GAAOlF,EACpE,GAAIwE,EAAMU,KAASvD,EAAM,MAAOuD,EAElC,QAAQ,GAQZjJ,GAAE8F,QAAU4E,EAAkB,EAAG1K,EAAE4E,UAAW5E,EAAEqK,aAChDrK,EAAE6K,YAAcH,GAAmB,EAAG1K,EAAEoK,eAKxCpK,EAAE8K,MAAQ,SAASC,EAAOC,EAAMC,GAClB,MAARD,IACFA,EAAOD,GAAS,EAChBA,EAAQ,GAELE,IACHA,EAAOD,EAAOD,GAAS,EAAI,EAM7B,KAAK,GAHDvI,GAASC,KAAKC,IAAID,KAAKyI,MAAMF,EAAOD,GAASE,GAAO,GACpDH,EAAQ5K,MAAMsC,GAETyG,EAAM,EAAGA,EAAMzG,EAAQyG,IAAO8B,GAASE,EAC9CH,EAAM7B,GAAO8B,CAGf,OAAOD,IAKT9K,EAAEmL,MAAQ,SAAS5C,EAAO6C,GACxB,GAAa,MAATA,GAAiBA,EAAQ,EAAG,QAGhC,KAFA,GAAItI,MACAvE,EAAI,EAAGiE,EAAS+F,EAAM/F,OACnBjE,EAAIiE,GACTM,EAAOxC,KAAKC,EAAM7B,KAAK6J,EAAOhK,EAAGA,GAAK6M,GAExC,OAAOtI,GAQT,IAAIuI,GAAe,SAASC,EAAYC,EAAWhK,EAASiK,EAAgB5I,GAC1E,KAAM4I,YAA0BD,IAAY,MAAOD,GAAWzJ,MAAMN,EAASqB,EAC7E,IAAI1E,GAAO2E,EAAWyI,EAAW5L,WAC7BoD,EAASwI,EAAWzJ,MAAM3D,EAAM0E,EACpC,OAAI5C,GAAEmC,SAASW,GAAgBA,EACxB5E,EAMT8B,GAAEyL,KAAOnJ,EAAc,SAAShB,EAAMC,EAASqB,GAC7C,IAAK5C,EAAEkC,WAAWZ,GAAO,KAAM,IAAIoK,WAAU,oCAC7C,IAAIC,GAAQrJ,EAAc,SAASsJ,GACjC,MAAOP,GAAa/J,EAAMqK,EAAOpK,EAASpD,KAAMyE,EAAKiJ,OAAOD,KAE9D,OAAOD,KAOT3L,EAAE8L,QAAUxJ,EAAc,SAAShB,EAAMyK,GACvC,GAAIC,GAAchM,EAAE8L,QAAQE,YACxBL,EAAQ,WAGV,IAAK,GAFDM,GAAW,EAAGzJ,EAASuJ,EAAUvJ,OACjCI,EAAO1C,MAAMsC,GACRjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAC1BqE,EAAKrE,GAAKwN,EAAUxN,KAAOyN,EAAclK,UAAUmK,KAAcF,EAAUxN,EAE7E,MAAO0N,EAAWnK,UAAUU,QAAQI,EAAKtC,KAAKwB,UAAUmK,KACxD,OAAOZ,GAAa/J,EAAMqK,EAAOxN,KAAMA,KAAMyE,GAE/C,OAAO+I,KAGT3L,EAAE8L,QAAQE,YAAchM,EAKxBA,EAAEkM,QAAU5J,EAAc,SAAStB,EAAKJ,GACtCA,EAAOgI,EAAQhI,GAAM,GAAO,EAC5B,IAAIc,GAAQd,EAAK4B,MACjB,IAAId,EAAQ,EAAG,KAAM,IAAIyK,OAAM,wCAC/B,MAAOzK,KAAS,CACd,GAAIsB,GAAMpC,EAAKc,EACfV,GAAIgC,GAAOhD,EAAEyL,KAAKzK,EAAIgC,GAAMhC,MAKhChB,EAAEoM,QAAU,SAAS9K,EAAM+K,GACzB,GAAID,GAAU,SAASpJ,GACrB,GAAIsJ,GAAQF,EAAQE,MAChBC,EAAU,IAAMF,EAASA,EAAOxK,MAAM1D,KAAM2D,WAAakB,EAE7D,OADKC,GAAIqJ,EAAOC,KAAUD,EAAMC,GAAWjL,EAAKO,MAAM1D,KAAM2D,YACrDwK,EAAMC,GAGf,OADAH,GAAQE,SACDF,GAKTpM,EAAEwM,MAAQlK,EAAc,SAAShB,EAAMmL,EAAM7J,GAC3C,MAAO8J,YAAW,WAChB,MAAOpL,GAAKO,MAAM,KAAMe,IACvB6J,KAKLzM,EAAE2M,MAAQ3M,EAAE8L,QAAQ9L,EAAEwM,MAAOxM,EAAG,GAOhCA,EAAE4M,SAAW,SAAStL,EAAMmL,EAAMI,GAChC,GAAIC,GAASvL,EAASqB,EAAME,EACxBiK,EAAW,CACVF,KAASA,KAEd,IAAIG,GAAQ,WACVD,GAA+B,IAApBF,EAAQI,QAAoB,EAAIjN,EAAEkN,MAC7CJ,EAAU,KACVhK,EAASxB,EAAKO,MAAMN,EAASqB,GACxBkK,IAASvL,EAAUqB,EAAO,OAG7BuK,EAAY,WACd,GAAID,GAAMlN,EAAEkN,KACPH,KAAgC,IAApBF,EAAQI,UAAmBF,EAAWG,EACvD,IAAIE,GAAYX,GAAQS,EAAMH,EAc9B,OAbAxL,GAAUpD,KACVyE,EAAOd,UACHsL,GAAa,GAAKA,EAAYX,GAC5BK,IACFO,aAAaP,GACbA,EAAU,MAEZC,EAAWG,EACXpK,EAASxB,EAAKO,MAAMN,EAASqB,GACxBkK,IAASvL,EAAUqB,EAAO,OACrBkK,IAAgC,IAArBD,EAAQS,WAC7BR,EAAUJ,WAAWM,EAAOI,IAEvBtK,EAST,OANAqK,GAAUI,OAAS,WACjBF,aAAaP,GACbC,EAAW,EACXD,EAAUvL,EAAUqB,EAAO,MAGtBuK,GAOTnN,EAAEwN,SAAW,SAASlM,EAAMmL,EAAMgB,GAChC,GAAIX,GAAShK,EAETkK,EAAQ,SAASzL,EAASqB,GAC5BkK,EAAU,KACNlK,IAAME,EAASxB,EAAKO,MAAMN,EAASqB,KAGrC8K,EAAYpL,EAAc,SAASM,GAErC,GADIkK,GAASO,aAAaP,GACtBW,EAAW,CACb,GAAIE,IAAWb,CACfA,GAAUJ,WAAWM,EAAOP,GACxBkB,IAAS7K,EAASxB,EAAKO,MAAM1D,KAAMyE,QAEvCkK,GAAU9M,EAAEwM,MAAMQ,EAAOP,EAAMtO,KAAMyE,EAGvC,OAAOE,IAQT,OALA4K,GAAUH,OAAS,WACjBF,aAAaP,GACbA,EAAU,MAGLY,GAMT1N,EAAE4N,KAAO,SAAStM,EAAMuM,GACtB,MAAO7N,GAAE8L,QAAQ+B,EAASvM,IAI5BtB,EAAEkF,OAAS,SAASR,GAClB,MAAO,YACL,OAAQA,EAAU7C,MAAM1D,KAAM2D,aAMlC9B,EAAE8N,QAAU,WACV,GAAIlL,GAAOd,UACPiJ,EAAQnI,EAAKJ,OAAS,CAC1B,OAAO,YAGL,IAFA,GAAIjE,GAAIwM,EACJjI,EAASF,EAAKmI,GAAOlJ,MAAM1D,KAAM2D,WAC9BvD,KAAKuE,EAASF,EAAKrE,GAAGG,KAAKP,KAAM2E,EACxC,OAAOA,KAKX9C,EAAE+N,MAAQ,SAASC,EAAO1M,GACxB,MAAO,YACL,KAAM0M,EAAQ,EACZ,MAAO1M,GAAKO,MAAM1D,KAAM2D,aAM9B9B,EAAEiO,OAAS,SAASD,EAAO1M,GACzB,GAAI2C,EACJ,OAAO,YAKL,QAJM+J,EAAQ,IACZ/J,EAAO3C,EAAKO,MAAM1D,KAAM2D,YAEtBkM,GAAS,IAAG1M,EAAO,MAChB2C,IAMXjE,EAAEkO,KAAOlO,EAAE8L,QAAQ9L,EAAEiO,OAAQ,GAE7BjO,EAAEsC,cAAgBA,CAMlB,IAAI6L,KAAe3N,SAAU,MAAM4N,qBAAqB,YACpDC,GAAsB,UAAW,gBAAiB,WACpD,uBAAwB,iBAAkB,kBAExCC,EAAsB,SAAStN,EAAKJ,GACtC,GAAI2N,GAAaF,EAAmB7L,OAChCgM,EAAcxN,EAAIwN,YAClBC,EAAQzO,EAAEkC,WAAWsM,IAAgBA,EAAY9O,WAAaS,EAG9DuO,EAAO,aAGX,KAFIzL,EAAIjC,EAAK0N,KAAU1O,EAAEuF,SAAS3E,EAAM8N,IAAO9N,EAAKN,KAAKoO,GAElDH,MACLG,EAAOL,EAAmBE,KACdvN,IAAOA,EAAI0N,KAAUD,EAAMC,KAAU1O,EAAEuF,SAAS3E,EAAM8N,IAChE9N,EAAKN,KAAKoO,GAOhB1O,GAAEY,KAAO,SAASI,GAChB,IAAKhB,EAAEmC,SAASnB,GAAM,QACtB,IAAIL,EAAY,MAAOA,GAAWK,EAClC,IAAIJ,KACJ,KAAK,GAAIoC,KAAOhC,GAASiC,EAAIjC,EAAKgC,IAAMpC,EAAKN,KAAK0C,EAGlD,OADImL,IAAYG,EAAoBtN,EAAKJ,GAClCA,GAITZ,EAAE2O,QAAU,SAAS3N,GACnB,IAAKhB,EAAEmC,SAASnB,GAAM,QACtB,IAAIJ,KACJ,KAAK,GAAIoC,KAAOhC,GAAKJ,EAAKN,KAAK0C,EAG/B,OADImL,IAAYG,EAAoBtN,EAAKJ,GAClCA,GAITZ,EAAE6F,OAAS,SAAS7E,GAIlB,IAAK,GAHDJ,GAAOZ,EAAEY,KAAKI,GACdwB,EAAS5B,EAAK4B,OACdqD,EAAS3F,MAAMsC,GACVjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAC1BsH,EAAOtH,GAAKyC,EAAIJ,EAAKrC,GAEvB,OAAOsH,IAKT7F,EAAE4O,UAAY,SAAS5N,EAAKgB,EAAUT,GACpCS,EAAWD,EAAGC,EAAUT,EAIxB,KAAK,GAHDX,GAAOZ,EAAEY,KAAKI,GACdwB,EAAS5B,EAAK4B,OACdoB,KACKlC,EAAQ,EAAGA,EAAQc,EAAQd,IAAS,CAC3C,GAAImC,GAAajD,EAAKc,EACtBkC,GAAQC,GAAc7B,EAAShB,EAAI6C,GAAaA,EAAY7C,GAE9D,MAAO4C,IAKT5D,EAAE6O,MAAQ,SAAS7N,GAIjB,IAAK,GAHDJ,GAAOZ,EAAEY,KAAKI,GACdwB,EAAS5B,EAAK4B,OACdqM,EAAQ3O,MAAMsC,GACTjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAC1BsQ,EAAMtQ,IAAMqC,EAAKrC,GAAIyC,EAAIJ,EAAKrC,IAEhC,OAAOsQ,IAIT7O,EAAE8O,OAAS,SAAS9N,GAGlB,IAAK,GAFD8B,MACAlC,EAAOZ,EAAEY,KAAKI,GACTzC,EAAI,EAAGiE,EAAS5B,EAAK4B,OAAQjE,EAAIiE,EAAQjE,IAChDuE,EAAO9B,EAAIJ,EAAKrC,KAAOqC,EAAKrC,EAE9B,OAAOuE,IAKT9C,EAAE+O,UAAY/O,EAAEgP,QAAU,SAAShO,GACjC,GAAIiO,KACJ,KAAK,GAAIjM,KAAOhC,GACVhB,EAAEkC,WAAWlB,EAAIgC,KAAOiM,EAAM3O,KAAK0C,EAEzC,OAAOiM,GAAM9H,OAIf,IAAI+H,GAAiB,SAASC,EAAUC,GACtC,MAAO,UAASpO,GACd,GAAIwB,GAASV,UAAUU,MAEvB,IADI4M,IAAUpO,EAAM/B,OAAO+B,IACvBwB,EAAS,GAAY,MAAPxB,EAAa,MAAOA,EACtC,KAAK,GAAIU,GAAQ,EAAGA,EAAQc,EAAQd,IAIlC,IAAK,GAHD2N,GAASvN,UAAUJ,GACnBd,EAAOuO,EAASE,GAChB7Q,EAAIoC,EAAK4B,OACJjE,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CAC1B,GAAIyE,GAAMpC,EAAKrC,EACV6Q,QAAyB,KAAbpO,EAAIgC,KAAiBhC,EAAIgC,GAAOqM,EAAOrM,IAG5D,MAAOhC,IAKXhB,GAAEsP,OAASJ,EAAelP,EAAE2O,SAI5B3O,EAAEuP,UAAYvP,EAAEwP,OAASN,EAAelP,EAAEY,MAG1CZ,EAAE6E,QAAU,SAAS7D,EAAK0D,EAAWnD,GACnCmD,EAAY3C,EAAG2C,EAAWnD,EAE1B,KAAK,GADmByB,GAApBpC,EAAOZ,EAAEY,KAAKI,GACTzC,EAAI,EAAGiE,EAAS5B,EAAK4B,OAAQjE,EAAIiE,EAAQjE,IAEhD,GADAyE,EAAMpC,EAAKrC,GACPmG,EAAU1D,EAAIgC,GAAMA,EAAKhC,GAAM,MAAOgC,GAK9C,IAAIyM,GAAW,SAAShO,EAAOuB,EAAKhC,GAClC,MAAOgC,KAAOhC,GAIhBhB,GAAE0P,KAAOpN,EAAc,SAAStB,EAAKJ,GACnC,GAAIkC,MAAad,EAAWpB,EAAK,EACjC,IAAW,MAAPI,EAAa,MAAO8B,EACpB9C,GAAEkC,WAAWF,IACXpB,EAAK4B,OAAS,IAAGR,EAAWX,EAAWW,EAAUpB,EAAK,KAC1DA,EAAOZ,EAAE2O,QAAQ3N,KAEjBgB,EAAWyN,EACX7O,EAAOgI,EAAQhI,GAAM,GAAO,GAC5BI,EAAM/B,OAAO+B,GAEf,KAAK,GAAIzC,GAAI,EAAGiE,EAAS5B,EAAK4B,OAAQjE,EAAIiE,EAAQjE,IAAK,CACrD,GAAIyE,GAAMpC,EAAKrC,GACXkD,EAAQT,EAAIgC,EACZhB,GAASP,EAAOuB,EAAKhC,KAAM8B,EAAOE,GAAOvB,GAE/C,MAAOqB,KAIT9C,EAAE2P,KAAOrN,EAAc,SAAStB,EAAKJ,GACnC,GAAwBW,GAApBS,EAAWpB,EAAK,EAUpB,OATIZ,GAAEkC,WAAWF,IACfA,EAAWhC,EAAEkF,OAAOlD,GAChBpB,EAAK4B,OAAS,IAAGjB,EAAUX,EAAK,MAEpCA,EAAOZ,EAAE0D,IAAIkF,EAAQhI,GAAM,GAAO,GAAQgP,QAC1C5N,EAAW,SAASP,EAAOuB,GACzB,OAAQhD,EAAEuF,SAAS3E,EAAMoC,KAGtBhD,EAAE0P,KAAK1O,EAAKgB,EAAUT,KAI/BvB,EAAEoP,SAAWF,EAAelP,EAAE2O,SAAS,GAKvC3O,EAAEc,OAAS,SAASpB,EAAWmQ,GAC7B,GAAI/M,GAASD,EAAWnD,EAExB,OADImQ,IAAO7P,EAAEuP,UAAUzM,EAAQ+M,GACxB/M,GAIT9C,EAAE6G,MAAQ,SAAS7F,GACjB,MAAKhB,GAAEmC,SAASnB,GACThB,EAAEU,QAAQM,GAAOA,EAAIT,QAAUP,EAAEsP,UAAWtO,GADtBA,GAO/BhB,EAAE8P,IAAM,SAAS9O,EAAK+O,GAEpB,MADAA,GAAY/O,GACLA,GAIThB,EAAEgQ,QAAU,SAASxQ,EAAQ4G,GAC3B,GAAIxF,GAAOZ,EAAEY,KAAKwF,GAAQ5D,EAAS5B,EAAK4B,MACxC,IAAc,MAAVhD,EAAgB,OAAQgD,CAE5B,KAAK,GADDxB,GAAM/B,OAAOO,GACRjB,EAAI,EAAGA,EAAIiE,EAAQjE,IAAK,CAC/B,GAAIyE,GAAMpC,EAAKrC,EACf,IAAI6H,EAAMpD,KAAShC,EAAIgC,MAAUA,IAAOhC,IAAM,OAAO,EAEvD,OAAO,EAKT,IAAIiP,GAAIC,CACRD,GAAK,SAAS3I,EAAGC,EAAG4I,EAAQC,GAG1B,GAAI9I,IAAMC,EAAG,MAAa,KAAND,GAAW,EAAIA,GAAM,EAAIC,CAE7C,IAAS,MAALD,GAAkB,MAALC,EAAW,OAAO,CAEnC,IAAID,IAAMA,EAAG,MAAOC,KAAMA,CAE1B,IAAI8I,SAAc/I,EAClB,QAAa,aAAT+I,GAAgC,WAATA,GAAiC,gBAAL9I,KAChD2I,EAAO5I,EAAGC,EAAG4I,EAAQC,IAI9BF,EAAS,SAAS5I,EAAGC,EAAG4I,EAAQC,GAE1B9I,YAAatH,KAAGsH,EAAIA,EAAErG,UACtBsG,YAAavH,KAAGuH,EAAIA,EAAEtG,SAE1B,IAAIqP,GAAY9P,EAAS9B,KAAK4I,EAC9B,IAAIgJ,IAAc9P,EAAS9B,KAAK6I,GAAI,OAAO,CAC3C,QAAQ+I,GAEN,IAAK,kBAEL,IAAK,kBAGH,MAAO,GAAKhJ,GAAM,GAAKC,CACzB,KAAK,kBAGH,OAAKD,IAAOA,GAAWC,IAAOA,EAEhB,IAAND,EAAU,GAAKA,GAAM,EAAIC,GAAKD,IAAOC,CAC/C,KAAK,gBACL,IAAK,mBAIH,OAAQD,IAAOC,CACjB,KAAK,kBACH,MAAOnH,GAAYmQ,QAAQ7R,KAAK4I,KAAOlH,EAAYmQ,QAAQ7R,KAAK6I,GAGpE,GAAIiJ,GAA0B,mBAAdF,CAChB,KAAKE,EAAW,CACd,GAAgB,gBAALlJ,IAA6B,gBAALC,GAAe,OAAO,CAIzD,IAAIkJ,GAAQnJ,EAAEkH,YAAakC,EAAQnJ,EAAEiH,WACrC,IAAIiC,IAAUC,KAAW1Q,EAAEkC,WAAWuO,IAAUA,YAAiBA,IACxCzQ,EAAEkC,WAAWwO,IAAUA,YAAiBA,KACzC,eAAiBpJ,IAAK,eAAiBC,GAC7D,OAAO,EAQX4I,EAASA,MACTC,EAASA,KAET,KADA,GAAI5N,GAAS2N,EAAO3N,OACbA,KAGL,GAAI2N,EAAO3N,KAAY8E,EAAG,MAAO8I,GAAO5N,KAAY+E,CAQtD,IAJA4I,EAAO7P,KAAKgH,GACZ8I,EAAO9P,KAAKiH,GAGRiJ,EAAW,CAGb,IADAhO,EAAS8E,EAAE9E,UACI+E,EAAE/E,OAAQ,OAAO,CAEhC,MAAOA,KACL,IAAKyN,EAAG3I,EAAE9E,GAAS+E,EAAE/E,GAAS2N,EAAQC,GAAS,OAAO,MAEnD,CAEL,GAAsBpN,GAAlBpC,EAAOZ,EAAEY,KAAK0G,EAGlB,IAFA9E,EAAS5B,EAAK4B,OAEVxC,EAAEY,KAAK2G,GAAG/E,SAAWA,EAAQ,OAAO,CACxC,MAAOA,KAGL,GADAQ,EAAMpC,EAAK4B,IACLS,EAAIsE,EAAGvE,KAAQiN,EAAG3I,EAAEtE,GAAMuE,EAAEvE,GAAMmN,EAAQC,GAAU,OAAO,EAMrE,MAFAD,GAAOQ,MACPP,EAAOO,OACA,GAIT3Q,EAAE4Q,QAAU,SAAStJ,EAAGC,GACtB,MAAO0I,GAAG3I,EAAGC,IAKfvH,EAAE6Q,QAAU,SAAS7P,GACnB,MAAW,OAAPA,IACAuC,EAAYvC,KAAShB,EAAEU,QAAQM,IAAQhB,EAAEgI,SAAShH,IAAQhB,EAAEkJ,YAAYlI,IAA6B,IAAfA,EAAIwB,OAChE,IAAvBxC,EAAEY,KAAKI,GAAKwB,SAIrBxC,EAAE8Q,UAAY,SAAS9P,GACrB,SAAUA,GAAwB,IAAjBA,EAAIE,WAKvBlB,EAAEU,QAAUD,GAAiB,SAASO,GACpC,MAA8B,mBAAvBR,EAAS9B,KAAKsC,IAIvBhB,EAAEmC,SAAW,SAASnB,GACpB,GAAIqP,SAAcrP,EAClB,OAAgB,aAATqP,GAAgC,WAATA,KAAuBrP,GAIvDhB,EAAEwD,MAAM,YAAa,WAAY,SAAU,SAAU,OAAQ,SAAU,QAAS,SAAU,MAAO,UAAW,MAAO,WAAY,SAAS1E,GACtIkB,EAAE,KAAOlB,GAAQ,SAASkC,GACxB,MAAOR,GAAS9B,KAAKsC,KAAS,WAAalC,EAAO,OAMjDkB,EAAEkJ,YAAYpH,aACjB9B,EAAEkJ,YAAc,SAASlI,GACvB,MAAOiC,GAAIjC,EAAK,WAMpB,IAAI+P,GAAWnT,EAAKoT,UAAYpT,EAAKoT,SAASC,UAC5B,mBAAP,KAAyC,gBAAbC,YAA4C,kBAAZH,KACrE/Q,EAAEkC,WAAa,SAASlB,GACtB,MAAqB,kBAAPA,KAAqB,IAKvChB,EAAEmR,SAAW,SAASnQ,GACpB,OAAQhB,EAAEoR,SAASpQ,IAAQmQ,SAASnQ,KAAS4J,MAAMyG,WAAWrQ,KAIhEhB,EAAE4K,MAAQ,SAAS5J,GACjB,MAAOhB,GAAEsR,SAAStQ,IAAQ4J,MAAM5J,IAIlChB,EAAE2J,UAAY,SAAS3I,GACrB,OAAe,IAARA,IAAwB,IAARA,GAAwC,qBAAvBR,EAAS9B,KAAKsC,IAIxDhB,EAAEuR,OAAS,SAASvQ,GAClB,MAAe,QAARA,GAIThB,EAAEwR,YAAc,SAASxQ,GACvB,WAAe,KAARA,GAKThB,EAAEiD,IAAM,SAASjC,EAAKkC,GACpB,IAAKlD,EAAEU,QAAQwC,GACb,MAAOD,GAAIjC,EAAKkC,EAGlB,KAAK,GADDV,GAASU,EAAKV,OACTjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAAK,CAC/B,GAAIyE,GAAME,EAAK3E,EACf,IAAW,MAAPyC,IAAgBrB,EAAejB,KAAKsC,EAAKgC,GAC3C,OAAO,CAEThC,GAAMA,EAAIgC,GAEZ,QAASR,GAQXxC,EAAEyR,WAAa,WAEb,MADA7T,GAAKoC,EAAID,EACF5B,MAIT6B,EAAEiC,SAAW,SAASR,GACpB,MAAOA,IAITzB,EAAE0R,SAAW,SAASjQ,GACpB,MAAO,YACL,MAAOA,KAIXzB,EAAE2R,KAAO,aAIT3R,EAAEP,SAAW,SAASyD,GACpB,MAAKlD,GAAEU,QAAQwC,GAGR,SAASlC,GACd,MAAOmC,GAAQnC,EAAKkC,IAHbH,EAAgBG,IAQ3BlD,EAAE4R,WAAa,SAAS5Q,GACtB,MAAW,OAAPA,EACK,aAEF,SAASkC,GACd,MAAQlD,GAAEU,QAAQwC,GAAoBC,EAAQnC,EAAKkC,GAAzBlC,EAAIkC,KAMlClD,EAAEoC,QAAUpC,EAAE6R,QAAU,SAASzL,GAE/B,MADAA,GAAQpG,EAAEuP,aAAcnJ,GACjB,SAASpF,GACd,MAAOhB,GAAEgQ,QAAQhP,EAAKoF,KAK1BpG,EAAEgO,MAAQ,SAAS1O,EAAG0C,EAAUT,GAC9B,GAAIuQ,GAAQ5R,MAAMuC,KAAKC,IAAI,EAAGpD,GAC9B0C,GAAWX,EAAWW,EAAUT,EAAS,EACzC,KAAK,GAAIhD,GAAI,EAAGA,EAAIe,EAAGf,IAAKuT,EAAMvT,GAAKyD,EAASzD,EAChD,OAAOuT,IAIT9R,EAAE4G,OAAS,SAASH,EAAK/D,GAKvB,MAJW,OAAPA,IACFA,EAAM+D,EACNA,EAAM,GAEDA,EAAMhE,KAAKgI,MAAMhI,KAAKmE,UAAYlE,EAAM+D,EAAM,KAIvDzG,EAAEkN,IAAM6E,KAAK7E,KAAO,WAClB,OAAO,GAAI6E,OAAOC,UAIpB,IAAIC,IACF,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,UAEHC,EAAclS,EAAE8O,OAAOmD,GAGvBE,EAAgB,SAASzO,GAC3B,GAAI0O,GAAU,SAASnK,GACrB,MAAOvE,GAAIuE,IAGToH,EAAS,MAAQrP,EAAEY,KAAK8C,GAAK2O,KAAK,KAAO,IACzCC,EAAaC,OAAOlD,GACpBmD,EAAgBD,OAAOlD,EAAQ,IACnC,OAAO,UAASoD,GAEd,MADAA,GAAmB,MAAVA,EAAiB,GAAK,GAAKA,EAC7BH,EAAWI,KAAKD,GAAUA,EAAOE,QAAQH,EAAeJ,GAAWK,GAG9EzS,GAAE4S,OAAST,EAAcF,GACzBjS,EAAE6S,SAAWV,EAAcD,GAK3BlS,EAAE8C,OAAS,SAAS9B,EAAKkC,EAAM4P,GACxB9S,EAAEU,QAAQwC,KAAOA,GAAQA,GAC9B,IAAIV,GAASU,EAAKV,MAClB,KAAKA,EACH,MAAOxC,GAAEkC,WAAW4Q,GAAYA,EAASpU,KAAKsC,GAAO8R,CAEvD,KAAK,GAAIvU,GAAI,EAAGA,EAAIiE,EAAQjE,IAAK,CAC/B,GAAImQ,GAAc,MAAP1N,MAAc,GAASA,EAAIkC,EAAK3E,QAC9B,KAATmQ,IACFA,EAAOoE,EACPvU,EAAIiE,GAENxB,EAAMhB,EAAEkC,WAAWwM,GAAQA,EAAKhQ,KAAKsC,GAAO0N,EAE9C,MAAO1N,GAKT,IAAI+R,GAAY,CAChB/S,GAAEgT,SAAW,SAASC,GACpB,GAAIC,KAAOH,EAAY,EACvB,OAAOE,GAASA,EAASC,EAAKA,GAKhClT,EAAEmT,kBACAC,SAAU,kBACVC,YAAa,mBACbT,OAAQ,mBAMV,IAAIU,GAAU,OAIVC,GACF,IAAK,IACL,KAAM,KACN,KAAM,IACN,KAAM,IACN,SAAU,QACV,SAAU,SAGRC,EAAe,4BAEfC,EAAa,SAASxL,GACxB,MAAO,KAAOsL,EAAQtL,GAOxBjI,GAAE0T,SAAW,SAASC,EAAMC,EAAUC,IAC/BD,GAAYC,IAAaD,EAAWC,GACzCD,EAAW5T,EAAEoP,YAAawE,EAAU5T,EAAEmT,iBAGtC,IAAI/Q,GAAUmQ,SACXqB,EAAShB,QAAUU,GAASjE,QAC5BuE,EAASP,aAAeC,GAASjE,QACjCuE,EAASR,UAAYE,GAASjE,QAC/BgD,KAAK,KAAO,KAAM,KAGhB3Q,EAAQ,EACR2N,EAAS,QACbsE,GAAKhB,QAAQvQ,EAAS,SAAS6F,EAAO2K,EAAQS,EAAaD,EAAUU,GAanE,MAZAzE,IAAUsE,EAAKpT,MAAMmB,EAAOoS,GAAQnB,QAAQa,EAAcC,GAC1D/R,EAAQoS,EAAS7L,EAAMzF,OAEnBoQ,EACFvD,GAAU,cAAgBuD,EAAS,iCAC1BS,EACThE,GAAU,cAAgBgE,EAAc,uBAC/BD,IACT/D,GAAU,OAAS+D,EAAW,YAIzBnL,IAEToH,GAAU,OAGLuE,EAASG,WAAU1E,EAAS,mBAAqBA,EAAS,OAE/DA,EAAS,4FAEPA,EAAS,eAEX,IAAI2E,EACJ,KACEA,EAAS,GAAIC,UAASL,EAASG,UAAY,MAAO,IAAK1E,GACvD,MAAO6E,GAEP,KADAA,GAAE7E,OAASA,EACL6E,EAGR,GAAIR,GAAW,SAASS,GACtB,MAAOH,GAAOtV,KAAKP,KAAMgW,EAAMnU,GAOjC,OAFA0T,GAASrE,OAAS,aADHuE,EAASG,UAAY,OACO,OAAS1E,EAAS,IAEtDqE,GAIT1T,EAAEoU,MAAQ,SAASpT,GACjB,GAAIqT,GAAWrU,EAAEgB,EAEjB,OADAqT,GAASC,QAAS,EACXD,EAUT,IAAIE,GAAc,SAASF,EAAUrT,GACnC,MAAOqT,GAASC,OAAStU,EAAEgB,GAAKoT,QAAUpT,EAI5ChB,GAAEwU,MAAQ,SAASxT,GASjB,MARAhB,GAAEwD,KAAKxD,EAAE+O,UAAU/N,GAAM,SAASlC,GAChC,GAAIwC,GAAOtB,EAAElB,GAAQkC,EAAIlC,EACzBkB,GAAEN,UAAUZ,GAAQ,WAClB,GAAI8D,IAAQzE,KAAK8C,SAEjB,OADAX,GAAKuB,MAAMe,EAAMd,WACVyS,EAAYpW,KAAMmD,EAAKO,MAAM7B,EAAG4C,OAGpC5C,GAITA,EAAEwU,MAAMxU,GAGRA,EAAEwD,MAAM,MAAO,OAAQ,UAAW,QAAS,OAAQ,SAAU,WAAY,SAAS1E,GAChF,GAAImH,GAAShG,EAAWnB,EACxBkB,GAAEN,UAAUZ,GAAQ,WAClB,GAAIkC,GAAM7C,KAAK8C,QAGf,OAFAgF,GAAOpE,MAAMb,EAAKc,WACJ,UAAThD,GAA6B,WAATA,GAAqC,IAAfkC,EAAIwB,cAAqBxB,GAAI,GACrEuT,EAAYpW,KAAM6C,MAK7BhB,EAAEwD,MAAM,SAAU,OAAQ,SAAU,SAAS1E,GAC3C,GAAImH,GAAShG,EAAWnB,EACxBkB,GAAEN,UAAUZ,GAAQ,WAClB,MAAOyV,GAAYpW,KAAM8H,EAAOpE,MAAM1D,KAAK8C,SAAUa,eAKzD9B,EAAEN,UAAU+B,MAAQ,WAClB,MAAOtD,MAAK8C,UAKdjB,EAAEN,UAAU6Q,QAAUvQ,EAAEN,UAAU+U,OAASzU,EAAEN,UAAU+B,MAEvDzB,EAAEN,UAAUc,SAAW,WACrB,MAAOoP,QAAOzR,KAAK8C,WAWnB,SAEC,MAFwB,EAAF,WACrB,MAAOjB,IACR,gCDoFwBtB,KAAKZ,EAASM,EAAoB,IAAKA,EAAoB,KAAKL,KAIvF,SAAUA,EAAQD,GEjvDxB,GAAI4W,GAAO3W,EAAOD,SAAY6W,QAAS,QACrB,iBAAPC,OAAiBA,IAAMF,IFwvD5B,SAAU3W,EAAQD,GGxvDxB,GAAIgC,GAAS/B,EAAOD,QAA2B,mBAAV+W,SAAyBA,OAAOpS,MAAQA,KACzEoS,OAAwB,mBAAR3W,OAAuBA,KAAKuE,MAAQA,KAAOvE,KAE3D+V,SAAS,gBACK,iBAAPa,OAAiBA,IAAMhV,IHgwD5B,SAAU/B,EAAQD,EAASM,GIrwDjCL,EAAOD,SAAY,QAAW,EAAQ,IAA+ByB,YAAY,IJ2wD3E,SAAUxB,EAAQD,EAASM,GK3wDjC,GAAI2W,GAAQ,EAAQ,IAAa,OAC7BC,EAAM,EAAQ,IACd3U,EAAS,EAAQ,GAAaA,OAC9B4U,EAA8B,kBAAV5U,IAETtC,EAAOD,QAAU,SAAUgB,GACxC,MAAOiW,GAAMjW,KAAUiW,EAAMjW,GAC3BmW,GAAc5U,EAAOvB,KAAUmW,EAAa5U,EAAS2U,GAAK,UAAYlW,MAGjEiW,MAAQA,GLkxDX,SAAUhX,EAAQD,EAASM,GM5xDjC,GAAI0B,GAAS,EAAQ,GACjB4U,EAAO,EAAQ,GACfQ,EAAM,EAAQ,IACdC,EAAO,EAAQ,IACflS,EAAM,EAAQ,IAGdmS,EAAU,SAAU/E,EAAMvR,EAAMuQ,GAClC,GASIrM,GAAKqS,EAAKC,EATVC,EAAYlF,EAAO+E,EAAQI,EAC3BC,EAAYpF,EAAO+E,EAAQM,EAC3BC,EAAYtF,EAAO+E,EAAQQ,EAC3BC,EAAWxF,EAAO+E,EAAQU,EAC1BC,EAAU1F,EAAO+E,EAAQY,EACzBC,EAAU5F,EAAO+E,EAAQc,EACzBpY,EAAU2X,EAAYf,EAAOA,EAAK5V,KAAU4V,EAAK5V,OACjDqX,EAAWrY,EAAiB,UAC5BsY,EAASX,EAAY3V,EAAS6V,EAAY7V,EAAOhB,IAASgB,EAAOhB,QAAsB,SAEvF2W,KAAWpG,EAASvQ,EACxB,KAAKkE,IAAOqM,IAEVgG,GAAOE,GAAaa,OAA0BC,KAAhBD,EAAOpT,KAC1BC,EAAInF,EAASkF,KAExBsS,EAAMD,EAAMe,EAAOpT,GAAOqM,EAAOrM,GAEjClF,EAAQkF,GAAOyS,GAAmC,kBAAfW,GAAOpT,GAAqBqM,EAAOrM,GAEpE+S,GAAWV,EAAMH,EAAII,EAAKxV,GAE1BmW,GAAWG,EAAOpT,IAAQsS,EAAM,SAAWgB,GAC3C,GAAId,GAAI,SAAUlO,EAAGC,EAAG3I,GACtB,GAAIT,eAAgBmY,GAAG,CACrB,OAAQxU,UAAUU,QAChB,IAAK,GAAG,MAAO,IAAI8T,EACnB,KAAK,GAAG,MAAO,IAAIA,GAAEhP,EACrB,KAAK,GAAG,MAAO,IAAIgP,GAAEhP,EAAGC,GACxB,MAAO,IAAI+O,GAAEhP,EAAGC,EAAG3I,GACrB,MAAO0X,GAAEzU,MAAM1D,KAAM2D,WAGzB,OADA0T,GAAW,UAAIc,EAAW,UACnBd,GAENF,GAAOO,GAA0B,kBAAPP,GAAoBJ,EAAIjB,SAASvV,KAAM4W,GAAOA,EAEvEO,KACD/X,EAAQyY,UAAYzY,EAAQyY,aAAevT,GAAOsS,EAE/CjF,EAAO+E,EAAQoB,GAAKL,IAAaA,EAASnT,IAAMmS,EAAKgB,EAAUnT,EAAKsS,KAK9EF,GAAQI,EAAI,EACZJ,EAAQM,EAAI,EACZN,EAAQQ,EAAI,EACZR,EAAQU,EAAI,EACZV,EAAQY,EAAI,GACZZ,EAAQc,EAAI,GACZd,EAAQqB,EAAI,GACZrB,EAAQoB,EAAI,IACZzY,EAAOD,QAAUsX,GNmyDX,SAAUrX,EAAQD,GOh2DxBC,EAAOD,QAAU,SAAU4Y,GACzB,MAAqB,gBAAPA,GAAyB,OAAPA,EAA4B,kBAAPA,KPw2DjD,SAAU3Y,EAAQD,EAASM,GAEjC,YAuBA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GApBvF,GAAI6V,GAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,GAEnCE,EAAkB3Y,EAAoB,IAEtC4Y,EAAmBL,EAAuBI,GAE1CE,EAAa7Y,EAAoB,IAEjC8Y,EAAcP,EAAuBM,GAErCE,EAAW/Y,EAAoB,IAE/BgZ,EAAWT,EAAuBQ,GAElCE,EAAQjZ,EAAoB,IAE5BkZ,EAASX,EAAuBU,GQh4D9BrX,EAAIuX,EAAQ,GRs4DdC,EQr4DgBD,EAAQ,KAApBzK,E,EAAAA,QACF2K,EAAQF,EAAQ,IAChBG,EAAeD,EAAM,qBACrBE,EAAoBF,EAAM,2BRy4D5BG,EQx4DmBL,EAAQ,IAAvBM,E,EAAAA,WAEJC,EAAgB,EAEdC,EAAO,SAAC,GAQR,GAPJ9R,GAOI,EAPJA,OACA+R,EAMI,EANJA,IACAC,EAKI,EALJA,MACA9D,EAII,EAJJA,KAII,IAHJ+D,cAGI,YAFKC,EAEL,EAFJrL,QACAsL,EACI,EADJA,UAEA,IAAIH,EAAO,CACT,GAAMI,IAAc,aAAYJ,GAC7BvU,IAAI,SAAAV,GACH,GAAMvB,GAAQwW,EAAMjV,EACpB,QAAcqT,KAAV5U,EAAJ,CACA,GAAM+E,GAAqB,gBAAjB,KAAO/E,EAAP,0BAAOA,KAAqB,aAAeA,GAASA,CAC9D,OAAU6W,oBAAmBtV,GAA7B,IAAqCsV,mBAAmB9R,MAEzD1B,OAAO,SAAAyT,GAAA,MAAMA,KACblG,KAAK,IACR2F,GAASA,EAAT,IAAgBK,EAGlB,GAAMjN,GAAQ0M,GACdJ,GACE,6BACAtM,EACAnF,EACA+R,EACAC,EACA9D,EACA+D,EAGF,IAAMM,GAAUX,EAAW,WACrBY,EAAUD,EAAQR,GAAO/R,SAAQiS,UAAS/D,OAAMiE,eACnDM,KAAK,SAAAC,GAQJ,GAPAjB,EACE,wBACAtM,EACAuN,EAASC,OACTD,EAASxE,MAAQwE,EAAShF,KAC1BgF,EAASE,SAES,IAAhBF,EAASG,GAAc,CACzB,GAAMC,GAAQ,GAAI5M,MAElB,MADA4M,GAAMJ,SAAWA,EACXI,EAER,MAAOJ,GAASxE,OAEjB6E,MAAM,SAAAD,GAwBL,KAvBIA,GAAMJ,WACHlB,EAAMwB,QAAQ,sBACjBtB,EACE,6BACAvM,EACAnF,EACA+R,EACAC,EACA9D,EACA+D,GAGJP,EACE,wBACAvM,EACA2N,EAAMJ,SAASC,OACfG,EAAMJ,SAASxE,MAAQ4E,EAAMJ,SAAShF,KACtCoF,EAAMJ,SAASE,QAEjBE,EAAMG,WAAaH,EAAMJ,SAASC,OAClCG,EAAMI,aAAeJ,EAAMJ,SAAShF,KACpCoF,EAAMJ,SAAWI,EAAMJ,SAASxE,MAE5B4E,GAEV,OAAOZ,GAAOrL,EAAQ2L,EAASN,GAAQM,GAInCW,EAAoB,SAAAC,GAAA,MAAKrZ,GAAEuR,OAAO8H,IAAMrZ,EAAEwR,YAAY6H,IAEtDC,EAAc,SAAAlD,GAClB,MAAIpW,GAAEU,QAAQ0V,GACLA,MAEMC,KAAXD,GAAmC,OAAXA,MAGpBA,IAGJmD,EAAwB,WAAwC,gEAArC3Y,EAAqC,EAArCA,KAAM6E,EAA+B,EAA/BA,QAAS+T,EAAsB,EAAtBA,WACxCC,IAUN,OATI7Y,KACF6Y,EAAa7Y,KAAO0Y,EAAY1Y,GAAMyR,KAAK,MAEzC5M,IACFgU,EAAahU,QAAU6T,EAAY7T,GAAS4M,KAAK,MAE/CmH,IACFC,EAAaC,UAAYF,GAEpBC,GAGHE,EAAkB,SAAAC,GACtB,MAAIA,GAAYC,aACPD,EAAYC,aAGnBD,EAAYE,MACgC,kBAArCF,GAAYE,KAAKH,gBAEjBC,EAAYE,KAAKH,sBAJ1B,IAQI7J,EAAM,SAAAC,GAAA,MAAe,UAAAtO,GAAA,MAAUsO,GAAYtO,GAAQA,IAGnDsY,EAAmB,aAKnBC,EAAW,SAAkBC,EAAQC,EAAYC,GACrD,GAAIC,EAwCJ,OAlCEA,GADEF,GAAcA,EAAWva,eAAe,eAClCua,EAAW1L,YAGX,WACNyL,EAAOpY,MAAM1D,KAAM2D,YAKvB9B,EAAEsP,OAAO8K,EAAOH,GAIhBF,EAAiBra,UAAYua,EAAOva,UACpC0a,EAAM1a,UAAY,GAAIqa,GAIlBG,GACFla,EAAEsP,OAAO8K,EAAM1a,UAAWwa,GAIxBC,GACFna,EAAEsP,OAAO8K,EAAOD,GAIlBC,EAAM1a,UAAU8O,YAAc4L,EAI9BA,EAAMC,UAAYJ,EAAOva,UAElB0a,GAGHE,EAAY,SAAAC,GAAA,MAAW,IAAIxI,MAAKwI,IAEhCC,EAAW,SAACpE,EAAQpT,EAAKvB,GAE7B,GAAMgZ,GAAOzX,EAAI0X,MAAM,KACjBC,EAAUF,EAAK9J,MACjBiK,EAAgBxE,CAMpB,OALAqE,GAAKhX,QAAQ,SAAAoX,OACgBxE,KAAvBuE,EAAcC,KAAoBD,EAAcC,OACpDD,EAAgBA,EAAcC,KAEhCD,EAAcD,GAAWlZ,EAClB2U,GAGH0E,EAAY,SAAC1E,EAAQpT,GAKzB,IAAK,GAJCyX,GAAOzX,EAAI0X,MAAM,KACjBK,EAAWN,EAAK,GAChBE,EAAUF,EAAK9J,MACjBiK,EAAgBxE,EACX7X,EAAI,EAAGA,EAAIkc,EAAKjY,OAAQjE,IAE/B,OAAsB8X,MADtBuE,EAAgBA,EAAcH,EAAKlc,KAEjC,WAAQ8X,OAAWA,GAAWsE,EAIlC,QADcC,EAAcD,GACbC,EAAeD,EAASI,IAGnCC,EAAgB,SAAAha,GAAA,MACpBhB,GAAEmC,SAASnB,KAAQ,aAAsBA,KAAS/B,OAAOS,WAErDub,EAAgB,QAAhBA,GAAyBvW,EAAWwW,GACxC,MAAIxW,KACKwW,IAAgBxC,KAAK,WAC1B,MAAOuC,GAAcvW,EAAWwW,KAG7B,UAAQC,UAGjBpd,GAAOD,SACLia,OACAqB,oBACAE,cACAC,wBACAI,kBACA7J,MACAkK,WACAM,YACAE,WACAM,YACAE,gBACAC,kBR23DI,SAAUld,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GS3mEjC7W,EAAIuX,EAAQ,GACZ6D,EAAM7D,EAAQ,KTinEhBC,EShnEeD,EAAQ,GAAnBjI,E,EAAAA,OACF+L,EAAK9D,EAAQ,ITonEfK,ESnnE8BL,EAAQ,GAAlCoC,E,EAAAA,gBAAiB5B,E,EAAAA,KAGnBuD,EAAO,SAACtY,EAAKuY,GACjB,GAAMrO,IAAM,GAAI6E,OAAOC,UACjBwJ,EAAYJ,EAAIlO,EAAMlK,EAC5B,OAAIuY,GACQC,EAAV,IAAuBtO,EAAvB,UAEQsO,EAAV,IAAuBtO,GAGnBuO,EAAY,SAACvD,EAASwD,GACtBA,EACFxD,EAAQ,aAAeoD,EAAKD,EAAGM,gBAE/BzD,EAAQ,YAAcmD,EAAGM,gBAIvBC,EAAa,WAA+B,GAA9BhC,GAA8B,0DAAZ8B,EAAY,aAC1CxD,GACJ,UAAWmD,EAAGQ,cACd,eAAgB,kCAEdC,GAAe,CA6BnB,OA5BwC,iBAA7BlC,GAAYkC,aACrBA,EAAelC,EAAYkC,aACiB,iBAA5BT,GAAGU,QAAQD,eAC3BA,EAAeT,EAAGU,QAAQD,cAExBA,EACET,EAAGW,UACDN,EACFxD,EAAQ,aAAeoD,EAAKD,EAAGW,WAAW,GAE1C9D,EAAQ,YAAiBmD,EAAGW,UAA5B,WAGFC,QAAQC,KAAK,iDACbT,EAAUvD,EAASwD,IAGrBD,EAAUvD,EAASwD,GAEjBL,EAAGc,UACLjE,EAAQ,iBAAmBmD,EAAGc,SAEF,OAA1Bd,EAAGU,QAAQK,aACblE,EAAQ,aAAetI,OAAOyL,EAAGU,QAAQK,aAE3ClE,EAAsD,WACpDmD,EAAGgB,cAAcC,UAEZ,UAAQnB,UAAUzC,KAAK,WAE5B,GAAMmB,GAAeF,EAAgBC,EACrC,IAAIC,EACF3B,EAAQ,gBAAkB2B,MACrB,KAAKwB,EAAGU,QAAQQ,mBACrB,MAAOlB,GAAGmB,KAAKC,eAAe/D,KAAK,SAAAgE,GAIjC,MAHIA,IAAeA,EAAYC,gBAC7BzE,EAAQ,gBAAkBwE,EAAYC,eAEjCzE,GAGX,OAAOA,MAIL0E,EAAe,SAAC,GAOhB,QANJC,cAMI,OANM,MAMN,MALJlI,cAKI,OALM,MAKN,EAJJzR,EAII,EAJJA,KAKI4Z,EAASzB,EAAGU,QAAQgB,WAAWF,EAEnC,KAAKC,EAAQ,KAAM,IAAI3Q,OAAJ,4BAAsC0Q,EAUzD,OARyC,MAArCC,EAAOE,OAAOF,EAAOta,OAAS,KAChCsa,GAAU,KAEZA,GAAUnI,EACNzR,IACF4Z,GAAU5Z,GAGL4Z,GAgBHtE,EAAU,SAAC,GASX,GARJqE,GAQI,EARJA,QACAlI,EAOI,EAPJA,QACA1O,EAMI,EANJA,OACA/C,EAKI,EALJA,KACA+U,EAII,EAJJA,MACA9D,EAGI,EAHJA,KACAyF,EAEI,EAFJA,YAEI,IADJ8B,cACI,SACJ,KAAML,EAAGQ,gBAAkBR,EAAGM,iBAAkBN,EAAGW,UACjD,KAAM,IAAI7P,OAAM,kBAEdkP,GAAG4B,YACL5B,EAAG4B,WAAWC,SALZ,IAOoBpQ,GAAYuO,EAAGU,QAA/BoB,eACFnF,EAAM4E,GAAeC,UAAS3Z,OAAMyR,WAC1C,OAAOiH,GAAWhC,EAAa8B,GAAShD,KAAK,SAAAR,GAAA,MAC3CH,IAAO9R,SAAQ+R,MAAKC,QAAO9D,OAAM+D,UAASpL,YAAWkM,MAAM,SAAAD,GACzD,GAAIqE,IACFC,KAAMtE,EAAMsE,OAAS,EACrBtE,MAAOA,EAAMuE,SAAWvE,EAAMI,aAEhC,IAAIJ,EAAMJ,UAAYI,EAAMJ,SAAS0E,KACnCD,EAAYrE,EAAMJ,aACb,IAAII,EAAMI,aACf,IACEiE,EAAYG,KAAKC,MAAMzE,EAAMI,cAC7B,MAAOjF,IAIXkJ,EAAUK,WAAaL,EAAUK,YAAcL,EAAUrE,MACpDsC,EAAGgB,cAAcqB,sBACpBN,EAAUrE,OAAV,MAAwBA,EAAMG,YAAc,OAA5C,IAAqDjT,EAArD,IAA+D+R,EAA/D,IAIF,IAAM2F,GAAM,GAAIxR,OAAMiR,EAAUrE,MAEhC,aADOqE,GAAUrE,MACX/Y,EAAEsP,OAAOqO,EAAKP,QAMpBQ,EAAW,SACfC,EACAvN,EACAwN,EACA7X,EACAkO,EACAyF,EACA3B,GAEA,GAAI/U,GAAO,EAKX,IAJI2a,IAAO3a,GAAQA,IAAI2a,GACnBvN,IAAWpN,GAAQA,IAAIoN,GACvBwN,IAAU5a,GAAQA,IAAI4a,GAEtB3J,GAAQA,EAAK4J,eACf,KAAM,IAAI5R,OAAM,wCAClB,IAAIgI,GAAQA,EAAK6J,OAAQ,KAAM,IAAI7R,OAAM,gCAKzC,OAJIlG,IAAmC,QAAzBA,EAAOgY,gBACnBhG,EAAQ3I,KAAW2I,EAAO9D,GAC1BA,EAAO,MAEFqE,GACLvS,SACA/C,OACA+U,QACA9D,OACAyF,gBAIJyB,GAAG7C,QAAUA,EAEbza,EAAOD,SACL8f,WACApF,YTsnEI,SAAUza,EAAQD,EAASM,GUtzEjC,GAAI+D,GAAW,EAAQ,EACvBpE,GAAOD,QAAU,SAAU4Y,GACzB,IAAKvU,EAASuU,GAAK,KAAMhL,WAAUgL,EAAK,qBACxC,OAAOA,KV8zEH,SAAU3Y,EAAQD,EAASM,GWh0EjCL,EAAOD,SAAW,EAAQ,IAAY,WACpC,MAA+E,IAAxEmB,OAAOC,kBAAmB,KAAOG,IAAK,WAAc,MAAO,MAAQiI,KXy0EtE,SAAUvJ,EAAQD,EAASM,GY30EjC,GAAI8f,GAAW,EAAQ,GACnBC,EAAiB,EAAQ,IACzBC,EAAc,EAAQ,IACtBC,EAAKpf,OAAOC,cAEhBpB,GAAQwgB,EAAI,EAAQ,IAAoBrf,OAAOC,eAAiB,SAAwBqf,EAAGzI,EAAG0I,GAI5F,GAHAN,EAASK,GACTzI,EAAIsI,EAAYtI,GAAG,GACnBoI,EAASM,GACLL,EAAgB,IAClB,MAAOE,GAAGE,EAAGzI,EAAG0I,GAChB,MAAOtK,IACT,GAAI,OAASsK,IAAc,OAASA,GAAY,KAAM9S,WAAU,2BAEhE,OADI,SAAW8S,KAAYD,EAAEzI,GAAK0I,EAAW/c,OACtC8c,IZm1EH,SAAUxgB,EAAQD,EAASM,Gaj2EjCL,EAAOD,SAAY,QAAW,EAAQ,KAAsCyB,YAAY,Ibu2ElF,SAAUxB,EAAQD,EAASM,Gct2EjC,GAAIqgB,GAAY,EAAQ,GACxB1gB,GAAOD,QAAU,SAAU4gB,EAAIC,EAAMnc,GAEnC,GADAic,EAAUC,OACGrI,KAATsI,EAAoB,MAAOD,EAC/B,QAAQlc,GACN,IAAK,GAAG,MAAO,UAAU8E,GACvB,MAAOoX,GAAGhgB,KAAKigB,EAAMrX,GAEvB,KAAK,GAAG,MAAO,UAAUA,EAAGC,GAC1B,MAAOmX,GAAGhgB,KAAKigB,EAAMrX,EAAGC,GAE1B,KAAK,GAAG,MAAO,UAAUD,EAAGC,EAAG3I,GAC7B,MAAO8f,GAAGhgB,KAAKigB,EAAMrX,EAAGC,EAAG3I,IAG/B,MAAO,YACL,MAAO8f,GAAG7c,MAAM8c,EAAM7c,cdg3EpB,SAAU/D,EAAQD,EAASM,Gej4EjC,GAAIigB,GAAK,EAAQ,IACbO,EAAa,EAAQ,GACzB7gB,GAAOD,QAAU,EAAQ,IAAoB,SAAU0B,EAAQwD,EAAKvB,GAClE,MAAO4c,GAAGC,EAAE9e,EAAQwD,EAAK4b,EAAW,EAAGnd,KACrC,SAAUjC,EAAQwD,EAAKvB,GAEzB,MADAjC,GAAOwD,GAAOvB,EACPjC,Ify4EH,SAAUzB,EAAQD,GgB/4ExB,GAAI6B,MAAoBA,cACxB5B,GAAOD,QAAU,SAAU4Y,EAAI1T,GAC7B,MAAOrD,GAAejB,KAAKgY,EAAI1T,KhBu5E3B,SAAUjF,EAAQD,GiBz5ExBC,EAAOD,QAAU,SAAU+gB,GACzB,IACE,QAASA,IACT,MAAO3K,GACP,OAAO,KjBk6EL,SAAUnW,EAAQD,EAASM,GkBr6EjC,GAAI0gB,GAAU,EAAQ,IAClBC,EAAU,EAAQ,GACtBhhB,GAAOD,QAAU,SAAU4Y,GACzB,MAAOoI,GAAQC,EAAQrI,MlB86EnB,SAAU3Y,EAAQD,EAASM,GAEjC,YmB96EA,SAAS4gB,GAAQ3B,EAAMC,GACrB,GAAMvE,GAAQ,GAAI5M,OAAMmR,EAExB,OADAvE,GAAMsE,KAAOA,EACNtE,EATCxB,EAAQ,GAYhBjI,OACA0P,GAMEC,aAAc,EAQdC,sBAAuB,EAMvBC,kBAAmB,IAMnBC,iBAAkB,IAOlBC,cAAe,IAQfC,mBAAoB,IAMpBC,kBAAmB,IAOnBC,iBAAkB,IAOlBC,gBAAiB,IAQjBC,aAAc,IAOdC,oBAAqB,IAMrBC,gBAAiB,IAMjBC,eAAgB,IAQhBC,qBAAsB,IAMtBC,mBAAoB,IAMpBC,iBAAkB,IAMlBC,oBAAqB,IAMrBC,WAAY,IAOZC,mBAAoB,IAQpBC,kBAAmB,IAMnBC,YAAa,IAObC,QAAS,IAMTC,sBAAuB,IAMvBC,qBAAsB,IAMtBC,uBAAwB,IAMxBC,uBAAwB,IAMxBC,eAAgB,IAMhBC,gBAAiB,IAMjBC,kBAAmB,IAOnBC,gBAAiB,IAMjBC,kBAAmB,IAOnBC,eAAgB,IAMhBC,cAAe,IAMfC,iBAAkB,IAMlBC,mBAAoB,IAMpBC,mBAAoB,IAKpBC,wBAAyB,IAMzBC,iBAAkB,IAMlBC,iBAAkB,IAMlBC,eAAgB,IAMhBC,YAAa,IAMbC,cAAe,IAMfC,gBAAiB,IAOjBC,gBAAiB,IAMjBC,gCAAiC,IAOjCC,uBAAwB,IAOxBC,kBAAmB,IAOnBC,uBAAwB,IAOxBC,oBAAqB,IAQrBC,iBAAkB,MAItBnkB,EAAOD,QAAUkhB,GnBy7EX,SAAUjhB,EAAQD,GoB9wFxBC,EAAOD,YpBqxFD,SAAUC,EAAQD,EAASM,GqBpxFjC,GAAI2gB,GAAU,EAAQ,GACtBhhB,GAAOD,QAAU,SAAU4Y,GACzB,MAAOzX,QAAO8f,EAAQrI,MrB6xFlB,SAAU3Y,EAAQD,EAASM,GsBhyFjC,EAAQ,GAYR,KAAK,GAXD0B,GAAS,EAAQ,GACjBqV,EAAO,EAAQ,IACfgN,EAAY,EAAQ,IACpBC,EAAgB,EAAQ,GAAU,eAElCC,EAAe,wbAIU3H,MAAM,KAE1Bnc,EAAI,EAAGA,EAAI8jB,EAAa7f,OAAQjE,IAAK,CAC5C,GAAI+jB,GAAOD,EAAa9jB,GACpBgkB,EAAaziB,EAAOwiB,GACpB7T,EAAQ8T,GAAcA,EAAW7iB,SACjC+O,KAAUA,EAAM2T,IAAgBjN,EAAK1G,EAAO2T,EAAeE,GAC/DH,EAAUG,GAAQH,EAAUjiB,QtBwyFxB,SAAUnC,EAAQD,EAASM,GuBzzFjC,GAAI8W,GAAM,EAAQ,IACdxW,EAAO,EAAQ,KACf8jB,EAAc,EAAQ,KACtBtE,EAAW,EAAQ,GACnBuE,EAAW,EAAQ,IACnBC,EAAY,EAAQ,IACpBC,KACAC,KACA9kB,EAAUC,EAAOD,QAAU,SAAU+kB,EAAUC,EAASpE,EAAIC,EAAMoE,GACpE,GAGIvgB,GAAQyI,EAAM+X,EAAUlgB,EAHxBmgB,EAASF,EAAW,WAAc,MAAOF,IAAcH,EAAUG,GACjEvE,EAAIpJ,EAAIwJ,EAAIC,EAAMmE,EAAU,EAAI,GAChCphB,EAAQ,CAEZ,IAAqB,kBAAVuhB,GAAsB,KAAMvX,WAAUmX,EAAW,oBAE5D,IAAIL,EAAYS,IAAS,IAAKzgB,EAASigB,EAASI,EAASrgB,QAASA,EAASd,EAAOA,IAEhF,IADAoB,EAASggB,EAAUxE,EAAEJ,EAASjT,EAAO4X,EAASnhB,IAAQ,GAAIuJ,EAAK,IAAMqT,EAAEuE,EAASnhB,OACjEihB,GAAS7f,IAAW8f,EAAQ,MAAO9f,OAC7C,KAAKkgB,EAAWC,EAAOvkB,KAAKmkB,KAAa5X,EAAO+X,EAASE,QAAQC,MAEtE,IADArgB,EAASpE,EAAKskB,EAAU1E,EAAGrT,EAAKxJ,MAAOqhB,MACxBH,GAAS7f,IAAW8f,EAAQ,MAAO9f,GAGtDhF,GAAQ6kB,MAAQA,EAChB7kB,EAAQ8kB,OAASA,GvBg0FX,SAAU7kB,EAAQD,EAASM,GAEjC,cAC4B,SAAS0B,GAcrC,QAAS6W,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GAZvF,GAAIiW,GAAa7Y,EAAoB,IAEjC8Y,EAAcP,EAAuBM,GAErCI,EAAQjZ,EAAoB,IAE5BkZ,EAASX,EAAuBU,GAEhCR,EAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,GwBv2FjC7W,EAAIuX,EAAQ,GACZ6L,EAAO7L,EAAQ,IACfE,EAAQF,EAAQ,IAChB8L,EAAQ9L,EAAQ,IxB62FlBC,EwB52F4BD,EAAQ,GAAhCyC,E,EAAAA,SAAUM,E,EAAAA,UxBg3Fd1C,EwB/2FoBL,EAAQ,IAAxB+L,E,EAAAA,YAEFjI,EAAKvb,EAAOub,MAGlBA,GAAGU,SACDgB,cACAjB,cAAc,EACdM,WAAY,KACZmH,SAAU,KACVpG,eAAgB,MAIlB9B,EAAGgB,eACDC,UAAW+G,IACXG,kBAAmB,MAerBnI,EAAGoI,WAAa,SAASvgB,GACvB,IAAKmY,EAAGQ,cACN,KAAM,IAAI1P,OAAM,kDAKlB,IAHKjJ,IACHA,EAAO,KAEJlD,EAAEgI,SAAS9E,GACd,KAAM,IAAIiJ,OAAM,yDAKlB,OAHgB,MAAZjJ,EAAK,KACPA,EAAOA,EAAKwgB,UAAU,IAEjB,MAAQrI,EAAGQ,cAAgB,IAAM3Y,GAQ1CmY,EAAGsI,gBAAkB,KACrBtI,EAAGuI,mBAAqB,WAEtB,GAAIvI,EAAGsI,gBACL,MAAO,WAAQxI,QAAQE,EAAGsI,gBAI5B,IAAMzgB,GAAOmY,EAAGoI,WAAW,iBAC3B,OAAOpI,GAAGwI,aAAaC,aAAa5gB,GAAMwV,KAAK,SAAAiL,GAE7C,MADAtI,GAAGsI,gBAAkBA,EAChBtI,EAAGsI,gBAODA,GALLtI,EAAGsI,gBAAkBA,EAAkBP,IAChC/H,EAAGwI,aACPE,aAAa7gB,EAAMygB,GACnBjL,KAAK,iBAAMiL,SAMpBtI,EAAG2I,gBAAkB,KACrB3I,EAAG4I,uBAAyB,WAA4C,GAA3C/gB,GAA2C,uDAApCmY,EAAGoI,WAAW,kBAC1CS,EAAkB7I,EAAG2I,gBAAkBZ,GAC7C,OAAO/H,GAAGwI,aACPE,aAAa7gB,EAAMghB,GACnBxL,KAAK,iBAAMwL,MAEhB7I,EAAG8I,mBAAqB,WAEtB,GAAI9I,EAAG2I,gBACL,MAAO,WAAQ7I,QAAQE,EAAG2I,gBAI5B,IAAM9gB,GAAOmY,EAAGoI,WAAW,iBAC3B,OAAOpI,GAAGwI,aAAaC,aAAa5gB,GAAMwV,KAAK,SAAAsL,GAM7C,MALA3I,GAAG2I,gBAAkBA,EAChB3I,EAAG2I,kBAENA,EAAkB3I,EAAG4I,uBAAuB/gB,IAEvC8gB,KAIX3I,EAAG+I,WAAa9J,EAGhBe,EAAGgJ,QAAU,SAASnK,EAAYoK,GAChC,GAAIlK,GAAQJ,EAAS7b,KAAM+b,EAAYoK,EAEvC,OADAlK,GAAM9K,OAASnR,KAAKmR,OACb8K,GAaTiB,EAAGkJ,QAAU,SAAS9iB,EAAO+iB,EAAaC,GAA8B,GAAbC,KAAa,wDACtE,IAAIjjB,YAAiB4Z,GAAGpc,OAAQ,CAC9B,GAAIwlB,EACF,KAAM,IAAItY,OAAM,8BAElB,OAAKqY,KAAexkB,EAAEyF,QAAQ+e,EAAa/iB,IAAWA,EAAMkjB,SAGrDljB,EAAMmjB,YAAYJ,EAAY3Y,OAAOpK,GAAQijB,GAF3CjjB,EAAMojB,aAIjB,GAAIpjB,YAAiB4Z,GAAGyJ,IACtB,MAAOrjB,GAAMgT,QAEf,IAAIzU,EAAE+kB,OAAOtjB,GACX,MAAOijB,IAASM,OAAQ,OAAQC,IAAKxjB,EAAMgT,UAAahT,EAAMgT,QAEhE,IAAIhT,YAAiB4Z,GAAG6J,SACtB,MAAOzjB,GAAMgT,QAEf,IAAIzU,EAAEU,QAAQe,GACZ,MAAOzB,GAAE0D,IAAIjC,EAAO,SAAS4X,GAC3B,MAAOgC,GAAGkJ,QAAQlL,EAAGmL,EAAaC,EAAiBC,IAGvD,IAAI1kB,EAAEmlB,SAAS1jB,GACb,MAAOA,GAAM4N,MAEf,IAAI5N,YAAiB4Z,GAAG+J,SACtB,MAAO3jB,GAAMgT,QAEf,IAAIhT,YAAiB4Z,GAAGgK,GACtB,MAAO5jB,GAAMgT,QAEf,IAAIhT,YAAiB4Z,GAAGiK,KAAM,CAC5B,IAAK7jB,EAAMuW,QAAUvW,EAAMyR,GACzB,KAAM,IAAI/G,OAAM,sDAElB,OAAO1K,GAAMmjB,YAAYJ,EAAaE,GAExC,MAAI1kB,GAAEmC,SAASV,GACNzB,EAAE4O,UAAUnN,EAAO,SAAC+E,EAAG+e,GAAJ,MACxBlK,GAAGkJ,QAAQ/d,EAAGge,EAAaC,EAAiBC,KAGzCjjB,GAOT4Z,EAAGmK,QAAU,SAAS/jB,EAAOuB,GAC3B,IAAKhD,EAAEmC,SAASV,IAAUzB,EAAE+kB,OAAOtjB,GACjC,MAAOA,EAET,IAAIzB,EAAEU,QAAQe,GACZ,MAAOzB,GAAE0D,IAAIjC,EAAO,SAAA+E,GAAA,MAAK6U,GAAGmK,QAAQhf,IAEtC,IAAI/E,YAAiB4Z,GAAGpc,OACtB,MAAOwC,EAET,IAAIA,YAAiB4Z,GAAGiK,KACtB,MAAO7jB,EAET,IAAIA,YAAiB4Z,GAAGgK,GACtB,MAAO5jB,EAET,IAAIA,YAAiB4Z,GAAG6J,SACtB,MAAOzjB,EAET,IAAIA,YAAiB4Z,GAAGyJ,IACtB,MAAOrjB,EAET,IAAY,QAARuB,EACF,MAAO,IAAIqY,GAAGyJ,IAAIrjB,EAEpB,IAAIA,EAAMgkB,KACR,MAAOpK,GAAGgK,GAAGG,QAAQ/jB,EAEvB,IAAI6O,EACJ,IAAqB,YAAjB7O,EAAMujB,OAAsB,CAC9B1U,EAAY7O,EAAM6O,SAClB,IAAIoV,GAAUrK,EAAGpc,OAAO0mB,QAAQrV,EAChC,KAAI,aAAY7O,GAAOe,OAAS,EAAG,CACjC,GAAMgE,GAAIxG,EAAE6G,MAAMpF,SACX+E,GAAEwe,aACFxe,GAAE8J,UACToV,EAAQE,aAAapf,GAAG,OAExBkf,GAAQE,cAAe9H,SAAUrc,EAAMqc,WAAY,EAErD,OAAO4H,GAET,GAAqB,WAAjBjkB,EAAMujB,OAAqB,CAE7B1U,EAAY7O,EAAM6O,SAClB,IAAM9J,GAAIxG,EAAE6G,MAAMpF,SACX+E,GAAEwe,aACFxe,GAAE8J,SACT,IAAI9Q,GAAS6b,EAAGpc,OAAO0mB,QAAQrV,EAE/B,OADA9Q,GAAOomB,aAAapf,GAAG,GAChBhH,EAET,GAAqB,SAAjBiC,EAAMujB,OACR,MAAO3J,GAAG+I,WAAW3iB,EAAMwjB,IAE7B,IAAqB,aAAjBxjB,EAAMujB,OACR,MAAO,IAAI3J,GAAG6J,UACZW,SAAUpkB,EAAMokB,SAChBC,UAAWrkB,EAAMqkB,WAGrB,IAAqB,aAAjBrkB,EAAMujB,OAAuB,CAC/B,IAAKhiB,EAAK,KAAM,IAAImJ,OAAM,kCAC1B,IAAI4Z,GAAW,GAAI1K,GAAG+J,SAAS,KAAMpiB,EAErC,OADA+iB,GAASC,gBAAkBvkB,EAAM6O,UAC1ByV,EAET,GAAqB,SAAjBtkB,EAAMujB,OAAmB,CAC3B,GAAIiB,GAAO,GAAI5K,GAAGiK,KAAK7jB,EAAM3C,MACvB0H,EAAIxG,EAAE6G,MAAMpF,EAGlB,cAFO+E,GAAEwe,OACTiB,EAAKL,aAAapf,GACXyf,EAET,MAAOjmB,GAAE4O,UAAUnN,EAAO4Z,EAAGmK,UAU/BnK,EAAG6K,UAAY7K,EAAGmK,QASlBnK,EAAGmC,MAAQ,SAAA7J,GAAA,MAAQ0H,GAAG6K,UAAU3I,KAAKC,MAAM7J,KAO3C0H,EAAG8K,UAAY,SAAA/P,GAAA,OAAU,aAAeiF,EAAGkJ,QAAQnO,MAAY,GAAO,KAEtEiF,EAAG+K,qBAAuB,SAAS3kB,GACjC,GAAI4kB,GAAiB,SAAS7mB,GAK5B,MAJIA,IAAUA,EAAOolB,cACnBplB,EAASA,EAAOolB,iBAGX5kB,EAAE4O,UAAUpP,EAAQ,SAASiC,GAClC,MAAO4Z,GAAGkJ,QAAQ9iB,QAItB,OAAIzB,GAAEU,QAAQe,GACLA,EAAMiC,IAAI,SAASlE,GACxB,MAAO6mB,GAAe7mB,KAGjB6mB,EAAe5kB,IAI1B4Z,EAAGiL,WAAatmB,EAAEwD,KAWlB6X,EAAGkL,UAAY,SAAS/mB,EAAQ8B,EAAMsI,GACpC,GAAIpK,YAAkB6b,GAAGpc,OAAQ,CAE/B,GADA2K,EAAOA,MACH5J,EAAE8F,QAAQ8D,EAAMpK,IAAW,EAE7B,MAIF,OAFAoK,GAAKtJ,KAAKd,GACV6b,EAAGkL,UAAU/mB,EAAOgnB,WAAYllB,EAAMsI,GAC/BtI,EAAK9B,GAEd,MAAIA,aAAkB6b,GAAG+J,UAAY5lB,YAAkB6b,GAAGiK,KAGjDhkB,EAAK9B,GAEVQ,EAAEU,QAAQlB,IACZQ,EAAEwD,KAAKhE,EAAQ,SAAS4a,EAAO1Y,GAC7B,GAAI+kB,GAAWpL,EAAGkL,UAAUnM,EAAO9Y,EAAMsI,EACrC6c,KACFjnB,EAAOkC,GAAS+kB,KAGbnlB,EAAK9B,IAEVQ,EAAEmC,SAAS3C,IACb6b,EAAGqL,MAAMlnB,EAAQ,SAAS4a,EAAOpX,GAC/B,GAAIyjB,GAAWpL,EAAGkL,UAAUnM,EAAO9Y,EAAMsI,EACrC6c,KACFjnB,EAAOwD,GAAOyjB,KAGXnlB,EAAK9B,IAEP8B,EAAK9B,IASd6b,EAAGsL,YAActL,EAAGqL,MAAQ,SAAS1lB,EAAK4lB,GACpC5mB,EAAEmC,SAASnB,GACbhB,EAAEwD,KAAKxD,EAAEY,KAAKI,GAAM,SAASgC,GAC3B4jB,EAAS5lB,EAAIgC,GAAMA,KAGrBhD,EAAEwD,KAAKxC,EAAK4lB,IAQhBvL,EAAG5D,OAIDoP,OAAQ,cAACC,GAAD,uDAAc,YAAd,OAA+BrP,GAAMoP,OAAOC,IAIpDC,QAAStP,EAAMsP,SASjB1L,EAAGiI,YAAcA,EAEjBvlB,EAAOD,QAAUud,IxB83FY3c,KAAKZ,EAASM,EAAoB,MAIzD,SAAUL,EAAQD,EAASM,GAEjC,YyBjwGA,SAAS4oB,GAAQhmB,GAAwT,OAAtOgmB,EAArD,kBAAX3mB,SAAoD,gBAApBA,QAAO2iB,SAAmC,SAAiBhiB,GAAO,aAAcA,IAA2B,SAAiBA,GAAO,MAAOA,IAAyB,kBAAXX,SAAyBW,EAAIwN,cAAgBnO,QAAUW,IAAQX,OAAOX,UAAY,eAAkBsB,KAAyBA,GA2BxV,QAASimB,KAIP,QAAsB,mBAAXpS,UAA0BA,OAAOqS,SAAoC,aAAxBrS,OAAOqS,QAAQ7W,OAAuBwE,OAAOqS,QAAQC,UAKpF,mBAAdC,aAA6BA,UAAU9K,YAAa8K,UAAU9K,UAAU2B,cAAchW,MAAM,4BAM5E,mBAAb+I,WAA4BA,SAASqW,iBAAmBrW,SAASqW,gBAAgBC,OAAStW,SAASqW,gBAAgBC,MAAMC,kBACrH,mBAAX1S,SAA0BA,OAAOoH,UAAYpH,OAAOoH,QAAQuL,SAAW3S,OAAOoH,QAAQwL,WAAa5S,OAAOoH,QAAQyL,QAEpG,mBAAdN,YAA6BA,UAAU9K,WAAa8K,UAAU9K,UAAU2B,cAAchW,MAAM,mBAAqB0f,SAASpV,OAAOqV,GAAI,KAAO,IAC9H,mBAAdR,YAA6BA,UAAU9K,WAAa8K,UAAU9K,UAAU2B,cAAchW,MAAM,uBASrG,QAAS4f,GAAWjlB,GAGlB,GAFAA,EAAK,IAAMzE,KAAK8oB,UAAY,KAAO,IAAM9oB,KAAK2pB,WAAa3pB,KAAK8oB,UAAY,MAAQ,KAAOrkB,EAAK,IAAMzE,KAAK8oB,UAAY,MAAQ,KAAO,IAAMlpB,EAAOD,QAAQiqB,SAAS5pB,KAAK6pB,MAEpK7pB,KAAK8oB,UAAV,CAIA,GAAIroB,GAAI,UAAYT,KAAK8pB,KACzBrlB,GAAKslB,OAAO,EAAG,EAAGtpB,EAAG,iBAIrB,IAAI8C,GAAQ,EACRymB,EAAQ,CACZvlB,GAAK,GAAG+P,QAAQ,cAAe,SAAU1K,GACzB,OAAVA,IAIJvG,IAEc,OAAVuG,IAGFkgB,EAAQzmB,MAGZkB,EAAKslB,OAAOC,EAAO,EAAGvpB,IAUxB,QAASwpB,KACP,GAAIC,EAIJ,OAA6E,YAAlD,mBAAZpM,SAA0B,YAAc+K,EAAQ/K,WAA0BA,QAAQmM,MAAQC,EAAWpM,SAASmM,IAAIvmB,MAAMwmB,EAAUvmB,WAUnJ,QAASwmB,GAAKxB,GACZ,IACMA,EACFhpB,EAAQyqB,QAAQC,QAAQ,QAAS1B,GAEjChpB,EAAQyqB,QAAQE,WAAW,SAE7B,MAAO1P,KAYX,QAAS2P,KACP,GAAIC,EAEJ,KACEA,EAAI7qB,EAAQyqB,QAAQK,QAAQ,SAC5B,MAAO7P,IAST,OAJK4P,GAAwB,mBAAZzB,UAA2B,OAASA,WACnDyB,EAAIzB,QAAQ2B,IAAIC,OAGXH,EArIT7qB,EAAQsqB,IAAMA,EACdtqB,EAAQ+pB,WAAaA,EACrB/pB,EAAQwqB,KAAOA,EACfxqB,EAAQ4qB,KAAOA,EACf5qB,EAAQmpB,UAAYA,EACpBnpB,EAAQyqB,QA8IR,WACE,IAGE,MAAO1E,cACP,MAAO9K,QA9IXjb,EAAQirB,QAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAmJ30BhrB,EAAOD,QAAU,EAAQ,KAAYA,GACpBC,EAAOD,QAAQkrB,WAKrB7f,EAAI,SAAU3C,GACvB,IACE,MAAO+W,MAAK4I,UAAU3f,GACtB,MAAOuS,GACP,MAAO,+BAAiCA,EAAMuE,WzB4wG5C,SAAUvf,EAAQD,EAASM,GAEjC,Y0B77GA,IAAI6qB,GAAM,EAAQ,KAAgB,EAGlC,GAAQ,IAAkBrZ,OAAQ,SAAU,SAAUsZ,GACpD/qB,KAAKgrB,GAAKvZ,OAAOsZ,GACjB/qB,KAAKirB,GAAK,GAET,WACD,GAEIC,GAFA9K,EAAIpgB,KAAKgrB,GACTznB,EAAQvD,KAAKirB,EAEjB,OAAI1nB,IAAS6c,EAAE/b,QAAiBf,UAAO4U,GAAW8M,MAAM,IACxDkG,EAAQJ,EAAI1K,EAAG7c,GACfvD,KAAKirB,IAAMC,EAAM7mB,QACRf,MAAO4nB,EAAOlG,MAAM,O1Bq8GzB,SAAUplB,EAAQD,G2Bp9GxBC,EAAOD,SAAU,G3B29GX,SAAUC,EAAQD,G4B39GxBC,EAAOD,QAAU,SAAU4Y,GACzB,GAAiB,kBAANA,GAAkB,KAAMhL,WAAUgL,EAAK,sBAClD,OAAOA,K5Bm+GH,SAAU3Y,EAAQD,EAASM,G6Bp+GjC,GAAIkrB,GAAQ,EAAQ,IAChBC,EAAc,EAAQ,GAE1BxrB,GAAOD,QAAUmB,OAAO2B,MAAQ,SAAc2d,GAC5C,MAAO+K,GAAM/K,EAAGgL,K7B6+GZ,SAAUxrB,EAAQD,G8Bl/GxB,GAAI0C,MAAcA,QAElBzC,GAAOD,QAAU,SAAU4Y,GACzB,MAAOlW,GAAS9B,KAAKgY,GAAInW,MAAM,GAAI,K9B0/G/B,SAAUxC,EAAQD,EAASM,G+B7/GjC,GAAIorB,GAAM,EAAQ,IAAgBlL,EAC9Brb,EAAM,EAAQ,IACdwmB,EAAM,EAAQ,GAAU,cAE5B1rB,GAAOD,QAAU,SAAU4Y,EAAIgT,EAAKC,GAC9BjT,IAAOzT,EAAIyT,EAAKiT,EAAOjT,EAAKA,EAAGhX,UAAW+pB,IAAMD,EAAI9S,EAAI+S,GAAOtqB,cAAc,EAAMsC,MAAOioB,M/BqgH1F,SAAU3rB,EAAQD,EAASM,GgC1gHjC,GAAIwrB,GAAO,EAAQ,IAAU,QACzBznB,EAAW,EAAQ,GACnBc,EAAM,EAAQ,IACd4mB,EAAU,EAAQ,IAAgBvL,EAClCpL,EAAK,EACL4W,EAAe7qB,OAAO6qB,cAAgB,WACxC,OAAO,GAELC,GAAU,EAAQ,IAAY,WAChC,MAAOD,GAAa7qB,OAAO+qB,yBAEzBC,EAAU,SAAUvT,GACtBmT,EAAQnT,EAAIkT,GAAQnoB,OAClBlD,EAAG,OAAQ2U,EACXgX,SAGAC,EAAU,SAAUzT,EAAI5V,GAE1B,IAAKqB,EAASuU,GAAK,MAAoB,gBAANA,GAAiBA,GAAmB,gBAANA,GAAiB,IAAM,KAAOA,CAC7F,KAAKzT,EAAIyT,EAAIkT,GAAO,CAElB,IAAKE,EAAapT,GAAK,MAAO,GAE9B,KAAK5V,EAAQ,MAAO,GAEpBmpB,GAAQvT,GAER,MAAOA,GAAGkT,GAAMrrB,GAEhB6rB,EAAU,SAAU1T,EAAI5V,GAC1B,IAAKmC,EAAIyT,EAAIkT,GAAO,CAElB,IAAKE,EAAapT,GAAK,OAAO,CAE9B,KAAK5V,EAAQ,OAAO,CAEpBmpB,GAAQvT,GAER,MAAOA,GAAGkT,GAAMM,GAGhBG,EAAW,SAAU3T,GAEvB,MADIqT,IAAUO,EAAKC,MAAQT,EAAapT,KAAQzT,EAAIyT,EAAIkT,IAAOK,EAAQvT,GAChEA,GAEL4T,EAAOvsB,EAAOD,SAChB0sB,IAAKZ,EACLW,MAAM,EACNJ,QAASA,EACTC,QAASA,EACTC,SAAUA,IhCkhHN,SAAUtsB,EAAQD,EAASM,GAEjC,YiCvkHA,IAAM4B,GAAIuX,EAAQ,GACZkT,KAEA5S,EAAa,SAAA/Y,GACjB,GAAM4rB,GAAUD,EAAS3rB,EACzB,QAAgBuX,KAAZqU,EACF,KAAM,IAAIve,OAASrN,EAAb,6BAER,OAAO4rB,IAEHpH,EAAc,SAAAqH,GAClB3qB,EAAEsP,OAAOmb,EAAUE,GAGrB5sB,GAAOD,SACL+Z,aACAyL,gBjC+kHI,SAAUvlB,EAAQD,EAASM,GkC/lHjC,GAAI+D,GAAW,EAAQ,EACvBpE,GAAOD,QAAU,SAAU4Y,EAAIkU,GAC7B,IAAKzoB,EAASuU,IAAOA,EAAGyS,KAAOyB,EAAM,KAAMlf,WAAU,0BAA4Bkf,EAAO,aACxF,OAAOlU,KlCumHH,SAAU3Y,EAAQD,KAMlB,SAAUC,EAAQD,GmChnHxBC,EAAOD,QAAU,SAAU+sB,EAAQppB,GACjC,OACErC,aAAuB,EAATyrB,GACd1rB,eAAyB,EAAT0rB,GAChBC,WAAqB,EAATD,GACZppB,MAAOA,KnCynHL,SAAU1D,EAAQD,EAASM,GoC7nHjC,GAAI8f,GAAW,EAAQ,GACnB6M,EAAM,EAAQ,IACdxB,EAAc,EAAQ,IACtByB,EAAW,EAAQ,IAAiB,YACpCC,EAAQ,aAIRC,EAAa,WAEf,GAIIC,GAJAC,EAAS,EAAQ,IAAiB,UAClC7sB,EAAIgrB,EAAY/mB,MAcpB,KAVA4oB,EAAO9D,MAAM+D,QAAU,OACvB,EAAQ,IAAWC,YAAYF,GAC/BA,EAAOG,IAAM,cAGbJ,EAAiBC,EAAOI,cAAcxa,SACtCma,EAAeM,OACfN,EAAeO,MAAMC,uCACrBR,EAAeS,QACfV,EAAaC,EAAe3V,EACrBjX,WAAY2sB,GAAoB,UAAE3B,EAAYhrB,GACrD,OAAO2sB,KAGTntB,GAAOD,QAAUmB,OAAO6B,QAAU,SAAgByd,EAAGsN,GACnD,GAAI/oB,EAQJ,OAPU,QAANyb,GACF0M,EAAe,UAAI/M,EAASK,GAC5Bzb,EAAS,GAAImoB,GACbA,EAAe,UAAI,KAEnBnoB,EAAOkoB,GAAYzM,GACdzb,EAASooB,QACM7U,KAAfwV,EAA2B/oB,EAASioB,EAAIjoB,EAAQ+oB,KpCsoHnD,SAAU9tB,EAAQD,GqC7qHxB,GAAIoV,GAAK,EACL4Y,EAAKrpB,KAAKmE,QACd7I,GAAOD,QAAU,SAAUkF,GACzB,MAAO,UAAU6I,WAAewK,KAARrT,EAAoB,GAAKA,EAAK,QAASkQ,EAAK4Y,GAAItrB,SAAS,OrCqrH7E,SAAUzC,EAAQD,EAASM,GsCvrHjC,GAAI2tB,GAAM,EAAQ,IACdtC,EAAM,EAAQ,GAAU,eAExBuC,EAAkD,aAA5CD,EAAI,WAAc,MAAOjqB,eAG/BmqB,EAAS,SAAUvV,EAAI1T,GACzB,IACE,MAAO0T,GAAG1T,GACV,MAAOkR,KAGXnW,GAAOD,QAAU,SAAU4Y,GACzB,GAAI6H,GAAG2N,EAAGlW,CACV,YAAcK,KAAPK,EAAmB,YAAqB,OAAPA,EAAc,OAEN,iBAApCwV,EAAID,EAAO1N,EAAItf,OAAOyX,GAAK+S,IAAoByC,EAEvDF,EAAMD,EAAIxN,GAEM,WAAfvI,EAAI+V,EAAIxN,KAAsC,kBAAZA,GAAE4N,OAAuB,YAAcnW,ItCgsH1E,SAAUjY,EAAQD,GuCrtHxBC,EAAOD,QAAU,SAAU4Y,EAAI0V,EAAattB,EAAMutB,GAChD,KAAM3V,YAAc0V,SAAoC/V,KAAnBgW,GAAgCA,IAAkB3V,GACrF,KAAMhL,WAAU5M,EAAO,0BACvB,OAAO4X,KvC6tHL,SAAU3Y,EAAQD,EAASM,GwChuHjC,GAAI+W,GAAO,EAAQ,GACnBpX,GAAOD,QAAU,SAAUsY,EAAQmV,EAAKe,GACtC,IAAK,GAAItpB,KAAOuoB,GACVe,GAAQlW,EAAOpT,GAAMoT,EAAOpT,GAAOuoB,EAAIvoB,GACtCmS,EAAKiB,EAAQpT,EAAKuoB,EAAIvoB,GAC3B,OAAOoT,KxCwuHL,SAAUrY,EAAQD,GyC7uHxBA,EAAQwgB,KAAOlQ,sBzCovHT,SAAUrQ,EAAQD,G0CnvHxB,GAAIoN,GAAOzI,KAAKyI,KACZT,EAAQhI,KAAKgI,KACjB1M,GAAOD,QAAU,SAAU4Y,GACzB,MAAO9L,OAAM8L,GAAMA,GAAM,GAAKA,EAAK,EAAIjM,EAAQS,GAAMwL,K1C4vHjD,SAAU3Y,EAAQD,G2C/vHxBC,EAAOD,QAAU,SAAU4Y,GACzB,OAAUL,IAANK,EAAiB,KAAMhL,WAAU,yBAA2BgL,EAChE,OAAOA,K3CwwHH,SAAU3Y,EAAQD,EAASM,GAEjC,Y4C5wHA,IAAImuB,GAAU,EAAQ,IAClBnX,EAAU,EAAQ,GAClBoX,EAAW,EAAQ,IACnBrX,EAAO,EAAQ,IACfgN,EAAY,EAAQ,IACpBsK,EAAc,EAAQ,IACtBC,EAAiB,EAAQ,IACzBC,EAAiB,EAAQ,IACzB5J,EAAW,EAAQ,GAAU,YAC7B6J,OAAahsB,MAAQ,WAAaA,QAKlCisB,EAAa,WAAc,MAAO1uB,MAEtCJ,GAAOD,QAAU,SAAUgvB,EAAMxK,EAAM8J,EAAalJ,EAAM6J,EAASC,EAAQC,GACzER,EAAYL,EAAa9J,EAAMY,EAC/B,IAeIlU,GAAShM,EAAKkqB,EAfdC,EAAY,SAAUC,GACxB,IAAKR,GAASQ,IAAQ3e,GAAO,MAAOA,GAAM2e,EAC1C,QAAQA,GACN,IAVK,OAWL,IAVO,SAUM,MAAO,YAAoB,MAAO,IAAIhB,GAAYjuB,KAAMivB,IACrE,MAAO,YAAqB,MAAO,IAAIhB,GAAYjuB,KAAMivB,KAEzD3D,EAAMnH,EAAO,YACb+K,EAdO,UAcMN,EACbO,GAAa,EACb7e,EAAQqe,EAAKptB,UACb6tB,EAAU9e,EAAMsU,IAAatU,EAnBjB,eAmBuCse,GAAWte,EAAMse,GACpES,EAAWD,GAAWJ,EAAUJ,GAChCU,EAAWV,EAAWM,EAAwBF,EAAU,WAArBK,MAAkCnX,GACrEqX,EAAqB,SAARpL,EAAkB7T,EAAMqU,SAAWyK,EAAUA,CAwB9D,IArBIG,IACFR,EAAoBP,EAAee,EAAWhvB,KAAK,GAAIouB,QAC7B7tB,OAAOS,WAAawtB,EAAkBhK,OAE9DwJ,EAAeQ,EAAmBzD,GAAK,GAElC8C,GAAiD,kBAA/BW,GAAkBnK,IAAyB5N,EAAK+X,EAAmBnK,EAAU8J,IAIpGQ,GAAcE,GAjCP,WAiCkBA,EAAQzuB,OACnCwuB,GAAa,EACbE,EAAW,WAAoB,MAAOD,GAAQ7uB,KAAKP,QAG/CouB,IAAWU,IAAYL,IAASU,GAAe7e,EAAMsU,IACzD5N,EAAK1G,EAAOsU,EAAUyK,GAGxBrL,EAAUG,GAAQkL,EAClBrL,EAAUsH,GAAOoD,EACbE,EAMF,GALA/d,GACEnJ,OAAQwnB,EAAaG,EAAWL,EA9CzB,UA+CPvsB,KAAMosB,EAASQ,EAAWL,EAhDrB,QAiDLrK,QAAS2K,GAEPR,EAAQ,IAAKjqB,IAAOgM,GAChBhM,IAAOyL,IAAQ+d,EAAS/d,EAAOzL,EAAKgM,EAAQhM,QAC7CoS,GAAQA,EAAQU,EAAIV,EAAQI,GAAKoX,GAASU,GAAahL,EAAMtT,EAEtE,OAAOA,K5CoxHH,SAAUjR,EAAQD,EAASM,G6Cv1HjC,GAAI+D,GAAW,EAAQ,GACnB6O,EAAW,EAAQ,GAAaA,SAEhC2c,EAAKxrB,EAAS6O,IAAa7O,EAAS6O,EAAS4c,cACjD7vB,GAAOD,QAAU,SAAU4Y,GACzB,MAAOiX,GAAK3c,EAAS4c,cAAclX,Q7C+1H/B,SAAU3Y,EAAQD,EAASM,G8Cn2HjC,GAAI+D,GAAW,EAAQ,EAGvBpE,GAAOD,QAAU,SAAU4Y,EAAId,GAC7B,IAAKzT,EAASuU,GAAK,MAAOA,EAC1B,IAAIgI,GAAImP,CACR,IAAIjY,GAAkC,mBAArB8I,EAAKhI,EAAGlW,YAA4B2B,EAAS0rB,EAAMnP,EAAGhgB,KAAKgY,IAAM,MAAOmX,EACzF,IAAgC,mBAApBnP,EAAKhI,EAAGnG,WAA2BpO,EAAS0rB,EAAMnP,EAAGhgB,KAAKgY,IAAM,MAAOmX,EACnF,KAAKjY,GAAkC,mBAArB8I,EAAKhI,EAAGlW,YAA4B2B,EAAS0rB,EAAMnP,EAAGhgB,KAAKgY,IAAM,MAAOmX,EAC1F,MAAMniB,WAAU,6C9C42HZ,SAAU3N,EAAQD,EAASM,G+Ct3HjCL,EAAOD,QAAU,EAAQ,K/C63HnB,SAAUC,EAAQD,EAASM,GgD53HjC,GAAI2tB,GAAM,EAAQ,GAElBhuB,GAAOD,QAAUmB,OAAO,KAAKmP,qBAAqB,GAAKnP,OAAS,SAAUyX,GACxE,MAAkB,UAAXqV,EAAIrV,GAAkBA,EAAGgE,MAAM,IAAMzb,OAAOyX,KhDq4H/C,SAAU3Y,EAAQD,EAASM,GiDx4HjC,GAAI0vB,GAAY,EAAQ,IACpBrnB,EAAMhE,KAAKgE,GACf1I,GAAOD,QAAU,SAAU4Y,GACzB,MAAOA,GAAK,EAAIjQ,EAAIqnB,EAAUpX,GAAK,kBAAoB,IjDi5HnD,SAAU3Y,EAAQD,EAASM,GkDr5HjC,GAAI2vB,GAAS,EAAQ,IAAa,QAC9B/Y,EAAM,EAAQ,GAClBjX,GAAOD,QAAU,SAAUkF,GACzB,MAAO+qB,GAAO/qB,KAAS+qB,EAAO/qB,GAAOgS,EAAIhS,MlD65HrC,SAAUjF,EAAQD,EAASM,GmDh6HjC,GAAIsW,GAAO,EAAQ,GACf5U,EAAS,EAAQ,GAEjBiV,EAAQjV,EADC,wBACkBA,EADlB,2BAGZ/B,EAAOD,QAAU,SAAUkF,EAAKvB,GAC/B,MAAOsT,GAAM/R,KAAS+R,EAAM/R,OAAiBqT,KAAV5U,EAAsBA,QACxD,eAAgBnB,MACjBqU,QAASD,EAAKC,QACdqZ,KAAM,EAAQ,IAAgB,OAAS,SACvCC,UAAW,0CnDw6HP,SAAUlwB,EAAQD,GoDj7HxBC,EAAOD,QAAU,gGAEf4c,MAAM,MpDy7HF,SAAU3c,EAAQD,EAASM,GAEjC,YqD17HA,SAAS8vB,GAAkB5X,GACzB,GAAI6E,GAASlW,CACb9G,MAAKsa,QAAU,GAAInC,GAAE,SAAU6X,EAAWC,GACxC,OAAgB/X,KAAZ8E,OAAoC9E,KAAXpR,EAAsB,KAAMyG,WAAU,0BACnEyP,GAAUgT,EACVlpB,EAASmpB,IAEXjwB,KAAKgd,QAAUsD,EAAUtD,GACzBhd,KAAK8G,OAASwZ,EAAUxZ,GAV1B,GAAIwZ,GAAY,EAAQ,GAaxB1gB,GAAOD,QAAQwgB,EAAI,SAAUhI,GAC3B,MAAO,IAAI4X,GAAkB5X,KrDq8HzB,SAAUvY,EAAQD,EAASM,GsDr9HjCL,EAAOD,SAAY,QAAW,EAAQ,KAAmCyB,YAAY,ItD29H/E,SAAUxB,EAAQD,EAASM,GuD19HjC,GAAIgX,GAAU,EAAQ,GAClBV,EAAO,EAAQ,GACf2Z,EAAQ,EAAQ,GACpBtwB,GAAOD,QAAU,SAAU0sB,EAAK3L,GAC9B,GAAIH,IAAMhK,EAAKzV,YAAcurB,IAAQvrB,OAAOurB,GACxC8D,IACJA,GAAI9D,GAAO3L,EAAKH,GAChBtJ,EAAQA,EAAQQ,EAAIR,EAAQI,EAAI6Y,EAAM,WAAc3P,EAAG,KAAQ,SAAU4P,KvDm+HrE,SAAUvwB,EAAQD,EAASM,GAEjC,YwD/9HA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GAZvFlD,EAAQyB,YAAa,CAErB,IAAIgvB,GAAY,EAAQ,KAEpBC,EAAa7X,EAAuB4X,GAEpCE,EAAU,EAAQ,KAElBC,EAAW/X,EAAuB8X,GAElCzH,EAAsC,kBAArB0H,GAAS9X,SAAwD,gBAAvB4X,GAAW5X,QAAuB,SAAU5V,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAmC,kBAArB0tB,GAAS9X,SAA0B5V,EAAIwN,cAAgBkgB,EAAS9X,SAAW5V,IAAQ0tB,EAAS9X,QAAQlX,UAAY,eAAkBsB,GAIjTlD,GAAQ8Y,QAAsC,kBAArB8X,GAAS9X,SAA0D,WAAhCoQ,EAAQwH,EAAW5X,SAAwB,SAAU5V,GAC/G,WAAsB,KAARA,EAAsB,YAAcgmB,EAAQhmB,IACxD,SAAUA,GACZ,MAAOA,IAAmC,kBAArB0tB,GAAS9X,SAA0B5V,EAAIwN,cAAgBkgB,EAAS9X,SAAW5V,IAAQ0tB,EAAS9X,QAAQlX,UAAY,aAA0B,KAARsB,EAAsB,YAAcgmB,EAAQhmB,KxDm/H/L,SAAUjD,EAAQD,EAASM,GyDtgIjCN,EAAQwgB,EAAI,EAAQ,IzD6gId,SAAUvgB,EAAQD,EAASM,G0D7gIjC,GAAI0B,GAAS,EAAQ,GACjB4U,EAAO,EAAQ,GACf6X,EAAU,EAAQ,IAClBoC,EAAS,EAAQ,IACjBzvB,EAAiB,EAAQ,IAAgBof,CAC7CvgB,GAAOD,QAAU,SAAUgB,GACzB,GAAI8vB,GAAUla,EAAKrU,SAAWqU,EAAKrU,OAASksB,KAAezsB,EAAOO,WAC5C,MAAlBvB,EAAKke,OAAO,IAAele,IAAQ8vB,IAAU1vB,EAAe0vB,EAAS9vB,GAAQ2C,MAAOktB,EAAOrQ,EAAExf,O1DqhI7F,SAAUf,EAAQD,G2D5hIxBA,EAAQwgB,EAAIrf,OAAO4vB,uB3DmiIb,SAAU9wB,EAAQD,EAASM,G4DniIjC,GAAI0wB,GAAM,EAAQ,IACdlQ,EAAa,EAAQ,IACrBmQ,EAAY,EAAQ,IACpB3Q,EAAc,EAAQ,IACtBnb,EAAM,EAAQ,IACdkb,EAAiB,EAAQ,IACzB6Q,EAAO/vB,OAAOgwB,wBAElBnxB,GAAQwgB,EAAI,EAAQ,IAAoB0Q,EAAO,SAAkCzQ,EAAGzI,GAGlF,GAFAyI,EAAIwQ,EAAUxQ,GACdzI,EAAIsI,EAAYtI,GAAG,GACfqI,EAAgB,IAClB,MAAO6Q,GAAKzQ,EAAGzI,GACf,MAAO5B,IACT,GAAIjR,EAAIsb,EAAGzI,GAAI,MAAO8I,IAAYkQ,EAAIxQ,EAAE5f,KAAK6f,EAAGzI,GAAIyI,EAAEzI,M5D2iIlD,SAAU/X,EAAQD,EAASM,G6DzjIjCL,EAAOD,SAAY,QAAW,EAAQ,KAA8CyB,YAAY,I7D+jI1F,SAAUxB,EAAQD,EAASM,G8DxjIjC,GAAI8W,GAAM,EAAQ,IACd4J,EAAU,EAAQ,IAClBoQ,EAAW,EAAQ,IACnBzM,EAAW,EAAQ,IACnB0M,EAAM,EAAQ,IAClBpxB,GAAOD,QAAU,SAAU8sB,EAAMwE,GAC/B,GAAIC,GAAiB,GAARzE,EACT0E,EAAoB,GAAR1E,EACZ2E,EAAkB,GAAR3E,EACV4E,EAAmB,GAAR5E,EACX6E,EAAwB,GAAR7E,EAChB8E,EAAmB,GAAR9E,GAAa6E,EACxB3uB,EAASsuB,GAAWD,CACxB,OAAO,UAAUQ,EAAOC,EAAYjR,GAQlC,IAPA,GAMIkP,GAAKgC,EANLtR,EAAI2Q,EAASS,GACbzxB,EAAO4gB,EAAQP,GACfD,EAAIpJ,EAAI0a,EAAYjR,EAAM,GAC1Bnc,EAASigB,EAASvkB,EAAKsE,QACvBd,EAAQ,EACRoB,EAASusB,EAASvuB,EAAO6uB,EAAOntB,GAAU8sB,EAAYxuB,EAAO6uB,EAAO,OAAKtZ,GAEvE7T,EAASd,EAAOA,IAAS,IAAIguB,GAAYhuB,IAASxD,MACtD2vB,EAAM3vB,EAAKwD,GACXmuB,EAAMvR,EAAEuP,EAAKnsB,EAAO6c,GAChBqM,GACF,GAAIyE,EAAQvsB,EAAOpB,GAASmuB,MACvB,IAAIA,EAAK,OAAQjF,GACpB,IAAK,GAAG,OAAO,CACf,KAAK,GAAG,MAAOiD,EACf,KAAK,GAAG,MAAOnsB,EACf,KAAK,GAAGoB,EAAOxC,KAAKutB,OACf,IAAI2B,EAAU,OAAO,CAGhC,OAAOC,IAAiB,EAAIF,GAAWC,EAAWA,EAAW1sB,K9DwkI3D,SAAU/E,EAAQD,EAASM,G+DjnIjCL,EAAOD,SAAW,EAAQ,MAAsB,EAAQ,IAAY,WAClE,MAA4G,IAArGmB,OAAOC,eAAe,EAAQ,IAAiB,OAAQ,KAAOG,IAAK,WAAc,MAAO,MAAQiI,K/DynInG,SAAUvJ,EAAQD,EAASM,GgE1nIjC,GAAI6E,GAAM,EAAQ,IACd8rB,EAAY,EAAQ,IACpBe,EAAe,EAAQ,KAAqB,GAC5C9E,EAAW,EAAQ,IAAiB,WAExCjtB,GAAOD,QAAU,SAAU0B,EAAQyP,GACjC,GAGIjM,GAHAub,EAAIwQ,EAAUvvB,GACdjB,EAAI,EACJuE,IAEJ,KAAKE,IAAOub,GAAOvb,GAAOgoB,GAAU/nB,EAAIsb,EAAGvb,IAAQF,EAAOxC,KAAK0C,EAE/D,MAAOiM,EAAMzM,OAASjE,GAAO0E,EAAIsb,EAAGvb,EAAMiM,EAAM1Q,SAC7CuxB,EAAahtB,EAAQE,IAAQF,EAAOxC,KAAK0C,GAE5C,OAAOF,KhEkoIH,SAAU/E,EAAQD,EAASM,GiEjpIjC,GAAI4S,GAAW,EAAQ,GAAaA,QACpCjT,GAAOD,QAAUkT,GAAYA,EAASqW,iBjEwpIhC,SAAUtpB,EAAQD,EAASM,GkExpIjC,GAAI6E,GAAM,EAAQ,IACdisB,EAAW,EAAQ,IACnBlE,EAAW,EAAQ,IAAiB,YACpC+E,EAAc9wB,OAAOS,SAEzB3B,GAAOD,QAAUmB,OAAO0tB,gBAAkB,SAAUpO,GAElD,MADAA,GAAI2Q,EAAS3Q,GACTtb,EAAIsb,EAAGyM,GAAkBzM,EAAEyM,GACH,kBAAjBzM,GAAE/P,aAA6B+P,YAAaA,GAAE/P,YAChD+P,EAAE/P,YAAY9O,UACd6e,YAAatf,QAAS8wB,EAAc,OlEiqIzC,SAAUhyB,EAAQD,GmE5qIxBC,EAAOD,QAAU,SAAUqlB,EAAM1hB,GAC/B,OAASA,MAAOA,EAAO0hB,OAAQA,KnEorI3B,SAAUplB,EAAQD,EAASM,GoErrIjC,GAAI4xB,GAAU,EAAQ,IAClBjN,EAAW,EAAQ,GAAU,YAC7BZ,EAAY,EAAQ,GACxBpkB,GAAOD,QAAU,EAAQ,GAAWmyB,kBAAoB,SAAUvZ,GAChE,OAAUL,IAANK,EAAiB,MAAOA,GAAGqM,IAC1BrM,EAAG,eACHyL,EAAU6N,EAAQtZ,MpE6rInB,SAAU3Y,EAAQD,EAASM,GqElsIjC,GAAI8f,GAAW,EAAQ,GACnBO,EAAY,EAAQ,IACpByR,EAAU,EAAQ,GAAU,UAChCnyB,GAAOD,QAAU,SAAUygB,EAAG4R,GAC5B,GACIva,GADAU,EAAI4H,EAASK,GAAG/P,WAEpB,YAAa6H,KAANC,OAAiDD,KAA7BT,EAAIsI,EAAS5H,GAAG4Z,IAAyBC,EAAI1R,EAAU7I,KrE2sI9E,SAAU7X,EAAQD,EAASM,GsEltIjC,GAaIuO,GAAOyjB,EAASC,EAbhBnb,EAAM,EAAQ,IACdnP,EAAS,EAAQ,KACjBuqB,EAAO,EAAQ,IACfC,EAAM,EAAQ,IACdzwB,EAAS,EAAQ,GACjBonB,EAAUpnB,EAAOonB,QACjBsJ,EAAU1wB,EAAO2wB,aACjBC,EAAY5wB,EAAO6wB,eACnBC,EAAiB9wB,EAAO8wB,eACxBC,EAAW/wB,EAAO+wB,SAClBC,EAAU,EACVC,KAGAC,EAAM,WACR,GAAI9d,IAAM/U,IAEV,IAAI4yB,EAAMpxB,eAAeuT,GAAK,CAC5B,GAAIwL,GAAKqS,EAAM7d,SACR6d,GAAM7d,GACbwL,MAGAuS,EAAW,SAAUC,GACvBF,EAAItyB,KAAKwyB,EAAM/c,MAGZqc,IAAYE,IACfF,EAAU,SAAsB9R,GAG9B,IAFA,GAAI9b,MACArE,EAAI,EACDuD,UAAUU,OAASjE,GAAGqE,EAAKtC,KAAKwB,UAAUvD,KAMjD,OALAwyB,KAAQD,GAAW,WAEjB/qB,EAAoB,kBAAN2Y,GAAmBA,EAAKzK,SAASyK,GAAK9b,IAEtD+J,EAAMmkB,GACCA,GAETJ,EAAY,SAAwBxd,SAC3B6d,GAAM7d,IAGmB,WAA9B,EAAQ,IAAUgU,GACpBva,EAAQ,SAAUuG,GAChBgU,EAAQiK,SAASjc,EAAI8b,EAAK9d,EAAI,KAGvB2d,GAAYA,EAAS3jB,IAC9BP,EAAQ,SAAUuG,GAChB2d,EAAS3jB,IAAIgI,EAAI8b,EAAK9d,EAAI,KAGnB0d,GACTR,EAAU,GAAIQ,GACdP,EAAOD,EAAQgB,MACfhB,EAAQiB,MAAMC,UAAYL,EAC1BtkB,EAAQuI,EAAImb,EAAKkB,YAAalB,EAAM,IAG3BvwB,EAAO0xB,kBAA0C,kBAAfD,eAA8BzxB,EAAO2xB,eAChF9kB,EAAQ,SAAUuG,GAChBpT,EAAOyxB,YAAYre,EAAK,GAAI,MAE9BpT,EAAO0xB,iBAAiB,UAAWP,GAAU,IAG7CtkB,EAvDqB,sBAsDU4jB,GAAI,UAC3B,SAAUrd,GAChBod,EAAKhF,YAAYiF,EAAI,WAA6B,mBAAI,WACpDD,EAAKoB,YAAYvzB,MACjB6yB,EAAItyB,KAAKwU,KAKL,SAAUA,GAChBxG,WAAWwI,EAAI8b,EAAK9d,EAAI,GAAI,KAIlCnV,EAAOD,SACL6zB,IAAKnB,EACLoB,MAAOlB,ItE0tIH,SAAU3yB,EAAQD,GuE5yIxBC,EAAOD,QAAU,SAAU+gB,GACzB,IACE,OAAS3K,GAAG,EAAO1N,EAAGqY,KACtB,MAAO3K,GACP,OAASA,GAAG,EAAM1N,EAAG0N,MvEqzInB,SAAUnW,EAAQD,EAASM,GwEzzIjC,GAAI8f,GAAW,EAAQ,GACnB/b,EAAW,EAAQ,GACnB0vB,EAAuB,EAAQ,GAEnC9zB,GAAOD,QAAU,SAAUwY,EAAG+C,GAE5B,GADA6E,EAAS5H,GACLnU,EAASkX,IAAMA,EAAE7K,cAAgB8H,EAAG,MAAO+C,EAC/C,IAAIyY,GAAoBD,EAAqBvT,EAAEhI,EAG/C,QADA6E,EADc2W,EAAkB3W,SACxB9B,GACDyY,EAAkBrZ,UxEi0IrB,SAAU1a,EAAQD,EAASM,GAEjC,YyE50IA,IAAI0B,GAAS,EAAQ,GACjB4U,EAAO,EAAQ,GACf2J,EAAK,EAAQ,IACb0T,EAAc,EAAQ,IACtB7B,EAAU,EAAQ,GAAU,UAEhCnyB,GAAOD,QAAU,SAAU0sB,GACzB,GAAIlU,GAAwB,kBAAb5B,GAAK8V,GAAqB9V,EAAK8V,GAAO1qB,EAAO0qB,EACxDuH,IAAezb,IAAMA,EAAE4Z,IAAU7R,EAAGC,EAAEhI,EAAG4Z,GAC3C/wB,cAAc,EACdE,IAAK,WAAc,MAAOlB,WzEq1IxB,SAAUJ,EAAQD,G0Eh2IxB,GAAIk0B,EAGJA,GAAI,WACH,MAAO7zB,QAGR,KAEC6zB,EAAIA,GAAK/d,SAAS,mBAAoB,EAAGge,MAAM,QAC9C,MAAM/d,GAEc,gBAAXW,UACTmd,EAAInd,QAON9W,EAAOD,QAAUk0B,G1Eu2IX,SAAUj0B,EAAQD,EAASM,G2Ex3IjC,QAAS8zB,GAAGrlB,EAASslB,EAAKre,GACxB,GAAIvV,GAAI4zB,GAAOre,GAAU,CAEF,iBAAb,KACRqe,EAAkB,WAAZtlB,EAAuB,GAAI3M,OAAM,IAAM,KAC7C2M,EAAU,MAEZA,EAAUA,KAEV,IAAIulB,GAAOvlB,EAAQjG,SAAWiG,EAAQwlB,KAAOA,IAO7C,IAJAD,EAAK,GAAgB,GAAVA,EAAK,GAAa,GAC7BA,EAAK,GAAgB,GAAVA,EAAK,GAAa,IAGzBD,EACF,IAAK,GAAIG,GAAK,EAAGA,EAAK,KAAMA,EAC1BH,EAAI5zB,EAAI+zB,GAAMF,EAAKE,EAIvB,OAAOH,IAAOI,EAAYH,GAzB5B,GAAIC,GAAM,EAAQ,KACdE,EAAc,EAAQ,IA2B1Bx0B,GAAOD,QAAUo0B,G3Ek4IX,SAAUn0B,EAAQD,EAASM,GAEjC,Y4Eh6IA,IAAMuW,GAAU4C,EAAQ,IAClB8L,EAAQ,WAAmB,GAAlBmP,GAAkB,0DAC3BC,EAAKA,oBAAoB9d,CAI7B,OAHI6d,GAAShwB,SACXiwB,QAAWD,EAASngB,KAAK,MAAzB,KAEKogB,EAET10B,GAAOD,QAAUulB,G5Ey6IX,SAAUtlB,EAAQD,EAASM,GAEjC,Y6En7IAL,GAAOD,QAAU,S7E07IX,SAAUC,EAAQD,EAASM,G8E17IjCL,EAAOD,SAAY,QAAW,EAAQ,KAA+CyB,YAAY,I9Eg8I3F,SAAUxB,EAAQD,EAASM,G+E/7IjC,GAAI2tB,GAAM,EAAQ,GAClBhuB,GAAOD,QAAUoC,MAAMQ,SAAW,SAAiBgyB,GACjD,MAAmB,SAAZ3G,EAAI2G,K/Ew8IP,SAAU30B,EAAQD,EAASM,GgF18IjC,GAAIkrB,GAAQ,EAAQ,IAChBqJ,EAAa,EAAQ,IAAoB9mB,OAAO,SAAU,YAE9D/N,GAAQwgB,EAAIrf,OAAO2zB,qBAAuB,SAA6BrU,GACrE,MAAO+K,GAAM/K,EAAGoU,KhFm9IZ,SAAU50B,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GAInCW,EiFn+IiBD,EAAQ,IAAvBM,E,EAAAA,WAEFgb,GAAgB,UAAW,UAAW,aAAc,SAElDhP,GACJ,YACE,MAAOhM,GAAW,WAAWib,OAKjCD,GAAapvB,QAAQ,SAASsvB,GAC5BlP,EAAakP,EAAU,SAAW,WAChC,GAAMxK,GAAU1Q,EAAW,UAC3B,OAAO,WAAQsD,QAAQoN,EAAQwK,GAASlxB,MAAM0mB,EAASzmB,aAGzD+hB,EAAakP,GAAW,WACtB,GAAMxK,GAAU1Q,EAAW,UAC3B,KAAK0Q,EAAQuK,MACX,MAAOvK,GAAQwK,GAASlxB,MAAM0mB,EAASzmB,UAEzC,IAAMiX,GAAQ,GAAI5M,OAChB,oBAAsB4mB,EAAU,sCAGlC,MADAha,GAAMsE,KAAO,yBACPtE,KAIVhb,EAAOD,QAAU+lB,GjFs+IX,SAAU9lB,EAAQD,EAASM,GAEjC,YAGA,IAAI6Y,GAAa7Y,EAAoB,IAEjC8Y,EAEJ,SAAgClW,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAF9CiW,GkF3gJnCsR,EAAUhR,EAAQ,IAClB8D,EAAK9D,EAAQ,IAEbyb,EAAel1B,EAAQk1B,YAAczK,EAAQ0K,gBAAgBxnB,KACjE8c,GAGI2K,EAAe,SAACC,EAAWnwB,GAC/B,IACEmwB,EAAY5V,KAAKC,MAAM2V,GACvB,MAAOjf,GACP,MAAO,MAET,GAAIif,EAAW,CAEb,MADgBA,GAAUC,WAAaD,EAAUC,UAAYrhB,KAAK7E,MAI3D8lB,EAAYhwB,GAAK0V,KAAK,iBAAM,QAF1Bya,EAAU1xB,MAIrB,MAAO,MAGT3D,GAAQu1B,SAAW,SAAArwB,GAEjB,MADAA,SAAYqY,EAAGQ,cAAf,IAAgC7Y,EACzBulB,EAAQzE,aAAa9gB,GAAK0V,KAAK,SAAApM,GAAA,MAAS4mB,GAAa5mB,EAAOtJ,MAGrElF,EAAQw1B,SAAW,SAACtwB,EAAKvB,EAAO8xB,GAC9B,GAAMjnB,IAAU7K,QAIhB,OAHmB,gBAAR8xB,KACTjnB,EAAM8mB,UAAYrhB,KAAK7E,MAAQqmB,GAE1BhL,EAAQxE,aAAR,MACC1I,EAAGQ,cADJ,IACqB7Y,GAC1B,aAAesJ,MlFohJb,SAAUvO,EAAQD,GmFvjJxB,GAAI01B,IAEFC,MAEEC,cAAe,SAASC,GACtB,MAAOH,GAAQI,IAAIF,cAAc7gB,SAASyF,mBAAmBqb,MAI/DE,cAAe,SAASC,GACtB,MAAOC,oBAAmBnhB,OAAO4gB,EAAQI,IAAIC,cAAcC,OAK/DF,KAEEF,cAAe,SAASC,GACtB,IAAK,GAAIG,MAAYv1B,EAAI,EAAGA,EAAIo1B,EAAInxB,OAAQjE,IAC1Cu1B,EAAMxzB,KAAyB,IAApBqzB,EAAIK,WAAWz1B,GAC5B,OAAOu1B,IAITD,cAAe,SAASC,GACtB,IAAK,GAAIH,MAAUp1B,EAAI,EAAGA,EAAIu1B,EAAMtxB,OAAQjE,IAC1Co1B,EAAIrzB,KAAKsP,OAAOqkB,aAAaH,EAAMv1B,IACrC,OAAOo1B,GAAIthB,KAAK,MAKtBtU,GAAOD,QAAU01B,GnF8jJX,SAAUz1B,EAAQD,EAASM,GoF9lJjCL,EAAOD,SAAY,QAAW,EAAQ,KAA0DyB,YAAY,IpFomJtG,SAAUxB,EAAQD,EAASM,GAEjC,YqFrmJA,IAAI0B,GAAS,EAAQ,GACjBsV,EAAU,EAAQ,GAClBkV,EAAO,EAAQ,IACf+D,EAAQ,EAAQ,IAChBlZ,EAAO,EAAQ,IACf+e,EAAc,EAAQ,IACtBC,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,IACrBjyB,EAAW,EAAQ,GACnBuqB,EAAiB,EAAQ,IACzBrO,EAAK,EAAQ,IAAgBC,EAC7B9a,EAAO,EAAQ,IAAoB,GACnCuuB,EAAc,EAAQ,GAE1Bh0B,GAAOD,QAAU,SAAUwkB,EAAMzU,EAASmB,EAASqlB,EAAQhF,EAAQiF,GACjE,GAAIxH,GAAOhtB,EAAOwiB,GACdhM,EAAIwW,EACJyH,EAAQlF,EAAS,MAAQ,MACzB5gB,EAAQ6H,GAAKA,EAAE5W,UACf6e,IAqCJ,OApCKwT,IAA2B,kBAALzb,KAAqBge,GAAW7lB,EAAMhL,UAAY4qB,EAAM,YACjF,GAAI/X,IAAIwM,UAAUI,WAOlB5M,EAAIzI,EAAQ,SAAUuI,EAAQyM,GAC5BuR,EAAWhe,EAAQE,EAAGgM,EAAM,MAC5BlM,EAAOoe,GAAK,GAAI1H,OACAzW,IAAZwM,GAAuBsR,EAAMtR,EAAUwM,EAAQjZ,EAAOme,GAAQne,KAEpE5S,EAAK,kEAAkEkX,MAAM,KAAM,SAAU8P,GAC3F,GAAIiK,GAAkB,OAAPjK,GAAuB,OAAPA,CAC3BA,KAAO/b,MAAW6lB,GAAkB,SAAP9J,IAAiBrV,EAAKmB,EAAE5W,UAAW8qB,EAAK,SAAUljB,EAAGC,GAEpF,GADA6sB,EAAWj2B,KAAMmY,EAAGkU,IACfiK,GAAYH,IAAYnyB,EAASmF,GAAI,MAAc,OAAPkjB,OAAenU,EAChE,IAAIvT,GAAS3E,KAAKq2B,GAAGhK,GAAW,IAANljB,EAAU,EAAIA,EAAGC,EAC3C,OAAOktB,GAAWt2B,KAAO2E,MAG7BwxB,GAAWjW,EAAG/H,EAAE5W,UAAW,QACzBL,IAAK,WACH,MAAOlB,MAAKq2B,GAAGtsB,UApBnBoO,EAAI+d,EAAOK,eAAe7mB,EAASyU,EAAM+M,EAAQkF,GACjDL,EAAY5d,EAAE5W,UAAWsP,GACzBsb,EAAKC,MAAO,GAuBdmC,EAAepW,EAAGgM,GAElB/D,EAAE+D,GAAQhM,EACVlB,EAAQA,EAAQM,EAAIN,EAAQc,EAAId,EAAQI,EAAG+I,GAEtC+V,GAASD,EAAOM,UAAUre,EAAGgM,EAAM+M,GAEjC/Y,IrF6mJH,SAAUvY,EAAQD,EAASM,GAEjC,YsFtqJA,IAAIgX,GAAU,EAAQ,EAEtBrX,GAAOD,QAAU,SAAU82B,GACzBxf,EAAQA,EAAQQ,EAAGgf,GAAcC,GAAI,WAGnC,IAFA,GAAIryB,GAASV,UAAUU,OACnBsyB,EAAI,GAAI50B,OAAMsC,GACXA,KAAUsyB,EAAEtyB,GAAUV,UAAUU,EACvC,OAAO,IAAIrE,MAAK22B,QtFgrJd,SAAU/2B,EAAQD,EAASM,GAEjC,YuFzrJA,IAAIgX,GAAU,EAAQ,GAClBqJ,EAAY,EAAQ,IACpBvJ,EAAM,EAAQ,IACdif,EAAQ,EAAQ,GAEpBp2B,GAAOD,QAAU,SAAU82B,GACzBxf,EAAQA,EAAQQ,EAAGgf,GAAcG,KAAM,SAAc1lB,GACnD,GACI2lB,GAASF,EAAGx1B,EAAGyC,EADfkzB,EAAQnzB,UAAU,EAKtB,OAHA2c,GAAUtgB,MACV62B,MAAoB3e,KAAV4e,EACND,GAASvW,EAAUwW,OACT5e,IAAVhH,EAA4B,GAAIlR,OACpC22B,KACIE,GACF11B,EAAI,EACJyC,EAAKmT,EAAI+f,EAAOnzB,UAAU,GAAI,GAC9BqyB,EAAM9kB,GAAQ,EAAO,SAAU6lB,GAC7BJ,EAAEx0B,KAAKyB,EAAGmzB,EAAU51B,SAGtB60B,EAAM9kB,GAAQ,EAAOylB,EAAEx0B,KAAMw0B,GAExB,GAAI32B,MAAK22B,SvFmsJd,SAAU/2B,EAAQD,EAASM,GAEjC,YwF9tJA,IAAMid,GAAK9D,EAAQ,IACb4d,EAAc5d,EAAQ,IAE5BxZ,GAAOD,QAAUq3B,EAAY9Z,IxFquJvB,SAAUtd,EAAQD,EAASM,GAEjC,YyF1uJAL,GAAOD,QAAUyZ,EAAQ,KzFivJnB,SAAUxZ,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,G0FjvJjC7W,EAAIuX,EAAQ,GAEZ8D,EAAK9D,EAAQ,GAEnB8D,GAAGrb,EAAIA,EACPqb,EAAG1G,QAAU4C,EAAQ,IACrB8D,EAAG+Z,QAAH,UACA/Z,EAAGwI,aAAetM,EAAQ,IAC1B8D,EAAGga,MAAQ9d,EAAQ,IACnB8D,EAAGlP,MAAQoL,EAAQ,IAEnBA,EAAQ,KACRA,EAAQ,KAAW8D,GACnB9D,EAAQ,KAAc8D,GACtB9D,EAAQ,KAAS8D,GACjB9D,EAAQ,KAAQ8D,GAChB9D,EAAQ,KAAc8D,GACtB9D,EAAQ,KAAU8D,GAClB9D,EAAQ,KAAY8D,GACpB9D,EAAQ,KAAU8D,GAClB9D,EAAQ,KAAU8D,GAClB9D,EAAQ,KAAW8D,GACnB9D,EAAQ,KAAgB8D,GACxB9D,EAAQ,KAAa8D,GACrB9D,EAAQ,KAAmB8D,GAC3B9D,EAAQ,KAAU8D,GAClB9D,EAAQ,KAAY8D,GACpB9D,EAAQ,KAAY8D,GACpB9D,EAAQ,KAAa8D,GAErBA,EAAGia,aAAe/d,EAAQ,KAC1BA,EAAQ,KACRxZ,EAAOD,QAAUud,G1FwwJX,SAAUtd,EAAQD,EAASM,G2F/yJjC,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,KACR,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAoBs3B,S3FszJvC,SAAUr3B,EAAQD,EAASM,G4F5zJjC,GAAI0vB,GAAY,EAAQ,IACpB/O,EAAU,EAAQ,GAGtBhhB,GAAOD,QAAU,SAAUy3B,GACzB,MAAO,UAAU5W,EAAM6W,GACrB,GAGIluB,GAAGC,EAHH1H,EAAI+P,OAAOmP,EAAQJ,IACnBpgB,EAAIuvB,EAAU0H,GACdh3B,EAAIqB,EAAE2C,MAEV,OAAIjE,GAAI,GAAKA,GAAKC,EAAU+2B,EAAY,OAAKlf,IAC7C/O,EAAIzH,EAAEm0B,WAAWz1B,GACV+I,EAAI,OAAUA,EAAI,OAAU/I,EAAI,IAAMC,IAAM+I,EAAI1H,EAAEm0B,WAAWz1B,EAAI,IAAM,OAAUgJ,EAAI,MACxFguB,EAAY11B,EAAEmd,OAAOze,GAAK+I,EAC1BiuB,EAAY11B,EAAEU,MAAMhC,EAAGA,EAAI,GAA2BgJ,EAAI,OAAzBD,EAAI,OAAU,IAAqB,U5Fq0JtE,SAAUvJ,EAAQD,EAASM,GAEjC,Y6Fp1JA,IAAI0C,GAAS,EAAQ,IACjB20B,EAAa,EAAQ,IACrB/I,EAAiB,EAAQ,IACzBQ,IAGJ,GAAQ,IAAWA,EAAmB,EAAQ,GAAU,YAAa,WAAc,MAAO/uB,QAE1FJ,EAAOD,QAAU,SAAUsuB,EAAa9J,EAAMY,GAC5CkJ,EAAY1sB,UAAYoB,EAAOosB,GAAqBhK,KAAMuS,EAAW,EAAGvS,KACxEwJ,EAAeN,EAAa9J,EAAO,e7F41J/B,SAAUvkB,EAAQD,EAASM,G8Fv2JjC,GAAIigB,GAAK,EAAQ,IACbH,EAAW,EAAQ,GACnBwX,EAAU,EAAQ,GAEtB33B,GAAOD,QAAU,EAAQ,IAAoBmB,OAAO02B,iBAAmB,SAA0BpX,EAAGsN,GAClG3N,EAASK,EAKT,KAJA,GAGIzI,GAHAlV,EAAO80B,EAAQ7J,GACfrpB,EAAS5B,EAAK4B,OACdjE,EAAI,EAEDiE,EAASjE,GAAG8f,EAAGC,EAAEC,EAAGzI,EAAIlV,EAAKrC,KAAMstB,EAAW/V,GACrD,OAAOyI,K9F+2JH,SAAUxgB,EAAQD,EAASM,G+Fx3JjC,GAAI2wB,GAAY,EAAQ,IACpBtM,EAAW,EAAQ,IACnBmT,EAAkB,EAAQ,GAC9B73B,GAAOD,QAAU,SAAU+3B,GACzB,MAAO,UAAUlG,EAAOmG,EAAInwB,GAC1B,GAGIlE,GAHA8c,EAAIwQ,EAAUY,GACdntB,EAASigB,EAASlE,EAAE/b,QACpBd,EAAQk0B,EAAgBjwB,EAAWnD,EAIvC,IAAIqzB,GAAeC,GAAMA,GAAI,KAAOtzB,EAASd,GAG3C,IAFAD,EAAQ8c,EAAE7c,OAEGD,EAAO,OAAO,MAEtB,MAAMe,EAASd,EAAOA,IAAS,IAAIm0B,GAAen0B,IAAS6c,KAC5DA,EAAE7c,KAAWo0B,EAAI,MAAOD,IAAen0B,GAAS,CACpD,QAAQm0B,IAAgB,K/Fm4JxB,SAAU93B,EAAQD,EAASM,GgGv5JjC,GAAI0vB,GAAY,EAAQ,IACpBprB,EAAMD,KAAKC,IACX+D,EAAMhE,KAAKgE,GACf1I,GAAOD,QAAU,SAAU4D,EAAOc,GAEhC,MADAd,GAAQosB,EAAUpsB,GACXA,EAAQ,EAAIgB,EAAIhB,EAAQc,EAAQ,GAAKiE,EAAI/E,EAAOc,KhG+5JnD,SAAUzE,EAAQD,EAASM,GAEjC,YiGr6JA,IAAI23B,GAAmB,EAAQ,IAC3B9qB,EAAO,EAAQ,IACfkX,EAAY,EAAQ,IACpB4M,EAAY,EAAQ,GAMxBhxB,GAAOD,QAAU,EAAQ,IAAkBoC,MAAO,QAAS,SAAUgpB,EAAUkE,GAC7EjvB,KAAKgrB,GAAK4F,EAAU7F,GACpB/qB,KAAKirB,GAAK,EACVjrB,KAAK63B,GAAK5I,GAET,WACD,GAAI7O,GAAIpgB,KAAKgrB,GACTiE,EAAOjvB,KAAK63B,GACZt0B,EAAQvD,KAAKirB,IACjB,QAAK7K,GAAK7c,GAAS6c,EAAE/b,QACnBrE,KAAKgrB,OAAK9S,GACHpL,EAAK,IAEF,QAARmiB,EAAuBniB,EAAK,EAAGvJ,GACvB,UAAR0rB,EAAyBniB,EAAK,EAAGsT,EAAE7c,IAChCuJ,EAAK,GAAIvJ,EAAO6c,EAAE7c,MACxB,UAGHygB,EAAU8T,UAAY9T,EAAUjiB,MAEhC61B,EAAiB,QACjBA,EAAiB,UACjBA,EAAiB,YjG46JX,SAAUh4B,EAAQD,GkG78JxBC,EAAOD,QAAU,clGo9JX,SAAUC,EAAQD,EAASM,GAEjC,YmGr9JA,IAwBI83B,GAAUC,EAA6BC,EAAsBC,EAxB7D9J,EAAU,EAAQ,IAClBzsB,EAAS,EAAQ,GACjBoV,EAAM,EAAQ,IACd8a,EAAU,EAAQ,IAClB5a,EAAU,EAAQ,GAClBjT,EAAW,EAAQ,GACnBsc,EAAY,EAAQ,IACpB2V,EAAa,EAAQ,IACrBD,EAAQ,EAAQ,IAChBmC,EAAqB,EAAQ,IAC7BC,EAAO,EAAQ,IAAW5E,IAC1B6E,EAAY,EAAQ,OACpBC,EAA6B,EAAQ,IACrCC,EAAU,EAAQ,IAClBpa,EAAY,EAAQ,KACpBqa,EAAiB,EAAQ,IAEzBjrB,EAAY5L,EAAO4L,UACnBwb,EAAUpnB,EAAOonB,QACjB0P,EAAW1P,GAAWA,EAAQ0P,SAC9BC,EAAKD,GAAYA,EAASC,IAAM,GAChCC,EAAWh3B,EAAc,QACzBi3B,EAA6B,WAApB/G,EAAQ9I,GACjB8P,EAAQ,aAERnF,EAAuBsE,EAA8BM,EAA2BnY,EAEhF2Y,IAAe,WACjB,IAEE,GAAIxe,GAAUqe,EAAS3b,QAAQ,GAC3B+b,GAAeze,EAAQjK,gBAAkB,EAAQ,GAAU,YAAc,SAAUqQ,GACrFA,EAAKmY,EAAOA,GAGd,QAAQD,GAA0C,kBAAzBI,yBACpB1e,EAAQC,KAAKse,YAAkBE,IAIT,IAAtBL,EAAG/wB,QAAQ,SACyB,IAApCwW,EAAUxW,QAAQ,aACvB,MAAOoO,QAIPkjB,EAAa,SAAU1gB,GACzB,GAAIgC,EACJ,UAAOvW,EAASuU,IAAkC,mBAAnBgC,EAAOhC,EAAGgC,QAAsBA,GAE7D2e,EAAS,SAAU5e,EAAS6e,GAC9B,IAAI7e,EAAQ8e,GAAZ,CACA9e,EAAQ8e,IAAK,CACb,IAAInjB,GAAQqE,EAAQ+b,EACpBgC,GAAU,WAoCR,IAnCA,GAAI/0B,GAAQgX,EAAQ+e,GAChB1e,EAAmB,GAAdL,EAAQgf,GACbl5B,EAAI,EAiCD6V,EAAM5R,OAASjE,IAhCZ,SAAUm5B,GAClB,GAII50B,GAAQ4V,EAAMif,EAJdC,EAAU9e,EAAK4e,EAAS5e,GAAK4e,EAASG,KACtC1c,EAAUuc,EAASvc,QACnBlW,EAASyyB,EAASzyB,OAClB6yB,EAASJ,EAASI,MAEtB,KACMF,GACG9e,IACe,GAAdL,EAAQsf,IAASC,EAAkBvf,GACvCA,EAAQsf,GAAK,IAEC,IAAZH,EAAkB90B,EAASrB,GAEzBq2B,GAAQA,EAAOG,QACnBn1B,EAAS80B,EAAQn2B,GACbq2B,IACFA,EAAOI,OACPP,GAAS,IAGT70B,IAAW40B,EAASjf,QACtBxT,EAAOyG,EAAU,yBACRgN,EAAO0e,EAAWt0B,IAC3B4V,EAAKha,KAAKoE,EAAQqY,EAASlW,GACtBkW,EAAQrY,IACVmC,EAAOxD,GACd,MAAOyS,GACH4jB,IAAWH,GAAQG,EAAOI,OAC9BjzB,EAAOiP,KAGkBE,EAAM7V,KACnCka,GAAQ+b,MACR/b,EAAQ8e,IAAK,EACTD,IAAa7e,EAAQsf,IAAII,EAAY1f,OAGzC0f,EAAc,SAAU1f,GAC1B8d,EAAK73B,KAAKoB,EAAQ,WAChB,GAEIgD,GAAQ80B,EAAS3b,EAFjBxa,EAAQgX,EAAQ+e,GAChBY,EAAYC,EAAY5f,EAe5B,IAbI2f,IACFt1B,EAAS4zB,EAAQ,WACXK,EACF7P,EAAQoR,KAAK,qBAAsB72B,EAAOgX,IACjCmf,EAAU93B,EAAOy4B,sBAC1BX,GAAUnf,QAASA,EAAS+f,OAAQ/2B,KAC1Bwa,EAAUnc,EAAOmc,UAAYA,EAAQlD,OAC/CkD,EAAQlD,MAAM,8BAA+BtX,KAIjDgX,EAAQsf,GAAKhB,GAAUsB,EAAY5f,GAAW,EAAI,GAClDA,EAAQggB,OAAKpiB,GACX+hB,GAAat1B,EAAOoR,EAAG,KAAMpR,GAAO0D,KAGxC6xB,EAAc,SAAU5f,GAC1B,MAAsB,KAAfA,EAAQsf,IAAkD,KAArCtf,EAAQggB,IAAMhgB,EAAQ+b,IAAIhyB,QAEpDw1B,EAAoB,SAAUvf,GAChC8d,EAAK73B,KAAKoB,EAAQ,WAChB,GAAI83B,EACAb,GACF7P,EAAQoR,KAAK,mBAAoB7f,IACxBmf,EAAU93B,EAAO44B,qBAC1Bd,GAAUnf,QAASA,EAAS+f,OAAQ/f,EAAQ+e,QAI9CmB,EAAU,SAAUl3B,GACtB,GAAIgX,GAAUta,IACVsa,GAAQmgB,KACZngB,EAAQmgB,IAAK,EACbngB,EAAUA,EAAQogB,IAAMpgB,EACxBA,EAAQ+e,GAAK/1B,EACbgX,EAAQgf,GAAK,EACRhf,EAAQggB,KAAIhgB,EAAQggB,GAAKhgB,EAAQ+b,GAAGj0B,SACzC82B,EAAO5e,GAAS,KAEdqgB,EAAW,SAAUr3B,GACvB,GACIiX,GADAD,EAAUta,IAEd,KAAIsa,EAAQmgB,GAAZ,CACAngB,EAAQmgB,IAAK,EACbngB,EAAUA,EAAQogB,IAAMpgB,CACxB,KACE,GAAIA,IAAYhX,EAAO,KAAMiK,GAAU,qCACnCgN,EAAO0e,EAAW31B,IACpB+0B,EAAU,WACR,GAAI3oB,IAAYgrB,GAAIpgB,EAASmgB,IAAI,EACjC,KACElgB,EAAKha,KAAK+C,EAAOyT,EAAI4jB,EAAUjrB,EAAS,GAAIqH,EAAIyjB,EAAS9qB,EAAS,IAClE,MAAOqG,GACPykB,EAAQj6B,KAAKmP,EAASqG,OAI1BuE,EAAQ+e,GAAK/1B,EACbgX,EAAQgf,GAAK,EACbJ,EAAO5e,GAAS,IAElB,MAAOvE,GACPykB,EAAQj6B,MAAOm6B,GAAIpgB,EAASmgB,IAAI,GAAS1kB,KAKxC+iB,KAEHH,EAAW,SAAiBiC,GAC1B3E,EAAWj2B,KAAM24B,EA3JP,UA2J0B,MACpCrY,EAAUsa,GACV7C,EAASx3B,KAAKP,KACd,KACE46B,EAAS7jB,EAAI4jB,EAAU36B,KAAM,GAAI+W,EAAIyjB,EAASx6B,KAAM,IACpD,MAAOwf,GACPgb,EAAQj6B,KAAKP,KAAMwf,KAIvBuY,EAAW,SAAiB6C,GAC1B56B,KAAKq2B,MACLr2B,KAAKs6B,OAAKpiB,GACVlY,KAAKs5B,GAAK,EACVt5B,KAAKy6B,IAAK,EACVz6B,KAAKq5B,OAAKnhB,GACVlY,KAAK45B,GAAK,EACV55B,KAAKo5B,IAAK,GAEZrB,EAASx2B,UAAY,EAAQ,IAAmBo3B,EAASp3B,WAEvDgZ,KAAM,SAAcsgB,EAAaC,GAC/B,GAAIvB,GAAW7F,EAAqByE,EAAmBn4B,KAAM24B,GAO7D,OANAY,GAAS5e,GAA2B,kBAAfkgB,IAA4BA,EACjDtB,EAASG,KAA4B,kBAAdoB,IAA4BA,EACnDvB,EAASI,OAASf,EAAS7P,EAAQ4Q,WAASzhB,GAC5ClY,KAAKq2B,GAAGl0B,KAAKo3B,GACTv5B,KAAKs6B,IAAIt6B,KAAKs6B,GAAGn4B,KAAKo3B,GACtBv5B,KAAKs5B,IAAIJ,EAAOl5B,MAAM,GACnBu5B,EAASjf,SAGlB,MAAS,SAAUwgB,GACjB,MAAO96B,MAAKua,SAAKrC,GAAW4iB,MAGhC7C,EAAuB,WACrB,GAAI3d,GAAU,GAAIyd,EAClB/3B,MAAKsa,QAAUA,EACfta,KAAKgd,QAAUjG,EAAI4jB,EAAUrgB,EAAS,GACtCta,KAAK8G,OAASiQ,EAAIyjB,EAASlgB,EAAS,IAEtCge,EAA2BnY,EAAIuT,EAAuB,SAAUvb,GAC9D,MAAOA,KAAMwgB,GAAYxgB,IAAM+f,EAC3B,GAAID,GAAqB9f,GACzB6f,EAA4B7f,KAIpClB,EAAQA,EAAQM,EAAIN,EAAQc,EAAId,EAAQI,GAAKyhB,GAAc7B,QAAS0B,IACpE,EAAQ,IAAwBA,EA7MlB,WA8Md,EAAQ,IA9MM,WA+MdT,EAAU,EAAQ,GAAkB,QAGpCjhB,EAAQA,EAAQQ,EAAIR,EAAQI,GAAKyhB,EAlNnB,WAoNZhyB,OAAQ,SAAgB0jB,GACtB,GAAIuQ,GAAarH,EAAqB1zB,KAGtC,QADAiwB,EADe8K,EAAWj0B,QACjB0jB,GACFuQ,EAAWzgB,WAGtBrD,EAAQA,EAAQQ,EAAIR,EAAQI,GAAK+W,IAAY0K,GA3N/B,WA6NZ9b,QAAS,SAAiB9B,GACxB,MAAOsd,GAAepK,GAAWpuB,OAASk4B,EAAUS,EAAW34B,KAAMkb,MAGzEjE,EAAQA,EAAQQ,EAAIR,EAAQI,IAAMyhB,GAAc,EAAQ,KAAkB,SAAUkC,GAClFrC,EAAS1xB,IAAI+zB,GAAa,MAAEnC,MAlOhB,WAqOZ5xB,IAAK,SAAayd,GAChB,GAAIvM,GAAInY,KACJ+6B,EAAarH,EAAqBvb,GAClC6E,EAAU+d,EAAW/d,QACrBlW,EAASi0B,EAAWj0B,OACpBnC,EAAS4zB,EAAQ,WACnB,GAAI7wB,MACAnE,EAAQ,EACR0L,EAAY,CAChB+mB,GAAMtR,GAAU,EAAO,SAAUpK,GAC/B,GAAI2gB,GAAS13B,IACT23B,GAAgB,CACpBxzB,GAAOvF,SAAK+V,IACZjJ,IACAkJ,EAAE6E,QAAQ1C,GAASC,KAAK,SAAUjX,GAC5B43B,IACJA,GAAgB,EAChBxzB,EAAOuzB,GAAU33B,IACf2L,GAAa+N,EAAQtV,KACtBZ,OAEHmI,GAAa+N,EAAQtV,IAGzB,OADI/C,GAAOoR,GAAGjP,EAAOnC,EAAO0D,GACrB0yB,EAAWzgB,SAGpB6gB,KAAM,SAAczW,GAClB,GAAIvM,GAAInY,KACJ+6B,EAAarH,EAAqBvb,GAClCrR,EAASi0B,EAAWj0B,OACpBnC,EAAS4zB,EAAQ,WACnBvC,EAAMtR,GAAU,EAAO,SAAUpK,GAC/BnC,EAAE6E,QAAQ1C,GAASC,KAAKwgB,EAAW/d,QAASlW,MAIhD,OADInC,GAAOoR,GAAGjP,EAAOnC,EAAO0D,GACrB0yB,EAAWzgB,YnG89JhB,SAAU1a,EAAQD,EAASM,GoGxvKjC,GAAI8f,GAAW,EAAQ,EACvBngB,GAAOD,QAAU,SAAUklB,EAAUtE,EAAIjd,EAAOqhB,GAC9C,IACE,MAAOA,GAAUpE,EAAGR,EAASzc,GAAO,GAAIA,EAAM,IAAMid,EAAGjd,GAEvD,MAAOyS,GACP,GAAIqlB,GAAMvW,EAAiB,MAE3B,WADY3M,KAARkjB,GAAmBrb,EAASqb,EAAI76B,KAAKskB,IACnC9O,KpGkwKJ,SAAUnW,EAAQD,EAASM,GqG1wKjC,GAAI+jB,GAAY,EAAQ,IACpBY,EAAW,EAAQ,GAAU,YAC7B9iB,EAAaC,MAAMR,SAEvB3B,GAAOD,QAAU,SAAU4Y,GACzB,WAAcL,KAAPK,IAAqByL,EAAUjiB,QAAUwW,GAAMzW,EAAW8iB,KAAcrM,KrGmxK3E,SAAU3Y,EAAQD,GsGxxKxBC,EAAOD,QAAU,SAAU4gB,EAAI9b,EAAM+b,GACnC,GAAI6a,OAAcnjB,KAATsI,CACT,QAAQ/b,EAAKJ,QACX,IAAK,GAAG,MAAOg3B,GAAK9a,IACAA,EAAGhgB,KAAKigB,EAC5B,KAAK,GAAG,MAAO6a,GAAK9a,EAAG9b,EAAK,IACR8b,EAAGhgB,KAAKigB,EAAM/b,EAAK,GACvC,KAAK,GAAG,MAAO42B,GAAK9a,EAAG9b,EAAK,GAAIA,EAAK,IACjB8b,EAAGhgB,KAAKigB,EAAM/b,EAAK,GAAIA,EAAK,GAChD,KAAK,GAAG,MAAO42B,GAAK9a,EAAG9b,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC1B8b,EAAGhgB,KAAKigB,EAAM/b,EAAK,GAAIA,EAAK,GAAIA,EAAK,GACzD,KAAK,GAAG,MAAO42B,GAAK9a,EAAG9b,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACnC8b,EAAGhgB,KAAKigB,EAAM/b,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAClE,MAAO8b,GAAG7c,MAAM8c,EAAM/b,KtGiyKpB,SAAU7E,EAAQD,EAASM,GuG/yKjC,GAAI0B,GAAS,EAAQ,GACjB25B,EAAY,EAAQ,IAAW9H,IAC/B+H,EAAW55B,EAAO65B,kBAAoB75B,EAAO85B,uBAC7C1S,EAAUpnB,EAAOonB,QACjBkO,EAAUt1B,EAAOs1B,QACjB2B,EAAuC,WAA9B,EAAQ,IAAU7P,EAE/BnpB,GAAOD,QAAU,WACf,GAAIuK,GAAMvB,EAAMuwB,EAEZwC,EAAQ,WACV,GAAI5f,GAAQyE,CAEZ,KADIqY,IAAW9c,EAASiN,EAAQ4Q,SAAS7d,EAAOie,OACzC7vB,GAAM,CACXqW,EAAKrW,EAAKqW,GACVrW,EAAOA,EAAK6a,IACZ,KACExE,IACA,MAAOxK,GAGP,KAFI7L,GAAMgvB,IACLvwB,MAAOuP,GACNnC,GAERpN,MAAOuP,GACL4D,GAAQA,EAAOge,QAIrB,IAAIlB,EACFM,EAAS,WACPnQ,EAAQiK,SAAS0I,QAGd,KAAIH,GAAc55B,EAAOsnB,WAAatnB,EAAOsnB,UAAU0S,WAQvD,GAAI1E,GAAWA,EAAQja,QAAS,CAErC,GAAI1C,GAAU2c,EAAQja,YAAQ9E,GAC9BghB,GAAS,WACP5e,EAAQC,KAAKmhB,QASfxC,GAAS,WAEPoC,EAAU/6B,KAAKoB,EAAQ+5B,QAvBgD,CACzE,GAAIE,IAAS,EACTC,EAAOhpB,SAASipB,eAAe,GACnC,IAAIP,GAASG,GAAOK,QAAQF,GAAQG,eAAe,IACnD9C,EAAS,WACP2C,EAAK7lB,KAAO4lB,GAAUA,GAsB1B,MAAO,UAAUrb,GACf,GAAI6X,IAAS7X,GAAIA,EAAIwE,SAAM7M,GACvBvP,KAAMA,EAAKoc,KAAOqT,GACjBluB,IACHA,EAAOkuB,EACPc,KACAvwB,EAAOyvB,KvGwzKP,SAAUx4B,EAAQD,EAASM,GwG13KjC,GAAI0B,GAAS,EAAQ,GACjBsnB,EAAYtnB,EAAOsnB,SAEvBrpB,GAAOD,QAAUspB,GAAaA,EAAU9K,WAAa,IxGi4K/C,SAAUve,EAAQD,EAASM,GyGp4KjC,GAAI2kB,GAAW,EAAQ,GAAU,YAC7BqX,GAAe,CAEnB,KACE,GAAIC,IAAS,GAAGtX,IAChBsX,GAAc,OAAI,WAAcD,GAAe,GAE/Cl6B,MAAM60B,KAAKsF,EAAO,WAAc,KAAM,KACtC,MAAOnmB,IAETnW,EAAOD,QAAU,SAAU+gB,EAAMyb,GAC/B,IAAKA,IAAgBF,EAAc,OAAO,CAC1C,IAAI9N,IAAO,CACX,KACE,GAAIiO,IAAO,GACPpB,EAAOoB,EAAIxX,IACfoW,GAAKjW,KAAO,WAAc,OAASC,KAAMmJ,GAAO,IAChDiO,EAAIxX,GAAY,WAAc,MAAOoW,IACrCta,EAAK0b,GACL,MAAOrmB,IACT,MAAOoY,KzG44KH,SAAUvuB,EAAQD,EAASM,GAEjC,Y0Gh6KA,IAAIgX,GAAU,EAAQ,GAClBV,EAAO,EAAQ,GACf5U,EAAS,EAAQ,GACjBw2B,EAAqB,EAAQ,IAC7BK,EAAiB,EAAQ,GAE7BvhB,GAAQA,EAAQU,EAAIV,EAAQoB,EAAG,WAAa,QAAW,SAAUgkB,GAC/D,GAAIlkB,GAAIggB,EAAmBn4B,KAAMuW,EAAK0gB,SAAWt1B,EAAOs1B,SACpDlzB,EAAiC,kBAAbs4B,EACxB,OAAOr8B,MAAKua,KACVxW,EAAa,SAAUmX,GACrB,MAAOsd,GAAergB,EAAGkkB,KAAa9hB,KAAK,WAAc,MAAOW,MAC9DmhB,EACJt4B,EAAa,SAAUgS,GACrB,MAAOyiB,GAAergB,EAAGkkB,KAAa9hB,KAAK,WAAc,KAAMxE,MAC7DsmB,O1G06KF,SAAUz8B,EAAQD,EAASM,GAEjC,Y2G37KA,IAAIgX,GAAU,EAAQ,GAClByc,EAAuB,EAAQ,IAC/B6E,EAAU,EAAQ,GAEtBthB,GAAQA,EAAQQ,EAAG,WAAa,IAAO,SAAUga,GAC/C,GAAIkC,GAAoBD,EAAqBvT,EAAEngB,MAC3C2E,EAAS4zB,EAAQ9G,EAErB,QADC9sB,EAAOoR,EAAI4d,EAAkB7sB,OAAS6sB,EAAkB3W,SAASrY,EAAO0D,GAClEsrB,EAAkBrZ,Y3Go8KrB,SAAU1a,EAAQD,G4G98KxBC,EAAOD,QAAU,SAASC,GAoBzB,MAnBIA,GAAO08B,kBACV18B,EAAO28B,UAAY,aACnB38B,EAAO48B,SAEH58B,EAAO68B,WAAU78B,EAAO68B,aAC5B37B,OAAOC,eAAenB,EAAQ,UAC7BqB,YAAY,EACZC,IAAK,WACJ,MAAOtB,GAAOS,KAGhBS,OAAOC,eAAenB,EAAQ,MAC7BqB,YAAY,EACZC,IAAK,WACJ,MAAOtB,GAAOQ,KAGhBR,EAAO08B,gBAAkB,GAEnB18B,I5Gs9KF,SAAUA,EAAQD,EAASM,G6G1+KjC,GAAIsW,GAAO,EAAQ,GACfmmB,EAAQnmB,EAAK6I,OAAS7I,EAAK6I,MAAS4I,UAAW5I,KAAK4I,WACxDpoB,GAAOD,QAAU,SAAmB4Y,GAClC,MAAOmkB,GAAM1U,UAAUtkB,MAAMg5B,EAAO/4B,a7Gk/KhC,SAAU/D,EAAQD,EAASM,G8Gr/KjC,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAuBmB,OAAO2B,M9G4/KjD,SAAU7C,EAAQD,EAASM,G+G5/KjC,GAAI8wB,GAAW,EAAQ,IACnB5F,EAAQ,EAAQ,GAEpB,GAAQ,IAAiB,OAAQ,WAC/B,MAAO,UAAc5S,GACnB,MAAO4S,GAAM4F,EAASxY,Q/GsgLpB,SAAU3Y,EAAQD,GgHrgLxB,GAAIg9B,GAAqC,mBAAZ,SAA2BC,OAAOD,iBAAmBC,OAAOD,gBAAgBrvB,KAAKsvB,SACnE,mBAAd,WAAuE,kBAAnClmB,QAAOmmB,SAASF,iBAAiCE,SAASF,gBAAgBrvB,KAAKuvB,SAEhJ,IAAIF,EAAiB,CAEnB,GAAIG,GAAQ,GAAIC,YAAW,GAE3Bn9B,GAAOD,QAAU,WAEf,MADAg9B,GAAgBG,GACTA,OAEJ,CAKL,GAAI7I,GAAO,GAAIlyB,OAAM,GAErBnC,GAAOD,QAAU,WACf,IAAK,GAAW6qB,GAAPpqB,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiBoqB,EAAoB,WAAhBlmB,KAAKmE,UAC/BwrB,EAAK7zB,GAAKoqB,MAAY,EAAJpqB,IAAa,GAAK,GAGtC,OAAO6zB,MhHqhLL,SAAUr0B,EAAQD,GiH3iLxB,QAASy0B,GAAYJ,EAAKre,GACxB,GAAIvV,GAAIuV,GAAU,EACdqnB,EAAMC,CAEV,QAASD,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MACjC48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MAAO,IAC9B48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MAAO,IAC9B48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MAAO,IAC9B48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MAAO,IAC9B48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MACvB48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,MACvB48B,EAAIhJ,EAAI5zB,MAAO48B,EAAIhJ,EAAI5zB,OAAQ8T,KAAK,IAfrC,IAAK,GADD+oB,MACK78B,EAAI,EAAGA,EAAI,MAAOA,EACzB68B,EAAU78B,IAAMA,EAAI,KAAOiC,SAAS,IAAI66B,OAAO,EAiBjDt9B,GAAOD,QAAUy0B,GjH2jLX,SAAUx0B,EAAQD,EAASM,GAEjC,YkH9kLA,SAASk9B,GAAMzS,GAoCb,QAAS0S,GAAYzT,GAGnB,IAAK,GAFD0T,GAAO,EAEFj9B,EAAI,EAAGA,EAAIupB,EAAUtlB,OAAQjE,IACpCi9B,GAAQA,GAAQ,GAAKA,EAAO1T,EAAUkM,WAAWz1B,GACjDi9B,GAAQ,CAGV,OAAOC,GAAY1S,OAAOtmB,KAAKi5B,IAAIF,GAAQC,EAAY1S,OAAOvmB,QAYhE,QAASi5B,GAAY3T,GAGnB,QAASrQ,KAEP,GAAKA,EAAMwB,QAAX,CAIA,IAAK,GAAI0iB,GAAO75B,UAAUU,OAAQI,EAAO,GAAI1C,OAAMy7B,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/Eh5B,EAAKg5B,GAAQ95B,UAAU85B,EAGzB,IAAI19B,GAAOuZ,EAEPokB,EAAOC,OAAO,GAAI/pB,OAClBgqB,EAAKF,GAAQG,GAAYH,EAC7B39B,GAAK8pB,KAAO+T,EACZ79B,EAAK+9B,KAAOD,EACZ99B,EAAK29B,KAAOA,EACZG,EAAWH,EACXj5B,EAAK,GAAK64B,EAAYS,OAAOt5B,EAAK,IAEX,gBAAZA,GAAK,IAEdA,EAAKu5B,QAAQ,KAIf,IAAIz6B,GAAQ,CACZkB,GAAK,GAAKA,EAAK,GAAG+P,QAAQ,gBAAiB,SAAU1K,EAAOm0B,GAE1D,GAAc,OAAVn0B,EACF,MAAOA,EAGTvG,IACA,IAAI26B,GAAYZ,EAAYzS,WAAWoT,EAEvC,IAAyB,kBAAdC,GAA0B,CACnC,GAAIxO,GAAMjrB,EAAKlB,EACfuG,GAAQo0B,EAAU39B,KAAKR,EAAM2vB,GAE7BjrB,EAAKslB,OAAOxmB,EAAO,GACnBA,IAGF,MAAOuG,KAGTwzB,EAAY5T,WAAWnpB,KAAKR,EAAM0E,IACtB1E,EAAKkqB,KAAOqT,EAAYrT,KAC9BvmB,MAAM3D,EAAM0E,IAnDpB,GAAIo5B,EAoEJ,OAdAvkB,GAAMqQ,UAAYA,EAClBrQ,EAAMwB,QAAUwiB,EAAYxiB,QAAQ6O,GACpCrQ,EAAMwP,UAAYwU,EAAYxU,YAC9BxP,EAAMwQ,MAAQsT,EAAYzT,GAC1BrQ,EAAM6kB,QAAUA,EAChB7kB,EAAMnI,OAASA,EAIiB,kBAArBmsB,GAAYc,MACrBd,EAAYc,KAAK9kB,GAGnBgkB,EAAYe,UAAUl8B,KAAKmX,GACpBA,EAGT,QAAS6kB,KACP,GAAI56B,GAAQ+5B,EAAYe,UAAU12B,QAAQ3H,KAE1C,QAAe,IAAXuD,IACF+5B,EAAYe,UAAUtU,OAAOxmB,EAAO,IAC7B,GAMX,QAAS4N,GAAOwY,EAAW2U,GACzB,MAAOhB,GAAYt9B,KAAK2pB,eAAkC,KAAd2U,EAA4B,IAAMA,GAAa3U,GAW7F,QAASjB,GAAOC,GACd2U,EAAYnT,KAAKxB,GACjB2U,EAAYxsB,SACZwsB,EAAYiB,QACZ,IAAIn+B,GACAmc,GAA+B,gBAAfoM,GAA0BA,EAAa,IAAIpM,MAAM,UACjEtR,EAAMsR,EAAMlY,MAEhB,KAAKjE,EAAI,EAAGA,EAAI6K,EAAK7K,IACdmc,EAAMnc,KAKXuoB,EAAapM,EAAMnc,GAAGoU,QAAQ,MAAO,OAEf,MAAlBmU,EAAW,GACb2U,EAAYiB,MAAMp8B,KAAK,GAAIiS,QAAO,IAAMuU,EAAWuU,OAAO,GAAK,MAE/DI,EAAYxsB,MAAM3O,KAAK,GAAIiS,QAAO,IAAMuU,EAAa,MAIzD,KAAKvoB,EAAI,EAAGA,EAAIk9B,EAAYe,UAAUh6B,OAAQjE,IAAK,CACjD,GAAI8V,GAAWonB,EAAYe,UAAUj+B,EACrC8V,GAAS4E,QAAUwiB,EAAYxiB,QAAQ5E,EAASyT,YAUpD,QAASf,KACP0U,EAAY5U,OAAO,IAWrB,QAAS5N,GAAQna,GACf,GAA8B,MAA1BA,EAAKA,EAAK0D,OAAS,GACrB,OAAO,CAGT,IAAIjE,GACA6K,CAEJ,KAAK7K,EAAI,EAAG6K,EAAMqyB,EAAYiB,MAAMl6B,OAAQjE,EAAI6K,EAAK7K,IACnD,GAAIk9B,EAAYiB,MAAMn+B,GAAGmU,KAAK5T,GAC5B,OAAO,CAIX,KAAKP,EAAI,EAAG6K,EAAMqyB,EAAYxsB,MAAMzM,OAAQjE,EAAI6K,EAAK7K,IACnD,GAAIk9B,EAAYxsB,MAAM1Q,GAAGmU,KAAK5T,GAC5B,OAAO,CAIX,QAAO,EAWT,QAASo9B,GAAOrO,GACd,MAAIA,aAAe1hB,OACV0hB,EAAI8O,OAAS9O,EAAIvQ,QAGnBuQ,EAIT,MA7OA4N,GAAYhkB,MAAQgkB,EACpBA,EAAY7kB,QAAU6kB,EACtBA,EAAYS,OAASA,EACrBT,EAAY1U,QAAUA,EACtB0U,EAAY5U,OAASA,EACrB4U,EAAYxiB,QAAUA,EACtBwiB,EAAY1T,SAAW,EAAQ,KAC/B9oB,OAAO2B,KAAKioB,GAAKplB,QAAQ,SAAUT,GACjCy4B,EAAYz4B,GAAO6lB,EAAI7lB,KAMzBy4B,EAAYe,aAKZf,EAAYxsB,SACZwsB,EAAYiB,SAOZjB,EAAYzS,cAmBZyS,EAAYF,YAAcA,EA8L1BE,EAAY5U,OAAO4U,EAAY/S,QACxB+S,EAGT19B,EAAOD,QAAUw9B,GlH2lLX,SAAUv9B,EAAQD,GmHnyLxB,QAAS0f,GAAMmW,GAEb,GADAA,EAAM/jB,OAAO+jB,KACTA,EAAInxB,OAAS,KAAjB,CAGA,GAAIyF,GAAQ,mIAAmI4W,KAC7I8U,EAEF,IAAK1rB,EAAL,CAGA,GAAI3I,GAAI+R,WAAWpJ,EAAM,GAEzB,SADYA,EAAM,IAAM,MAAMgW,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,MAAO3e,GAAIs9B,CACb,KAAK,QACL,IAAK,OACL,IAAK,IACH,MAAOt9B,GAAI4qB,CACb,KAAK,OACL,IAAK,MACL,IAAK,IACH,MAAO5qB,GAAIT,CACb,KAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,MAAOS,GAAIu9B,CACb,KAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,MAAOv9B,GAAIX,CACb,KAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,MAAOW,GAAIO,CACb,KAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,MAAOP,EACT,SACE,UAYN,QAASw9B,GAASf,GAChB,GAAIgB,GAAQt6B,KAAKi5B,IAAIK,EACrB,OAAIgB,IAASl+B,EACJ4D,KAAKu6B,MAAMjB,EAAKl9B,GAAK,IAE1Bk+B,GAASF,EACJp6B,KAAKu6B,MAAMjB,EAAKc,GAAK,IAE1BE,GAASp+B,EACJ8D,KAAKu6B,MAAMjB,EAAKp9B,GAAK,IAE1Bo+B,GAASl9B,EACJ4C,KAAKu6B,MAAMjB,EAAKl8B,GAAK,IAEvBk8B,EAAK,KAWd,QAASkB,GAAQlB,GACf,GAAIgB,GAAQt6B,KAAKi5B,IAAIK,EACrB,OAAIgB,IAASl+B,EACJq+B,EAAOnB,EAAIgB,EAAOl+B,EAAG,OAE1Bk+B,GAASF,EACJK,EAAOnB,EAAIgB,EAAOF,EAAG,QAE1BE,GAASp+B,EACJu+B,EAAOnB,EAAIgB,EAAOp+B,EAAG,UAE1Bo+B,GAASl9B,EACJq9B,EAAOnB,EAAIgB,EAAOl9B,EAAG,UAEvBk8B,EAAK,MAOd,QAASmB,GAAOnB,EAAIgB,EAAOz9B,EAAGR,GAC5B,GAAIq+B,GAAWJ,GAAa,IAAJz9B,CACxB,OAAOmD,MAAKu6B,MAAMjB,EAAKz8B,GAAK,IAAMR,GAAQq+B,EAAW,IAAM,IA5J7D,GAAIt9B,GAAI,IACJlB,EAAQ,GAAJkB,EACJg9B,EAAQ,GAAJl+B,EACJE,EAAQ,GAAJg+B,EACJ3S,EAAQ,EAAJrrB,EACJ+9B,EAAQ,OAAJ/9B,CAgBRd,GAAOD,QAAU,SAAS+vB,EAAKhhB,GAC7BA,EAAUA,KACV,IAAIwD,SAAcwd,EAClB,IAAa,WAATxd,GAAqBwd,EAAIrrB,OAAS,EACpC,MAAOgb,GAAMqQ,EACR,IAAa,WAATxd,GAAqBc,SAAS0c,GACvC,MAAOhhB,GAAQuwB,KAAOH,EAAQpP,GAAOiP,EAASjP,EAEhD,MAAM,IAAI1hB,OACR,wDACEoR,KAAK4I,UAAU0H,MnHu9Lf,SAAU9vB,EAAQD,EAASM,GoH1/LjC,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAuBmB,OAAO0tB,gBpHigMjD,SAAU5uB,EAAQD,EAASM,GqHjgMjC,GAAI8wB,GAAW,EAAQ,IACnBmO,EAAkB,EAAQ,GAE9B,GAAQ,IAAiB,iBAAkB,WACzC,MAAO,UAAwB3mB,GAC7B,MAAO2mB,GAAgBnO,EAASxY,QrH2gM9B,SAAU3Y,EAAQD,EAASM,GsHjhMjCL,EAAOD,SAAY,QAAW,EAAQ,KAAuCyB,YAAY,ItHuhMnF,SAAUxB,EAAQD,EAASM,GuHvhMjC,EAAQ,IACR,EAAQ,IACRL,EAAOD,QAAU,EAAQ,IAA0BwgB,EAAE,avH8hM/C,SAAUvgB,EAAQD,EAASM,GwHhiMjCL,EAAOD,SAAY,QAAW,EAAQ,KAA8ByB,YAAY,IxHsiM1E,SAAUxB,EAAQD,EAASM,GyHtiMjC,EAAQ,KACR,EAAQ,IACR,EAAQ,KACR,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAuBuC,QzH6iM1C,SAAUtC,EAAQD,EAASM,GAEjC,Y0HjjMA,IAAI0B,GAAS,EAAQ,GACjBmD,EAAM,EAAQ,IACd8uB,EAAc,EAAQ,IACtB3c,EAAU,EAAQ,GAClBoX,EAAW,EAAQ,IACnB5C,EAAO,EAAQ,IAAWY,IAC1B8S,EAAS,EAAQ,IACjBvP,EAAS,EAAQ,IACjBrB,EAAiB,EAAQ,IACzB1X,EAAM,EAAQ,IACduoB,EAAM,EAAQ,GACd5O,EAAS,EAAQ,IACjB6O,EAAY,EAAQ,IACpBC,EAAW,EAAQ,KACnB/8B,EAAU,EAAQ,IAClBwd,EAAW,EAAQ,GACnB/b,EAAW,EAAQ,GACnB+sB,EAAW,EAAQ,IACnBH,EAAY,EAAQ,IACpB3Q,EAAc,EAAQ,IACtBQ,EAAa,EAAQ,IACrB+G,EAAU,EAAQ,IAClB+X,EAAU,EAAQ,KAClBC,EAAQ,EAAQ,IAChBC,EAAQ,EAAQ,IAChBC,EAAM,EAAQ,IACdvU,EAAQ,EAAQ,IAChB0F,EAAO2O,EAAMrf,EACbD,EAAKwf,EAAIvf,EACTwf,EAAOJ,EAAQpf,EACfsQ,EAAU9uB,EAAOO,OACjBw6B,EAAQ/6B,EAAOyd,KACftG,EAAa4jB,GAASA,EAAM1U,UAE5B4X,EAASR,EAAI,WACbS,EAAeT,EAAI,eACnBU,KAAY7vB,qBACZ8vB,EAAiBnQ,EAAO,mBACxBoQ,EAAapQ,EAAO,WACpBqQ,EAAYrQ,EAAO,cACnBgC,EAAc9wB,OAAgB,UAC9Bg4B,EAA+B,kBAAXrI,MAA2BgP,EAAMtf,EACrD+f,EAAUv+B,EAAOu+B,QAEjBC,GAAUD,IAAYA,EAAiB,YAAMA,EAAiB,UAAEE,UAGhEC,EAAgBzM,GAAeuL,EAAO,WACxC,MAES,IAFF3X,EAAQtH,KAAO,KACpBhf,IAAK,WAAc,MAAOgf,GAAGlgB,KAAM,KAAOsD,MAAO,IAAK6F,MACpDA,IACD,SAAUoP,EAAI1T,EAAKmtB,GACtB,GAAIsO,GAAYzP,EAAKe,EAAa/sB,EAC9By7B,UAAkB1O,GAAY/sB,GAClCqb,EAAG3H,EAAI1T,EAAKmtB,GACRsO,GAAa/nB,IAAOqZ,GAAa1R,EAAG0R,EAAa/sB,EAAKy7B,IACxDpgB,EAEAzQ,EAAO,SAAU8b,GACnB,GAAIgV,GAAMP,EAAWzU,GAAO/D,EAAQiJ,EAAiB,UAErD,OADA8P,GAAI1I,GAAKtM,EACFgV,GAGLttB,EAAW6lB,GAAyC,gBAApBrI,GAAQ5L,SAAuB,SAAUtM,GAC3E,MAAoB,gBAANA,IACZ,SAAUA,GACZ,MAAOA,aAAckY,IAGnB+P,EAAkB,SAAwBjoB,EAAI1T,EAAKmtB,GAKrD,MAJIzZ,KAAOqZ,GAAa4O,EAAgBP,EAAWp7B,EAAKmtB,GACxDjS,EAASxH,GACT1T,EAAMob,EAAYpb,GAAK,GACvBkb,EAASiS,GACLltB,EAAIk7B,EAAYn7B,IACbmtB,EAAE/wB,YAID6D,EAAIyT,EAAIqnB,IAAWrnB,EAAGqnB,GAAQ/6B,KAAM0T,EAAGqnB,GAAQ/6B,IAAO,GAC1DmtB,EAAIxK,EAAQwK,GAAK/wB,WAAYwf,EAAW,GAAG,OAJtC3b,EAAIyT,EAAIqnB,IAAS1f,EAAG3H,EAAIqnB,EAAQnf,EAAW,OAChDlI,EAAGqnB,GAAQ/6B,IAAO,GAIXw7B,EAAc9nB,EAAI1T,EAAKmtB,IACzB9R,EAAG3H,EAAI1T,EAAKmtB,IAEnByO,EAAoB,SAA0BloB,EAAIZ,GACpDoI,EAASxH,EAKT,KAJA,GAGI1T,GAHApC,EAAO68B,EAAS3nB,EAAIiZ,EAAUjZ,IAC9BvX,EAAI,EACJC,EAAIoC,EAAK4B,OAENhE,EAAID,GAAGogC,EAAgBjoB,EAAI1T,EAAMpC,EAAKrC,KAAMuX,EAAE9S,GACrD,OAAO0T,IAEL0Y,EAAU,SAAgB1Y,EAAIZ,GAChC,WAAaO,KAANP,EAAkB6P,EAAQjP,GAAMkoB,EAAkBjZ,EAAQjP,GAAKZ,IAEpE+oB,EAAwB,SAA8B77B,GACxD,GAAI87B,GAAIb,EAAOv/B,KAAKP,KAAM6E,EAAMob,EAAYpb,GAAK,GACjD,SAAI7E,OAAS4xB,GAAe9sB,EAAIk7B,EAAYn7B,KAASC,EAAIm7B,EAAWp7B,QAC7D87B,IAAM77B,EAAI9E,KAAM6E,KAASC,EAAIk7B,EAAYn7B,IAAQC,EAAI9E,KAAM4/B,IAAW5/B,KAAK4/B,GAAQ/6B,KAAO87B,IAE/FC,EAA4B,SAAkCroB,EAAI1T,GAGpE,GAFA0T,EAAKqY,EAAUrY,GACf1T,EAAMob,EAAYpb,GAAK,GACnB0T,IAAOqZ,IAAe9sB,EAAIk7B,EAAYn7B,IAASC,EAAIm7B,EAAWp7B,GAAlE,CACA,GAAImtB,GAAInB,EAAKtY,EAAI1T,EAEjB,QADImtB,IAAKltB,EAAIk7B,EAAYn7B,IAAUC,EAAIyT,EAAIqnB,IAAWrnB,EAAGqnB,GAAQ/6B,KAAOmtB,EAAE/wB,YAAa,GAChF+wB,IAEL6O,GAAuB,SAA6BtoB,GAKtD,IAJA,GAGI1T,GAHAiM,EAAQ6uB,EAAK/O,EAAUrY,IACvB5T,KACAvE,EAAI,EAED0Q,EAAMzM,OAASjE,GACf0E,EAAIk7B,EAAYn7B,EAAMiM,EAAM1Q,OAASyE,GAAO+6B,GAAU/6B,GAAO4mB,GAAM9mB,EAAOxC,KAAK0C,EACpF,OAAOF,IAEPm8B,GAAyB,SAA+BvoB,GAM1D,IALA,GAII1T,GAJAk8B,EAAQxoB,IAAOqZ,EACf9gB,EAAQ6uB,EAAKoB,EAAQd,EAAYrP,EAAUrY,IAC3C5T,KACAvE,EAAI,EAED0Q,EAAMzM,OAASjE,IAChB0E,EAAIk7B,EAAYn7B,EAAMiM,EAAM1Q,OAAU2gC,IAAQj8B,EAAI8sB,EAAa/sB,IAAcF,EAAOxC,KAAK69B,EAAWn7B,GACxG,OAAOF,GAINm0B,KACHrI,EAAU,WACR,GAAIzwB,eAAgBywB,GAAS,KAAMljB,WAAU,+BAC7C,IAAIge,GAAM1U,EAAIlT,UAAUU,OAAS,EAAIV,UAAU,OAAKuU,IAChD8oB,EAAO,SAAU19B,GACftD,OAAS4xB,GAAaoP,EAAKzgC,KAAK0/B,EAAW38B,GAC3CwB,EAAI9E,KAAM4/B,IAAW96B,EAAI9E,KAAK4/B,GAASrU,KAAMvrB,KAAK4/B,GAAQrU,IAAO,GACrE8U,EAAcrgC,KAAMurB,EAAK9K,EAAW,EAAGnd,IAGzC,OADIswB,IAAeuM,GAAQE,EAAczO,EAAarG,GAAOvqB,cAAc,EAAMwyB,IAAKwN,IAC/EvxB,EAAK8b,IAEd8C,EAASoC,EAAiB,UAAG,WAAY,WACvC,MAAOzwB,MAAK63B,KAGd2H,EAAMrf,EAAIygB,EACVlB,EAAIvf,EAAIqgB,EACR,EAAQ,IAAkBrgB,EAAIof,EAAQpf,EAAI0gB,GAC1C,EAAQ,IAAiB1gB,EAAIugB,EAC7BjB,EAAMtf,EAAI2gB,GAENlN,IAAgB,EAAQ,KAC1BvF,EAASuD,EAAa,uBAAwB8O,GAAuB,GAGvElQ,EAAOrQ,EAAI,SAAUxf,GACnB,MAAO8O,GAAK2vB,EAAIz+B,MAIpBsW,EAAQA,EAAQM,EAAIN,EAAQc,EAAId,EAAQI,GAAKyhB,GAAc52B,OAAQuuB,GAEnE,KAAK,GAAIwQ,IAAa,iHAGpB1kB,MAAM,KAAMvR,GAAI,EAAGi2B,GAAW58B,OAAS2G,IAAGo0B,EAAI6B,GAAWj2B,MAE3D,KAAK,GAAIk2B,IAAmB/V,EAAMiU,EAAIxoB,OAAQwQ,GAAI,EAAG8Z,GAAiB78B,OAAS+iB,IAAIiY,EAAU6B,GAAiB9Z,MAE9GnQ,GAAQA,EAAQQ,EAAIR,EAAQI,GAAKyhB,EAAY,UAE3C,IAAO,SAAUj0B,GACf,MAAOC,GAAIi7B,EAAgBl7B,GAAO,IAC9Bk7B,EAAel7B,GACfk7B,EAAel7B,GAAO4rB,EAAQ5rB,IAGpCs8B,OAAQ,SAAgBZ,GACtB,IAAKttB,EAASstB,GAAM,KAAMhzB,WAAUgzB,EAAM,oBAC1C,KAAK,GAAI17B,KAAOk7B,GAAgB,GAAIA,EAAel7B,KAAS07B,EAAK,MAAO17B,IAE1Eu8B,UAAW,WAAcjB,GAAS,GAClCkB,UAAW,WAAclB,GAAS,KAGpClpB,EAAQA,EAAQQ,EAAIR,EAAQI,GAAKyhB,EAAY,UAE3Cn2B,OAAQsuB,EAERlwB,eAAgBy/B,EAEhBhJ,iBAAkBiJ,EAElB3P,yBAA0B8P,EAE1BnM,oBAAqBoM,GAErBnQ,sBAAuBoQ,IAKzB,IAAIQ,IAAsBnC,EAAO,WAAcM,EAAMtf,EAAE,IAEvDlJ,GAAQA,EAAQQ,EAAIR,EAAQI,EAAIiqB,GAAqB,UACnD5Q,sBAAuB,SAA+BnY,GACpD,MAAOknB,GAAMtf,EAAE4Q,EAASxY,OAK5BmkB,GAASzlB,EAAQA,EAAQQ,EAAIR,EAAQI,IAAMyhB,GAAcqG,EAAO,WAC9D,GAAI1nB,GAAIgZ,GAIR,OAA0B,UAAnB3X,GAAYrB,KAA2C,MAAxBqB,GAAa3P,EAAGsO,KAAyC,MAAzBqB,EAAWhY,OAAO2W,OACrF,QACHuQ,UAAW,SAAmBzP,GAI5B,IAHA,GAEIgpB,GAAUC,EAFV/8B,GAAQ8T,GACRnY,EAAI,EAEDuD,UAAUU,OAASjE,GAAGqE,EAAKtC,KAAKwB,UAAUvD,KAEjD,IADAohC,EAAYD,EAAW98B,EAAK,IACvBT,EAASu9B,QAAoBrpB,KAAPK,KAAoBtF,EAASsF,GAMxD,MALKhW,GAAQg/B,KAAWA,EAAW,SAAU18B,EAAKvB,GAEhD,GADwB,kBAAbk+B,KAAyBl+B,EAAQk+B,EAAUjhC,KAAKP,KAAM6E,EAAKvB,KACjE2P,EAAS3P,GAAQ,MAAOA,KAE/BmB,EAAK,GAAK88B,EACHzoB,EAAWpV,MAAMg5B,EAAOj4B,MAKnCgsB,EAAiB,UAAEoP,IAAiB,EAAQ,IAAWpP,EAAiB,UAAGoP,EAAcpP,EAAiB,UAAEre,SAE5Gmc,EAAekC,EAAS,UAExBlC,EAAejqB,KAAM,QAAQ,GAE7BiqB,EAAe5sB,EAAOyd,KAAM,QAAQ,I1HyjM9B,SAAUxf,EAAQD,EAASM,G2H7yMjC,GAAIs3B,GAAU,EAAQ,IAClBkK,EAAO,EAAQ,IACf9Q,EAAM,EAAQ,GAClB/wB,GAAOD,QAAU,SAAU4Y,GACzB,GAAI5T,GAAS4yB,EAAQhf,GACjBmpB,EAAaD,EAAKthB,CACtB,IAAIuhB,EAKF,IAJA,GAGI78B,GAHA88B,EAAUD,EAAWnpB,GACrBunB,EAASnP,EAAIxQ,EACb/f,EAAI,EAEDuhC,EAAQt9B,OAASjE,GAAO0/B,EAAOv/B,KAAKgY,EAAI1T,EAAM88B,EAAQvhC,OAAOuE,EAAOxC,KAAK0C,EAChF,OAAOF,K3HszML,SAAU/E,EAAQD,EAASM,G4Hl0MjC,GAAI2wB,GAAY,EAAQ,IACpB+O,EAAO,EAAQ,IAAkBxf,EACjC9d,KAAcA,SAEdu/B,EAA+B,gBAAVlrB,SAAsBA,QAAU5V,OAAO2zB,oBAC5D3zB,OAAO2zB,oBAAoB/d,WAE3BmrB,EAAiB,SAAUtpB,GAC7B,IACE,MAAOonB,GAAKpnB,GACZ,MAAOxC,GACP,MAAO6rB,GAAYx/B,SAIvBxC,GAAOD,QAAQwgB,EAAI,SAA6B5H,GAC9C,MAAOqpB,IAAoC,mBAArBv/B,EAAS9B,KAAKgY,GAA2BspB,EAAetpB,GAAMonB,EAAK/O,EAAUrY,M5H20M/F,SAAU3Y,EAAQD,EAASM,G6H51MjC,EAAQ,IAAiB,kB7Hm2MnB,SAAUL,EAAQD,EAASM,G8Hn2MjC,EAAQ,IAAiB,e9H02MnB,SAAUL,EAAQD,EAASM,GAEjC,Y+Hr2MA,IAAI6hC,EAWUliC,GAAOD,QAAQgP,QAAU,SAAS2L,EAASynB,GACvD,GACIpzB,GADAiM,EAAQ,GAAIknB,EAGhB,OAAO7K,SAAQkE,MACb7gB,EACA,GAAI2c,SAAQ,SAASja,EAASlW,GAC5B6H,EAAUJ,WAAW,WACnBzH,EAAO8T,IACNmnB,OAEJxnB,KAAK,SAASlS,GAEf,MADA6G,cAAaP,GACNtG,GACN,SAASmX,GAEV,KADAtQ,cAAaP,GACP6Q,IAOVsiB,GAAeliC,EAAOD,QAAQmiC,aAAe,WAC3C9zB,MAAMzN,KAAKP,MACXA,KAAKw+B,MAAQxwB,QAAQwwB,MACrBx+B,KAAKmf,QAAU,WAGjB2iB,EAAavgC,UAAYT,OAAO6B,OAAOqL,MAAMzM,WAC7CugC,EAAavgC,UAAUZ,KAAO,gB/Hk3MxB,SAAUf,EAAQD,EAASM,GAEjC,YgIr5MA,SAAS+hC,GAAqBC,GAC5B,GAAIC,EAAQD,GACV,QAEF,IAAMltB,GAAKktB,EAAM7/B,MAAM,EAAG,GAAG0d,cACvB6Z,EAAS,iBACf,QACEx3B,gBAAiB4S,EAAjB,SAA4B4kB,EAC5BwI,iBAAkBptB,EAAlB,UAA8B4kB,EAC9ByI,kBAAmBrtB,EAAnB,WAAgC4kB,EAChC0I,eAAgBttB,EAAhB,QAA0B4kB,EAC1B2I,eAAgBvtB,EAAhB,QAA0B4kB,GhI64M9B,GAAI4I,GAAkBtiC,EAAoB,IAEtCuiC,EAEJ,SAAgC3/B,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFzC0/B,GgIz6MxCrlB,EAAK9D,EAAQ,IACbqpB,EAAYrpB,EAAQ,KhI+6MtBC,EgI96M0BD,EAAQ,GAA9B6B,E,EAAAA,kBhIi7MJxB,EgIh7MkCL,EAAQ,GAAtCjI,E,EAAAA,OAAQnN,E,EAAAA,SAAU0O,E,EAAAA,QAEpBwvB,EAAU,SAAAD,GAAA,MAA6B,cAApBA,EAAM7/B,OAAO,IAEhCsgC,EAAiB,SAAA7oB,GAAA,OACrB1X,KAAM0X,EACNsoB,MAAOtoB,EACPuoB,OAAQvoB,EACRwoB,IAAKxoB,EACLyoB,IAAKzoB,IAkBH8oB,GAAoB,EACpBC,GAAe,CAwBnB1lB,GAAGkhB,KAAO,SAAc1vB,GACtB,IAAK1K,EAAS0K,GACZ,MAAOwO,GAAGkhB,MACR6D,MAAOvzB,EACPm0B,+CACAhlB,mDALsC,IASxCokB,GASEvzB,EATFuzB,MACAY,EAQEn0B,EARFm0B,OACAhlB,EAOEnP,EAPFmP,UACAG,EAMEtP,EANFsP,QACA8kB,EAKEp0B,EALFo0B,UAbwC,EAkBtCp0B,EAJFkQ,iBAdwC,OAc3BkkB,EAd2B,EAexC1kB,EAGE1P,EAHF0P,mBACAH,EAEEvP,EAFFuP,WACAmH,EACE1W,EADF0W,QAMF,IAJIwd,GACF9kB,QAAQC,KACN,qLAECkkB,EAAO,KAAM,IAAI10B,WAAU,yBAChC,KAAKs1B,EAAQ,KAAM,IAAIt1B,WAAU,0BAGjC,IAFmCsQ,GACjCC,QAAQC,KAAK,wDACXmkB,EAAQD,KACLrjB,GAAclM,EAAQwK,EAAGU,QAAQgB,YACpC,KAAM,IAAIrR,WAAJ,uDAKN00B,KAAU/kB,EAAGU,QAAQF,eAEvBR,EAAGU,QAAQC,UAAYA,EACvBX,EAAGU,QAAQI,QAAUA,IAEjBH,IAAWX,EAAGU,QAAQC,UAAYA,GAClCG,IAASd,EAAGU,QAAQI,QAAUA,IAEpCd,EAAGU,QAAQF,cAAgBukB,EAC3B/kB,EAAGU,QAAQJ,eAAiBqlB,EAC5B3lB,EAAG6lB,cAAc9kB,OACiB,KAAvBG,IACTlB,EAAGU,QAAQQ,mBAAqBA,EAClC,IAAM4kB,GACJL,OAA2C,KAAf/jB,CAa9B,IAZKokB,IACH9lB,EAAG4B,WAAa,GAAI2jB,GAAUvlB,IAEhCA,EAAG+lB,eACD9xB,KAEE6wB,EAAqBC,GACrB/kB,EAAGU,QAAQgB,WACW,gBAAfA,GAA0B8jB,EAAe9jB,GAAcA,GAEhEokB,GAEE5d,EACFlI,EAAGU,QAAQwH,SAAWA,MACjB,IAAIlI,EAAGgB,cAAcmH,kBAAmB,OACxBnI,EAAGU,QAAQgB,WAAxByjB,EADqC,EACrCA,IAAKC,EADgC,EAChCA,GACbplB,GAAGU,QAAQwH,SAAW,GAAIlI,GAAGgB,cAAcmH,mBACzC4c,QACAY,SACAK,QACEb,MACAc,UAAWb,KAIjBM,GAAe,GAwBjB1lB,EAAG6lB,cAAgB,SAAA9kB,GACZhD,EAAkBgD,GAIrBf,EAAGU,QAAQK,WAAa,KAHxBf,EAAGU,QAAQK,WAAaA,EAAa,EAAI,GAO7Cf,EAAG+lB,eAAiB,SAACG,GAAkC,GAA5BJ,KAA4B,wDACjC,iBAATI,GACTjyB,EAAO+L,EAAGU,QAAQgB,WAAYwkB,GAE9BlmB,EAAGU,QAAQgB,WAAa8jB,EAAeU,GAErCJ,IACE9lB,EAAG4B,WACL5B,EAAG4B,WAAW8J,UAEd+Z,GAAoB,IAW1BzlB,EAAGmmB,aAAe,SAAAD,GAAA,MAAQlmB,GAAG+lB,eAAeG,IAC5ClmB,EAAGomB,cAAgBpmB,EAAGmmB,aAEtBnmB,EAAGqC,oBAAsB,SAAAjc,GACvB4Z,EAAGgB,cAAcqB,oBAAsBjc,GAUzC4Z,EAAGqmB,kBAAoB,SAAA3F,GACrB1gB,EAAGU,QAAQoB,eAAiB4e,GAI9B1gB,EAAGsmB,WAAatmB,EAAGkhB,MAYlB,gBAAiB,iBAAkB,YAAa,WAAW94B,QAVvC,SAAAhE,GAAA,OACnB,aAAsB4b,EAAI5b,GACxBJ,IADkC,WAEhC,MAAOgc,GAAGU,QAAQtc,IAEpBkyB,IAJkC,SAI9BlwB,GACF4Z,EAAGU,QAAQtc,GAAYgC,QhIu7MvB,SAAU1D,EAAQD,EAASM,GiIzoNjC,EAAQ,IACR,IAAIwjC,GAAU,EAAQ,GAAuB3iC,MAC7ClB,GAAOD,QAAU,SAAwB4Y,EAAI1T,EAAK6+B,GAChD,MAAOD,GAAQ1iC,eAAewX,EAAI1T,EAAK6+B,KjIipNnC,SAAU9jC,EAAQD,EAASM,GkIppNjC,GAAIgX,GAAU,EAAQ,EAEtBA,GAAQA,EAAQQ,EAAIR,EAAQI,GAAK,EAAQ,IAAmB,UAAYtW,eAAgB,EAAQ,IAAgBof,KlI2pN1G,SAAUvgB,EAAQD,EAASM,GAEjC,YmI5pNA,SAASwiC,GAAUvlB,GAAI,UACrBld,MAAKkd,GAAKA,EACVld,KAAK2jC,YAAc,EACnBzM,EAAMhC,SAAS,cACZ3a,KAAK,SAAAvE,GACJ,IAAI,EAAK4tB,SAAT,CACA,IAAK5tB,EAAM,MAAO,GAAK6tB,KAAK,EAFhB,IAGJjlB,GAA4B5I,EAA5B4I,WAAY+kB,EAAgB3tB,EAAhB2tB,WACpB,GAAKzmB,GAAG+lB,eAAerkB,GAAY,GACnC,EAAK+kB,YAAcA,KAEpB9oB,MAAM,iBAAM,GAAKgpB,KAAK,KnIopN3B,GAAIxqB,GmIlqNaD,EAAQ,GAAjBQ,E,EAAAA,KACFsd,EAAQ9d,EAAQ,GAgBtBqpB,GAAUlhC,UAAUqnB,QAAU,WAC5B5oB,KAAK4jC,UAAW,GAElBnB,EAAUlhC,UAAUsiC,KAAO,SAAczO,GACvCp1B,KAAK2jC,YAAc/vB,KAAK7E,MAAQqmB,GAElCqN,EAAUlhC,UAAUwd,QAAU,WAAmB,UAC/C,MAAI/e,KAAK4jC,UACLhwB,KAAK7E,MAAQ/O,KAAK2jC,aAAtB,CACA3jC,KAAK6jC,KAAK,GAEV,OAAOjqB,IACL9R,OAAQ,MACR+R,IAHU,iCAIVC,OACEmoB,MAAOjiC,KAAKkd,GAAGQ,iBAGhBnD,KAAK,SAAAupB,GACJ,IAAI,EAAKF,SAAT,CACA,GAAIxO,GAAM0O,EAAQ1O,GAClB,KAAKA,EAAK,KAAM,IAAIpnB,OAAM,cAC1BonB,IAAY,GACZ,IACMxW,IACJzc,KAFe,WAEE2hC,EAAQC,YACzB5B,MAHe,WAGG2B,EAAQE,aAC1B5B,OAJe,WAII0B,EAAQG,cAC3B5B,IALe,WAKCyB,EAAQI,WAI1B,OAFA,GAAKhnB,GAAG+lB,eAAerkB,GAAY,GACnC,EAAKilB,KAAKzO,GACH8B,EAAM/B,SACX,cAEEvW,aACA+kB,YAAa,EAAKA,aAEpBvO,MAGHva,MAAM,SAAAD,GAELkD,QAAQC,KAAR,+BAA4CnD,EAAMuE,SAClD,EAAK0kB,KAAK,SAIhBjkC,EAAOD,QAAU8iC,GnIwqNX,SAAU7iC,EAAQD,EAASM,GAEjC,YoI3uNA,IAAI4B,GAAIuX,EAAQ,EAEhBxZ,GAAOD,QAAU,SAASud,GACxB,GAAIinB,GAAgB,MAChB/hC,EAAQL,MAAMR,UAAUa,KAsB5B8a,GAAGknB,QAKDC,GAAI,SAASC,EAAQ7b,EAAUrlB,GAC7B,GAAImhC,GAAOxR,EAAO8I,EAAMxxB,EAAMxD,CAC9B,KAAK4hB,EACH,MAAOzoB,KAST,KAPAskC,EAASA,EAAO/nB,MAAM4nB,GACtBI,EAAQvkC,KAAKwkC,aAAexkC,KAAKwkC,eAKjCzR,EAAQuR,EAAOG,QACR1R,GACLlsB,EAAO09B,EAAMxR,GACb8I,EAAOh1B,EAAOA,EAAKwD,QACnBwxB,EAAK9W,KAAO1a,KACZwxB,EAAKz4B,QAAUA,EACfy4B,EAAKpT,SAAWA,EAChB8b,EAAMxR,IAAW1oB,KAAMA,EAAM0a,KAAMle,EAAOA,EAAKke,KAAO8W,GACtD9I,EAAQuR,EAAOG,OAGjB,OAAOzkC,OAQT0kC,IAAK,SAASJ,EAAQ7b,EAAUrlB,GAC9B,GAAI2vB,GAAOwR,EAAO1I,EAAMxxB,EAAMzG,EAAImT,CAGlC,IAAMwtB,EAAQvkC,KAAKwkC,WAAnB,CAGA,KAAMF,GAAU7b,GAAYrlB,GAE1B,aADOpD,MAAKwkC,WACLxkC,IAOT,KAFAskC,EAASA,EAASA,EAAO/nB,MAAM4nB,GAAiBtiC,EAAEY,KAAK8hC,GACvDxR,EAAQuR,EAAOG,QACR1R,GAGL,GAFA8I,EAAO0I,EAAMxR,SACNwR,GAAMxR,GACR8I,IAAUpT,GAAYrlB,GAA3B,CAMA,IAFAiH,EAAOwxB,EAAKxxB,KACZwxB,EAAOA,EAAK9W,KACL8W,IAASxxB,GACdzG,EAAKi4B,EAAKpT,SACV1R,EAAM8kB,EAAKz4B,SACNqlB,GAAY7kB,IAAO6kB,GAAcrlB,GAAW2T,IAAQ3T,IACvDpD,KAAKqkC,GAAGtR,EAAOnvB,EAAImT,GAErB8kB,EAAOA,EAAK9W,IAEdgO,GAAQuR,EAAOG,QAGjB,MAAOzkC,QAST2kC,QAAS,SAASL,GAChB,GAAIvR,GAAO8I,EAAM0I,EAAOl6B,EAAM5F,EAAMwC,EAAKzC,CACzC,MAAM+/B,EAAQvkC,KAAKwkC,YACjB,MAAOxkC,KAST,KAPAiH,EAAMs9B,EAAMt9B,IACZq9B,EAASA,EAAO/nB,MAAM4nB,GACtB3/B,EAAOpC,EAAM7B,KAAKoD,UAAW,GAI7BovB,EAAQuR,EAAOG,QACR1R,GAAO,CAEZ,GADA8I,EAAO0I,EAAMxR,GAGX,IADA1oB,EAAOwxB,EAAKxxB,MACJwxB,EAAOA,EAAK9W,QAAU1a,GAC5BwxB,EAAKpT,SAAS/kB,MAAMm4B,EAAKz4B,SAAWpD,KAAMwE,EAI9C,IADAq3B,EAAO50B,EAIL,IAFAoD,EAAOwxB,EAAKxxB,KACZ5F,GAAQsuB,GAAOrlB,OAAOlJ,IACdq3B,EAAOA,EAAK9W,QAAU1a,GAC5BwxB,EAAKpT,SAAS/kB,MAAMm4B,EAAKz4B,SAAWpD,KAAMyE,EAG9CsuB,GAAQuR,EAAOG,QAGjB,MAAOzkC,QAOXkd,EAAGknB,OAAO92B,KAAO4P,EAAGknB,OAAOC,GAK3BnnB,EAAGknB,OAAOQ,OAAS1nB,EAAGknB,OAAOM,MpImvNzB,SAAU9kC,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GqI/4NnC7W,EAAIuX,EAAQ,EAGhBxZ,GAAOD,QAAU,SAASud,GAuBxBA,EAAG6J,SAAW,SAAS8d,EAAMC,GACvBjjC,EAAEU,QAAQsiC,IACZ3nB,EAAG6J,SAASge,UAAUF,EAAK,GAAIA,EAAK,IACpC7kC,KAAK0nB,SAAWmd,EAAK,GACrB7kC,KAAK2nB,UAAYkd,EAAK,IACbhjC,EAAEmC,SAAS6gC,IACpB3nB,EAAG6J,SAASge,UAAUF,EAAKnd,SAAUmd,EAAKld,WAC1C3nB,KAAK0nB,SAAWmd,EAAKnd,SACrB1nB,KAAK2nB,UAAYkd,EAAKld,WACb9lB,EAAEsR,SAAS0xB,IAAShjC,EAAEsR,SAAS2xB,IACxC5nB,EAAG6J,SAASge,UAAUF,EAAMC,GAC5B9kC,KAAK0nB,SAAWmd,EAChB7kC,KAAK2nB,UAAYmd,IAEjB9kC,KAAK0nB,SAAW,EAChB1nB,KAAK2nB,UAAY,EAKnB,IAAI5nB,GAAOC,IACPA,MAAKglC,kBAAoBhlC,KAAKilC,mBAGhCjlC,KAAKklC,UAAYllC,KAAK0nB,SACtB1nB,KAAKmlC,WAAanlC,KAAK2nB,UACvB3nB,KAAKglC,iBAAiB,WAAY,WAChC,MAAOjlC,GAAKmlC,YAEdllC,KAAKglC,iBAAiB,YAAa,WACjC,MAAOjlC,GAAKolC,aAEdnlC,KAAKilC,iBAAiB,WAAY,SAASvV,GACzCxS,EAAG6J,SAASge,UAAUrV,EAAK3vB,EAAK4nB,WAChC5nB,EAAKmlC,UAAYxV,IAEnB1vB,KAAKilC,iBAAiB,YAAa,SAASvV,GAC1CxS,EAAG6J,SAASge,UAAUhlC,EAAK2nB,SAAUgI,GACrC3vB,EAAKolC,WAAazV,MAiBxBxS,EAAG6J,SAASge,UAAY,SAASrd,EAAUC,GACzC,GAAID,GAAY,GACd,KAAM,IAAI1Z,OAAM,wBAA0B0Z,EAAW,YAEvD,IAAIA,EAAW,GACb,KAAM,IAAI1Z,OAAM,wBAA0B0Z,EAAW,WAEvD,IAAIC,GAAa,IACf,KAAM,IAAI3Z,OAAM,yBAA2B2Z,EAAY,aAEzD,IAAIA,EAAY,IACd,KAAM,IAAI3Z,OAAM,yBAA2B2Z,EAAY,cAQ3DzK,EAAG6J,SAASqe,QAAU,iBACpB,IAAI,GAAJ,QAAY,SAACpoB,EAASlW,GACpBmiB,UAAUoc,YAAYC,mBAAmB,SAASC,GAChDvoB,EACE,GAAIE,GAAG6J,UACLW,SAAU6d,EAASC,OAAO9d,SAC1BC,UAAW4d,EAASC,OAAO7d,cAG9B7gB,MAGPjF,EAAEsP,OACA+L,EAAG6J,SAASxlB,WAMV+U,OAAQ,WAEN,MADA4G,GAAG6J,SAASge,UAAU/kC,KAAK0nB,SAAU1nB,KAAK2nB,YAExCd,OAAQ,WACRa,SAAU1nB,KAAK0nB,SACfC,UAAW3nB,KAAK2nB,YASpB8d,UAAW,SAASva,GAClB,GAAIwa,GAAMphC,KAAKqhC,GAAK,IAChBC,EAAU5lC,KAAK0nB,SAAWge,EAC1BG,EAAW7lC,KAAK2nB,UAAY+d,EAC5BI,EAAU5a,EAAMxD,SAAWge,EAC3BK,EAAW7a,EAAMvD,UAAY+d,EAC7BM,EAAWJ,EAAUE,EACrBG,EAAYJ,EAAWE,EACvBG,EAAkB5hC,KAAK6hC,IAAIH,EAAW,GACtCI,EAAmB9hC,KAAK6hC,IAAIF,EAAY,GAExC98B,EACF+8B,EAAkBA,EAClB5hC,KAAK+hC,IAAIT,GACPthC,KAAK+hC,IAAIP,GACTM,EACAA,CAEJ,OADAj9B,GAAI7E,KAAKgE,IAAI,EAAKa,GACX,EAAI7E,KAAKgiC,KAAKhiC,KAAKiiC,KAAKp9B,KAQjCq9B,aAAc,SAAStb,GACrB,MAA+B,MAAxBlrB,KAAKylC,UAAUva,IAQxBub,QAAS,SAASvb,GAChB,MAA+B,QAAxBlrB,KAAKylC,UAAUva,QrIm5NxB,SAAUtrB,EAAQD,EAASM,GAEjC,YsI9jOA,IAAI4B,GAAIuX,EAAQ,EAEhBxZ,GAAOD,QAAU,SAASud,GAiBxBA,EAAGyJ,IAAM,SAASke,GAChB,GAAI9kC,GAAOC,IAEX,IADAD,EAAK2mC,mBACD7kC,EAAEmC,SAAS6gC,GACb,GAAIA,YAAgB3nB,GAAGmB,KACrBte,EAAK4mC,cAAc9B,GAAM,GACzB9kC,EAAK6mC,eAAe/B,GAAM,OACrB,CACL,GAAIhjC,EAAEkC,WAAW8gC,GACf,KAAM,IAAI72B,OACR,uDAGJkP,GAAGsL,YAAYqc,EAAM,SAASgC,EAAYC,GACxC,IAAKjlC,EAAEgI,SAASi9B,GACd,KAAM,IAAI94B,OAAM,iDAElBjO,GAAK2mC,gBAAgBI,MACrB5pB,EAAGsL,YAAYqe,EAAY,SAASE,EAASC,GAC3C,GAAmB,SAAfA,GAAwC,UAAfA,EAC3B,KAAM,IAAIh5B,OACR,0DAGJ,KAAKnM,EAAE2J,UAAUu7B,GACf,KAAM,IAAI/4B,OACR,2DAGJjO,GAAK2mC,gBAAgBI,GAAQE,GAAcD,QAWrD7pB,EAAGyJ,IAAIplB,UAAU+U,OAAS,WACxB,MAAOzU,GAAE6G,MAAM1I,KAAK0mC,kBAGtBxpB,EAAGyJ,IAAIplB,UAAU0lC,WAAa,SAASC,EAAYJ,EAAQC,GAMzD,GALID,YAAkB5pB,GAAGmB,KACvByoB,EAASA,EAAO/xB,GACP+xB,YAAkB5pB,GAAGiqB,OAC9BL,EAAS,QAAUA,EAAOM,YAEvBvlC,EAAEgI,SAASi9B,GACd,KAAM,IAAI94B,OAAM,2BAElB,KAAKnM,EAAE2J,UAAUu7B,GACf,KAAM,IAAI/4B,OAAM,wCAElB,IAAIq5B,GAAcrnC,KAAK0mC,gBAAgBI,EACvC,KAAKO,EAAa,CAChB,IAAKN,EAEH,MAEAM,MACArnC,KAAK0mC,gBAAgBI,GAAUO,EAI/BN,EACF/mC,KAAK0mC,gBAAgBI,GAAQI,IAAc,SAEpCG,GAAYH,GACfrlC,EAAE6Q,QAAQ20B,UACLrnC,MAAK0mC,gBAAgBI,KAKlC5pB,EAAGyJ,IAAIplB,UAAU+lC,WAAa,SAASJ,EAAYJ,GAC7CA,YAAkB5pB,GAAGmB,KACvByoB,EAASA,EAAO/xB,GACP+xB,YAAkB5pB,GAAGiqB,OAC9BL,EAAS,QAAUA,EAAOM,UAE5B,IAAIC,GAAcrnC,KAAK0mC,gBAAgBI,EACvC,SAAKO,KAGEA,EAAYH,IAQrBhqB,EAAGyJ,IAAIplB,UAAUolC,cAAgB,SAASG,EAAQC,GAChD/mC,KAAKinC,WAAW,OAAQH,EAAQC,IAWlC7pB,EAAGyJ,IAAIplB,UAAUgmC,cAAgB,SAAST,GACxC,MAAO9mC,MAAKsnC,WAAW,OAAQR,IAQjC5pB,EAAGyJ,IAAIplB,UAAUqlC,eAAiB,SAASE,EAAQC,GACjD/mC,KAAKinC,WAAW,QAASH,EAAQC,IAWnC7pB,EAAGyJ,IAAIplB,UAAUimC,eAAiB,SAASV,GACzC,MAAO9mC,MAAKsnC,WAAW,QAASR,IAOlC5pB,EAAGyJ,IAAIplB,UAAUkmC,oBAAsB,SAASV,GAC9C/mC,KAAK2mC,cAzJU,IAyJgBI,IAOjC7pB,EAAGyJ,IAAIplB,UAAUmmC,oBAAsB,WACrC,MAAO1nC,MAAKunC,cAjKG,MAwKjBrqB,EAAGyJ,IAAIplB,UAAUomC,qBAAuB,SAASZ,GAC/C/mC,KAAK4mC,eAzKU,IAyKiBG,IAOlC7pB,EAAGyJ,IAAIplB,UAAUqmC,qBAAuB,WACtC,MAAO5nC,MAAKwnC,eAjLG,MA6LjBtqB,EAAGyJ,IAAIplB,UAAUsmC,kBAAoB,SAASC,GAK5C,GAJIA,YAAgB5qB,GAAGiqB,OAErBW,EAAOA,EAAKV,WAEVvlC,EAAEgI,SAASi+B,GACb,MAAO9nC,MAAKunC,cAAc,QAAUO,EAEtC,MAAM,IAAI95B,OAAM,uCAYlBkP,EAAGyJ,IAAIplB,UAAUwmC,mBAAqB,SAASD,GAK7C,GAJIA,YAAgB5qB,GAAGiqB,OAErBW,EAAOA,EAAKV,WAEVvlC,EAAEgI,SAASi+B,GACb,MAAO9nC,MAAKwnC,eAAe,QAAUM,EAEvC,MAAM,IAAI95B,OAAM,uCAWlBkP,EAAGyJ,IAAIplB,UAAUymC,kBAAoB,SAASF,EAAMf,GAKlD,GAJIe,YAAgB5qB,GAAGiqB,OAErBW,EAAOA,EAAKV,WAEVvlC,EAAEgI,SAASi+B,GAEb,WADA9nC,MAAK2mC,cAAc,QAAUmB,EAAMf,EAGrC,MAAM,IAAI/4B,OAAM,uCAWlBkP,EAAGyJ,IAAIplB,UAAU0mC,mBAAqB,SAASH,EAAMf,GAKnD,GAJIe,YAAgB5qB,GAAGiqB,OAErBW,EAAOA,EAAKV,WAEVvlC,EAAEgI,SAASi+B,GAEb,WADA9nC,MAAK4mC,eAAe,QAAUkB,EAAMf,EAGtC,MAAM,IAAI/4B,OAAM,yCtIikOd,SAAUpO,EAAQD,EAASM,GAEjC,YuIv0OA,IAAI4B,GAAIuX,EAAQ,EAEhBxZ,GAAOD,QAAU,SAASud,GAcxBA,EAAGgK,GAAK,WACNlnB,KAAKkoC,YAAYxkC,MAAM1D,KAAM2D,YAG/B9B,EAAEsP,OACA+L,EAAGgK,GAAG3lB,WAEJ2mC,YAAa,eAIjBrmC,EAAEsP,OAAO+L,EAAGgK,IAKVhB,QAAShJ,EAAGgJ,QAGZiiB,iBAOAC,iBAAkB,SAASC,EAAQC,GACjCprB,EAAGgK,GAAGihB,cAAcE,GAAUC,GAOhCjhB,QAAS,SAASkhB,GAChB,GAAID,GAAUprB,EAAGgK,GAAGihB,cAAcI,EAAKjhB,KACvC,OAAIghB,GACKA,EAAQC,OAEf,MAQNrrB,EAAGgK,GAAGkhB,iBAAiB,QAAS,SAASG,GACvC,GAAIC,GAAK,IAKT,OAJAtrB,GAAGiL,WAAWogB,EAAKE,IAAK,SAASC,GAC/BA,EAASxrB,EAAGgK,GAAGG,QAAQqhB,GACvBF,EAAKE,EAAOC,mBAAmBH,KAE1BA,IAUTtrB,EAAGgK,GAAG0hB,IAAM1rB,EAAGgK,GAAGhB,SAEdgiB,YAAa,SAAS5kC,GACpBtD,KAAK6oC,OAASvlC,GAMhBA,MAAO,WACL,MAAOtD,MAAK6oC,QAOdvyB,OAAQ,WACN,MAAO4G,GAAGkJ,QAAQpmB,KAAKsD,UAGzBqlC,mBAAoB,SAAS/5B,GAC3B,MAAO5O,OAGT8oC,UAAW,SAASC,GAClB,MAAO/oC,MAAKsD,WAUlB4Z,EAAGgK,GAAG8hB,UAQN9rB,EAAGgK,GAAG+hB,MAAQ/rB,EAAGgK,GAAGhB,SAMhB5P,OAAQ,WACN,OAASgR,KAAM,WAGjBqhB,mBAAoB,SAAS/5B,GAC3B,MAAO5O,OAGT8oC,UAAW,SAASC,GAClB,MAAO7rB,GAAGgK,GAAG8hB,UAKnB9rB,EAAGgK,GAAGkhB,iBAAiB,SAAU,SAASG,GACxC,MAAO,IAAIrrB,GAAGgK,GAAG+hB,QASnB/rB,EAAGgK,GAAGgiB,UAAYhsB,EAAGgK,GAAGhB,SAEpBgiB,YAAa,SAASiB,GACpBnpC,KAAKopC,QAAUD,GAOjBA,OAAQ,WACN,MAAOnpC,MAAKopC,SAOd9yB,OAAQ,WACN,OAASgR,KAAM,YAAa6hB,OAAQnpC,KAAKopC,UAG3CT,mBAAoB,SAAS/5B,GAC3B,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI5oC,KAAKmpC,SACrB,IAAIv6B,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAIh6B,EAAStL,QAAUtD,KAAKmpC,SACxC,IAAIv6B,YAAoBsO,GAAGgK,GAAGgiB,UACnC,MAAO,IAAIhsB,GAAGgK,GAAGgiB,UAAUlpC,KAAKmpC,SAAWv6B,EAASu6B,SAEpD,MAAM,IAAIn7B,OAAM,oCARhB,MAAOhO,OAYX8oC,UAAW,SAASC,GAClB,MAAKA,GAGEA,EAAW/oC,KAAKmpC,SAFdnpC,KAAKmpC,YAOpBjsB,EAAGgK,GAAGkhB,iBAAiB,YAAa,SAASG,GAC3C,MAAO,IAAIrrB,GAAGgK,GAAGgiB,UAAUX,EAAKY,UASlCjsB,EAAGgK,GAAGmiB,OAASnsB,EAAGgK,GAAGhB,SAEjBgiB,YADmC,SACvB5kC,GACVtD,KAAK6oC,OAASvlC,GAGhBA,MALmC,WAMjC,MAAOtD,MAAK6oC,QAOdvyB,OAbmC,WAcjC,OAASgR,KAAM,SAAUhkB,MAAOtD,KAAKsD,UAGvCqlC,mBAjBmC,SAiBhB/5B,GACjB,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI,EAChB,IAAIh6B,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAIh6B,EAAStL,QAAUtD,KAAKsD,QAE7C,MAAM,IAAI0K,OAAM,oCANhB,MAAOhO,OAUX8oC,UA7BmC,SA6BzBC,GACR,MAAOA,GAAW/oC,KAAKsD,WAK7B4Z,EAAGgK,GAAGkhB,iBAAiB,SAAU,SAASG,GACxC,MAAO,IAAIrrB,GAAGgK,GAAGmiB,OAAOd,EAAKjlC,SAS/B4Z,EAAGgK,GAAGoiB,MAAQpsB,EAAGgK,GAAGhB,SAEhBgiB,YADkC,SACtB5kC,GACVtD,KAAK6oC,OAASvlC,GAGhBA,MALkC,WAMhC,MAAOtD,MAAK6oC,QAOdvyB,OAbkC,WAchC,OAASgR,KAAM,QAAShkB,MAAOtD,KAAKsD,UAGtCqlC,mBAjBkC,SAiBf/5B,GACjB,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI5oC,KAAKsD,QACrB,IAAIsL,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAIh6B,EAAStL,QAAUtD,KAAKsD,QAE7C,MAAM,IAAI0K,OAAM,oCANhB,MAAOhO,OAUX8oC,UA7BkC,SA6BxBC,GACR,MAAOA,GAAW/oC,KAAKsD,WAK7B4Z,EAAGgK,GAAGkhB,iBAAiB,QAAS,SAASG,GACvC,MAAO,IAAIrrB,GAAGgK,GAAGoiB,MAAMf,EAAKjlC,SAS9B4Z,EAAGgK,GAAGqiB,OAASrsB,EAAGgK,GAAGhB,SAEjBgiB,YADmC,SACvB5kC,GACVtD,KAAK6oC,OAASvlC,GAGhBA,MALmC,WAMjC,MAAOtD,MAAK6oC,QAOdvyB,OAbmC,WAcjC,OAASgR,KAAM,SAAUhkB,MAAOtD,KAAKsD,UAGvCqlC,mBAjBmC,SAiBhB/5B,GACjB,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI5oC,KAAKsD,QACrB,IAAIsL,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAIh6B,EAAStL,QAAUtD,KAAKsD,QAE7C,MAAM,IAAI0K,OAAM,oCANhB,MAAOhO,OAUX8oC,UA7BmC,SA6BzBC,GACR,MAAOA,GAAW/oC,KAAKsD,WAK7B4Z,EAAGgK,GAAGkhB,iBAAiB,SAAU,SAASG,GACxC,MAAO,IAAIrrB,GAAGgK,GAAGqiB,OAAOhB,EAAKjlC,SAS/B4Z,EAAGgK,GAAGsiB,IAAMtsB,EAAGgK,GAAGhB,SAEdgiB,YAAa,SAASuB,GACpBzpC,KAAK0pC,SAAWD,GAOlBA,QAAS,WACP,MAAOzpC,MAAK0pC,UAOdpzB,OAAQ,WACN,OAASgR,KAAM,MAAOmiB,QAASvsB,EAAGkJ,QAAQpmB,KAAKypC,aAGjDd,mBAAoB,SAAS/5B,GAC3B,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI5oC,KAAKypC,UACrB,IAAI76B,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAI5oC,KAAK8oC,UAAUl6B,EAAStL,SACxC,IAAIsL,YAAoBsO,GAAGgK,GAAGsiB,IACnC,MAAO,IAAItsB,GAAGgK,GAAGsiB,IAAI56B,EAAS66B,UAAU/7B,OAAO1N,KAAKypC,WAEpD,MAAM,IAAIz7B,OAAM,oCARhB,MAAOhO,OAYX8oC,UAAW,SAASC,GAClB,MAAKA,GAGIA,EAASr7B,OAAO1N,KAAKypC,WAFrB5nC,EAAE6G,MAAM1I,KAAKypC,cAQ5BvsB,EAAGgK,GAAGkhB,iBAAiB,MAAO,SAASG,GACrC,MAAO,IAAIrrB,GAAGgK,GAAGsiB,IAAItsB,EAAGmK,QAAQkhB,EAAKkB,YAUvCvsB,EAAGgK,GAAGyiB,UAAYzsB,EAAGgK,GAAGhB,SAEpBgiB,YAAa,SAASuB,GACpBzpC,KAAK0pC,SAAW7nC,EAAEwJ,KAAKo+B,IAOzBA,QAAS,WACP,MAAOzpC,MAAK0pC,UAOdpzB,OAAQ,WACN,OAASgR,KAAM,YAAamiB,QAASvsB,EAAGkJ,QAAQpmB,KAAKypC,aAGvDd,mBAAoB,SAAS/5B,GAC3B,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAO,IAAI/rB,GAAGgK,GAAG0hB,IAAI5oC,KAAKypC,UACrB,IAAI76B,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAI5oC,KAAK8oC,UAAUl6B,EAAStL,SACxC,IAAIsL,YAAoBsO,GAAGgK,GAAGyiB,UACnC,MAAO,IAAIzsB,GAAGgK,GAAGyiB,UAAU3pC,KAAK8oC,UAAUl6B,EAAS66B,WAEnD,MAAM,IAAIz7B,OAAM,oCARhB,MAAOhO,OAYX8oC,UAAW,SAASC,GAClB,GAAKA,EAEE,CAIL,GAAIa,GAAW/nC,EAAE6G,MAAMqgC,EAgBvB,OAfA7rB,GAAGiL,WAAWnoB,KAAKypC,UAAW,SAAS5mC,GACrC,GAAIA,YAAeqa,GAAGpc,QAAU+B,EAAIkS,GAAI,CACtC,GAAI80B,GAAchoC,EAAEwE,KAAKujC,EAAU,SAASE,GAC1C,MAAOA,aAAiB5sB,GAAGpc,QAAUgpC,EAAM/0B,KAAOlS,EAAIkS,IAExD,IAAK80B,EAEE,CACL,GAAItmC,GAAQ1B,EAAE8F,QAAQiiC,EAAUC,EAChCD,GAASrmC,GAASV,MAHlB+mC,GAASznC,KAAKU,OAKNhB,GAAEuF,SAASwiC,EAAU/mC,IAC/B+mC,EAASznC,KAAKU,KAGX+mC,EArBP,MAAO/nC,GAAE6G,MAAM1I,KAAKypC,cA2B5BvsB,EAAGgK,GAAGkhB,iBAAiB,YAAa,SAASG,GAC3C,MAAO,IAAIrrB,GAAGgK,GAAGyiB,UAAUzsB,EAAGmK,QAAQkhB,EAAKkB,YAS7CvsB,EAAGgK,GAAG6iB,OAAS7sB,EAAGgK,GAAGhB,SAEjBgiB,YAAa,SAASuB,GACpBzpC,KAAK0pC,SAAW7nC,EAAEwJ,KAAKo+B,IAOzBA,QAAS,WACP,MAAOzpC,MAAK0pC,UAOdpzB,OAAQ,WACN,OAASgR,KAAM,SAAUmiB,QAASvsB,EAAGkJ,QAAQpmB,KAAKypC,aAGpDd,mBAAoB,SAAS/5B,GAC3B,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,MAAOr6B,EACF,IAAIA,YAAoBsO,GAAGgK,GAAG0hB,IACnC,MAAO,IAAI1rB,GAAGgK,GAAG0hB,IAAI5oC,KAAK8oC,UAAUl6B,EAAStL,SACxC,IAAIsL,YAAoBsO,GAAGgK,GAAG6iB,OACnC,MAAO,IAAI7sB,GAAGgK,GAAG6iB,OAAOloC,EAAE6J,MAAMkD,EAAS66B,UAAWzpC,KAAKypC,WAEzD,MAAM,IAAIz7B,OAAM,oCARhB,MAAOhO,OAYX8oC,UAAW,SAASC,GAClB,GAAKA,EAEE,CACL,GAAIa,GAAW/nC,EAAEuJ,WAAW29B,EAAU/oC,KAAKypC,UAS3C,OAPAvsB,GAAGiL,WAAWnoB,KAAKypC,UAAW,SAAS5mC,GACjCA,YAAeqa,GAAGpc,QAAU+B,EAAIkS,KAClC60B,EAAW/nC,EAAEiF,OAAO8iC,EAAU,SAASI,GACrC,MAAOA,aAAiB9sB,GAAGpc,QAAUkpC,EAAMj1B,KAAOlS,EAAIkS,QAIrD60B,EAXP,YAiBR1sB,EAAGgK,GAAGkhB,iBAAiB,SAAU,SAASG,GACxC,MAAO,IAAIrrB,GAAGgK,GAAG6iB,OAAO7sB,EAAGmK,QAAQkhB,EAAKkB,YAU1CvsB,EAAGgK,GAAGD,SAAW/J,EAAGgK,GAAGhB,SAEnBgiB,YAAa,SAAS+B,EAAMC,GAC1BlqC,KAAKmqC,iBAAmB,IAExB,IAAIpqC,GAAOC,KAEPoqC,EAAc,SAAS/oC,GACzB,GAAIA,YAAkB6b,GAAGpc,OAAQ,CAC/B,IAAKO,EAAO0T,GACV,KAAM,IAAI/G,OACR,oDAMJ,IAHKjO,EAAKoqC,mBACRpqC,EAAKoqC,iBAAmB9oC,EAAO8Q,WAE7BpS,EAAKoqC,mBAAqB9oC,EAAO8Q,UACnC,KAAM,IAAInE,OACR,yDACEjO,EAAKoqC,iBACL,QACA9oC,EAAO8Q,UACP,IAGN,OAAO9Q,GAAO0T,GAEhB,MAAO1T,GAGTrB,MAAKqqC,eAAiBxoC,EAAEwJ,KAAKxJ,EAAE0D,IAAI0kC,EAAMG,IACzCpqC,KAAKsqC,kBAAoBzoC,EAAEwJ,KAAKxJ,EAAE0D,IAAI2kC,EAASE,KAQjDG,MAAO,WACL,GAAIxqC,GAAOC,IACX,OAAO6B,GAAE0D,IAAIvF,KAAKqqC,eAAgB,SAAS1qB,GACzC,GAAIte,GAAS6b,EAAGpc,OAAO0mB,QAAQznB,EAAKoqC,iBAEpC,OADA9oC,GAAO0T,GAAK4K,EACLte,KASXmpC,QAAS,WACP,GAAIzqC,GAAOC,IACX,OAAO6B,GAAE0D,IAAIvF,KAAKsqC,kBAAmB,SAAS3qB,GAC5C,GAAIte,GAAS6b,EAAGpc,OAAO0mB,QAAQznB,EAAKoqC,iBAEpC,OADA9oC,GAAO0T,GAAK4K,EACLte,KAQXiV,OAAQ,WACN,GAAI2zB,GAAO,KACPC,EAAU,KACVnqC,EAAOC,KACPyqC,EAAc,SAAS11B,GACzB,OACE8R,OAAQ,UACR1U,UAAWpS,EAAKoqC,iBAChBxqB,SAAU5K,IAGV21B,EAAW,IAWf,OAVI1qC,MAAKqqC,eAAehmC,OAAS,IAC/BqmC,EAAW7oC,EAAE0D,IAAIvF,KAAKqqC,eAAgBI,GACtCR,GAAS3iB,KAAM,cAAemiB,QAASiB,IAGrC1qC,KAAKsqC,kBAAkBjmC,OAAS,IAClCqmC,EAAW7oC,EAAE0D,IAAIvF,KAAKsqC,kBAAmBG,GACzCP,GAAY5iB,KAAM,iBAAkBmiB,QAASiB,IAG3CT,GAAQC,GACD5iB,KAAM,QAASmhB,KAAMwB,EAAMC,IAG/BD,GAAQC,OAGjBvB,mBAAoB,SAAS/5B,GAC3B,GAAKA,EAEE,IAAIA,YAAoBsO,GAAGgK,GAAG+hB,MACnC,KAAM,IAAIj7B,OAAM,iDACX,IAAIY,YAAoBsO,GAAGgK,GAAGD,SAAU,CAC7C,GACErY,EAASu7B,kBACTv7B,EAASu7B,mBAAqBnqC,KAAKmqC,iBAEnC,KAAM,IAAIn8B,OACR,mCACEY,EAASu7B,iBACT,SACAnqC,KAAKmqC,iBACL,kBAGN,IAAIQ,GAAS9oC,EAAE6J,MACb7J,EAAEuJ,WAAWwD,EAASy7B,eAAgBrqC,KAAKsqC,mBAC3CtqC,KAAKqqC,gBAEHO,EAAY/oC,EAAE6J,MAChB7J,EAAEuJ,WAAWwD,EAAS07B,kBAAmBtqC,KAAKqqC,gBAC9CrqC,KAAKsqC,mBAGHO,EAAc,GAAI3tB,GAAGgK,GAAGD,SAAS0jB,EAAQC,EAE7C,OADAC,GAAYV,iBAAmBnqC,KAAKmqC,iBAC7BU,EAEP,KAAM,IAAI78B,OAAM,oCA7BhB,MAAOhO,OAiCX8oC,UAAW,SAASC,EAAU1nC,EAAQwD,GACpC,GAAKkkC,EAGE,IAAIA,YAAoB7rB,GAAG+J,SAAU,CAC1C,GAAIjnB,KAAKmqC,iBACP,GAAIpB,EAASlhB,iBACX,GAAIkhB,EAASlhB,kBAAoB7nB,KAAKmqC,iBACpC,KAAM,IAAIn8B,OACR,4BACE+6B,EAASlhB,gBACT,WACA7nB,KAAKmqC,iBACL,uBAINpB,GAASlhB,gBAAkB7nB,KAAKmqC,gBAGpC,OAAOpB,GAEP,KAAM,IAAI/6B,OAAM,oCApBD,GAAIkP,GAAG+J,SAAS5lB,EAAQwD,GAC9BgjB,gBAAkB7nB,KAAKmqC,oBAyBxCjtB,EAAGgK,GAAGkhB,iBAAiB,cAAe,SAASG,GAC7C,MAAO,IAAIrrB,GAAGgK,GAAGD,SAAS/J,EAAGmK,QAAQkhB,EAAKkB,eAE5CvsB,EAAGgK,GAAGkhB,iBAAiB,iBAAkB,SAASG,GAChD,MAAO,IAAIrrB,GAAGgK,GAAGD,YAAa/J,EAAGmK,QAAQkhB,EAAKkB,cvIiyO5C,SAAU7pC,EAAQD,EAASM,GAEjC,YwIt+PA,IAAI4B,GAAIuX,EAAQ,EAEhBxZ,GAAOD,QAAU,SAASud,GAgBxBA,EAAG+J,SAAW,SAASnL,EAAQjX,GAC7B,IAAKhD,EAAEgI,SAAShF,GACd,KAAM,IAAI0I,WAAU,uBAEtBvN,MAAK8b,OAASA,EACd9b,KAAK6E,IAAMA,EACX7E,KAAK6nB,gBAAkB,MAUzB3K,EAAG+J,SAAS6jB,aAAe,SAASC,EAAaC,EAAa/uB,GAC5D,GAAInC,GAAQ,GAAIoD,GAAG+tB,MAAMF,EAEzB,OADAjxB,GAAMoxB,QAAQF,EAAa/uB,EAAMyK,cAC1B5M,GAGTjY,EAAEsP,OACA+L,EAAG+J,SAAS1lB,WAMV4pC,oBAAqB,SAASrvB,EAAQjX,GAGpC,GAFA7E,KAAK8b,OAAS9b,KAAK8b,QAAUA,EAC7B9b,KAAK6E,IAAM7E,KAAK6E,KAAOA,EACnB7E,KAAK8b,SAAWA,EAClB,KAAM,IAAI9N,OACR,iEAGJ,IAAIhO,KAAK6E,MAAQA,EACf,KAAM,IAAImJ,OACR,gEASNo9B,IAAK,SAAS3B,GACP5nC,EAAEU,QAAQknC,KACbA,GAAWA,GAGb,IAAI4B,GAAS,GAAInuB,GAAGgK,GAAGD,SAASwiB,KAChCzpC,MAAK8b,OAAO0X,IAAIxzB,KAAK6E,IAAKwmC,GAC1BrrC,KAAK6nB,gBAAkBwjB,EAAOlB,kBAOhCmB,OAAQ,SAAS7B,GACV5nC,EAAEU,QAAQknC,KACbA,GAAWA,GAGb,IAAI4B,GAAS,GAAInuB,GAAGgK,GAAGD,YAAawiB,EACpCzpC,MAAK8b,OAAO0X,IAAIxzB,KAAK6E,IAAKwmC,GAC1BrrC,KAAK6nB,gBAAkBwjB,EAAOlB,kBAOhC7zB,OAAQ,WACN,OAASuQ,OAAQ,WAAY1U,UAAWnS,KAAK6nB,kBAQ/C/N,MAAO,WACL,GAAIyxB,GACAzxB,CAYJ,OAXK9Z,MAAK6nB,iBAKR0jB,EAAcruB,EAAGpc,OAAO0qC,aAAaxrC,KAAK6nB,iBAC1C/N,EAAQ,GAAIoD,GAAG+tB,MAAMM,KALrBA,EAAcruB,EAAGpc,OAAO0qC,aAAaxrC,KAAK8b,OAAO3J,WACjD2H,EAAQ,GAAIoD,GAAG+tB,MAAMM,GACrBzxB,EAAM2xB,eAAeC,wBAA0B1rC,KAAK6E,KAKtDiV,EAAM6xB,cAAc,aAAc,SAAU3rC,KAAK8b,OAAO4K,cACxD5M,EAAM6xB,cAAc,aAAc,MAAO3rC,KAAK6E,KAEvCiV,OxI2+PT,SAAUla,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GyIvmQjC7W,EAAIuX,EAAQ,GACZitB,EAAMjtB,EAAQ,KACdwyB,EAAQxyB,EAAQ,KAChByyB,EAAKzyB,EAAQ,KACbyH,EAAUzH,EAAQ,IAClB0yB,EAAY1yB,EAAQ,GAAaqG,SzI6mQnCpG,EyI5mQmCD,EAAQ,GAAvCzH,E,EAAAA,IAAKyJ,E,EAAAA,sBACP9B,EAAQF,EAAQ,IAAS,kBACzB2yB,EAAc3yB,EAAQ,IAE5BxZ,GAAOD,QAAU,SAASud,GACxB,GAAM8uB,GAAW,iBACf1nC,MAAKgI,MAA4B,OAArB,EAAIhI,KAAKmE,WAClBpG,SAAS,IACTkjB,UAAU,IAIT0mB,EAAU,SAAAlnC,GACd,MAAKlD,GAAEgI,SAAS9E,GACTA,EAAK+E,MACV,iEACA,GAH4B,IAM1BoiC,EAAW,SAAAC,GACf,GAAIA,EAAS,GACX,MAAO16B,QAAOqkB,aAAa,GAAKqW,EAElC,IAAIA,EAAS,GACX,MAAO16B,QAAOqkB,aAAmBqW,EAAS,GAAf,GAE7B,IAAIA,EAAS,GACX,MAAO16B,QAAOqkB,aAAmBqW,EAAS,GAAf,GAE7B,IAAe,KAAXA,EACF,MAAO,GAET,IAAe,KAAXA,EACF,MAAO,GAET,MAAM,IAAIn+B,OAAM,+BAAiCm+B,EAAS,gBAGxDC,EAAe,SAAShiC,GAC1B,GAAIiiC,KAiBJ,OAhBAA,GAAOhoC,OAASC,KAAKyI,KAAK3C,EAAM/F,OAAS,GACzCxC,EAAEgO,MAAMw8B,EAAOhoC,OAAQ,SAASjE,GAC9B,GAAIksC,GAAKliC,EAAU,EAAJhK,GACXmsC,EAAKniC,EAAU,EAAJhK,EAAQ,IAAM,EACzBosC,EAAKpiC,EAAU,EAAJhK,EAAQ,IAAM,EAEzBqsC,EAAW,EAAJrsC,EAAQ,EAAIgK,EAAM/F,OACzBqoC,EAAW,EAAJtsC,EAAQ,EAAIgK,EAAM/F,MAE7BgoC,GAAOjsC,IACL8rC,EAAUI,GAAM,EAAK,IACrBJ,EAAWI,GAAM,EAAK,GAAUC,GAAM,EAAK,IAC3CE,EAAOP,EAAWK,GAAM,EAAK,GAAUC,GAAM,EAAK,GAAS,IAC3DE,EAAOR,EAAc,GAALM,GAAa,KAC7Bt4B,KAAK,MAEFm4B,EAAOn4B,KAAK,IAiCrBgJ,GAAGiK,KAAO,SAASxmB,EAAMqV,EAAM22B,GAS7B,GARA3sC,KAAKqoB,YACH1nB,OACAkZ,IAAK,GACL+yB,YAEAC,OAAQ,IAGNhrC,EAAEgI,SAASmM,GACb,KAAM,IAAIzI,WACR,0DAGA1L,GAAEU,QAAQyT,KACZhW,KAAKqoB,WAAWukB,SAAS7iC,KAAOiM,EAAK3R,OACrC2R,GAAS62B,OAAQT,EAAap2B,KAGhChW,KAAK8sC,SAAW,GAChB9sC,KAAK+sC,MAAQ/2B,EACbhW,KAAKgtC,kBAEDh3B,GAAQA,EAAKi3B,MAAiC,gBAAlBj3B,GAAKi3B,KAAKC,MACxCltC,KAAK8sC,SAAWb,EAAQj2B,EAAKi3B,KAAKC,MAGhB,mBAATC,OAAwBn3B,YAAgBm3B,QAC7Cn3B,EAAKjM,OACP/J,KAAKqoB,WAAWukB,SAAS7iC,KAAOiM,EAAKjM,MAEnCiM,EAAKrV,OACPX,KAAK8sC,SAAWb,EAAQj2B,EAAKrV,OAKjC,IAAIysC,SACJ,IAAIp3B,GAAQA,EAAKo3B,MACfA,EAAQp3B,EAAKo3B,UACR,KAAKlwB,EAAGU,QAAQQ,mBACrB,IACEgvB,EAAQlwB,EAAGmB,KAAK+mB,UAChB,MAAOxqB,GACP,GAAI,2BAA6BA,EAAMsE,KACrC,KAAMtE,GAKZ5a,KAAKqoB,WAAWukB,SAASQ,MAAQA,EAAQA,EAAMr4B,GAAK,UAEpD/U,KAAKwzB,IAAI,YAAamZ,IAaxBzvB,EAAGiK,KAAKkmB,QAAU,SAAS1sC,EAAMkZ,EAAK+yB,EAAU16B,GAC9C,IAAKvR,IAASkZ,EACZ,KAAM,IAAI7L,OAAM,mCAElB,IAAI8Z,GAAO,GAAI5K,GAAGiK,KAAKxmB,EAAM,KAAMuR,EAEnC,IAAI06B,EACF,IAAK,GAAIr8B,KAAQq8B,GACV9kB,EAAKO,WAAWukB,SAASr8B,KAC5BuX,EAAKO,WAAWukB,SAASr8B,GAAQq8B,EAASr8B,GAMhD,OAHAuX,GAAKO,WAAWxO,IAAMA,EAEtBiO,EAAKO,WAAWukB,SAASU,SAAW,WAC7BxlB,GAQT5K,EAAGiK,KAAKomB,kBAAoB,SAAS5tB,GACnC,GAAImI,GAAO,GAAI5K,GAAGiK,IAElB,OADAW,GAAK/S,GAAK4K,EACHmI,GAGTjmB,EAAEsP,OACA+L,EAAGiK,KAAK5lB,WAEN4Q,UAAW,QAEXsU,YAH8B,SAGlBJ,GAA0B,WAAbE,IAAa,yDAChCgiB,EAAO1mC,EAAE6G,MAAM1I,KAAKqoB,WAoBxB,OAnBAnL,GAAGsL,YAAY+f,EAAM,SAAS7Y,EAAK7qB,GACjC0jC,EAAK1jC,GAAOqY,EAAGkJ,QAAQsJ,EAAKrJ,MAAanO,GAAWqO,KAEtDrJ,EAAGsL,YAAYxoB,KAAKwtC,YAAa,SAAS9d,EAAK7qB,GAC7C0jC,EAAK1jC,GAAO6qB,IAGV7tB,EAAEiD,IAAI9E,KAAM,QACduoC,EAAK5oB,SAAW3f,KAAK+U,IAEvBlT,GAAG,YAAa,cAAcwD,KAAK,SAAAR,GACjC,GAAIhD,EAAEiD,IAAI,EAAMD,GAAM,CACpB,GAAM6qB,GAAM,EAAK7qB,EACjB0jC,GAAK1jC,GAAOhD,EAAE+kB,OAAO8I,GAAOA,EAAIpZ,SAAWoZ,KAG3CnJ,IACFgiB,EAAK1hB,OAAS,QAET0hB,GASTkF,WAjC8B,WAiCD,GAAlBpnB,GAAkB,yDAC3B,OAAOrmB,MAAKymB,YAAYJ,IAO1B/P,OAzC8B,SAyCvBzR,EAAK6oC,GAA8B,GAAtBrnB,GAAsB,wDAAPrmB,KACjC,OAAOA,MAAKymB,YAAYJ,GAAa,IAOvCK,WAjD8B,WAkD5B,OACEG,OAAQ,UACR1U,UAAWnS,KAAKmS,UAChBwN,SAAU3f,KAAK+U,KAQnB44B,OA7D8B,WA8D5B,MAAO3tC,MAAK4tC,MAOdC,OArE8B,SAqEvBC,GACL,MAAMA,aAAe5wB,GAAGyJ,KAGxB3mB,KAAK4tC,KAAOE,EACL9tC,MAHE,GAAI6gB,GAAQA,EAAQC,YAAa,0BAW5CngB,KAlF8B,WAmF5B,MAAOX,MAAKkB,IAAI,SAQlB2Y,IA3F8B,WA4F5B,MAAO7Z,MAAKkB,IAAI,QAQlBA,IApG8B,SAoG1B6sC,GACF,OAAQA,GACN,IAAK,WACH,MAAO/tC,MAAK+U,EACd,KAAK,MACL,IAAK,OACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,YACH,MAAO/U,MAAKqoB,WAAW0lB,EACzB,SACE,MAAO/tC,MAAKqoB,WAAWukB,SAASmB,KAWtCva,IA3H8B,WA2HjB,eACLA,EAAM,SAACua,EAAUzqC,GACrB,OAAQyqC,GACN,IAAK,OACL,IAAK,MACL,IAAK,YACL,IAAK,SACL,IAAK,WACH,EAAK1lB,WAAW0lB,GAAYzqC,CAC5B,MACF,SAEE,EAAK+kB,WAAWukB,SAASmB,GAAYzqC,IAZhC,mBAANmB,EAAM,qBAANA,EAAM,eAiBX,QAAQA,EAAKJ,QACX,IAAK,GAEH,IAAK,GAAI+iB,KAAK3iB,GAAK,GACjB+uB,EAAIpM,EAAG3iB,EAAK,GAAG2iB,GAEjB,MACF,KAAK,GACHoM,EAAI/uB,EAAK,GAAIA,EAAK,IAGtB,MAAOzE,OAWTguC,gBAlK8B,SAkKdnpC,EAAKvB,GAEnB,MADAtD,MAAKgtC,eAAenoC,GAAOvB,EACpBtD,MAeT4sC,SAnL8B,SAmLrBqB,EAAM3qC,GACb,MAAI2qC,IAAQ3qC,GACVtD,KAAKqoB,WAAWukB,SAASqB,GAAQ3qC,EAC1BtD,MACEiuC,IAAS3qC,EACXtD,KAAKqoB,WAAWukB,SAASqB,GAEzBjuC,KAAKqoB,WAAWukB,UAc3BsB,aAxM8B,SAyM5BC,EACAC,GAIA,GAHAC,GAGA,uDAHU,IACVC,IAEA,yDADAC,EACA,uDADM,MAEA10B,EAAM7Z,KAAKqoB,WAAWxO,GAC5B,KAAKA,EACH,KAAM,IAAI7L,OAAM,eAElB,KAAKmgC,IAAUC,GAAUD,GAAS,GAAKC,GAAU,EAC/C,KAAM,IAAIpgC,OAAM,iCAElB,IAAIqgC,GAAW,GAAKA,EAAU,IAC5B,KAAM,IAAIrgC,OAAM,yBAGlB,OACE6L,GACA,eAHWy0B,EAAa,EAAI,GAK5B,MACAH,EACA,MACAC,EACA,MACAC,EACA,WACAE,GAQJxkC,KA7O8B,WA8O5B,MAAO/J,MAAK4sC,WAAW7iC,MAOzBykC,QArP8B,WAsP5B,MAAOxuC,MAAK4sC,WAAWQ,OASzBjP,QA/P8B,SA+PtBzvB,GACN,MAAK1O,MAAK+U,GAGI+2B,EACZ,QACA,KACA9rC,KAAK+U,GACL,SACA,KACArG,GARO,UAAQ5H,OAAO,GAAIkH,OAAM,iCAmBpCygC,WApR8B,SAoRnBv8B,EAAMuJ,GACf,GAAI9a,GAAOX,KAAKqoB,WAAW1nB,KAEvB+tC,EAAUzC,EAAQtrC,IACjB+tC,GAAW1uC,KAAK8sC,WACnBnsC,GAAQX,KAAK8sC,SACb4B,EAAU1uC,KAAK8sC,SAGjB,IAAMjoC,GACJmnC,IACAA,IACAA,IACAA,IACAA,IACA0C,EACI14B,GACJnR,MACAlE,OACAguC,eAAgBlzB,EAAYmzB,aAC5BjoB,IAAK3mB,KAAK4tC,KACViB,UAAW38B,EACX06B,SAAU5sC,KAAKqoB,WAAWukB,SAG5B,OADA5sC,MAAK8uC,WAAajqC,EACXinC,EAAU,aAAc,KAAM,KAAM,OAAQ91B,EAAMyF,IAc3D0O,KA3T8B,WA2TX,WAAdzb,EAAc,yDACjB,IAAI1O,KAAK+U,GACP,KAAM,IAAI/G,OAAM,yBAElB,KAAKhO,KAAK+uC,cACR,GAAI/uC,KAAK+sC,MAAO,CACd,GAAIJ,GAAW3sC,KAAKkB,IAAI,YACxBlB,MAAK+uC,cAAgB/uC,KAAKyuC,WAAW9B,EAAUj+B,GAAS6L,KACtD,SAAAy0B,GAME,MALIA,GAAWH,YACblC,EAAWqC,EAAWH,UACtB,EAAKrb,IAAI,YAAamZ,IAExB,EAAKsC,OAASD,EAAWE,MAClB,UAAQlyB,UACZzC,KAAK,WACJ,GAAMvE,GAAO,EAAK+2B,KAClB,IAAI/2B,GAAQA,EAAK62B,OACf,MAAOd,GAAY/1B,EAAK62B,OAAQF,EAElC,IAAI32B,GAAQA,EAAKi3B,KAOf,OANKj3B,EAAKi3B,KAAK/6B,MAAQy6B,IACrB32B,EAAKi3B,KAAK/6B,KAAOy6B,GAEd32B,EAAKi3B,KAAKtsC,OACbqV,EAAKi3B,KAAKtsC,KAAO,EAAKO,IAAI,SAErB8U,EAAKi3B,IAEd,IAAoB,mBAATE,OAAwBn3B,YAAgBm3B,MACjD,MAAOn3B,EAET,MAAM,IAAIzI,WAAU,yBAErBgN,KAAK,SAAAvE,GACJ,GAAMm5B,GAAWttC,EAAEsP,UAAWzC,EAQ9B,QANIA,EAAQuL,aACVk1B,EAASl1B,WAAa,SAAA8Y,GACpB,GAAwB,aAApBA,EAAMqc,UACV,MAAO1gC,GAAQuL,WAAW8Y,KAGtBic,EAAWK,UACjB,IAAK,KACH,MAAOxD,GAAGmD,EAAYh5B,EAAM,EAAMm5B,EACpC,KAAK,SACH,MAAO9I,GAAI2I,EAAYh5B,EAAM,EAAMm5B,EACrC,KAAK,QACL,QACE,MAAOvD,GAAMoD,EAAYh5B,EAAM,EAAMm5B,MAG1C50B,KAAK5I,EAAI,iBAAM,GAAK29B,WAAU,KAAQ,SAAA10B,GAErC,KADA,GAAK00B,WAAU,GACT10B,UAIT,IACL5a,KAAKqoB,WAAWxO,KACsB,aAAtC7Z,KAAKqoB,WAAWukB,SAASU,SACzB,CAEA,GAAMt3B,IACJrV,KAAMX,KAAKqoB,WAAW1nB,KACtBgmB,IAAK3mB,KAAK4tC,KACVhB,SAAU5sC,KAAKqoB,WAAWukB,SAC1BiC,UAAW7uC,KAAK2sC,SAChB9yB,IAAK7Z,KAAKqoB,WAAWxO,IAEvB7Z,MAAK+uC,cAAgBjD,EACnB,QACA9rC,KAAKqoB,WAAW1nB,KAChB,KACA,OACAqV,EACAtH,GACA6L,KAAK,SAAAC,GAOL,MANA,GAAK6N,WAAW1nB,KAAO6Z,EAAS7Z,KAChC,EAAK0nB,WAAWxO,IAAMW,EAASX,IAC/B,EAAK9E,GAAKyF,EAASmF,SACfnF,EAASzQ,OACX,EAAKse,WAAWukB,SAAS7iC,KAAOyQ,EAASzQ,MAEpC,IAIb,MAAO/J,MAAK+uC,eAGdO,UAvZ8B,SAuZpBC,GACRzD,EAAU,eAAgB,KAAM,KAAM,QACpCoD,MAAOlvC,KAAKivC,OACZtqC,OAAQ4qC,IACP10B,MAAMvB,SACFtZ,MAAKivC,aACLjvC,MAAK+sC,OAYdyC,MAza8B,SAyaxBl0B,EAAc5M,GASlB,MARco9B,GACZ,QACA,KACA9rC,KAAK+U,GACL,MACAqG,EAAsBE,GACtB5M,GAEa6L,KAAKva,KAAKynB,aAAana,KAAKtN,QAE7CynB,aApb8B,SAobjBjN,GACX,GAAIlX,GAAQ4Z,EAAGpc,OAAOS,UAAU8d,MAAM7E,EAiBtC,OAhBAlX,GAAM+kB,YACJ1nB,KAAM2C,EAAM3C,KACZkZ,IAAKvW,EAAMuW,IACXg1B,UAAWvrC,EAAMurC,UACjBY,OAAQnsC,EAAMmsC,QAEhBnsC,EAAM+kB,WAAWukB,SAAWtpC,EAAMspC,aAClCtpC,EAAMyR,GAAKzR,EAAMqc,eAEVrc,GAAMqc,eACNrc,GAAMspC,eACNtpC,GAAMuW,UACNvW,GAAM3C,WACN2C,GAAMurC,gBACNvrC,GAAMmsC,OACb5tC,EAAEsP,OAAOnR,KAAMsD,GACRtD,UzI6lQT,SAAUJ,EAAQD,EAASM,GAEjC,YAGA,IAAIoZ,G0IvuRmBD,EAAQ,IAAvBM,E,EAAAA,WACFJ,EAAQF,EAAQ,IAAS,MAE/BxZ,GAAOD,QAAU,SAASqvC,EAAYh5B,EAAM8R,GAAwB,GAAlB4nB,GAAkB,yDAClE5nB,GAAKO,WAAWxO,IAAMm1B,EAAWn1B,IACjCiO,EAAK6nB,QAAUX,EAAWS,OAC1B3nB,EAAK/S,GAAKi6B,EAAWrvB,QACrB,IAAM9F,GACJm1B,EAAWY,WAAa,SAAWz1B,mBAAmB60B,EAAWE,OAC7DW,GACJC,MAAO,cACP95B,OACArV,KAAMmnB,EAAKO,WAAW1nB,MAElB+N,GACJqL,QAAS+N,EAAKklB,eACdh3B,MACEwyB,GAAI,UAENvuB,WAAYy1B,EAAYz1B,WAI1B,OAFAX,GAAM,iCAAkCO,EAAKg2B,EAAcnhC,GAC5CgL,EAAW,UACZG,EAAKg2B,EAAcnhC,GAAS6L,KACxC,SAAAC,GAEE,GADAlB,EAAMkB,EAASC,OAAQD,EAASxE,OACZ,IAAhBwE,EAASG,GAAc,CACzB,GAAMC,GAAQ,GAAI5M,OAAMwM,EAASC,OAEjC,MADAG,GAAMJ,SAAWA,EACXI,EAER,MAAOkN,IAET,SAAAlN,GAAS,GACCJ,GAAaI,EAAbJ,QAMR,MALIA,KACFlB,EAAMkB,EAASC,OAAQD,EAASxE,MAChC4E,EAAMG,WAAaP,EAASC,OAC5BG,EAAMJ,SAAWA,EAASxE,MAEtB4E,M1I+uRN,SAAUhb,EAAQD,EAASM,GAEjC,YAGA,IAAI6Y,GAAa7Y,EAAoB,IAEjC8Y,EAEJ,SAAgClW,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAF9CiW,GAIrCO,E2IlyRmBD,EAAQ,IAAvBM,E,EAAAA,WACFJ,EAAQF,EAAQ,IAAS,kBAE/BxZ,GAAOD,QAAU,SAASqvC,EAAYh5B,EAAM8R,GAAwB,GAAlB4nB,GAAkB,yDAClE5nB,GAAKO,WAAWxO,IAAMm1B,EAAWn1B,IACjCiO,EAAK6nB,QAAUX,EAAWS,OAC1B3nB,EAAK/S,GAAKi6B,EAAWrvB,QAErB,IAAMowB,GAAUf,EAAWE,MACrBr1B,EAAMm1B,EAAWY,YAAc,4BAC/BC,GACJC,MAAO,OACP95B,OACArV,KAAMmnB,EAAKO,WAAW1nB,MAElB+N,GACJqL,QAAS+N,EAAKklB,eACdh3B,MACErV,KAAMmnB,EAAKO,WAAW1nB,KACtBkE,IAAKmqC,EAAWnqC,KAAOijB,EAAKgnB,WAC5BI,MAAOa,GAET91B,WAAYy1B,EAAYz1B,WAI1B,OAFAX,GAAM,iCAAkCO,EAAKg2B,EAAcnhC,GAC5CgL,EAAW,UACZG,EAAKg2B,EAAcnhC,GAAS6L,KACxC,SAAAC,GAEE,GADAlB,EAAMkB,EAASC,OAAQD,EAASxE,OACZ,IAAhBwE,EAASG,GAAc,CACzB,GAAIwE,GAAU3E,EAASC,MACnBD,GAASxE,OAETmJ,EADE3E,EAASxE,KAAK4E,MACNJ,EAASxE,KAAK4E,OAEd,aAAeJ,EAASxE,MAGtC,IAAM4E,GAAQ,GAAI5M,OAAMmR,EAExB,MADAvE,GAAMJ,SAAWA,EACXI,EAER,MAAOkN,IAET,SAAAlN,GAAS,GACCJ,GAAaI,EAAbJ,QAMR,MALIA,KACFlB,EAAMkB,EAASC,OAAQD,EAASxE,MAChC4E,EAAMG,WAAaP,EAASC,OAC5BG,EAAMJ,SAAWA,EAASxE,MAEtB4E,M3I2yRN,SAAUhb,EAAQD,EAASM,GAEjC,Y4Ih2RA,IAAM4B,GAAIuX,EAAQ,G5Iq2RdC,E4Ip2RaD,EAAQ,GAAjBQ,E,EAAAA,IAERha,GAAOD,QAAU,SAAgBqvC,EAAYh5B,EAAM8R,GAAwB,GAAlB4nB,GAAkB,yDAMzE,OALA5nB,GAAKO,WAAWxO,IAAMm1B,EAAWn1B,IACjCiO,EAAK6nB,QAAUX,EAAWS,OAC1B3nB,EAAK/S,GAAKi6B,EAAWrvB,SAGd/F,GACLC,IAAKm1B,EAAWY,WAChB9nC,OAAQ,MACRkO,OACA+D,QAASlY,EAAEsP,QAEP,eAAgB2W,EAAK5mB,IAAI,aACzB,gBAAiB,4BAEnB4mB,EAAKklB,gBAEP/yB,WAAYy1B,EAAYz1B,aACvBM,KAAK,iBAAMuN,O5I02RV,SAAUloB,EAAQD,EAASM,I6I/3RjC,WACE,GAAI+vC,GAAQ,EAAQ,KAChB1a,EAAO,EAAQ,IAAWA,KAC1B2a,EAAW,EAAQ,KACnBxa,EAAM,EAAQ,IAAWA,IAG7BxY,EAAM,SAAUkC,EAASzQ,GAEnByQ,EAAQ9O,aAAeoB,OAEvB0N,EADEzQ,GAAgC,WAArBA,EAAQwhC,SACXza,EAAIF,cAAcpW,GAElBmW,EAAKC,cAAcpW,GACxB8wB,EAAS9wB,GAChBA,EAAUpd,MAAMR,UAAUa,MAAM7B,KAAK4e,EAAS,GACtCpd,MAAMQ,QAAQ4c,KACtBA,EAAUA,EAAQ9c,WAWpB,KAAK,GARD7B,GAAIwvC,EAAMG,aAAahxB,GACvB9e,EAAqB,EAAjB8e,EAAQ9a,OACZ8E,EAAK,WACLC,GAAK,UACL3I,GAAK,WACLC,EAAK,UAGAN,EAAI,EAAGA,EAAII,EAAE6D,OAAQjE,IAC5BI,EAAEJ,GAAsC,UAA/BI,EAAEJ,IAAO,EAAMI,EAAEJ,KAAO,IACO,YAA/BI,EAAEJ,IAAM,GAAOI,EAAEJ,KAAQ,EAIpCI,GAAEH,IAAM,IAAM,KAASA,EAAI,GAC3BG,EAA4B,IAAvBH,EAAI,KAAQ,GAAM,IAAWA,CAQlC,KAAK,GALD+vC,GAAKnzB,EAAIozB,IACTC,EAAKrzB,EAAIszB,IACTC,EAAKvzB,EAAIwzB,IACTC,EAAKzzB,EAAI0zB,IAEJvwC,EAAI,EAAGA,EAAII,EAAE6D,OAAQjE,GAAK,GAAI,CAErC,GAAIwwC,GAAKznC,EACL0nC,EAAKznC,EACL0nC,EAAKrwC,EACLswC,EAAKrwC,CAETyI,GAAIinC,EAAGjnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAI0vC,EAAG1vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,IAAK,WACjCK,EAAI2vC,EAAG3vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,GAAK,WACjCgJ,EAAIgnC,EAAGhnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,YACjC+I,EAAIinC,EAAGjnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAI0vC,EAAG1vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,GAAK,YACjCK,EAAI2vC,EAAG3vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,IAAK,YACjCgJ,EAAIgnC,EAAGhnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,UACjC+I,EAAIinC,EAAGjnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,EAAI,YACjCM,EAAI0vC,EAAG1vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,IAAK,YACjCK,EAAI2vC,EAAG3vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,IAAK,OACjCgJ,EAAIgnC,EAAGhnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,IAAK,YACjC+I,EAAIinC,EAAGjnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAE,IAAM,EAAI,YACjCM,EAAI0vC,EAAG1vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAK,IAAK,UACjCK,EAAI2vC,EAAG3vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,IAAK,YACjCgJ,EAAIgnC,EAAGhnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,GAAK,YAEjC+I,EAAImnC,EAAGnnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAI4vC,EAAG5vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAK,GAAI,YACjCK,EAAI6vC,EAAG7vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,GAAK,WACjCgJ,EAAIknC,EAAGlnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,WACjC+I,EAAImnC,EAAGnnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAI4vC,EAAG5vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAM,EAAI,UACjCK,EAAI6vC,EAAG7vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,IAAK,WACjCgJ,EAAIknC,EAAGlnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,WACjC+I,EAAImnC,EAAGnnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,EAAI,WACjCM,EAAI4vC,EAAG5vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAM,GAAI,YACjCK,EAAI6vC,EAAG7vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,IAAK,WACjCgJ,EAAIknC,EAAGlnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,GAAK,YACjC+I,EAAImnC,EAAGnnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAE,IAAM,GAAI,YACjCM,EAAI4vC,EAAG5vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAK,GAAI,UACjCK,EAAI6vC,EAAG7vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,GAAK,YACjCgJ,EAAIknC,EAAGlnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,IAAK,YAEjC+I,EAAIqnC,EAAGrnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,QACjCM,EAAI8vC,EAAG9vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,IAAK,YACjCK,EAAI+vC,EAAG/vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,GAAK,YACjCgJ,EAAIonC,EAAGpnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,IAAK,UACjC+I,EAAIqnC,EAAGrnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,YACjCM,EAAI8vC,EAAG9vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,GAAK,YACjCK,EAAI+vC,EAAG/vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,IAAK,WACjCgJ,EAAIonC,EAAGpnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,IAAK,YACjC+I,EAAIqnC,EAAGrnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAE,IAAM,EAAI,WACjCM,EAAI8vC,EAAG9vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,IAAK,WACjCK,EAAI+vC,EAAG/vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,IAAK,WACjCgJ,EAAIonC,EAAGpnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,GAAK,UACjC+I,EAAIqnC,EAAGrnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAI8vC,EAAG9vC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAK,IAAK,WACjCK,EAAI+vC,EAAG/vC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,GAAK,WACjCgJ,EAAIonC,EAAGpnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,WAEjC+I,EAAIunC,EAAGvnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAIgwC,EAAGhwC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,GAAK,YACjCK,EAAIiwC,EAAGjwC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,IAAK,YACjCgJ,EAAIsnC,EAAGtnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,UACjC+I,EAAIunC,EAAGvnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAE,IAAM,EAAI,YACjCM,EAAIgwC,EAAGhwC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAG,GAAI,IAAK,YACjCK,EAAIiwC,EAAGjwC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAE,IAAK,IAAK,SACjCgJ,EAAIsnC,EAAGtnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,YACjC+I,EAAIunC,EAAGvnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,EAAI,YACjCM,EAAIgwC,EAAGhwC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAK,IAAK,UACjCK,EAAIiwC,EAAGjwC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,IAAK,YACjCgJ,EAAIsnC,EAAGtnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAE,IAAK,GAAK,YACjC+I,EAAIunC,EAAGvnC,EAAGC,EAAG3I,EAAGC,EAAGF,EAAEJ,EAAG,GAAK,GAAI,WACjCM,EAAIgwC,EAAGhwC,EAAGyI,EAAGC,EAAG3I,EAAGD,EAAEJ,EAAE,IAAK,IAAK,YACjCK,EAAIiwC,EAAGjwC,EAAGC,EAAGyI,EAAGC,EAAG5I,EAAEJ,EAAG,GAAI,GAAK,WACjCgJ,EAAIsnC,EAAGtnC,EAAG3I,EAAGC,EAAGyI,EAAG3I,EAAEJ,EAAG,GAAI,IAAK,WAEjC+I,EAAKA,EAAIynC,IAAQ,EACjBxnC,EAAKA,EAAIynC,IAAQ,EACjBpwC,EAAKA,EAAIqwC,IAAQ,EACjBpwC,EAAKA,EAAIqwC,IAAQ,EAGnB,MAAOf,GAAMgB,QAAQ7nC,EAAGC,EAAG3I,EAAGC,IAIhCuc,GAAIozB,IAAO,SAAUlnC,EAAGC,EAAG3I,EAAGC,EAAGwa,EAAGxZ,EAAGuvC,GACrC,GAAI9vC,GAAIgI,GAAKC,EAAI3I,GAAK2I,EAAI1I,IAAMwa,IAAM,GAAK+1B,CAC3C,QAAS9vC,GAAKO,EAAMP,IAAO,GAAKO,GAAO0H,GAEzC6T,EAAIszB,IAAO,SAAUpnC,EAAGC,EAAG3I,EAAGC,EAAGwa,EAAGxZ,EAAGuvC,GACrC,GAAI9vC,GAAIgI,GAAKC,EAAI1I,EAAID,GAAKC,IAAMwa,IAAM,GAAK+1B,CAC3C,QAAS9vC,GAAKO,EAAMP,IAAO,GAAKO,GAAO0H,GAEzC6T,EAAIwzB,IAAO,SAAUtnC,EAAGC,EAAG3I,EAAGC,EAAGwa,EAAGxZ,EAAGuvC,GACrC,GAAI9vC,GAAIgI,GAAKC,EAAI3I,EAAIC,IAAMwa,IAAM,GAAK+1B,CACtC,QAAS9vC,GAAKO,EAAMP,IAAO,GAAKO,GAAO0H,GAEzC6T,EAAI0zB,IAAO,SAAUxnC,EAAGC,EAAG3I,EAAGC,EAAGwa,EAAGxZ,EAAGuvC,GACrC,GAAI9vC,GAAIgI,GAAK1I,GAAK2I,GAAK1I,KAAOwa,IAAM,GAAK+1B,CACzC,QAAS9vC,GAAKO,EAAMP,IAAO,GAAKO,GAAO0H,GAIzC6T,EAAIi0B,WAAa,GACjBj0B,EAAIk0B,YAAc,GAElBvxC,EAAOD,QAAU,SAAUwf,EAASzQ,GAClC,OAAgBwJ,KAAZiH,GAAqC,OAAZA,EAC3B,KAAM,IAAInR,OAAM,oBAAsBmR,EAExC,IAAIiyB,GAAcpB,EAAMqB,aAAap0B,EAAIkC,EAASzQ,GAClD,OAAOA,IAAWA,EAAQ4iC,QAAUF,EAChC1iC,GAAWA,EAAQ6iC,SAAW9b,EAAIC,cAAc0b,GAChDpB,EAAMwB,WAAWJ,Q7Iy4RnB,SAAUxxC,EAAQD,I8IriSxB,WACE,GAAI8xC,GACE,mEAENzB,GAEE0B,KAAM,SAASvwC,EAAGiI,GAChB,MAAQjI,IAAKiI,EAAMjI,IAAO,GAAKiI,GAIjCuoC,KAAM,SAASxwC,EAAGiI,GAChB,MAAQjI,IAAM,GAAKiI,EAAOjI,IAAMiI,GAIlC4nC,OAAQ,SAAS7vC,GAEf,GAAIA,EAAEkP,aAAestB,OACnB,MAA0B,UAAnBqS,EAAM0B,KAAKvwC,EAAG,GAAsC,WAApB6uC,EAAM0B,KAAKvwC,EAAG,GAIvD,KAAK,GAAIf,GAAI,EAAGA,EAAIe,EAAEkD,OAAQjE,IAC5Be,EAAEf,GAAK4vC,EAAMgB,OAAO7vC,EAAEf,GACxB,OAAOe,IAITywC,YAAa,SAASzwC,GACpB,IAAK,GAAIw0B,MAAYx0B,EAAI,EAAGA,IAC1Bw0B,EAAMxzB,KAAKmC,KAAKgI,MAAsB,IAAhBhI,KAAKmE,UAC7B,OAAOktB,IAITwa,aAAc,SAASxa,GACrB,IAAK,GAAIkc,MAAYzxC,EAAI,EAAGgJ,EAAI,EAAGhJ,EAAIu1B,EAAMtxB,OAAQjE,IAAKgJ,GAAK,EAC7DyoC,EAAMzoC,IAAM,IAAMusB,EAAMv1B,IAAO,GAAKgJ,EAAI,EAC1C,OAAOyoC,IAITR,aAAc,SAASQ,GACrB,IAAK,GAAIlc,MAAYvsB,EAAI,EAAGA,EAAmB,GAAfyoC,EAAMxtC,OAAa+E,GAAK,EACtDusB,EAAMxzB,KAAM0vC,EAAMzoC,IAAM,KAAQ,GAAKA,EAAI,GAAO,IAClD,OAAOusB,IAIT6b,WAAY,SAAS7b,GACnB,IAAK,GAAImc,MAAU1xC,EAAI,EAAGA,EAAIu1B,EAAMtxB,OAAQjE,IAC1C0xC,EAAI3vC,MAAMwzB,EAAMv1B,KAAO,GAAGiC,SAAS,KACnCyvC,EAAI3vC,MAAiB,GAAXwzB,EAAMv1B,IAAUiC,SAAS,IAErC,OAAOyvC,GAAI59B,KAAK,KAIlB69B,WAAY,SAASD,GACnB,IAAK,GAAInc,MAAYl1B,EAAI,EAAGA,EAAIqxC,EAAIztC,OAAQ5D,GAAK,EAC/Ck1B,EAAMxzB,KAAKqnB,SAASsoB,EAAI5U,OAAOz8B,EAAG,GAAI,IACxC,OAAOk1B,IAITqc,cAAe,SAASrc,GACtB,IAAK,GAAIkX,MAAazsC,EAAI,EAAGA,EAAIu1B,EAAMtxB,OAAQjE,GAAK,EAElD,IAAK,GADD6xC,GAAWtc,EAAMv1B,IAAM,GAAOu1B,EAAMv1B,EAAI,IAAM,EAAKu1B,EAAMv1B,EAAI,GACxD4K,EAAI,EAAGA,EAAI,EAAGA,IACb,EAAJ5K,EAAY,EAAJ4K,GAAwB,EAAf2qB,EAAMtxB,OACzBwoC,EAAO1qC,KAAKsvC,EAAU5yB,OAAQozB,IAAY,GAAK,EAAIjnC,GAAM,KAEzD6hC,EAAO1qC,KAAK,IAElB,OAAO0qC,GAAO34B,KAAK,KAIrBg+B,cAAe,SAASrF,GAEtBA,EAASA,EAAOr4B,QAAQ,iBAAkB,GAE1C,KAAK,GAAImhB,MAAYv1B,EAAI,EAAG+xC,EAAQ,EAAG/xC,EAAIysC,EAAOxoC,OAC9C8tC,IAAU/xC,EAAI,EACH,GAAT+xC,GACJxc,EAAMxzB,MAAOsvC,EAAU9pC,QAAQklC,EAAOhuB,OAAOze,EAAI,IAC1CkE,KAAKY,IAAI,GAAI,EAAIitC,EAAQ,GAAK,IAAgB,EAARA,EACtCV,EAAU9pC,QAAQklC,EAAOhuB,OAAOze,MAAS,EAAY,EAAR+xC,EAEtD,OAAOxc,IAIX/1B,GAAOD,QAAUqwC,M9I6iSb,SAAUpwC,EAAQD,G+I9nSxB,QAASswC,GAAUptC,GACjB,QAASA,EAAIwN,aAAmD,kBAA7BxN,GAAIwN,YAAY4/B,UAA2BptC,EAAIwN,YAAY4/B,SAASptC,GAIzG,QAASuvC,GAAcvvC,GACrB,MAAkC,kBAApBA,GAAIwvC,aAAmD,kBAAdxvC,GAAIT,OAAwB6tC,EAASptC,EAAIT,MAAM,EAAG;;;;;;AAV3GxC,EAAOD,QAAU,SAAUkD,GACzB,MAAc,OAAPA,IAAgBotC,EAASptC,IAAQuvC,EAAavvC,MAAUA,EAAIyvC,a/I4pS/D,SAAU1yC,EAAQD,EAASM,GAEjC,YgJxqSA,IAAIsyC,GAAgB,SAASC,EAAStgC,GACpC,GAAIugC,EAGAD,GAAQ7qC,QAAQ,UAAY,EAC9B8qC,EAAaC,KAAKF,GACTA,EAAQj2B,MAAM,KAAK,GAAG5U,QAAQ,WAAa,GACpDuK,EACEA,GACAsgC,EACGj2B,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KAAK,GAChBk2B,EAAaC,KAAKF,EAAQj2B,MAAM,KAAK,KAErCk2B,EAAa/9B,SAAS89B,EAAQj2B,MAAM,KAAK,GAG3C,KAAK,GADDo2B,GAAK,GAAI5V,YAAW0V,EAAWpuC,QAC1BjE,EAAI,EAAGA,EAAIqyC,EAAWpuC,OAAQjE,IACrCuyC,EAAGvyC,GAAKqyC,EAAW5c,WAAWz1B,EAEhC,OAAO,IAAI+sC,OAAMwF,IAAOzgC,SAG1BtS,GAAOD,QAAU4yC,GhJ0qSX,SAAU3yC,EAAQD,EAASM,GAEjC,YAmBA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GiJhrSvF,QAAS+vC,GAASvxC,EAAQkP,GACxB,MAAMlP,IAAUA,EAAOkP,GAGhB1O,EAAEkC,WAAW1C,EAAOkP,IAASlP,EAAOkP,KAAUlP,EAAOkP,GAFnD,KjJ8pSX,GAAIsiC,GAA4B5yC,EAAoB,IAEhD6yC,EAA6Bt6B,EAAuBq6B,GAEpD/5B,EAAa7Y,EAAoB,IAEjC8Y,EAAcP,EAAuBM,GAErCi6B,EAAkB9yC,EAAoB,KAEtC+yC,EAAkBx6B,EAAuBu6B,GAEzCr6B,EAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,GiJrtSjC7W,EAAIuX,EAAQ,GACZyH,EAAUzH,EAAQ,IjJ2tSpBC,EiJ1tSiBD,EAAQ,GAArBqG,E,EAAAA,SjJ6tSJhG,EiJptSAL,EAAQ,GAPV6B,E,EAAAA,kBACAE,E,EAAAA,YACAC,E,EAAAA,sBACAiB,E,EAAAA,SACAM,E,EAAAA,UACAE,E,EAAAA,cACAC,E,EAAAA,cAGIm2B,EAAqB,QAArBA,GAAqB3vC,GACzB,MAAIzB,GAAEU,QAAQe,GAAeA,EAAMiC,IAAI0tC,GACnCp2B,EAAcvZ,GAAezB,EAAE4O,UAAUnN,EAAO2vC,GAChDpxC,EAAEmC,SAASV,IAAUA,EAAMojB,WAAmBpjB,EAAMojB,aACjDpjB,GAGH4vC,GAAiB,WAAY,YAAa,aAC1CC,EAAmB,SAAAtuC,GACvB,IAAoC,IAAhCquC,EAAcvrC,QAAQ9C,GACxB,KAAM,IAAImJ,OAAJ,OAAiBnJ,EAAjB,kBAIJuuC,EAAqB,SAAA3tC,GACzB,GAAM4tC,GAAaxxC,EAAEwE,KAAKZ,EAAS,SAAAd,GAAA,MAAUA,aAAkBqJ,QAC/D,KAAKqlC,EACH,MAAO5tC,EAET,IAAMmV,GAAQ,GAAIiG,GAAQwyB,EAAWn0B,KAAMm0B,EAAWl0B,QAEtD,MADAvE,GAAMnV,QAAUA,EACVmV,EAeRhb,GAAOD,QAAU,SAASud,GA4BxBA,EAAGpc,OAAS,SAASunB,EAAY3Z,GAE/B,GAAI7M,EAAEgI,SAASwe,GACb,MAAOnL,GAAGpc,OAAO0mB,QAAQ9jB,MAAM1D,KAAM2D,UAGvC0kB,GAAaA,MACT3Z,GAAWA,EAAQ2Q,QACrBgJ,EAAaroB,KAAKqf,MAAMgJ,GACxBA,EAAaroB,KAAKszC,kBAAkBjrB,GAEtC,IAAIpX,GAAW2hC,EAAS5yC,KAAM,WAC1BiR,KACFoX,EAAaxmB,EAAEsP,UAAWF,EAAUoX,IAElC3Z,GAAWA,EAAQlL,aACrBxD,KAAKwD,WAAakL,EAAQlL,YAG5BxD,KAAKuzC,eACLvzC,KAAKwzC,iBACLxzC,KAAKyzC,UACLzzC,KAAKqoB,cAELroB,KAAK0zC,eACL1zC,KAAK2zC,sBACL3zC,KAAK4zC,IAAM/xC,EAAEgT,SAAS,KACtB7U,KAAK6zC,WACL7zC,KAAK8zC,WACL9zC,KAAK+zC,YACL/zC,KAAKwzB,IAAInL,GAAc2rB,QAAQ,IAC/Bh0C,KAAK6zC,WACL7zC,KAAK8zC,WACL9zC,KAAK+zC,YACL/zC,KAAKwmB,UAAW,EAChBxmB,KAAKi0C,oBAAsBpyC,EAAE6G,MAAM1I,KAAKqoB,YACxCroB,KAAKwjC,WAAW9/B,MAAM1D,KAAM2D,YAqB9BuZ,EAAGpc,OAAOozC,QAAU,SAASrtC,EAAM6H,GACjC,MAAOwO,GAAGpc,OAAOqzC,eAAettC,EAAM,KAAM6H,IAW9CwO,EAAGpc,OAAOszC,SAAW,SAAC3K,EAAS/6B,GAAV,MACnB,WAAQsO,UACLzC,KAAK,iBACJkF,GACE,QACA,KACA,KACA,QAEE40B,SAAUxyC,EAAE0D,IAAIkkC,EAAS,SAAApoC,GACvB,IAAKA,EAAO8Q,UACV,KAAM,IAAInE,OAAM,sCAClB,KAAK3M,EAAO0T,GAAI,KAAM,IAAI/G,OAAM,+BAChC,IAAI3M,EAAOizC,QACT,KAAM,IAAItmC,OAAM,mCAClB,QACElG,OAAQ,MACR/C,qBAAsB1D,EAAO8Q,UAA7B,IAA0C9Q,EAAO0T,OAIvDrG,KAGH6L,KAAK,SAASC,GACb,GAAM/U,GAAU5D,EAAE0D,IAAIkkC,EAAS,SAASpoC,EAAQjB,GAC9C,GAAIoa,EAASpa,GAAGmvC,QAAS,CACvB,GAAMgF,GAAelzC,EAAOge,MAAM7E,EAASpa,GAAGmvC,QAG9C,OAFAluC,GAAOmzC,kBAAkBD,GACzBlzC,EAAOomB,aAAa8sB,GACblzC,EAET,MAA4B,QAAxBmZ,EAASpa,GAAGmvC,QACP,GAAI1uB,GAAQA,EAAQI,iBAAkB,qBAExC,GAAIJ,GAAQrG,EAASpa,GAAGwa,MAAMsE,KAAM1E,EAASpa,GAAGwa,MAAMA,QAE/D,OAAOw4B,GAAmB3tC,MAIhC5D,EAAEsP,OACA+L,EAAGpc,OAAOS,UACV2b,EAAGknB,QAEDxkB,gBAAgB,EAMhB4jB,WAAY,aAUZiR,cAAe,SAAS/rB,GAItB,GAHA5K,QAAQC,KACN,kGAEGlc,EAAE2J,UAAUkd,GACf,KAAM,IAAI1a,OAAM,yCAElBhO,MAAK4f,eAAiB8I,GAOxBgsB,YAAa,WACX,MAAO10C,MAAK+U,IAOd4/B,aAAc,WACZ,MAAO30C,MAAK40C,WAOdC,aAAc,WACZ,MAAO70C,MAAK80C,WAOdx+B,OAAQ,SAASzR,EAAK6oC,GAA0B,GAAlBrnB,GAAkB,yDAC9C,OAAOrmB,MAAKymB,YAAYJ,GAAa,IASvConB,WAjEgC,WAiEH,GAAlBpnB,GAAkB,yDAC3B,OAAOrmB,MAAKymB,YAAYJ,IAG1BI,YAAa,SAASJ,GAA0B,WAAbE,IAAa,yDAC1CgiB,EAAO1mC,EAAE6G,MAAM1I,KAAKqoB,WACxB,IAAIxmB,EAAEU,QAAQ8jB,GACZ,GAAI0uB,GAAiB1uB,EAAY3Y,OAAO1N,KAwB1C,OAtBAkd,GAAGsL,YAAY+f,EAAM,SAAS7Y,EAAK7qB,GACjC0jC,EAAK1jC,GAAOqY,EAAGkJ,QAAQsJ,EAAKqlB,MAAgB78B,GAAWqO,KAEzDrJ,EAAGsL,YAAYxoB,KAAKwtC,YAAa,SAAS9d,EAAK7qB,GAC7C0jC,EAAK1jC,GAAO6qB,IAGV7tB,EAAEiD,IAAI9E,KAAM,QACduoC,EAAK5oB,SAAW3f,KAAK+U,IAEvBlT,GAAG,YAAa,cAAcwD,KAAK,SAAAR,GACjC,GAAIhD,EAAEiD,IAAI,EAAMD,GAAM,CACpB,GAAM6qB,GAAM,EAAK7qB,EACjB0jC,GAAK1jC,GAAOhD,EAAE+kB,OAAO8I,GAAOA,EAAIpZ,SAAWoZ,KAG3CnJ,IACFgiB,EAAK1hB,OAAS,SACVhlB,EAAEU,QAAQ8jB,IAAgBA,EAAYhiB,SACxCkkC,EAAK1hB,OAAS,WAChB0hB,EAAKp2B,UAAYnS,KAAKmS,WAEjBo2B,GAQTyM,cAAe,WACb,GAAIj1C,GAAOC,IACPD,GAAKk1C,mBAGTl1C,EAAKk1C,kBAAmB,EACxB/3B,EAAGsL,YAAYxoB,KAAKqoB,WAAY,SAAS/kB,EAAOuB,GAC1CvB,YAAiB4Z,GAAGpc,OACtBwC,EAAM0xC,gBACGnzC,EAAEmC,SAASV,IAChBvD,EAAKm1C,kBAAkBrwC,IACzB9E,EAAKyzB,IAAI3uB,EAAK,GAAIqY,GAAGgK,GAAG0hB,IAAItlC,IAAU0wC,QAAQ,YAI7Cj0C,GAAKk1C,mBAUdX,MAAO,SAASrG,GACdjuC,KAAKg1C,eAEL,IAAIG,GAAiBtzC,EAAE8G,KAAK3I,KAAKwzC,YAEjC,OAAIvF,KACKkH,EAAelH,IAEnBjuC,KAAK+U,IAGNlT,EAAEY,KAAK0yC,GAAgB9wC,OAAS,GAUtC+wC,UAAW,WACTp1C,KAAKg1C,eACL,IAAIG,GAAiBtzC,EAAE8G,KAAK3I,KAAKwzC,YACjC,OAAO3xC,GAAEY,KAAK0yC,IAOhBzuB,WAAY,WAIV,OACEG,OAAQ,UACR1U,UAAWnS,KAAKmS,UAChBwN,SAAU3f,KAAK+U,KAQnB7T,IAAK,SAAS+sC,GACZ,OAAQA,GACN,IAAK,WACH,MAAOjuC,MAAK+U,EACd,KAAK,YACL,IAAK,YACH,MAAO/U,MAAKiuC,EACd,SACE,MAAOjuC,MAAKqoB,WAAW4lB,KAS7BrmB,SAAU,SAASqmB,GACjB,GAAI3qC,GAAQtD,KAAKkB,IAAI+sC,EACrB,IAAI3qC,EAAO,CACT,KAAMA,YAAiB4Z,GAAG+J,UACxB,KAAM,IAAIjZ,OAAM,2CAA6CigC,EAG/D,OADA3qC,GAAM6nC,oBAAoBnrC,KAAMiuC,GACzB3qC,EAEP,MAAO,IAAI4Z,GAAG+J,SAASjnB,KAAMiuC,IAOjCx5B,OAAQ,SAASw5B,GACf,GAAI9b,GAAOnyB,KAAK2zC,mBAAmB1F,EACnC,IAAI9b,EACF,MAAOA,EAET,IACIkjB,GADA3lB,EAAM1vB,KAAKqoB,WAAW4lB,EAQ1B,OALEoH,GADEp6B,EAAkByU,GACV,GAEA7tB,EAAE4S,OAAOib,EAAIrtB,YAEzBrC,KAAK2zC,mBAAmB1F,GAAQoH,EACzBA,GASTvwC,IAAK,SAASmpC,GACZ,OAAQhzB,EAAkBjb,KAAKqoB,WAAW4lB,KAS5CqF,kBAAmB,SAASrrC,GAE1B,GAAIqtC,GAAQt1C,KACRu1C,GAAiB,WAAY,YAAa,YAgB9C,OAfAr4B,GAAGiL,WAAWotB,EAAe,SAAStH,GAChChmC,EAAMgmC,KACK,aAATA,EACFqH,EAAMvgC,GAAK9M,EAAMgmC,GAEP,cAATA,GAAiC,cAATA,GACxBpsC,EAAE+kB,OAAO3e,EAAMgmC,IAIhBqH,EAAMrH,GAAQhmC,EAAMgmC,GAFpBqH,EAAMrH,GAAQ/wB,EAAG+I,WAAWhe,EAAMgmC,UAI7BhmC,GAAMgmC,MAGVhmC,GAOTutC,WAAY,WACVx1C,KAAKwzC,YAAYrxC,UAgBnBszC,YAAa,WACX,GAAIC,GAAgB7zC,EAAEoI,MAAMjK,KAAKwzC,YACjCxzC,MAAKwzC,YAAc3xC,EAAE2C,KAAKxE,KAAKwzC,YAC/B,IAAImC,GAAc9zC,EAAEoI,MAAMjK,KAAKwzC,YAC/Bt2B,GAAGsL,YAAYktB,EAAe,SAASlN,EAAI3jC,GACzC,GAAI+wC,GAAMF,EAAc7wC,GACpBgxC,EAAMF,EAAY9wC,EAClB+wC,IAAOC,EACTF,EAAY9wC,GAAOgxC,EAAIlN,mBAAmBiN,GACjCA,IACTD,EAAY9wC,GAAO+wC,KAGvB51C,KAAK81C,QAAU91C,KAAK81C,QAAU,GAShCC,YAAa,SAASC,GAKpB,GAAIC,KACJ/4B,GAAGkL,UAAUpoB,KAAKqoB,WAAY,SAAShnB,GACjCA,YAAkB6b,GAAGpc,QAAUO,EAAO0T,IAAM1T,EAAOmlB,WACrDyvB,EAAe50C,EAAO0T,IAAM1T,IAIhC,IAAI60C,GAAer0C,EAAEoI,MAAMjK,KAAKwzC,YAChCxzC,MAAKwzC,YAAc3xC,EAAE2C,KAAKxE,KAAKwzC,aAC/BxzC,KAAKm2C,YAAYD,EAAcl2C,KAAKuzC,aACpCvzC,KAAKszC,kBAAkB0C,EACvB,IAAIj2C,GAAOC,IACXkd,GAAGsL,YAAYwtB,EAAY,SAAS1yC,EAAOuB,GACzC9E,EAAKwzC,YAAY1uC,GAAOqY,EAAGmK,QAAQ/jB,EAAOuB,EAI1C,IAAIuxC,GAAUl5B,EAAGkL,UAAUroB,EAAKwzC,YAAY1uC,GAAM,SAASxD,GACzD,GAAIA,YAAkB6b,GAAGpc,QAAUm1C,EAAe50C,EAAO0T,IACvD,MAAOkhC,GAAe50C,EAAO0T,KAG7BqhC,KACFr2C,EAAKwzC,YAAY1uC,GAAOuxC,KAG5Bp2C,KAAKq2C,0BACL,IAAMC,GAAat2C,KAAKwzC,YAAYjuC,IAAI1D,EAAE6G,MAC1C1I,MAAKg1C,gBACLh1C,KAAKwzC,YAAc8C,EACnBt2C,KAAK81C,QAAU91C,KAAK81C,QAAU,GAQhCruB,aAAc,SAASuuB,EAAYO,GAEjCv2C,KAAKwzC,iBAGLxzC,KAAKszC,kBAAkB0C,EACvB,IAAIj2C,GAAOC,IACXkd,GAAGsL,YAAYwtB,EAAY,SAAS1yC,EAAOuB,GACzC9E,EAAKwzC,YAAY1uC,GAAOqY,EAAGmK,QAAQ/jB,EAAOuB,KAI5C7E,KAAKq2C,2BAGLr2C,KAAKg1C,gBACLh1C,KAAKwzC,iBAELxzC,KAAKwmB,SAAW+vB,GAOlBJ,YAAa,SAASK,EAAOv+B,GAC3B,GAAIlY,GAAOC,IACXkd,GAAGsL,YAAYguB,EAAO,SAASnL,EAAQxmC,GAAK,MACD8X,EAAU1E,EAAQpT,GADjB,qBACnCvB,EADmC,KAC5BmzC,EAD4B,KACdC,EADc,IAE1Cr6B,GAASpE,EAAQpT,EAAKwmC,EAAOvC,UAAUxlC,EAAOvD,EAAM8E,IAChD4xC,GAAgBA,EAAaC,KAAex5B,EAAGgK,GAAG8hB,cAC7CyN,GAAaC,MAU1BxB,kBAAmB,SAASrwC,GAC1B,GAAIvB,GAAQtD,KAAKqoB,WAAWxjB,EAC5B,IACEhD,EAAEmC,SAASV,MACTA,YAAiB4Z,GAAGpc,WACpBwC,YAAiB4Z,GAAGiK,MACtB,CACA,GAAIohB,IAAO,aAAe0K,EAAmB3vC,GAC7C,IAAItD,KAAK0zC,YAAY7uC,KAAS0jC,EAAM,CAClC,GAAIoO,KAAW32C,KAAK0zC,YAAY7uC,EAEhC,OADA7E,MAAK0zC,YAAY7uC,GAAO0jC,EACjBoO,GAGX,OAAO,GASTC,4BAA6B,SAAS/xC,GACpC,GAAI9E,GAAOC,WACJA,MAAKqoB,WAAWxjB,GACnB7E,KAAKuzC,YAAY1uC,KACnB7E,KAAKqoB,WAAWxjB,GAAO7E,KAAKuzC,YAAY1uC,IAE1CqY,EAAGiL,WAAWnoB,KAAKwzC,YAAa,SAASgD,GACvC,GAAIhO,GAAKgO,EAAM3xC,EACf,IAAI2jC,EAAI,OAC6C7rB,EACjD5c,EAAKsoB,WACLxjB,GAHI,qBACCvB,EADD,KACQmzC,EADR,KACsBC,EADtB,KACiCG,EADjC,IAKNx6B,GAAStc,EAAKsoB,WAAYxjB,EAAK2jC,EAAGM,UAAUxlC,EAAOvD,EAAM8E,IACrD4xC,GAAgBA,EAAaC,KAAex5B,EAAGgK,GAAG8hB,cAC7CyN,GAAaC,GAEtB32C,EAAKm1C,kBAAkB2B,OAW7BR,yBAA0B,WACxB,GAAIt2C,GAAOC,KAEP82C,EAAqBj1C,EAAE6G,MAAM1I,KAAKqoB,WAEtCroB,MAAKqoB,WAAaxmB,EAAE6G,MAAM1I,KAAKuzC,aAC/Br2B,EAAGiL,WAAWnoB,KAAKwzC,YAAa,SAASgD,GACvCz2C,EAAKo2C,YAAYK,EAAOz2C,EAAKsoB,YAC7BnL,EAAGsL,YAAYguB,EAAO,SAAShO,EAAI3jC,GACjC9E,EAAKm1C,kBAAkBrwC,OAK3BqY,EAAGsL,YAAYsuB,EAAoB,SAAS/N,EAAUlkC,GAChD9E,EAAKsoB,WAAWxjB,KAASkkC,GAC3BhpC,EAAK4kC,QAAQ,UAAY9/B,EAAK9E,EAAMA,EAAKsoB,WAAWxjB,SAGxDqY,EAAGsL,YAAYxoB,KAAKqoB,WAAY,SAASuhB,EAAU/kC,GAC5ChD,EAAEiD,IAAIgyC,EAAoBjyC,IAC7B9E,EAAK4kC,QAAQ,UAAY9/B,EAAK9E,EAAM6pC,SA6B1CpW,IAAK,SAAS3uB,EAAKvB,EAAOoL,GACxB,GAAIzG,EAeJ,IAdIpG,EAAEmC,SAASa,IAAQoW,EAAkBpW,IACvCoD,EAAQpG,EAAE4O,UAAU5L,EAAK,SAASwD,EAAG+e,GAEnC,MADA+rB,GAAiB/rB,GACVlK,EAAGmK,QAAQhf,EAAG+e,KAEvB1Y,EAAUpL,IAEV2E,KACAkrC,EAAiBtuC,GACjBoD,EAAMpD,GAAOqY,EAAGmK,QAAQ/jB,EAAOuB,IAIjC6J,EAAUA,OACLzG,EACH,MAAOjI,KAELiI,aAAiBiV,GAAGpc,SACtBmH,EAAQA,EAAMogB,YAIZ3Z,EAAQqoC,OACV75B,EAAGsL,YAAYvgB,EAAO,SAAS+uC,EAAcnyC,GAC3CoD,EAAMpD,GAAO,GAAIqY,GAAGgK,GAAG+hB,OAK3B,IAAIgO,GAAiBp1C,EAAE6G,MAAMT,GACzBlI,EAAOC,IACXkd,GAAGsL,YAAYyuB,EAAgB,SAAS3zC,EAAOuB,GACzCvB,YAAiB4Z,GAAGgK,KACtB+vB,EAAepyC,GAAOvB,EAAMwlC,UAC1B/oC,EAAKsoB,WAAWxjB,GAChB9E,EACA8E,GAEEoyC,EAAepyC,KAASqY,EAAGgK,GAAG8hB,cACzBiO,GAAepyC,MAM5B7E,KAAK+kC,UAAU98B,EAAOyG,GAEtBA,EAAQwoC,UACR,IAAI7B,GAAUr1C,KAAK2zC,kBAqDnB,OAlDAz2B,GAAGiL,WAAWtmB,EAAEY,KAAKwF,GAAQ,SAASgmC,GACpC,GAAIve,GAAMznB,EAAMgmC,EAKZve,aAAexS,GAAG+J,WACpByI,EAAI5T,OAAS/b,GAGT2vB,YAAexS,GAAGgK,KACtBwI,EAAM,GAAIxS,GAAGgK,GAAG0hB,IAAIlZ,GAItB,IAAIynB,IAAe,CAEjBznB,aAAexS,GAAGgK,GAAG0hB,KACrB/mC,EAAE4Q,QAAQ1S,EAAKsoB,WAAW4lB,GAAOve,EAAIpsB,SAErC6zC,GAAe,GAGbA,UACK9B,GAAQpH,GACXv/B,EAAQslC,OACVj0C,EAAK+zC,QAAQ7F,IAAQ,EAErBv/B,EAAQwoC,QAAQjJ,IAAQ,EAI5B,IAAIkH,GAAiBtzC,EAAE8G,KAAK5I,EAAKyzC,YACjC2B,GAAelH,GAAQve,EAAIiZ,mBAAmBwM,EAAelH,IAC7DluC,EAAK62C,4BAA4B3I,GAE7BkJ,GACFp3C,EAAK8zC,QAAQ5F,GAAQluC,EAAKsoB,WAAW4lB,GAChCv/B,EAAQslC,SACXj0C,EAAKg0C,SAAS9F,IAAQ,WAGjBluC,GAAK8zC,QAAQ5F,SACbluC,GAAKg0C,SAAS9F,MAIpBv/B,EAAQslC,QACXh0C,KAAKqrC,OAAO38B,GAEP1O,MAST+2C,MAAO,SAAS9I,EAAMv/B,GAGpB,MAFAA,GAAUA,MACVA,EAAQqoC,OAAQ,EACT/2C,KAAKwzB,IAAIya,EAAM,KAAMv/B,IAU9B0oC,UAAW,SAASnJ,EAAM9E,GAIxB,OAHItnC,EAAEwR,YAAY81B,IAAWtnC,EAAEuR,OAAO+1B,MACpCA,EAAS,GAEJnpC,KAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGgiB,UAAUC,KAS5CiC,IAAK,SAAS6C,EAAM1mC,GAClB,MAAOvH,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGsiB,IAAIruB,EAAY5T,MAWlD8vC,UAAW,SAASpJ,EAAM1mC,GACxB,MAAOvH,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGyiB,UAAUxuB,EAAY5T,MAUxD+jC,OAAQ,SAAS2C,EAAM1mC,GACrB,MAAOvH,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAG6iB,OAAO5uB,EAAY5T,MAUrD+vC,OAtpBgC,SAspBzBrJ,EAAM3qC,GACX,MAAOtD,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGmiB,OAAO/lC,KAUzCi0C,MAjqBgC,SAiqB1BtJ,EAAM3qC,GACV,MAAOtD,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGoiB,MAAMhmC,KAUxCk0C,OA5qBgC,SA4qBzBvJ,EAAM3qC,GACX,MAAOtD,MAAKwzB,IAAIya,EAAM,GAAI/wB,GAAGgK,GAAGqiB,OAAOjmC,KAYzCklC,GAAI,SAASyF,GACX,MAAOpsC,GAAE8G,KAAK3I,KAAKwzC,aAAavF,IAOlCxa,MAAO,SAAS/kB,GACdA,EAAUA,MACVA,EAAQqoC,OAAQ,CAChB,IAAIU,GAAc51C,EAAEsP,OAAOnR,KAAKqoB,WAAYroB,KAAKwtC,YACjD,OAAOxtC,MAAKwzB,IAAIikB,EAAa/oC,IAO/BgpC,OA5sBgC,SA4sBzBj1C,GACL,GAAMk1C,GAAS91C,EAAE8G,KAAK3I,KAAKwzC,YAM3B,OALcr4B,GAAY1Y,GAAQZ,EAAEY,KAAKk1C,IACnCryC,QAAQ,SAAAT,SACL8yC,GAAO9yC,KAEhB7E,KAAKq2C,2BACEr2C,MAQT43C,aAAc,WACZ,GAAIrP,GAAO1mC,EAAE6G,MAAM7G,EAAEoI,MAAMjK,KAAKwzC,aAIhC,OAHAt2B,GAAGsL,YAAY+f,EAAM,SAASC,EAAI3jC,GAChC0jC,EAAK1jC,GAAO2jC,EAAGlyB,WAEViyB,GAOTsP,iBAAkB,WAChB,MAAO36B,GAAGpc,OAAOg3C,wBAAwB93C,KAAKqoB,aAahDmnB,MAAO,WAAqC,GAA5Bl0B,GAA4B,0DAAT5M,EAAS,aACtC3O,EAAOC,IASX,OARcyf,GACZ,UACAzf,KAAKmS,UACLnS,KAAK+U,GACL,MACAqG,EAAsBE,GACtB5M,GAEa6L,KAAK,SAASC,GAC3B,GAAM+5B,GAAex0C,EAAKsf,MAAM7E,EAUhC,OATAza,GAAKy0C,kBACHD,EACAj5B,EAAa7Y,KACT0Y,EAAYG,EAAa7Y,MACtByR,KAAK,KACLqI,MAAM,SACTrE,IAENnY,EAAK0nB,aAAa8sB,GAAc,GACzBx0C,KAIXy0C,kBA9wBgC,SA8wBdD,GAAsD,WAAxCwD,EAAwC,uDAA1Bl2C,EAAEY,KAAKzC,KAAKuzC,YACxD1xC,GAAEyD,QAAQyyC,EAAa,SAAAlzC,OACKqT,KAAtBq8B,EAAa1vC,UAA2B,GAAK0uC,YAAY1uC,MAiCjEslB,KAAM,SAAS0a,EAAMC,EAAMkT,GACzB,GAAI/vC,GAAOm9B,EAAS12B,CAChB7M,GAAEmC,SAAS6gC,IAAS5pB,EAAkB4pB,IACxC58B,EAAQ48B,EACRn2B,EAAUo2B,IAEV78B,KACAA,EAAM48B,GAAQC,EACdp2B,EAAUspC,GAGZtpC,EAAU7M,EAAE6G,MAAMgG,OACdA,EAAQJ,OACV82B,EAAUvjC,EAAE6G,MAAM1I,KAAKqoB,YAGzB,IAAI4vB,GAAap2C,EAAE6G,MAAMgG,MACrBupC,GAAW3pC,OACb2pC,EAAWjE,QAAS,GAElB/rC,GACFjI,KAAKwzB,IAAIvrB,EAAOgwC,EAGlB,IAAI3C,GAAQt1C,KAERk4C,KACAC,IAEJ,OADAj7B,GAAGpc,OAAOs3C,qBAAqB9C,EAAO4C,EAAiBC,GACnDD,EAAgB7zC,OAAS8zC,EAAa9zC,OAAS,EAC1C6Y,EAAGpc,OAAOqzC,eAAen0C,KAAMs1C,EAAO5mC,IAG/C1O,KAAKw1C,aACLx1C,KAAK81C,SAAW91C,KAAK81C,SAAW,GAAK,EAErC91C,KAAKq4C,kBAAoBr4C,KAAKq4C,mBAAqB,UAAQr7B,UAC3Dhd,KAAKq4C,kBAAoBr4C,KAAKq4C,kBAC3Bx9B,MAAM,SAAA9E,MACNwE,KAAK,WACJ,GAAIzS,GAASwtC,EAAMvgC,GAAK,MAAQ,OAE5BwzB,EAAO+M,EAAMsC,eACb99B,IAUJ,KARIw7B,EAAM11B,gBAAkBlR,EAAQ+lC,iBAClC36B,EAAA,IAAe,QAGbpL,EAAQ4pC,kBACVx+B,EAAMy+B,eAAiB,QAGrB7pC,EAAQoL,MAAO,CACjB,GAAI0+B,EAOJ,IANwC,kBAA7B9pC,GAAQoL,MAAM2+B,aACvBD,EAAc9pC,EAAQoL,MAAM2+B,gBAE1B3+B,EAAM9R,MAAQwwC,EAAYxwC,QAGzB8R,EAAM9R,MAAO,CAEhB,KADY,IAAIgG,OAAM,qCAK1BnM,EAAEsP,OAAOo3B,EAAM+M,EAAM7B,OAErB,IAAI/zB,GAAQ,UACRvN,EAAYmjC,EAAMnjC,SACE,WAApBmjC,EAAMnjC,WAA0BmjC,EAAMvgC,KAExC2K,EAAQ,QACRvN,EAAY,KAGd,IAAIumC,GAAchqC,EAAQiqC,cAAgBl5B,EACtCm5B,EAAiBF,EACnBh5B,EACAvN,EACAmjC,EAAMvgC,GACNjN,EACAygC,EACA75B,EACAoL,EAqBF,OAlBA8+B,GAAiBA,EAAer+B,KAC9B,SAASs+B,GACP,GAAIC,GAAcxD,EAAMj2B,MAAMw5B,EAQ9B,OAPInqC,GAAQJ,OACVwqC,EAAcj3C,EAAEsP,OAAOlJ,MAAa6wC,IAEtCxD,EAAMS,YAAY+C,GACdpqC,EAAQJ,MACVgnC,EAAM9hB,IAAI4R,EAAS6S,GAEd3C,GAET,SAAS16B,GAEP,KADA06B,GAAMG,cACA76B,MAMP5a,KAAKq4C,oBAadla,QAAS,SAASzvB,GAChBA,EAAUA,KACV,IAAI4mC,GAAQt1C,KAER+4C,EAAiB,WACnBzD,EAAM3Q,QAAQ,UAAW2Q,EAAOA,EAAM9xC,WAAYkL,GAGpD,OAAK1O,MAAK+U,IAILrG,EAAQJ,MACXyqC,IAGYt5B,EACZ,UACAzf,KAAKmS,UACLnS,KAAK+U,GACL,SACA/U,KAAKyzC,OACL/kC,GAEa6L,KAAK,WAIlB,MAHI7L,GAAQJ,MACVyqC,IAEKzD,KAnBAyD,KA2BX15B,MAAO,SAASw5B,GACd,GAAIhuC,GAAShJ,EAAE6G,MAAMmwC,EASrB,OARAh3C,IAAG,YAAa,cAAcwD,KAAK,SAASR,GACtCgG,EAAOhG,KACTgG,EAAOhG,GAAOqY,EAAG+I,WAAWpb,EAAOhG,OAGnCgG,EAAO+pC,YAAc/pC,EAAOiqC,YAC9BjqC,EAAOiqC,UAAYjqC,EAAO+pC,WAErB/pC,GAOTnC,MAAO,WACL,MAAO,IAAI1I,MAAKqQ,YAAYrQ,KAAKqoB,aAOnC2wB,MAAO,WACL,OAAQh5C,KAAK+U,IAQfs2B,OAAQ,SAAS38B,GACfA,EAAUA,KACV,IAAIuqC,GAAWj5C,KAAKk5C,SACpBl5C,MAAKk5C,WAAY,CAGjB,IAAIn5C,GAAOC,IACXkd,GAAGsL,YAAYxoB,KAAK8zC,QAAS,SAAS7F,GACpCluC,EAAKg0C,SAAS9F,IAAQ,GAIxB,IAAIiJ,GAAUr1C,EAAEsP,UAAWzC,EAAQwoC,QAASl3C,KAAK8zC,QAKjD,IAJA9zC,KAAK8zC,WACL52B,EAAGsL,YAAY0uB,EAAS,SAASF,EAAc/I,GAC7CluC,EAAK4kC,QAAQ,UAAYsJ,EAAMluC,EAAMA,EAAKmB,IAAI+sC,GAAOv/B,KAEnDuqC,EACF,MAAOj5C,KAWT,KAPA,GAAIm5C,GAAgB,SAAS71C,EAAO2qC,GAC7BluC,EAAKg0C,SAAS9F,IAAUluC,EAAK+zC,QAAQ7F,UACjCluC,GAAK8zC,QAAQ5F,KAKhBpsC,EAAE6Q,QAAQ1S,KAAK+zC,WACrB/zC,KAAK+zC,YACL/zC,KAAK2kC,QAAQ,SAAU3kC,KAAM0O,GAE7BwO,EAAGsL,YAAYxoB,KAAK6zC,QAASsF,GAC7Bp5C,EAAKk0C,oBAAsBpyC,EAAE6G,MAAM1I,KAAKqoB,WAI1C,OADAroB,MAAKk5C,WAAY,EACVl5C,MAQT4O,SAAU,SAASq/B,GACjB,MAAKtqC,WAAUU,QAAWrE,KAAKi0C,oBAGxBj0C,KAAKi0C,oBAAoBhG,GAFvB,MAUX6I,mBAAoB,WAClB,MAAOj1C,GAAE6G,MAAM1I,KAAKi0C,sBAQtBmF,QAAS,WACP,IACEp5C,KAAKq5C,SAASr5C,KAAKqoB,YACnB,MAAOzN,GACP,OAAO,EAET,OAAO,GAaTy+B,SAAU,SAASpxC,GACjB,GAAIpG,EAAEiD,IAAImD,EAAO,UAAYA,EAAM0e,cAAezJ,GAAGyJ,KACnD,KAAM,IAAI9F,GAAQA,EAAQC,YAAa,0BAU3CikB,UAAW,SAAS98B,EAAOyG,IACrBA,EAAQslC,QAAWh0C,KAAKq5C,WAG5BpxC,EAAQpG,EAAEsP,UAAWnR,KAAKqoB,WAAYpgB,GACtCjI,KAAKq5C,SAASpxC,KAQhB0lC,OAAQ,WACN,MAAO3tC,MAAKkB,IAAI,QAWlB2sC,OAAQ,SAASC,EAAKp/B,GACpB,MAAO1O,MAAKwzB,IAAI,MAAOsa,EAAKp/B,IAG9B4qC,kBAAmB,WACjBt5C,KAAKu5C,WAAW,cAChBv5C,KAAKu5C,WAAW,gBAChBv5C,KAAKu5C,WAAW,iBAGlBC,iBAAkB,WAChBx5C,KAAKu5C,WAAW,aAChBv5C,KAAKu5C,WAAW,eAChBv5C,KAAKu5C,WAAW,gBAGlBA,WAAY,SAASE,GACnB,IACG53C,EAAEuF,UAEC,aACA,YACA,eACA,cACA,eACA,eAEFqyC,GAGF,KAAM,IAAIzrC,OAAM,yBAA2ByrC,EAG7C,KAAKv8B,EAAGc,QACN,KAAM,IAAIhQ,OAAM,8BAGbhO,MAAKyzC,OAAOiG,iBACf15C,KAAKyzC,OAAOiG,mBAGd15C,KAAKyzC,OAAOiG,eAAev3C,KAAKs3C,MAYtCv8B,EAAGpc,OAAOysC,kBAAoB,SAACoM,EAAO5kC,EAAIwhC,GACxC,GAAIqD,SACJ,IAAI/3C,EAAEgI,SAAS8vC,GACbC,EAAS18B,EAAGpc,OAAO0qC,aAAamO,OAC3B,MAAIA,EAAMp4C,WAAao4C,EAAMp4C,oBAAqB2b,GAAGpc,QAG1D,KAAM,IAAIkN,OAAM,qDAFhB4rC,GAASD,EAIX,GAAMt4C,GAAS,GAAIu4C,EAGnB,OAFAv4C,GAAO0T,GAAKA,EACZ1T,EAAOmlB,SAAW+vB,EACXl1C,GAST6b,EAAGpc,OAAO+4C,WAAa,SAASpQ,GAAuB,GAAd/6B,GAAc,yDACrD,KAAK+6B,GAA8B,IAAnBA,EAAQplC,OACtB,MAAO,WAAQ2Y,SAEjB,IAAM88B,GAA6Bj4C,EAAE2H,QAAQigC,EAAS,SAAApoC,GAAA,OACpD,cACE8Q,UAAW9Q,EAAO8Q,UAClB4nC,MAAO14C,EAAOoyC,WAGZuG,GACJ3F,SAAUxyC,EAAE0D,IAAIu0C,EAA4B,SAAArQ,GAC1C,GAAMwQ,GAAMp4C,EAAE0D,IAAIkkC,EAAS,MAAMv1B,KAAK,IACtC,QACEpM,OAAQ,SACR/C,qBAAsB0kC,EAAQ,GAAGt3B,UAAjC,IAA8C8nC,EAC9CD,KAAMvQ,EAAQ,GAAGgK,UAIvB,OAAOh0B,GAAS,QAAS,KAAM,KAAM,OAAQu6B,EAAMtrC,GAAS6L,KAC1D,SAAAC,GACE,GAAM64B,GAAaxxC,EAAEwE,KAAKmU,EAAU,SAAA7V,GAAA,OAAWA,EAAO4qC,SACtD,IAAI8D,EACF,KAAM,IAAIxyB,GAAQwyB,EAAWz4B,MAAMsE,KAAMm0B,EAAWz4B,MAAMA,UAWlEsC,EAAGpc,OAAO0qC,aAAe,SAASr5B,GAChC,IAAKtQ,EAAEgI,SAASsI,GACd,KAAM,IAAInE,OAAM,qDAElB,IAAIksC,GAAch9B,EAAGpc,OAAOq5C,UAAUhoC,EAKtC,OAJK+nC,KACHA,EAAch9B,EAAGpc,OAAOqQ,OAAOgB,GAC/B+K,EAAGpc,OAAOq5C,UAAUhoC,GAAa+nC,GAE5BA,GAOTh9B,EAAGpc,OAAO0mB,QAAU,SAASrV,EAAWkW,EAAY3Z,GAElD,MAAO,KADWwO,EAAGpc,OAAO0qC,aAAar5B,IAClBkW,EAAY3Z,IAKrCwO,EAAGpc,OAAOq5C,aAEVj9B,EAAGpc,OAAOolB,QAAUhJ,EAAGgJ,QAgBvBhJ,EAAGpc,OAAH,IAAmB,SAASunB,EAAY3Z,GACtC,MAAO,IAAIwO,GAAGpc,OAAOunB,EAAY3Z,IAyBnCwO,EAAGpc,OAAOqQ,OAAS,SAASgB,EAAW4J,EAAYoK,GAEjD,IAAKtkB,EAAEgI,SAASsI,GAAY,CAC1B,GAAIA,GAAatQ,EAAEiD,IAAIqN,EAAW,aAChC,MAAO+K,GAAGpc,OAAOqQ,OAAOgB,EAAUA,UAAWA,EAAW4J,EAExD,MAAM,IAAI/N,OACR,8DAMY,SAAdmE,IACFA,EAAY,QAGd,IAAIioC,GAAiB,IACrB,IAAIv4C,EAAEiD,IAAIoY,EAAGpc,OAAOq5C,UAAWhoC,GAAY,CACzC,GAAIkoC,GAAiBn9B,EAAGpc,OAAOq5C,UAAUhoC,EAIzC,KAAI4J,IAAcoK,EAGhB,MAAOk0B,EAFPD,GAAiBC,EAAen0B,QAAQnK,EAAYoK,OAKtDpK,GAAaA,MACbA,EAAWu+B,WAAanoC,EACxBioC,EAAiBp6C,KAAKkmB,QAAQnK,EAAYoK,EAoB5C,OAjBAi0B,GAAejpC,OAAS,SAASopC,GAC/B,GAAI14C,EAAEgI,SAAS0wC,IAAUA,GAAQ14C,EAAEiD,IAAIy1C,EAAM,aAC3C,MAAOr9B,GAAGpc,OAAOqQ,OAAOzN,MAAM02C,EAAgBz2C,UAEhD,IAAI62C,IAAgBroC,GAAWzE,OAAO7L,EAAE+H,QAAQjG,WAChD,OAAOuZ,GAAGpc,OAAOqQ,OAAOzN,MAAM02C,EAAgBI,IAGhD15C,OAAOC,eACLq5C,EACA,SACA,aAAgCl9B,EAAGpc,OAAQ,UAE7Cs5C,EAAA,IAAwB,SAAS/xB,EAAY3Z,GAC3C,MAAO,IAAI0rC,GAAe/xB,EAAY3Z,IAExCwO,EAAGpc,OAAOq5C,UAAUhoC,GAAaioC,EAC1BA,GAITt5C,OAAOC,eAAemc,EAAGpc,OAAOS,UAAW,aACzCL,IAAK,WACH,GAAMiR,GACJnS,KAAKs6C,YACLt6C,KAAKqQ,YAAYoqC,cACjBz6C,KAAKqQ,YAAY1P,IAEnB,OAAkB,SAAdwR,EACK,QAEFA,KAcX+K,EAAGpc,OAAO45C,SAAW,SAACf,EAAOh5C,GAC3B,KAAMg5C,EAAMp4C,oBAAqB2b,GAAGpc,QAClC,KAAM,IAAIkN,OAAM,kDAElB,IAAMmE,GAAYxR,GAAQg5C,EAAMh5C,IAChC,KAAKwR,EAAU9N,OACb,KAAM,IAAI2J,OAAM,iCAEdrN,KACFg5C,EAAMc,aAAe95C,GAEvBuc,EAAGpc,OAAOq5C,UAAUhoC,GAAawnC,GAcnC74C,OAAOC,eAAemc,EAAGpc,OAAQ,SAC/BI,IADwC,WAEtC,MAAO,IAAIgc,GAAG+tB,MAAMjrC,KAAKuB,UAAU4Q,cAIvC+K,EAAGpc,OAAOs3C,qBAAuB,SAAS3O,EAAShN,EAAUke,GAC3Dz9B,EAAGkL,UAAUqhB,EAAS,SAASpoC,GAC7B,MAAIA,aAAkB6b,GAAGpc,YACnBO,EAAOizC,SACT7X,EAASt6B,KAAKd,IAKdA,YAAkB6b,GAAGiK,UAClB9lB,EAAO0T,IACV4lC,EAAMx4C,KAAKd,QAFf,MASJ6b,EAAGpc,OAAOg3C,wBAA0B,SAASz2C,GAC3C,GAAIu5C,IAAyB,CAkB7B,OAhBIv5C,aAAkB6b,GAAGpc,QAAUO,YAAkB6b,GAAGiK,KACtDyzB,IAA2Bv5C,EAAO0T,GACzBlT,EAAEU,QAAQlB,GACnB6b,EAAGiL,WAAW9mB,EAAQ,SAAS4a,GACxBiB,EAAGpc,OAAOg3C,wBAAwB77B,KACrC2+B,GAAyB,KAGpB/4C,EAAEmC,SAAS3C,IACpB6b,EAAGsL,YAAYnnB,EAAQ,SAAS4a,GACzBiB,EAAGpc,OAAOg3C,wBAAwB77B,KACrC2+B,GAAyB,KAKxBA,GAGT19B,EAAGpc,OAAOqzC,eAAiB,SAAS9yC,EAAQi0C,EAAO5mC,GACjD,GAAIwpC,MACAC,IACJj7B,GAAGpc,OAAOs3C,qBAAqB/2C,EAAQ62C,EAAiBC,EAExD,IAAI79B,GAAU,UAAQ0C,SACtBnb,GAAEwD,KAAK8yC,EAAc,SAASrwB,GAC5BxN,EAAUA,EAAQC,KAAK,WACrB,MAAOuN,GAAKqC,UAIhB,IAAIsf,GAAU5nC,EAAEwJ,KAAK6sC,GACjBjpC,EAAYpN,EAAEwJ,KAAKo+B,EAEvB,OAAOnvB,GACJC,KAAK,WACJ,MAAOuC,GACL,WACE,MAAO7N,GAAU5K,OAAS,GAE5B,WAEE,GAAIw2C,MACAC,IAiBJ,IAhBA59B,EAAGiL,WAAWlZ,EAAW,SAAS5N,GAEhC,GAAIw5C,EAAMx2C,OAAS,GAEjB,WADAy2C,GAAa34C,KAAKd,EAIhBA,GAAOw2C,mBACTgD,EAAM14C,KAAKd,GAEXy5C,EAAa34C,KAAKd,KAGtB4N,EAAY6rC,EAGS,IAAjBD,EAAMx2C,OACR,MAAO,WAAQyC,OACb,GAAI+Z,GACFA,EAAQC,YACR,uCAMN,IAAIi6B,GAAe,UAAQ/9B,QACzBnb,EAAE0D,IAAIs1C,EAAO,SAASx5C,GACpB,MAAOA,GAAOg3C,mBAAqB,UAAQr7B,aAKzCg+B,EAAkBD,EAAaxgC,KAAK,iBACxCkF,GACE,QACA,KACA,KACA,QAEE40B,SAAUxyC,EAAE0D,IAAIs1C,EAAO,SAASx5C,GAC9B,GAAIyG,GAASzG,EAAO0T,GAAK,MAAQ,OAE7BwzB,EAAOlnC,EAAOu2C,cAElB/1C,GAAEsP,OAAOo3B,EAAMlnC,EAAOoyC,OAEtB,IACIthC,GAAY9Q,EAAO8Q,UACnBpN,EAAOA,YAAaoN,CACC,WAArB9Q,EAAO8Q,WAA0B9Q,EAAO0T,KAE1ChQ,EAAO,SAGT,IAAIA,GAAOA,OAAOA,CAOlB,OANI1D,GAAO0T,KACThQ,EAAOA,EAAO,IAAM1D,EAAO0T,IAG7B1T,EAAOm0C,cAGL1tC,OAAQA,EACR/C,KAAMA,EACNi1C,KAAMzR,MAIZ75B,GACA6L,KAAK,SAASC,GACd,GAAM/U,GAAU5D,EAAE0D,IAAIs1C,EAAO,SAASx5C,EAAQjB,GAC5C,MAAIoa,GAASpa,GAAGmvC,SACdluC,EAAO00C,YAAY10C,EAAOge,MAAM7E,EAASpa,GAAGmvC,UACrCluC,IAETA,EAAOo0C,cACA,GAAI50B,GACTrG,EAASpa,GAAGwa,MAAMsE,KAClB1E,EAASpa,GAAGwa,MAAMA,SAGtB,OAAOw4B,GAAmB3tC,MAM9B,OAHAyX,GAAGiL,WAAW0yB,EAAO,SAASx5C,GAC5BA,EAAOg3C,kBAAoB2C,IAEtBA,MAIZzgC,KAAK,WACJ,MAAOlZ,QjJupST,SAAUzB,EAAQD,EAASM,GkJ53VjC,EAAQ,IACR,IAAIwjC,GAAU,EAAQ,GAAuB3iC,MAC7ClB,GAAOD,QAAU,SAAkC4Y,EAAI1T,GACrD,MAAO4+B,GAAQ3S,yBAAyBvY,EAAI1T,KlJo4VxC,SAAUjF,EAAQD,EAASM,GmJt4VjC,GAAI2wB,GAAY,EAAQ,IACpBgQ,EAA4B,EAAQ,IAAkBzgB,CAE1D,GAAQ,IAAiB,2BAA4B,WACnD,MAAO,UAAkC5H,EAAI1T,GAC3C,MAAO+7B,GAA0BhQ,EAAUrY,GAAK1T,OnJg5V9C,SAAUjF,EAAQD,EAASM,GAEjC,YoJ54VA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GAVvFlD,EAAQyB,YAAa,CAErB,IAAI65C,GAAe,EAAQ,KAEvBC,EAAe1iC,EAAuByiC,GAEtCE,EAAgB,EAAQ,KAExBC,EAAgB5iC,EAAuB2iC,EAI3Cx7C,GAAQ8Y,QAAU,WAChB,QAAS4iC,GAAcjf,EAAKh8B,GAC1B,GAAIk7C,MACAliB,GAAK,EACLqB,GAAK,EACL8gB,MAAKrjC,EAET,KACE,IAAK,GAA0CohB,GAAtCrO,GAAK,EAAImwB,EAAc3iC,SAAS2jB,KAAYhD,GAAME,EAAKrO,EAAGlG,QAAQC,QACzEs2B,EAAKn5C,KAAKm3B,EAAGh2B,QAETlD,GAAKk7C,EAAKj3C,SAAWjE,GAHuDg5B,GAAK,IAKvF,MAAO5Z,GACPib,GAAK,EACL8gB,EAAK/7B,EACL,QACA,KACO4Z,GAAMnO,EAAW,QAAGA,EAAW,SACpC,QACA,GAAIwP,EAAI,KAAM8gB,IAIlB,MAAOD,GAGT,MAAO,UAAUlf,EAAKh8B,GACpB,GAAI2B,MAAMQ,QAAQ65B,GAChB,MAAOA,EACF,KAAI,EAAI8e,EAAaziC,SAAS3X,OAAOs7B,IAC1C,MAAOif,GAAcjf,EAAKh8B,EAE1B,MAAM,IAAImN,WAAU,6DpJg6VpB,SAAU3N,EAAQD,EAASM,GqJ/8VjCL,EAAOD,SAAY,QAAW,EAAQ,KAAmCyB,YAAY,IrJq9V/E,SAAUxB,EAAQD,EAASM,GsJr9VjC,EAAQ,IACR,EAAQ,IACRL,EAAOD,QAAU,EAAQ,MtJ49VnB,SAAUC,EAAQD,EAASM,GuJ99VjC,GAAI4xB,GAAU,EAAQ,IAClBjN,EAAW,EAAQ,GAAU,YAC7BZ,EAAY,EAAQ,GACxBpkB,GAAOD,QAAU,EAAQ,GAAW67C,WAAa,SAAUjjC,GACzD,GAAI6H,GAAItf,OAAOyX,EACf,YAAuBL,KAAhBkI,EAAEwE,IACJ,cAAgBxE,IAEhB4D,EAAUxiB,eAAeqwB,EAAQzR,MvJs+VlC,SAAUxgB,EAAQD,EAASM,GwJ9+VjCL,EAAOD,SAAY,QAAW,EAAQ,KAAoCyB,YAAY,IxJo/VhF,SAAUxB,EAAQD,EAASM,GyJp/VjC,EAAQ,IACR,EAAQ,IACRL,EAAOD,QAAU,EAAQ,MzJ2/VnB,SAAUC,EAAQD,EAASM,G0J7/VjC,GAAI8f,GAAW,EAAQ,GACnB7e,EAAM,EAAQ,GAClBtB,GAAOD,QAAU,EAAQ,GAAW87C,YAAc,SAAUljC,GAC1D,GAAIuM,GAAS5jB,EAAIqX,EACjB,IAAqB,kBAAVuM,GAAsB,KAAMvX,WAAUgL,EAAK,oBACtD,OAAOwH,GAAS+E,EAAOvkB,KAAKgY,M1JqgWxB,SAAU3Y,EAAQD,EAASM,GAEjC,Y2J5gWA,IAAM4B,GAAIuX,EAAQ,GACZyH,EAAUzH,EAAQ,GAExBxZ,GAAOD,QAAU,SAASud,GACxBA,EAAGiqB,KAAOjqB,EAAGpc,OAAOqQ,OAClB,SAmBEd,YAAa,SAAS1P,EAAMmtC,GAO1B,GANIjsC,EAAEgI,SAASlJ,IACbuc,EAAGpc,OAAOS,UAAU8O,YAAY9P,KAAKP,KAAM,KAAM,MACjDA,KAAK07C,QAAQ/6C,IAEbuc,EAAGpc,OAAOS,UAAU8O,YAAY9P,KAAKP,KAAMW,EAAMmtC,GAE/CA,EAAK,CACP,KAAMA,YAAe5wB,GAAGyJ,KACtB,KAAM,IAAIpZ,WAAU,oCAEpBvN,MAAK6tC,OAAOC,KAUlB1G,QAAS,WACP,MAAOpnC,MAAKkB,IAAI,SAiBlBw6C,QAAS,SAAS/6C,EAAM+N,GACtB,MAAO1O,MAAKwzB,IAAI,OAAQ7yB,EAAM+N,IAchCitC,SAAU,WACR,MAAO37C,MAAK4nB,SAAS,UAcvBg0B,SAAU,WACR,MAAO57C,MAAK4nB,SAAS,UAMvByxB,SAAU,SAASpxC,EAAOyG,GACxB,GAAI,QAAUzG,IAASA,EAAMtH,OAASX,KAAKonC,UAAW,CACpD,GAAIyU,GAAU5zC,EAAMtH,IACpB,IAAIX,KAAK+U,IAAM/U,KAAK+U,KAAO9M,EAAM0X,SAI/B,MAAO,IAAIkB,GACTA,EAAQC,YACR,0DAGJ,KAAKjf,EAAEgI,SAASgyC,GACd,MAAO,IAAIh7B,GACTA,EAAQC,YACR,kCAGJ,KAAK,qBAAqBvM,KAAKsnC,GAC7B,MAAO,IAAIh7B,GACTA,EAAQC,YACR,6EAKN,QAAI5D,EAAGpc,OAAOS,UAAU83C,UACfn8B,EAAGpc,OAAOS,UAAU83C,SAAS94C,KAAKP,KAAMiI,EAAOyG,Q3J6gW1D,SAAU9O,EAAQD,EAASM,GAEjC,YAeA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GAZvF,GAAIiW,GAAa7Y,EAAoB,IAEjC8Y,EAAcP,EAAuBM,GAErC0pB,EAAmBviC,EAAoB,KAEvC67C,EAAmBtjC,EAAuBgqB,GAE1C9pB,EAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,G4J3pWjC7W,EAAIuX,EAAQ,GACZ6L,EAAO7L,EAAQ,IACfyH,EAAUzH,EAAQ,I5JiqWpBC,E4JhqWqCD,EAAQ,GAA/B0yB,E,EAAVrsB,SAAqBpF,E,EAAAA,QAMvB0hC,EAAsB,WAC1B,GAAkB,mBAAPC,KAA0C,kBAAbA,IAAGC,MACzC,KAAM,IAAIjuC,OAAM,0CAElB,OAAO,IAAI,GAAJ,QAAY,SAACgP,EAASlW,GAC3Bk1C,GAAGC,OACD1M,QAAS,YAAsB,GAAnBrwB,GAAmB,EAAnBA,KAAMg9B,EAAa,EAAbA,MACZh9B,GACFlC,EAAQkC,GAERpY,EAAO,GAAIkH,OAAMkuC,KAGrBxiB,KAAM,iBAAM5yB,GAAO,GAAIkH,OAAM,mBAK7BmuC,EAAqB,cAACC,GAAD,uDAA0B,QAA1B,OAAuC,UAChEl9B,GADgE,gEAG9Dm9B,EAH8D,EAG9DA,cAH8D,IAI9DC,sBAJ8D,OAI5CF,EAJ4C,MAK9DG,oBAL8D,gBAQhEF,IAEMG,SAAUF,EACVG,aAAcF,EACdr9B,SAEAA,UAEFw9B,EAA6B,cAACN,GAAD,uDAA0B,QAA1B,OAAuC,UACxEO,EACAC,GAEG,oEADDN,sBACC,OADiBF,EACjB,MADyCG,oBACzC,SACH,IAAuB,gBAAZK,GACT,KAAM,IAAI/7B,GAAQA,EAAQC,YAAa,0BACzC,IAA+B,gBAApBw7B,GACT,KAAM,IAAIz7B,GAAQA,EAAQC,YAAa,kCAEzC,OAAOjf,GAAEsP,UAAWwrC,GAClBH,SAAUF,EACVO,QAASD,EACTH,aAAcjyC,QAAQ+xC,MAI1B38C,GAAOD,QAAU,SAASud,GAUxBA,EAAGmB,KAAOnB,EAAGpc,OAAOqQ,OAClB,SAGE2rC,gBAAgB,EAQhBxJ,kBAAmB,SAASrrC,GAK1B,MAJIA,GAAMyT,eACR1b,KAAKwe,cAAgBvW,EAAMyT,mBACpBzT,GAAMyT,cAERwB,EAAGmB,KAAKnC,UAAUo3B,kBAAkB/yC,KAAKP,KAAMiI,IAQxD80C,iBAAkB,WAChB,GAAK/8C,KAAKg9C,YAAV,CAGA,GAAIL,GAAW38C,KAAKkB,IAAI,WACnBy7C,IAGLz/B,EAAGsL,YAAYxoB,KAAKkB,IAAI,YAAa,SAASoC,EAAOuB,GAC9C83C,EAAS93C,UACL83C,GAAS93C,OAStBo4C,wBAAyB,WAEvB,GADej9C,KAAKkB,IAAI,YACxB,CAIA,GAAInB,GAAOC,IACXkd,GAAGsL,YAAYxoB,KAAKkB,IAAI,YAAa,SAASoC,EAAOuB,GACnD9E,EAAKm9C,qBAAqBr4C,OAS9Bq4C,qBAAsB,SAAS7N,GAC7B,GAAKrvC,KAAKg9C,YAAV,CAGA,GAAIG,EACAt7C,GAAEgI,SAASwlC,IACb8N,EAAW9N,EACXA,EAAWnyB,EAAGmB,KAAK++B,eAAeD,IAElCA,EAAW9N,EAASgO,aAEtB,IAAIV,GAAW38C,KAAKkB,IAAI,WACxB,IAAKy7C,GAAatN,EAAlB,CAGcA,EAASiO,sBAAsBX,EAASQ,KAEpDn9C,KAAKu9C,mBAAmBlO,MAI5BmO,kBAAmB,SAASC,GAW1B,MATIA,KAAgBvgC,EAAGU,QAAQQ,qBAC7Bpe,KAAK88C,gBAAiB,GAExB98C,KAAK+8C,mBACL/8C,KAAKi9C,gCAEEj9C,MAAKuzC,YAAYmK,SACxB19C,KAAK42C,4BAA4B,YACjC52C,KAAKg1C,iBAEFyI,IAAez9C,KAAKg9C,aACpB9/B,EAAGU,QAAQQ,mBAOL,UAAQpB,UAFR,UAAQA,QAAQE,EAAGmB,KAAKs/B,iBAAiB39C,QAWpD49C,UAAW,SAASvO,EAAUr5B,GAAuC,GAC/DmnC,GAD+D,uEAA/B5E,qBAA+B,SAQnE,OANI12C,GAAEgI,SAASwlC,IACb8N,EAAW9N,EACXA,EAAWnyB,EAAGmB,KAAK++B,eAAe/N,IAElC8N,EAAW9N,EAASgO,cAElBrnC,EACKhW,KAAKmqB,MACRwyB,UAAUA,EAAVA,cAAaQ,EAAWnnC,KAExBy+B,gBAAiBz0C,KAAKkB,IAAI,YAC1Bo3C,gBAAiBC,IAEnBh+B,KAAK,SAAS+6B,GACd,MAAOA,GAAMkI,mBAAkB,GAAMjjC,KAAK,WACxC,MAAO+6B,OAIJjG,EACJwO,eACAtjC,KAAK,SAAA5V,GAAA,MAAU,GAAKi5C,UAAUvO,EAAU1qC,MAoB/Cm5C,sBAxJ8B,SAwJRnB,EAAUH,GAC9B,MAAOx8C,MAAK49C,UAAUpB,EAAUG,IA0BlCoB,gCAnL8B,SAoL5BpB,EACAH,EACAI,EACAoB,GAEA,MAAOh+C,MAAK49C,UACVpB,EACAE,IAA6BC,EAAUC,EAASoB,KAepDC,mBA1M8B,SA0MXvvC,GAAS,UAC1B,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAK0+B,UA7QQ,WA+QXzB,EAAmB,MAAMj9B,EAAMxQ,OAgBrCwvC,mBA9N8B,SA8NXxvC,GAAS,UAC1B,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAK0+B,UAlSQ,WAkSkBzB,IAAqBj9B,EAAMxQ,OAQ9DyvC,cAxO8B,SAwOhBzvC,GAIZ,MAHAoP,SAAQC,KACN,qEAEK/d,KAAKk+C,mBAAmBxvC,IAcjC0vC,8BA1P8B,SA0PAxB,EAASoB,GAAc,UACnD,OAAOjC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAK0+B,UA7TQ,WA+TXlB,EAA2B,OAAQx9B,QAAQ09B,EAASoB,OAgB1DK,8BA9Q8B,SA8QAzB,EAASoB,GAAc,UACnD,OAAOjC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAK0+B,UAlVQ,WAoVXlB,KAA+Bx9B,QAAQ09B,EAASoB,OAWtDT,mBA7R8B,SA6RXlO,GAEjB,MADArvC,MAAK+2C,MAAL,YAAuB1H,GAChBrvC,KAAKmqB,OAAO5P,KAAK,SAAA+6B,GAAA,MACtBA,GAAMkI,mBAAkB,GAAMjjC,KAAK,iBAAM+6B,QAQ7CgJ,YAxS8B,SAwSlBjP,GAIV,MAHAvxB,SAAQC,KACN,mEAEK/d,KAAKu9C,mBAAmBlO,IAOjCkP,UAAW,SAASlP,GAClB,GAAI8N,EAOJ,OALEA,GADEt7C,EAAEgI,SAASwlC,GACFA,EAEAA,EAASgO,iBAEPr9C,KAAKkB,IAAI,iBACNi8C,IAQpBqB,YAnU8B,WAoU5B,MAAOx+C,MAAKu+C,UAvYO,cA0YrBE,OAAQ,WACNz+C,KAAK0+C,iBACL1+C,KAAK88C,gBAAiB,GAOxB4B,eAAgB,WAEd,GADe1+C,KAAKkB,IAAI,YACxB,CAGA,GAAInB,GAAOC,IACXkd,GAAGsL,YAAYxoB,KAAKkB,IAAI,YAAa,SAASoC,EAAOuB,GACnD9E,EAAK4+C,YAAY95C,OASrB85C,YAAa,SAAStP,GACfrvC,KAAKg9C,cAGNn7C,EAAEgI,SAASwlC,KACbA,EAAWnyB,EAAGmB,KAAK++B,eAAe/N,IAEhCA,GAAYA,EAASuP,gBACvBvP,EAASuP,mBAkBbC,OAAQ,SAAS52C,EAAOyG,GACtB,GAEIowC,GAAY72C,GAASA,EAAM62C,UAAa9+C,KAAKkB,IAAI,WACrD,KAAK49C,GAAyB,KAAbA,EAKf,KAJQ,IAAIj+B,GACVA,EAAQC,YACR,0CAKJ,IAAI48B,GAAYz1C,GAASA,EAAMy1C,UAAa19C,KAAKkB,IAAI,WACrD,KAAKw8C,GAAyB,KAAbA,EAKf,KAJQ,IAAI78B,GACVA,EAAQC,YACR,8CAKJ,OAAO9gB,MAAKmqB,KAAKliB,EAAOyG,GAAS6L,KAAK,SAAS+6B,GAK7C,MAJIA,GAAMkJ,gBACRlJ,EAAMyB,MAAN,sBACAzB,EAAM9B,kBAED8B,EAAMkI,mBAAkB,GAAMjjC,KAAK,WACxC,MAAO+6B,QAqBbyJ,6BAA8B,SAAS92C,GAAqB,GAAdyG,GAAc,0DAGtDswC,EACD/2C,GAASA,EAAM+2C,mBAAsBh/C,KAAKkB,IAAI,oBACjD,KAAK89C,GAA2C,KAAtBA,EAMxB,KALQ,IAAIn+B,GACVA,EAAQC,YACR,qFAMJ,IAAIm+B,GAAWh3C,GAASA,EAAMg3C,SAAYj/C,KAAKkB,IAAI,UACnD,KAAK+9C,GAAuB,KAAZA,EAMd,KALQ,IAAIp+B,GACVA,EAAQC,YACR,4EASJ,OAHApS,GAAQiqC,aAAe,SAASj5B,EAAOvN,EAAW4C,EAAIjN,EAAQygC,GAC5D,MAAOuD,GAAU,qBAAsB,KAAM,KAAM,OAAQvD,IAEtDvoC,KAAKmqB,KAAKliB,EAAOyG,GAAS6L,KAAK,SAAS+6B,GAG7C,aAFOA,GAAMjtB,WAAW42B,cACjB3J,GAAM/B,YAAY0L,QAClB3J,EAAMkI,mBAAkB,GAAMjjC,KAAK,WACxC,MAAO+6B,QASb4J,kBAld8B,SAkdZvC,EAAUH,EAAU9tC,GACpC,MAAO1O,MAAK49C,UAAUpB,EAAUG,EAAUjuC,IAO5CywC,4BA1d8B,SA2d5BxC,EACAH,EACAI,EACAwC,GAEA,MAAOp/C,MAAKk/C,kBACVxC,IAA6BC,EAAUC,EAASwC,GAChD5C,EACA4C,IAaJC,eAhf8B,SAgff3wC,GAAS,UACtB,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACH/C,IAAqBj9B,EAAMxQ,GArjBhB,WAujBXA,MASN4wC,0BA9f8B,SA8fJ1C,EAASwC,GAAmB,UACpD,OAAOrD,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACHxC,KAA+Bx9B,QAAQ09B,EAASwC,GAnkBrC,WAqkBXA,MAcNG,eAjhB8B,SAihBf7wC,GAAS,UACtB,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACH/C,EAAmB,MAAMj9B,EAAMxQ,GAtlBpB,WAwlBXA,MASN8wC,0BA/hB8B,SA+hBJ5C,EAASwC,GAAmB,UACpD,OAAOrD,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACHxC,EAA2B,OACvBx9B,QACF09B,EACAwC,GAvmBS,WA0mBXA,MAgBNK,MAAO,WACL,GAAInK,GAAQt1C,IAEZ,OADc8rC,GAAU,QAAS,KAAM,KAAM,OAAQ9rC,KAAKsW,UAC3CiE,KAAK,SAASs+B,GAC3B,GAAIC,GAAcxD,EAAMj2B,MAAMw5B,EAE9B,OADAvD,GAAM7tB,aAAaqxB,GACZxD,EAAMkI,mBAAkB,GAAMjjC,KAAK,WAExC,MADKu+B,GAAYmG,eAAgB3J,GAAMjtB,WAAN,QAC1BitB,OAObnrB,KAAM,SAAS0a,EAAMC,EAAMkT,GACzB,GAAI/vC,GAAOyG,CAWX,OAVI7M,GAAEmC,SAAS6gC,IAAShjC,EAAEuR,OAAOyxB,IAAShjC,EAAEwR,YAAYwxB,IACtD58B,EAAQ48B,EACRn2B,EAAUo2B,IAEV78B,KACAA,EAAM48B,GAAQC,EACdp2B,EAAUspC,GAEZtpC,EAAUA,MAEHwO,EAAGpc,OAAOS,UAAU4oB,KACxB5pB,KAAKP,KAAMiI,EAAOyG,GAClB6L,KAAK,SAAS+6B,GACb,MAAOA,GAAMkI,mBAAkB,GAAOjjC,KAAK,WACzC,MAAO+6B,QAcfoK,OAAQ,SAAShxC,EAAS+M,GACxB,IAAKzb,KAAK+U,GACR,KAAM,IAAI/G,OAAM,iBAElB,IAAI2N,UACA0M,QACA3Z,GAAQiN,MACVA,EAAOjN,EAAQiN,KACf0M,EAAa3Z,EAAQ2Z,YAErB1M,EAAOjN,CAET,IAAIixC,GAAe99C,EAAEgI,SAAS8R,GAAQA,EAAOA,EAAK5G,EAClD,KAAK4qC,EACH,KAAM,IAAI3xC,OAAM,uBAElB,IAAI0R,GAAQ,SAAW1f,KAAK+U,GAAK,eAAiB4qC,CASlD,OARc7T,GACZpsB,EACA,KACA,KACA,OACAxC,EAAGkJ,QAAQiC,GACX5M,IAYJmkC,SAAU,SAASlxC,EAAS+M,GAC1B,IAAKzb,KAAK+U,GACR,KAAM,IAAI/G,OAAM,iBAElB,IAAI2N,SAEFA,GADEjN,EAAQiN,KACHjN,EAAQiN,KAERjN,CAET,IAAIixC,GAAe99C,EAAEgI,SAAS8R,GAAQA,EAAOA,EAAK5G,EAClD,KAAK4qC,EACH,KAAM,IAAI3xC,OAAM,uBAElB,IAAI0R,GAAQ,SAAW1f,KAAK+U,GAAK,eAAiB4qC,CAElD,OADc7T,GAAUpsB,EAAO,KAAM,KAAM,SAAU,KAAMjE,IAS7DokC,cAAe,WACb,MAAO3iC,GAAGmB,KAAKwhC,cAAc7/C,KAAK+U,KAQpC+qC,cAAe,WACb,MAAO5iC,GAAGmB,KAAKyhC,cAAc9/C,KAAK+U,KAMpCy6B,MAAO,SAASl0B,EAAc5M,GAC5B,MAAOwO,GAAGpc,OAAOS,UAAUiuC,MACxBjvC,KAAKP,KAAMsb,EAAc5M,GACzB6L,KAAK,SAAS+6B,GACb,MAAOA,GAAMkI,mBAAkB,GAAOjjC,KAAK,WACzC,MAAO+6B,QAWfyK,eAAgB,SAASC,EAAaC,EAAavxC,GACjD,GAAIgR,GAAQ,SAAW1f,KAAK+U,GAAK,iBAMjC,OADc+2B,GAAUpsB,EAAO,KAAM,KAAM,OAHzCwgC,aAAcF,EACdG,aAAcF,GAE0CvxC,IAQ5DsuC,UAAW,WACT,MAAOh9C,MAAK88C,gBAQdsD,YAAa,WACX,MAAOpgD,MAAKkB,IAAI,aAQlBm/C,qBAAsB,WACpB,MAAOrgD,MAAKkB,IAAI,sBASlBo/C,qBAAsB,SAASC,EAAO7xC,GACpC,MAAO1O,MAAKwzB,IAAI,oBAAqB+sB,EAAO7xC,IAS9C8xC,YAAa,SAAS1B,EAAUpwC,GAC9B,MAAO1O,MAAKwzB,IAAI,WAAYsrB,EAAUpwC,IASxC+xC,YAAa,SAAS/C,EAAUhvC,GAC9B,MAAO1O,MAAKwzB,IAAI,WAAYkqB,EAAUhvC,IAQxCgyC,SAAU,WACR,MAAO1gD,MAAKkB,IAAI,UAUlBy/C,SAAU,SAASC,EAAOlyC,GACxB,MAAO1O,MAAKwzB,IAAI,QAASotB,EAAOlyC,IASlCmyC,cAAe,WAIb,MAHA/iC,SAAQC,KACN,+HAGE/d,KAAKwe,gBACLtB,EAAGU,QAAQQ,oBACXlB,EAAGmB,KAAK+mB,WACRloB,EAAGmB,KAAK+mB,UAAUrwB,KAAO/U,KAAK+U,IAUpC+rC,gBA9yB8B,WA8yBZ,UAChB,OAAO,WAAQ9jC,UAAUzC,KACvB,mBACI,EAAKiE,eACPtB,EAAGmB,KAAK0iC,yBAAyB,EAAKviC,eAAejE,KACnD,kBAAM,GACN,SAAAK,GACE,GAAmB,MAAfA,EAAMsE,KACR,OAAO,CAET,MAAMtE,QAUhBY,gBAl0B8B,WAm0B5B,MAAOxb,MAAKwe,eASdwiC,oBA50B8B,SA40BVtyC,GAAS,UAC3B,OAAOo9B,GAAUA,SACN9rC,KAAK+U,GADT,uBAEL,KACA,KACA,MACA,KACArG,GACA6L,KAAK,SAAAC,GAEL,MADA,GAAKiN,aAAajN,GACX,EAAKgjC,mBAAkB,GAAMjjC,KAAK,iBAAM,QAUnDqhC,SAh2B8B,SAg2BrBltC,GACP,MAAOwO,GAAG+J,SAAS6jB,aAAa,QAAS,QAAS9qC,MAAMqG,KAAKqI,MAO/DuyC,aAAc,KAKdC,yBAAyB,EAGzBC,kBAAmB,cAGnB/D,kBAkBAyB,OAAQ,SAASC,EAAUpB,EAAUz1C,EAAOyG,GAK1C,MAJAzG,GAAQA,MACRA,EAAM62C,SAAWA,EACjB72C,EAAMy1C,SAAWA,EACNxgC,EAAGpc,OAAO0mB,QAAQ,SACjBq3B,OAAO52C,EAAOyG,IAc5B+wC,MAAO,SAASX,EAAUpB,GACxB,GAAI/hC,GAAOuB,EAAGpc,OAAO0mB,QAAQ,QAE7B,OADA7L,GAAK8L,cAAeq3B,SAAUA,EAAUpB,SAAUA,IAC3C/hC,EAAK8jC,SAYd2B,OAAQ,SAAS1lC,GACf,MAAO1b,MAAK+gD,yBAAyBrlC,GAAcnB,KAAK,SAAAoB,GAAA,MACtDA,GAAK6hC,mBAAkB,GAAMjjC,KAAK,iBAAMoB,QAI5ColC,yBAA0B,SAASrlC,GACjC,GAAIC,GAAOuB,EAAGpc,OAAO0mB,QAAQ,QAC7B,OAAOnN,IACLvS,OAAQ,MACR/C,KAAM,YACN0W,aACEC,kBAEDnB,KAAK,SAASs+B,GACf,GAAIC,GAAcn9B,EAAK0D,MAAMw5B,EAE7B,OADAl9B,GAAK8L,aAAaqxB,GACXn9B,KAgBX0lC,4BAA6B,SAASC,EAAarC,GACjD,GAAItjC,GAAOuB,EAAGpc,OAAO0mB,QAAQ,QAE7B,OADA7L,GAAK8L,cAAeu3B,kBAAmBsC,EAAarC,QAASA,IACtDtjC,EAAK8jC,SAiBdV,6BAA8B,SAC5BC,EACAC,EACAh3C,EACAyG,GAMA,MAJAzG,GAAQA,MACRA,EAAM+2C,kBAAoBA,EAC1B/2C,EAAMg3C,QAAUA,EACL/hC,EAAGpc,OAAO0mB,QAAQ,SACjBu3B,6BAA6B92C,EAAOyG,IAclD6yC,qBAAsB,SAASD,EAAa5D,GAC1C,GAAI/hC,GAAOuB,EAAGpc,OAAO0mB,QAAQ,QAK7B,OAJA7L,GAAK8L,cACHu3B,kBAAmBsC,EACnB5D,SAAUA,IAEL/hC,EAAK8jC,SAYd+B,eAlKoB,SAkKLZ,EAAOlD,GACpB,GAAM/hC,GAAOuB,EAAGpc,OAAO0mB,QAAQ,QAK/B,OAJA7L,GAAK8L,cACHm5B,QACAlD,aAEK/hC,EAAK8jC,SA0BdP,kBAlMoB,SAkMFvC,EAAUH,EAAU9tC,GACpC,MAAOwO,GAAGmB,KAAKojC,WAAWjF,EAAUG,EAAUjuC,IAMhDgzC,0BAzMoB,WA6MlB,MAHA5jC,SAAQC,KACN,gFAEK/d,KAAKk/C,kBAAL,MAAAl/C,KAAA,YA2BTm/C,4BAxOoB,SAyOlBxC,EACAH,EACAI,EACAwC,GAEA,MAAOp/C,MAAKk/C,kBACVxC,IAA6BC,EAAUC,EAASwC,GAChD5C,EACA4C,IAQJuC,oCAzPoB,WA6PlB,MAHA7jC,SAAQC,KACN,oGAEK/d,KAAKm/C,4BAAL,MAAAn/C,KAAA,YAeTq/C,eA5QoB,SA4QL3wC,GAAS,UACtB,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACH/C,IAAqBj9B,EAAMxQ,GArrChB,WAurCXA,MAeN4wC,0BAhSoB,SAgSM1C,EAASwC,GAAmB,UACpD,OAAOrD,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACHxC,KAA+Bx9B,QAAQ09B,EAASwC,GAzsCrC,WA2sCXA,MAiBNG,eAtToB,SAsTL7wC,GAAS,UACtB,OAAOqtC,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACH/C,EAAmB,MAAMj9B,EAAMxQ,GA9tCpB,WAguCXA,MAeN8wC,0BA1UoB,SA0UM5C,EAASwC,GAAmB,UACpD,OAAOrD,KAAsBxhC,KAAK,SAAA2E,GAAA,MAChC,GAAKggC,kBACHxC,EAA2B,OACvBx9B,QACF09B,EACAwC,GArvCS,WAwvCXA,MAQNwC,OA3VoB,WA4VlB,MAAO38B,MAST48B,iBArWoB,WAsWlB,MAAO7hD,MAAKk/C,mBAERnqC,GAAImI,EAAGmB,KAAKujC,UAEd,cAIJ9D,sBA9WoB,SA8WEgE,EAAStF,EAAUG,GAIvC,MAHA7+B,SAAQC,KACN,gFAEK+jC,EAAQlE,UAAUpB,EAAUG,IAQrC8B,OAAQ,WACN,MAAIvhC,GAAGU,QAAQQ,oBACbN,QAAQC,KACN,iKAEK,UAAQf,QAAQ,QAGI,OAAzBE,EAAGmB,KAAK4iC,eACV/jC,EAAGmB,KAAK4iC,aAAavC,iBACrBxhC,EAAGmB,KAAK4iC,aAAanE,gBAAiB,GAExC5/B,EAAGmB,KAAK6iC,yBAA0B,EAClChkC,EAAGmB,KAAK4iC,aAAe,KAChB/jC,EAAGwI,aACPoP,gBAAgB5X,EAAGoI,WAAWpI,EAAGmB,KAAK8iC,oBACtC5mC,KAAK,iBAAM2C,GAAG4I,6BASnB+5B,cAAe,SAASF,GACtB,IAAKA,IAAiB99C,EAAEgI,SAAS81C,GAC/B,KAAM,IAAI3xC,OAAM,0BAElB,IAAI8L,GAAQ,GAAIoD,GAAG6kC,gBAAgB,YAMnC,OALAjoC,GAAMkoC,eAAiB,WACvBloC,EAAMoxB,QACJ,OACAhuB,EAAGpc,OAAOysC,kBAAkB,QAASoS,IAEhC7lC,GASTgmC,cAAe,SAASH,GACtB,IAAKA,IAAiB99C,EAAEgI,SAAS81C,GAC/B,KAAM,IAAI3xC,OAAM,0BAElB,IAAI8L,GAAQ,GAAIoD,GAAG6kC,gBAAgB,YAMnC,OALAjoC,GAAMkoC,eAAiB,WACvBloC,EAAMoxB,QACJ,OACAhuB,EAAGpc,OAAOysC,kBAAkB,QAASoS,IAEhC7lC,GAYTmoC,qBAAsB,SAASrB,GAS7B,MAPc9U,GACZ,uBACA,KACA,KACA,QALW8U,MAAOA,KAoBtBsB,mBAAoB,SAAStB,GAG3B,MADc9U,GAAU,qBAAsB,KAAM,KAAM,QAD7C8U,MAAOA,KAgBtBuB,yBAA0B,SAASnD,GAAiC,GAAdtwC,GAAc,0DAC5DsH,GACJgpC,oBAaF,OAXItwC,GAAQ0zC,gBACVpsC,EAAKqsC,eAAiB3zC,EAAQ0zC,eAElBtW,EACZ,2BACA,KACA,KACA,OACA91B,EACAtH,IAgBJ4zC,8BAA+B,SAAStD,GAAiC,GAAdtwC,GAAc,0DACjEsH,GACJgpC,oBAaF,OAXItwC,GAAQ0zC,gBACVpsC,EAAKqsC,eAAiB3zC,EAAQ0zC,eAElBtW,EACZ,gCACA,KACA,KACA,OACA91B,EACAtH,IAaJ6zC,uBAAwB,SAASrjC,EAAMw+B,GASrC,MAPc5R,GACZ,yBACA,KACA5sB,EACA,OALWw+B,SAAUA,KAkBzB8E,kBAAmB,SAAStjC,GAE1B,MADc4sB,GAAU,oBAAqB,KAAM5sB,EAAM,OAAQ,OAenEujC,oBAAqB,SAASzD,GAAiC,GAAdtwC,GAAc,0DACvDsH,GACJgpC,oBAaF,OAXItwC,GAAQ0zC,gBACVpsC,EAAKqsC,eAAiB3zC,EAAQ0zC,eAElBtW,EACZ,sBACA,KACA,KACA,OACA91B,EACAtH,IAUJ4P,aAAc,WACZ,MAAIpB,GAAGU,QAAQQ,oBACbN,QAAQC,KACN,gKAEK,UAAQf,QAAQ,OAGrBE,EAAGmB,KAAK4iC,aACH,UAAQjkC,QAAQE,EAAGmB,KAAK4iC,cAG7B/jC,EAAGmB,KAAK6iC,wBACH,UAAQlkC,QAAQE,EAAGmB,KAAK4iC,cAG1B/jC,EAAGwI,aACPC,aAAazI,EAAGoI,WAAWpI,EAAGmB,KAAK8iC,oBACnC5mC,KAAK,SAASmoC,GACb,IAAKA,EACH,MAAO,KAITxlC,GAAGmB,KAAK6iC,yBAA0B,EAElChkC,EAAGmB,KAAK4iC,aAAe/jC,EAAGpc,OAAO0mB,QAAQ,SACzCtK,EAAGmB,KAAK4iC,aAAanE,gBAAiB,CAEtC,IAAIvU,GAAOnpB,KAAKC,MAAMqjC,EAWtB,OAVAxlC,GAAGmB,KAAK4iC,aAAalsC,GAAKwzB,EAAKoa,UACxBpa,GAAKoa,IACZzlC,EAAGmB,KAAK4iC,aAAaziC,cAAgB+pB,EAAK/pB,oBACnC+pB,GAAK/pB,cACZtB,EAAGmB,KAAK4iC,aAAax5B,aAAa8gB,GAGlCrrB,EAAGmB,KAAK4iC,aAAahE,0BACrB//B,EAAGmB,KAAK4iC,aAAajM,gBACrB93B,EAAGmB,KAAK4iC,aAAazN,iBACdt2B,EAAGmB,KAAK4iC,gBASrB7b,QAAS,WACP,GAAIloB,EAAGU,QAAQQ,mBAIb,MAHAN,SAAQC,KACN,2JAEK,IAGT,IAAIb,EAAGwI,aAAaiP,MAAO,CACzB,GAAM/Z,GAAQ,GAAI5M,OAChB,oGAGF,MADA4M,GAAMsE,KAAO,yBACPtE,EAGR,GAAIsC,EAAGmB,KAAK4iC,aACV,MAAO/jC,GAAGmB,KAAK4iC,YAGjB,IAAI/jC,EAAGmB,KAAK6iC,wBACV,MAAOhkC,GAAGmB,KAAK4iC,YAIjB/jC,GAAGmB,KAAK6iC,yBAA0B,CAElC,IAAIwB,GAAWxlC,EAAGwI,aAAa+E,QAC7BvN,EAAGoI,WAAWpI,EAAGmB,KAAK8iC,mBAExB,KAAKuB,EACH,MAAO,KAETxlC,GAAGmB,KAAK4iC,aAAe/jC,EAAGpc,OAAO0mB,QAAQ,SACzCtK,EAAGmB,KAAK4iC,aAAanE,gBAAiB,CAEtC,IAAIvU,GAAOnpB,KAAKC,MAAMqjC,EAWtB,OAVAxlC,GAAGmB,KAAK4iC,aAAalsC,GAAKwzB,EAAKoa,UACxBpa,GAAKoa,IACZzlC,EAAGmB,KAAK4iC,aAAaziC,cAAgB+pB,EAAK/pB,oBACnC+pB,GAAK/pB,cACZtB,EAAGmB,KAAK4iC,aAAax5B,aAAa8gB,GAGlCrrB,EAAGmB,KAAK4iC,aAAahE,0BACrB//B,EAAGmB,KAAK4iC,aAAajM,gBACrB93B,EAAGmB,KAAK4iC,aAAazN,iBACdt2B,EAAGmB,KAAK4iC,cAOjBtD,iBAAkB,SAAShiC,GACzB,GAAIrB,EAMJ,OAJEA,GADE4C,EAAGmB,KAAK4iC,eAAiBtlC,EACjBuB,EAAGmB,KAAKogC,SAER,UAAQzhC,UAEb1C,EAAQC,KAAK,WAClBoB,EAAKmhC,gBAAiB,EACtB5/B,EAAGmB,KAAK4iC,aAAetlC,CAEvB,IAAI4sB,GAAO5sB,EAAK8K,aAGhB,OAFA8hB,GAAKoa,IAAMhnC,EAAK5G,GAChBwzB,EAAK/pB,cAAgB7C,EAAK6C,cACnBtB,EAAGwI,aACPE,aACC1I,EAAGoI,WAAWpI,EAAGmB,KAAK8iC,oBACtB,aAAe5Y,IAEhBhuB,KAAK,WAEJ,MADA2C,GAAGmB,KAAK6iC,yBAA0B,EAC3BhkC,EAAG4I,8BAKlB88B,gCAAiC,SAASvT,GACxCnyB,EAAGmB,KAAK++B,eAAe/N,EAASgO,eAAiBhO,GAE5CnyB,EAAGU,QAAQQ,oBAAsBlB,EAAGmB,KAAK+mB,WAC5CloB,EAAGmB,KAAK+mB,UAAU8X,qBAAqB7N,EAASgO,gBAIpDoE,WAAY,SAASpS,EAAUsN,EAAUjuC,GAEvC,MADWwO,GAAGpc,OAAO0mB,QAAQ,SACjBo2B,UAAUvO,EAAUsN,EAAUjuC,Q5JyjW5C,SAAU9O,EAAQD,EAASM,GAEjC,Y6JnsZAN,GAAQyB,YAAa,CAErB,IAAImhC,GAAkB,EAAQ,IAE1BC,EAEJ,SAAgC3/B,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFzC0/B,EAI9C5iC,GAAQ8Y,QAAU,SAAU5V,EAAKgC,EAAKvB,GAYpC,MAXIuB,KAAOhC,IACT,EAAI2/B,EAAiB/pB,SAAS5V,EAAKgC,GACjCvB,MAAOA,EACPrC,YAAY,EACZD,cAAc,EACd2rB,UAAU,IAGZ9pB,EAAIgC,GAAOvB,EAGNT,I7J2sZH,SAAUjD,EAAQD,EAASM,GAEjC,YAWA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GARvF,GAAIiW,GAAa7Y,EAAoB,IAEjC8Y,EAAcP,EAAuBM,GAErCJ,EAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,G8J5uZjC7W,EAAIuX,EAAQ,GACZE,EAAQF,EAAQ,IAAS,mBACzByH,EAAUzH,EAAQ,I9JkvZpBC,E8JjvZ0BD,EAAQ,GAA9BqG,E,EAAAA,SAAUpF,E,EAAAA,Q9JqvZdZ,E8JhvZAL,EAAQ,GAHV+B,E,EAAAA,YACAC,E,EAAAA,sBACA0B,E,EAAAA,cAGI+lC,EAAW,SAACv/C,EAAO6b,GACvB,OAAcjH,KAAV5U,EACF,KAAM,IAAI0K,OAAMmR,GAKpBvf,GAAOD,QAAU,SAASud,GA4CxBA,EAAG+tB,MAAQ,SAAS6X,GACdjhD,EAAEgI,SAASi5C,KACbA,EAAc5lC,EAAGpc,OAAO0qC,aAAasX,IAGvC9iD,KAAK8iD,YAAcA,EAEnB9iD,KAAKmS,UAAY2wC,EAAYvhD,UAAU4Q,UAEvCnS,KAAK6f,UACL7f,KAAK+iD,YACL/iD,KAAKgjD,WACLhjD,KAAKijD,QAAU,EACfjjD,KAAKkjD,MAAQ,EACbljD,KAAKyrC,mBAaPvuB,EAAG+tB,MAAMkY,GAAK,WACZ,GAAIC,GAAUvhD,EAAE+H,QAAQjG,WACpBwO,EAAY,IAChB+K,GAAGiL,WAAWi7B,EAAS,SAASC,GAK9B,GAJIxhD,EAAEuR,OAAOjB,KACXA,EAAYkxC,EAAElxC,WAGZA,IAAckxC,EAAElxC,UAClB,KAAM,IAAInE,OAAM,2CAGpB,IAAI8L,GAAQ,GAAIoD,GAAG+tB,MAAM94B,EAEzB,OADA2H,GAAMwpC,SAASF,GACRtpC,GAaToD,EAAG+tB,MAAMsY,IAAM,WACb,GAAIH,GAAUvhD,EAAE+H,QAAQjG,WACpBwO,EAAY,IAChB+K,GAAGiL,WAAWi7B,EAAS,SAASC,GAK9B,GAJIxhD,EAAEuR,OAAOjB,KACXA,EAAYkxC,EAAElxC,WAGZA,IAAckxC,EAAElxC,UAClB,KAAM,IAAInE,OAAM,2CAGpB,IAAI8L,GAAQ,GAAIoD,GAAG+tB,MAAM94B,EAEzB,OADA2H,GAAM0pC,UAAUJ,GACTtpC,GAaToD,EAAG+tB,MAAMwY,aAAe,SAASC,EAAKC,EAASj1C,GAC7C,GAAIk1C,IAAWF,IAAKA,EAQpB,OAPI7hD,GAAEU,QAAQohD,GACZC,EAAOD,QAAUA,EAEjBj1C,EAAUi1C,EAGElkC,EAAS,aAAc,KAAM,KAAM,MAAOmkC,EAAQl1C,GACjD6L,KAAK,SAASC,GAE3B,GAAIV,GAAQ,GAAIoD,GAAG+tB,MAAMzwB,EAASrI,UAQlC,QACE1M,QARY5D,EAAE0D,IAAIiV,EAAS/U,QAAS,SAAS8iC,GAC7C,GAAI1lC,GAAMiX,EAAM+pC,WAAWrpC,EAI3B,OAHI3X,GAAI4kB,cACN5kB,EAAI4kB,aAAa3N,EAAMgqC,eAAevb,IAAO,GAExC1lC,IAIPoK,MAAOuN,EAASvN,MAChBkF,UAAWqI,EAASrI,cAY1B+K,EAAG+tB,MAAM8Y,SAAW,YASd,GARJ5xC,GAQI,EARJA,UACAnK,EAOI,EAPJA,MACAV,EAMI,EANJA,QACAV,EAKI,EALJA,OACAyU,EAII,EAJJA,WACA2oC,EAGI,EAHJA,MACAC,EAEI,EAFJA,KACAC,EACI,EADJA,KAEA,IAAyB,gBAAd/xC,GACT,KAAM,IAAI5E,WAAU,kDAEtB,IAAMuM,GAAQ,GAAIoD,GAAG+tB,MAAM94B,EAU3B,OATAtQ,GAAEsP,OAAO2I,GACP+F,OAAQ7X,EACR+6C,SAAUz7C,EACV07C,QAASp8C,EACTu9C,YAAa9oC,EACb4nC,OAAQe,EACRd,MAAOe,EACPG,OAAQF,IAEHpqC,GAGToD,EAAG+tB,MAAM/kB,QAAUhJ,EAAGgJ,QAEtBrkB,EAAEsP,OACA+L,EAAG+tB,MAAM1pC,WAGPuiD,eAAgB,SAASjhD,GACvB,MAAOA,IAWT3B,IAAK,SAASye,EAAUjR,GACtB,IAAK7M,EAAEgI,SAAS8V,GACd,KAAM,IAAI3R,OAAM,4BAElB,IAAiB,KAAb2R,EACF,MAAO,WAAQ7Y,OACb,GAAI+Z,GAAQA,EAAQI,iBAAkB,qBAI1C,IAAIpe,GAAM7C,KAAK6jD,YACfhhD,GAAIkS,GAAK4K,CAET,IAAI0kC,GAAYrkD,KAAKy4C,aACjBn9B,IAOJ,OALI+oC,GAAU5hD,OAAM6Y,EAAa7Y,KAAO4hD,EAAU5hD,MAC9C4hD,EAAU/8C,UAASgU,EAAahU,QAAU+8C,EAAU/8C,SACpD+8C,EAAUhpC,aACZC,EAAaD,WAAagpC,EAAUhpC,YAE/BoE,EACL,UACAzf,KAAKmS,UACLwN,EACA,MACAvE,EAAsBE,GACtB5M,GACA6L,KAAK,SAAAC,GACL,GAAI3Y,EAAE6Q,QAAQ8H,GACZ,KAAM,IAAIqG,GAAQA,EAAQI,iBAAkB,oBAE9C,OADApe,GAAI4kB,aAAa5kB,EAAIwc,MAAM7E,IAAW,GAC/B3X,KAQXyT,OAtD+B,WAiE7B,OACEnE,UAFEnS,KARFmS,UAWAnK,MAHEhI,KAPF6f,OAWAvY,QAJEtH,KANF+iD,SAWAn8C,OALE5G,KALFgjD,QAWA3nC,WANErb,KAJFmkD,YAWAH,MAPEhkD,KAHFijD,OAWAgB,KAREjkD,KAFFkjD,MAWAgB,MATElkD,KADFokD,SAcJ3L,WAAY,WACV,GAAImL,GAAS/hD,EAAEsP,UAAWnR,KAAKyrC,gBAC7BzjC,MAAOhI,KAAK6f,QAsBd,OAnBI7f,MAAK+iD,SAAS1+C,OAAS,IACzBu/C,EAAOt8C,QAAUtH,KAAK+iD,SAAS7uC,KAAK,MAElClU,KAAKgjD,QAAQ3+C,OAAS,IACxBu/C,EAAOnhD,KAAOzC,KAAKgjD,QAAQ9uC,KAAK,UAETgE,KAArBlY,KAAKmkD,cACPP,EAAOroC,UAAYvb,KAAKmkD,aAEtBnkD,KAAKijD,QAAU,IACjBW,EAAOI,MAAQhkD,KAAKijD,QAElBjjD,KAAKkjD,MAAQ,IACfU,EAAOK,KAAOjkD,KAAKkjD,WAEDhrC,KAAhBlY,KAAKokD,SACPR,EAAOM,MAAQlkD,KAAKokD,QAGfR,GAGTC,WAAY,SAASrpC,GAOnB,MALIA,IAAYA,EAASrI,UACjB,GAAI+K,GAAGpc,OAAO0Z,EAASrI,WAEvB,GAAInS,MAAK8iD,aAInBwB,eAjH+B,WAqH7B,GAHAV,GAGA,uDAHS5jD,KAAKy4C,aACd/pC,EAEA,aADA3J,EACA,mEADmB/E,KAAKmS,SAExB,IAAIgI,oBAAmB,aAAeypC,IAASv/C,OAAS,IAAM,CAU5D,MAAOgW,IACLtV,KAAM,SACN+C,OAAQ,OACRkO,MAXAq+B,WAEIvsC,OAAQ,MACR/C,YAAaA,EACb6+C,YAQJnoC,YAAa/M,IACZ6L,KAAK,SAAAC,GACN,GAAM7V,GAAS6V,EAAS,EACxB,IAAI7V,EAAO4qC,QACT,MAAO5qC,GAAO4qC,OAEhB,IAAM30B,GAAQ,GAAI5M,OAChBrJ,EAAOiW,MAAMA,OAAS,sBAGxB,MADAA,GAAMsE,KAAOva,EAAOiW,MAAMsE,KACpBtE,IAGV,MAAOP,IACLvS,OAAQ,MACR/C,OACA+U,MAAO8pC,EACPnoC,YAAa/M,KAIjB61C,eAzJ+B,SAyJhB/pC,GAAU,UACvB,OAAO3Y,GAAE0D,IAAIiV,EAAS/U,QAAS,SAAA8iC,GAC7B,GAAI1lC,GAAM,EAAKghD,WAAWrpC,EAI1B,OAHI3X,GAAI4kB,cACN5kB,EAAI4kB,aAAa,EAAKq8B,eAAevb,IAAO,GAEvC1lC,KAWXwD,KA1K+B,SA0K1BqI,GAEH,MADgB1O,MAAKskD,mBAAepsC,GAAWxJ,GAChC6L,KAAKva,KAAKukD,eAAej3C,KAAKtN,QA0B/CwkD,KAtM+B,WAsMkB,uEAA1CC,EAA0C,EAA1CA,UAAWC,EAA+B,EAA/BA,UAAkBjpC,EAAa,aACzCkpC,EAAY3kD,KAAKy4C,YACvBn/B,GAAM,UAAWqrC,GACbA,EAAUT,QACZpmC,QAAQC,KACN,wGAEK4mC,GAAUT,OAEfS,EAAUV,OACZnmC,QAAQC,KACN,iEAEK4mC,GAAUV,MAEfU,EAAUX,QACZlmC,QAAQC,KACN,kEAEK4mC,GAAUX,OAEfS,IAAWE,EAAUC,SAAWH,GAChCC,IAAWC,EAAUX,MAAQU,EACjC,IAAIpqC,GAAU,UAAQ0C,YAClB6nC,SACA7/B,GAAO,CACX,QACED,KAAM,WA6BJ,MA5BAzK,GAAUA,EAAQC,KAAK,SAAAuqC,GACrB,MAAI9/B,MACA8/B,EAAczgD,OAAS,EAAUygD,EAGhCD,GAAmC,IAAzBC,EAAczgD,OAMtBob,EACL,eACA,EAAKtN,UACL,KACA,MACA0yC,EAAShjD,EAAEsP,UAAWwzC,GAAaE,WAAYF,EAC/ClpC,GAEClB,KAAK,SAAAC,GAEJ,MADAqqC,GAASrqC,EAASqqC,OACX,EAAKN,eAAe/pC,KAE5BD,KAAK,SAAA9U,GAEJ,MADKA,GAAQpB,SAAQ2gB,GAAO,GACrB8/B,EAAcp3C,OAAOjI,MAnB9Buf,GAAO,EACA8/B,KAqBJxqC,EACJC,KAAK,SAAAuqC,GAAA,MAAiBA,GAAcrgB,UACpClqB,KAAK,SAAA5V,GAAA,OACJrB,MAAOqB,EACPqgB,aAYV60B,WAAY,SAASnrC,GAEnB,MADW1O,MACCqG,KAAKqI,GAAS6L,KAAK,SAASkvB,GACtC,MAAOvsB,GAAGpc,OAAO+4C,WAAWpQ,EAAS/6B,MAWzCzB,MAAO,SAASyB,GACd,GAAIk1C,GAAS5jD,KAAKy4C,YAKlB,OAJAmL,GAAOI,MAAQ,EACfJ,EAAO32C,MAAQ,EACDjN,KAAKskD,eAAeV,EAAQl1C,GAE3B6L,KAAK,SAASC,GAC3B,MAAOA,GAASvN,SAWpBhD,MAAO,SAASyE,GACd,GAAI3O,GAAOC,KAEP4jD,EAAS5jD,KAAKy4C,YAIlB,OAHAmL,GAAOI,MAAQ,EACDhkD,KAAKskD,eAAeV,EAAQl1C,GAE3B6L,KAAK,SAASC,GAC3B,MAAO3Y,GAAE0D,IAAIiV,EAAS/U,QAAS,SAAS8iC,GACtC,GAAI1lC,GAAM9C,EAAK8jD,YAIf,OAHIhhD,GAAI4kB,cACN5kB,EAAI4kB,aAAa1nB,EAAK+jD,eAAevb,IAAO,GAEvC1lC,IACN,MAWPohD,KAAM,SAAS9iD,GAGb,MAFA0hD,GAAS1hD,EAAG,uCACZnB,KAAKkjD,MAAQ/hD,EACNnB,MASTgkD,MAAO,SAAS7iD,GAGd,MAFA0hD,GAAS1hD,EAAG,wCACZnB,KAAKijD,OAAS9hD,EACPnB,MAUTkrC,QAAS,SAASrmC,EAAKvB,GAIrB,MAHAu/C,GAASh+C,EAAK,gCACdg+C,EAASv/C,EAAO,kCAChBtD,KAAK6f,OAAOhb,GAAOqY,EAAGkJ,QAAQ9iB,GACvBtD,MAOT2rC,cAAe,SAAS9mC,EAAK8/C,EAAWrhD,GAUtC,MATAu/C,GAASh+C,EAAK,0CACdg+C,EAAS8B,EAAW,sCACpB9B,EAASv/C,EAAO,4CAGXtD,KAAK6f,OAAOhb,KACf7E,KAAK6f,OAAOhb,OAEd7E,KAAK6f,OAAOhb,GAAK8/C,GAAaznC,EAAGkJ,QAAQ9iB,GAClCtD,MAUT+kD,YAAa,SAASlgD,EAAKvB,GAEzB,MADAtD,MAAK2rC,cAAc9mC,EAAK,QAASvB,GAC1BtD,MAUTglD,WAAY,SAASngD,EAAKvB,GAExB,MADAtD,MAAK2rC,cAAc9mC,EAAK,MAAOvB,GACxBtD,MAUTilD,SAAU,SAASpgD,EAAKvB,GAEtB,MADAtD,MAAK2rC,cAAc9mC,EAAK,MAAOvB,GACxBtD,MAUTklD,YAAa,SAASrgD,EAAKvB,GAEzB,MADAtD,MAAK2rC,cAAc9mC,EAAK,MAAOvB,GACxBtD,MAUTmlD,kBAAmB,SAAStgD,EAAKvB,GAE/B,MADAtD,MAAK2rC,cAAc9mC,EAAK,OAAQvB,GACzBtD,MAUTolD,qBAAsB,SAASvgD,EAAKvB,GAElC,MADAtD,MAAK2rC,cAAc9mC,EAAK,OAAQvB,GACzBtD,MAUTqlD,YAAa,SAASxgD,EAAK6C,GAEzB,MADA1H,MAAK2rC,cAAc9mC,EAAK,MAAO6C,GACxB1H,MAUTslD,eAAgB,SAASzgD,EAAK6C,GAE5B,MADA1H,MAAK2rC,cAAc9mC,EAAK,OAAQ6C,GACzB1H,MAUTulD,YAAa,SAAS1gD,EAAK6C,GAEzB,MADA1H,MAAK2rC,cAAc9mC,EAAK,OAAQ6C,GACzB1H,MAQTwlD,OAAQ,SAAS3gD,GAEf,MADA7E,MAAK2rC,cAAc9mC,EAAK,WAAW,GAC5B7E,MAQTylD,aAAc,SAAS5gD,GAErB,MADA7E,MAAK2rC,cAAc9mC,EAAK,WAAW,GAC5B7E,MAWT0T,QAAS,SAAS7O,EAAK6gD,EAAOC,GAkB5B,MAjBA3lD,MAAK2rC,cAAc9mC,EAAK,SAAU6gD,GAC7BC,IACHA,EAAY,IAKVD,EAAME,aACRD,GAAa,KAEXD,EAAMG,YACRF,GAAa,KAGXA,GAAaA,EAAUthD,QACzBrE,KAAK2rC,cAAc9mC,EAAK,WAAY8gD,GAE/B3lD,MAWT8lD,aAAc,SAASjhD,EAAKiV,GAC1B,GAAIuqC,GAAYvqC,EAAM2+B,YAGtB,OAFA4L,GAAUlyC,UAAY2H,EAAM3H,UAC5BnS,KAAK2rC,cAAc9mC,EAAK,WAAYw/C,GAC7BrkD,MAWT+lD,kBAAmB,SAASlhD,EAAKiV,GAC/B,GAAIuqC,GAAYvqC,EAAM2+B,YAGtB,OAFA4L,GAAUlyC,UAAY2H,EAAM3H,UAC5BnS,KAAK2rC,cAAc9mC,EAAK,cAAew/C,GAChCrkD,MAaTgmD,kBAAmB,SAASnhD,EAAKohD,EAAUnsC,GACzC,GAAIuqC,GAAYvqC,EAAM2+B,YAGtB,OAFA4L,GAAUlyC,UAAY2H,EAAM3H,UAC5BnS,KAAK2rC,cAAc9mC,EAAK,WAAaA,IAAKohD,EAAUnsC,MAAOuqC,IACpDrkD,MAaTkmD,uBAAwB,SAASrhD,EAAKohD,EAAUnsC,GAC9C,GAAIuqC,GAAYvqC,EAAM2+B,YAMtB,OALA4L,GAAUlyC,UAAY2H,EAAM3H,UAC5BnS,KAAK2rC,cAAc9mC,EAAK,eACtBA,IAAKohD,EACLnsC,MAAOuqC,IAEFrkD,MASTsjD,SAAU,SAASF,GACjB,GAAIiB,GAAYxiD,EAAE0D,IAAI69C,EAAS,SAASC,GACtC,MAAOA,GAAE5K,aAAazwC,OAIxB,OADAhI,MAAK6f,OAAOsmC,IAAM9B,EACXrkD,MASTwjD,UAAW,SAASJ,GAClB,GAAIiB,GAAYxiD,EAAE0D,IAAI69C,EAAS,SAASC,GACtC,MAAOA,GAAE5K,aAAazwC,OAIxB,OADAhI,MAAK6f,OAAOumC,KAAO/B,EACZrkD,MASTqmD,OAAQ,SAAS3kD,GACf,MAAO,MAAQA,EAAE8S,QAAQ,MAAO,eAAiB,OAUnDpN,SAAU,SAASvC,EAAKvB,GAEtB,MADAtD,MAAK2rC,cAAc9mC,EAAK,SAAU7E,KAAKqmD,OAAO/iD,IACvCtD,MAWTsmD,WAAY,SAASzhD,EAAKvB,GAExB,MADAtD,MAAK2rC,cAAc9mC,EAAK,SAAU,IAAM7E,KAAKqmD,OAAO/iD,IAC7CtD,MAUTumD,SAAU,SAAS1hD,EAAKvB,GAEtB,MADAtD,MAAK2rC,cAAc9mC,EAAK,SAAU7E,KAAKqmD,OAAO/iD,GAAS,KAChDtD,MASTwmD,UAAW,SAAS3hD,GAGlB,MAFAg+C,GAASh+C,EAAK,gCACd7E,KAAKokD,OAASv/C,EACP7E,MAUTymD,aAAc,SAAS5hD,GAIrB,MAHAg+C,GAASh+C,EAAK,gCACV7E,KAAKokD,OAAQpkD,KAAKokD,QAAU,IAAMv/C,EACjC7E,KAAKokD,OAASv/C,EACZ7E,MAST0mD,WAAY,SAAS7hD,GAGnB,MAFAg+C,GAASh+C,EAAK,gCACd7E,KAAKokD,OAAS,IAAMv/C,EACb7E,MAUT2mD,cAAe,SAAS9hD,GAItB,MAHAg+C,GAASh+C,EAAK,gCACV7E,KAAKokD,OAAQpkD,KAAKokD,QAAU,KAAOv/C,EAClC7E,KAAKokD,OAAS,IAAMv/C,EAClB7E,MAUT4mD,KAAM,SAAS/hD,EAAKqmB,GAMlB,MALMA,aAAiBhO,GAAG6J,WAExBmE,EAAQ,GAAIhO,GAAG6J,SAASmE,IAE1BlrB,KAAK2rC,cAAc9mC,EAAK,cAAeqmB,GAChClrB,MAWT6mD,cAAe,SAAShiD,EAAKqmB,EAAO47B,GAGlC,MAFA9mD,MAAK4mD,KAAK/hD,EAAKqmB,GACflrB,KAAK2rC,cAAc9mC,EAAK,eAAgBiiD,GACjC9mD,MAaT+mD,YAAa,SAASliD,EAAKqmB,EAAO47B,GAChC,MAAO9mD,MAAK6mD,cAAchiD,EAAKqmB,EAAO47B,EAAW,SAanDE,iBAAkB,SAASniD,EAAKqmB,EAAO47B,GACrC,MAAO9mD,MAAK6mD,cAAchiD,EAAKqmB,EAAO47B,EAAW,OAcnDG,aAAc,SAASpiD,EAAKqiD,EAAWC,GAQrC,MAPMD,aAAqBhqC,GAAG6J,WAC5BmgC,EAAY,GAAIhqC,GAAG6J,SAASmgC,IAExBC,YAAqBjqC,GAAG6J,WAC5BogC,EAAY,GAAIjqC,GAAG6J,SAASogC,IAE9BnnD,KAAK2rC,cAAc9mC,EAAK,WAAauiD,MAAOF,EAAWC,KAChDnnD,MASTsH,QAAS,SAAS7E,GAAM,UAKtB,OAJAogD,GAASpgD,EAAM,gCACfZ,EAAEyD,QAAQ3B,UAAW,SAAAlB,GACnB,EAAKsgD,SAAW,EAAKA,SAASr1C,OAAOyN,EAAY1Y,MAE5CzC,MAQTqb,WAAY,WAAuB,GAAd/X,KAAc,wDAEjC,OADAtD,MAAKmkD,YAAc7gD,EACZtD,MAUT4G,OAAQ,SAASnE,GAAM,UAKrB,OAJAogD,GAASpgD,EAAM,gCACfZ,EAAEyD,QAAQ3B,UAAW,SAAAlB,GACnB,EAAKugD,QAAU,EAAKA,QAAQt1C,OAAOyN,EAAY1Y,MAE1CzC,MAeTqF,KAAM,SAASojB,GAAwB,GAAd/Z,GAAc,yDACrC,IAAI1O,KAAKokD,QAAUpkD,KAAKkjD,OAASljD,KAAKijD,QAAU,EAAG,CACjD,GAAIroC,GAAQ,GAAI5M,OACd,uDAEF,OAAO,WAAQlH,OAAO8T,GAGxB,GAAId,GAAQ,GAAIoD,GAAG+tB,MAAMjrC,KAAK8iD,YAG9BhpC,GAAMmpC,OAASv0C,EAAQg2C,WAAa,IACpC5qC,EAAM+F,OAAShe,EAAE6G,MAAM1I,KAAK6f,QAC5B/F,EAAMipC,SAAWlhD,EAAE6G,MAAM1I,KAAK+iD,UAE9BjpC,EAAM0sC,UAAU,WAEhB,IAAIa,IAAW,CACf,OAAOvqC,GACL,WACE,OAAQuqC,GAEV,WACE,MAAOvtC,GAAMzT,KAAKqI,GAAS6L,KAAK,SAAS9U,GACvC,GAAI6hD,GAAgB,UAAQtqC,SAO5B,OANAnb,GAAEwD,KAAKI,EAAS,SAASd,GACvB2iD,EAAgBA,EAAc/sC,KAAK,WACjC,MAAOkO,GAAS9jB,OAIb2iD,EAAc/sC,KAAK,WACpB9U,EAAQpB,QAAUyV,EAAMmpC,OAC1BnpC,EAAMorC,YAAY,WAAYz/C,EAAQA,EAAQpB,OAAS,GAAG0Q,IAE1DsyC,GAAW,SAgBvBE,UA/4B+B,SA+4BrB74C,GACR,MAAOwO,GAAGsqC,UAAUppB,KAAKp+B,KAAM0O,MAKrCwO,EAAG6kC,gBAAkB7kC,EAAG+tB,MAAM/kB,SAC5B29B,WAAY,WAEV,MAAO,KADW3mC,EAAGpc,OAAO0qC,aAAa,WAG3CsY,eAAgB,SAASvb,GACvB,GAAIA,GAAQA,EAAKvoC,KAAKgiD,gBAAiB,CACrC,GAAIrmC,GAAO4sB,EAAKvoC,KAAKgiD,eAKrB,OAJoB,YAAhBrmC,EAAKkL,QAA2C,UAAnBlL,EAAKxJ,kBAC7BwJ,GAAKkL,aACLlL,GAAKxJ,WAEPwJ,EAEP,MAAO,W9J0uZT,SAAU/b,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,G+Jl2bjC7W,EAAIuX,EAAQ,GACZquC,EAAeruC,EAAQ,K/Jw2bzBC,E+Jv2biBD,EAAQ,GAArByC,E,EAAAA,S/J02bJpC,E+Jz2bgBL,EAAQ,GAApBiB,E,EAAAA,QAEFktC,EAAY,SAAClD,EAAWt+B,GAAZ,MAChB1L,IACEvS,OAAQ,OACR/C,KAAM,uBACNiR,MACE8D,MAAOuqC,EACPtvC,GAAIgR,KAIVnmB,GAAOD,QAAU,SAAAud,GACf,GAAMwqC,GAAkB,WACtB,IAAKxqC,EAAGU,QAAQwH,SACd,KAAM,IAAIpX,OACR,sGASNkP,GAAGsqC,UAAY3rC,EACb4rC,GAEEp3C,YADmC,SACvB0E,EAAI4yC,EAAQtD,EAAWt+B,GAAgB,UACjD0hC,GAAa/jD,MAAM1D,MACnBA,KAAK+U,GAAKA,EACV/U,KAAK4nD,QAAUD,EACf3nD,KAAK4nD,QAAQlN,SAAS16C,MACtBA,KAAK6nD,WAAaxD,EAClBrkD,KAAK6lB,gBAAkBE,EACvB/lB,KAAK8nD,WAAa9nD,KAAK+nD,UAAUz6C,KAAKtN,MACtCA,KAAKgoD,aAAe,WAClBT,EAAU,EAAKM,WAAY,EAAKhiC,iBAAiBhL,MAAM,SAAAD,GAAA,MACrDkD,SAAQlD,MAAR,gCAA8CA,EAAMuE,YAGxDwoC,EAAOtjB,GAAG,UAAWrkC,KAAK8nD,YAC1BH,EAAOtjB,GAAG,YAAarkC,KAAKgoD,eAE9BD,UAjBmC,SAiBzB5oC,GAAS,UACjBA,GAAQ7Z,QAAQ,YAAoD,GAAjDkjC,GAAiD,EAAjDA,GAAInnC,EAA6C,EAA7CA,OAAkB4mD,EAA2B,EAArCC,SAAmBC,EAAkB,EAAlBA,WAChD,IAAIF,IAAY,EAAKlzC,GAArB,CACA,GAAMkD,GAASiF,EAAG6K,UAChBlmB,EAAEsP,QAEE0V,OAA6B,UAArBxlB,EAAO8Q,UAAwB,OAAS,UAElD9Q,GAGA8mD,GAmBF,EAAKhuB,KAAKqO,EAAIvwB,EAAQkwC,GAYtB,EAAKhuB,KAAKqO,EAAIvwB,OASpBmwC,YApEmC,WAqEjC,GAAMT,GAAS3nD,KAAK4nD,OAIpB,OAHAD,GAAOjjB,IAAI,UAAW1kC,KAAK8nD,YAC3BH,EAAOjjB,IAAI,YAAa1kC,KAAKgoD,cAC7BL,EAAOU,WAAWroD,MACXqa,GACLvS,OAAQ,OACR/C,KAAM,yBACNiR,MACEjB,GAAI4yC,EAAO5yC,GACXmzC,SAAUloD,KAAK+U,SAOrBqpB,KADF,SAEItkB,GAIA,oEAFEiM,eAAgBuiC,MAElB,OAF8CprC,EAAG8I,qBAEjD,CAEA,IADA0hC,MACM5tC,YAAiBoD,GAAG+tB,OACxB,KAAM,IAAI19B,WAAU,wCACtB,OAAO,WAAQyP,QAAQsrC,GAA2B/tC,KAAK,SAAAwL,GAAA,MACrD7I,GAAGU,QAAQwH,SACRmjC,sBAAsBxiC,GACtBxL,KAAK,SAAAiuC,GAAmB,MACY1uC,EAAM2+B,aAAjCzwC,EADe,EACfA,MAAOvF,EADQ,EACRA,KAAM8Y,EADE,EACFA,UACf8oC,GACJr8C,QACAvF,OACA8Y,YACApJ,UAAW2H,EAAM3H,WAEbmI,EAAUitC,EAAUlD,EAAWt+B,GAClCxL,KACC,eAAa0tC,GAAb,EAAGC,QAAH,OACE,IAAIhrC,GAAGsqC,UACLS,EACAO,EACAnE,EACAt+B,KAGL0iC,QAAQ,WACPD,EAAgBH,WAAW/tC,IAG/B,OADAkuC,GAAgB9N,SAASpgC,GAClBA,OASfouC,MA5CF,WA8CI,MADAhB,KACOxqC,EAAGU,QAAQwH,SAASsjC,SAO7BC,OArDF,WAuDI,MADAjB,KACOxqC,EAAGU,QAAQwH,SAASujC,c/J+2b7B,SAAU/oD,EAAQD,EAASM,GAEjC,YgK9gcA,SAASmkC,MA4BT,QAASwkB,GAAGroC,EAAInd,EAAS2M,GACvB/P,KAAKugB,GAAKA,EACVvgB,KAAKoD,QAAUA,EACfpD,KAAK+P,KAAOA,IAAQ,EAUtB,QAAS03C,KACPznD,KAAK6oD,QAAU,GAAIzkB,GACnBpkC,KAAK8oD,aAAe,EArDtB,GAAIhkD,GAAMhE,OAAOS,UAAUC,eACvBsT,EAAS,GAkBThU,QAAO6B,SACTyhC,EAAO7iC,UAAYT,OAAO6B,OAAO,OAM5B,GAAIyhC,IAAS2kB,YAAWj0C,GAAS,IAqCxC2yC,EAAalmD,UAAUynD,WAAa,WAClC,GACI1kB,GACA3jC,EAFAmQ,IAIJ,IAA0B,IAAtB9Q,KAAK8oD,aAAoB,MAAOh4C,EAEpC,KAAKnQ,IAAS2jC,GAAStkC,KAAK6oD,QACtB/jD,EAAIvE,KAAK+jC,EAAQ3jC,IAAOmQ,EAAM3O,KAAK2S,EAASnU,EAAKyB,MAAM,GAAKzB,EAGlE,OAAIG,QAAO4vB,sBACF5f,EAAMpD,OAAO5M,OAAO4vB,sBAAsB4T,IAG5CxzB,GAWT22C,EAAalmD,UAAU0nD,UAAY,SAAmBl2B,EAAOyyB,GAC3D,GAAI0D,GAAMp0C,EAASA,EAASie,EAAQA,EAChCo2B,EAAYnpD,KAAK6oD,QAAQK,EAE7B,IAAI1D,EAAQ,QAAS2D,CACrB,KAAKA,EAAW,QAChB,IAAIA,EAAU5oC,GAAI,OAAQ4oC,EAAU5oC,GAEpC,KAAK,GAAIngB,GAAI,EAAGC,EAAI8oD,EAAU9kD,OAAQ+kD,EAAK,GAAIrnD,OAAM1B,GAAID,EAAIC,EAAGD,IAC9DgpD,EAAGhpD,GAAK+oD,EAAU/oD,GAAGmgB,EAGvB,OAAO6oC,IAUT3B,EAAalmD,UAAU44B,KAAO,SAAcpH,EAAOs2B,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,GAAIP,GAAMp0C,EAASA,EAASie,EAAQA,CAEpC,KAAK/yB,KAAK6oD,QAAQK,GAAM,OAAO,CAE/B,IAEIzkD,GACArE,EAHA6oD,EAAYjpD,KAAK6oD,QAAQK,GACzBj+C,EAAMtH,UAAUU,MAIpB,IAAI4kD,EAAU1oC,GAAI,CAGhB,OAFI0oC,EAAUl5C,MAAM/P,KAAK0pD,eAAe32B,EAAOk2B,EAAU1oC,OAAIrI,IAAW,GAEhEjN,GACN,IAAK,GAAG,MAAOg+C,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,UAAU,CACrD,KAAK,GAAG,MAAO6lD,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,QAASimD,IAAK,CACzD,KAAK,GAAG,MAAOJ,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,QAASimD,EAAIC,IAAK,CAC7D,KAAK,GAAG,MAAOL,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,QAASimD,EAAIC,EAAIC,IAAK,CACjE,KAAK,GAAG,MAAON,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,QAASimD,EAAIC,EAAIC,EAAIC,IAAK,CACrE,KAAK,GAAG,MAAOP,GAAU1oC,GAAGhgB,KAAK0oD,EAAU7lD,QAASimD,EAAIC,EAAIC,EAAIC,EAAIC,IAAK,EAG3E,IAAKrpD,EAAI,EAAGqE,EAAO,GAAI1C,OAAMkJ,EAAK,GAAI7K,EAAI6K,EAAK7K,IAC7CqE,EAAKrE,EAAI,GAAKuD,UAAUvD,EAG1B6oD,GAAU1oC,GAAG7c,MAAMulD,EAAU7lD,QAASqB,OACjC,CACL,GACIuG,GADA3G,EAAS4kD,EAAU5kD,MAGvB,KAAKjE,EAAI,EAAGA,EAAIiE,EAAQjE,IAGtB,OAFI6oD,EAAU7oD,GAAG2P,MAAM/P,KAAK0pD,eAAe32B,EAAOk2B,EAAU7oD,GAAGmgB,OAAIrI,IAAW,GAEtEjN,GACN,IAAK,GAAGg+C,EAAU7oD,GAAGmgB,GAAGhgB,KAAK0oD,EAAU7oD,GAAGgD,QAAU,MACpD,KAAK,GAAG6lD,EAAU7oD,GAAGmgB,GAAGhgB,KAAK0oD,EAAU7oD,GAAGgD,QAASimD,EAAK,MACxD,KAAK,GAAGJ,EAAU7oD,GAAGmgB,GAAGhgB,KAAK0oD,EAAU7oD,GAAGgD,QAASimD,EAAIC,EAAK,MAC5D,KAAK,GAAGL,EAAU7oD,GAAGmgB,GAAGhgB,KAAK0oD,EAAU7oD,GAAGgD,QAASimD,EAAIC,EAAIC,EAAK,MAChE,SACE,IAAK9kD,EAAM,IAAKuG,EAAI,EAAGvG,EAAO,GAAI1C,OAAMkJ,EAAK,GAAID,EAAIC,EAAKD,IACxDvG,EAAKuG,EAAI,GAAKrH,UAAUqH,EAG1Bi+C,GAAU7oD,GAAGmgB,GAAG7c,MAAMulD,EAAU7oD,GAAGgD,QAASqB,IAKpD,OAAO,GAYTgjD,EAAalmD,UAAU8iC,GAAK,SAAYtR,EAAOxS,EAAInd,GACjD,GAAI0vB,GAAW,GAAI81B,GAAGroC,EAAInd,GAAWpD,MACjCkpD,EAAMp0C,EAASA,EAASie,EAAQA,CAMpC,OAJK/yB,MAAK6oD,QAAQK,GACRlpD,KAAK6oD,QAAQK,GAAK3oC,GACvBvgB,KAAK6oD,QAAQK,IAAQlpD,KAAK6oD,QAAQK,GAAMp2B,GADb9yB,KAAK6oD,QAAQK,GAAK/mD,KAAK2wB,IAD/B9yB,KAAK6oD,QAAQK,GAAOp2B,EAAU9yB,KAAK8oD,gBAIpD9oD,MAYTynD,EAAalmD,UAAUwO,KAAO,SAAcgjB,EAAOxS,EAAInd,GACrD,GAAI0vB,GAAW,GAAI81B,GAAGroC,EAAInd,GAAWpD,MAAM,GACvCkpD,EAAMp0C,EAASA,EAASie,EAAQA,CAMpC,OAJK/yB,MAAK6oD,QAAQK,GACRlpD,KAAK6oD,QAAQK,GAAK3oC,GACvBvgB,KAAK6oD,QAAQK,IAAQlpD,KAAK6oD,QAAQK,GAAMp2B,GADb9yB,KAAK6oD,QAAQK,GAAK/mD,KAAK2wB,IAD/B9yB,KAAK6oD,QAAQK,GAAOp2B,EAAU9yB,KAAK8oD,gBAIpD9oD,MAaTynD,EAAalmD,UAAUmoD,eAAiB,SAAwB32B,EAAOxS,EAAInd,EAAS2M,GAClF,GAAIm5C,GAAMp0C,EAASA,EAASie,EAAQA,CAEpC,KAAK/yB,KAAK6oD,QAAQK,GAAM,MAAOlpD,KAC/B,KAAKugB,EAGH,MAF4B,MAAtBvgB,KAAK8oD,aAAoB9oD,KAAK6oD,QAAU,GAAIzkB,SACtCpkC,MAAK6oD,QAAQK,GAClBlpD,IAGT,IAAIipD,GAAYjpD,KAAK6oD,QAAQK,EAE7B,IAAID,EAAU1oC,GAEP0oC,EAAU1oC,KAAOA,GACfxQ,IAAQk5C,EAAUl5C,MAClB3M,GAAW6lD,EAAU7lD,UAAYA,IAEV,KAAtBpD,KAAK8oD,aAAoB9oD,KAAK6oD,QAAU,GAAIzkB,SACtCpkC,MAAK6oD,QAAQK,QAEtB,CACL,IAAK,GAAI9oD,GAAI,EAAGkkC,KAAajgC,EAAS4kD,EAAU5kD,OAAQjE,EAAIiE,EAAQjE,KAE7D6oD,EAAU7oD,GAAGmgB,KAAOA,GACnBxQ,IAASk5C,EAAU7oD,GAAG2P,MACtB3M,GAAW6lD,EAAU7oD,GAAGgD,UAAYA,IAExCkhC,EAAOniC,KAAK8mD,EAAU7oD,GAOtBkkC,GAAOjgC,OAAQrE,KAAK6oD,QAAQK,GAAyB,IAAlB5kB,EAAOjgC,OAAeigC,EAAO,GAAKA,EACxC,KAAtBtkC,KAAK8oD,aAAoB9oD,KAAK6oD,QAAU,GAAIzkB,SAC3CpkC,MAAK6oD,QAAQK,GAG3B,MAAOlpD,OAUTynD,EAAalmD,UAAUooD,mBAAqB,SAA4B52B,GACtE,GAAIm2B,EAaJ,OAXIn2B,IACFm2B,EAAMp0C,EAASA,EAASie,EAAQA,EAC5B/yB,KAAK6oD,QAAQK,KACa,KAAtBlpD,KAAK8oD,aAAoB9oD,KAAK6oD,QAAU,GAAIzkB,SACtCpkC,MAAK6oD,QAAQK,MAG3BlpD,KAAK6oD,QAAU,GAAIzkB,GACnBpkC,KAAK8oD,aAAe,GAGf9oD,MAMTynD,EAAalmD,UAAUmjC,IAAM+iB,EAAalmD,UAAUmoD,eACpDjC,EAAalmD,UAAUqoD,YAAcnC,EAAalmD,UAAU8iC,GAK5DojB,EAAalmD,UAAUsoD,gBAAkB,WACvC,MAAO7pD,OAMTynD,EAAaqC,SAAWh1C,EAKxB2yC,EAAaA,aAAeA,EAM1B7nD,EAAOD,QAAU8nD,GhKiicb,SAAU7nD,EAAQD,EAASM,GAEjC,YiKx1cA,IAAM4B,GAAIuX,EAAQ,GjK61cdC,EiK51cYD,EAAQ,GAAhBzH,E,EAAAA,GAER/R,GAAOD,QAAU,SAAAud,GAefA,EAAG6sC,QAAU,SAAiBr7C,EAAS+M,GACrCzb,KAAKmvC,SAAWzgC,EAChB1O,KAAKgqD,aAAevuC,EAKpBzb,KAAK6Z,QAAM3B,GAKXlY,KAAKiqD,iBAAe/xC,GAKpBlY,KAAKoiD,kBAAgBlqC,IAOvBgF,EAAG6sC,QAAQxoD,UAAUwd,QAAU,WAAmB,UAChD,OAAO7B,GAAGgtC,MAAMC,gBAAgBnqD,KAAKmvC,SAAUnvC,KAAKgqD,cAAczvC,KAChE,YAA2B,GAAxB0vC,GAAwB,EAAxBA,aAAcpwC,EAAU,EAAVA,GAEf,OADAhY,GAAEsP,OAAO,GAAQ84C,eAAcpwC,QACxBA,KAUbqD,EAAG6sC,QAAQxoD,UAAU6oD,OAAS,SAAgBlrC,GAAM,UAClD,OAAOhC,GAAGgtC,MAAMG,cAAcnrC,EAAMlf,KAAKiqD,cAAc1vC,KACrD5I,EAAI,SAAAywC,GAAA,MAAkB,GAAKA,cAAgBA,MAsF/CllC,EAAG6sC,QAAQ1vC,QAAU,SAAC3L,EAAS+M,GAC7B,GAAM6uC,GAAU,GAAIptC,GAAG6sC,QAAQr7C,EAAS+M,EACxC,OAAO6uC,GAAQvrC,UAAUxE,KAAK,iBAAM+vC,QjK22clC,SAAU1qD,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GkKpgdjC7W,EAAIuX,EAAQ,GlK0gddC,EkKzgd0BD,EAAQ,GAA9BqG,E,EAAAA,SAAUpF,E,EAAAA,OAElBza,GAAOD,QAAU,SAASud,GAUxBA,EAAGgtC,MAAQhtC,EAAGgtC,UAEdroD,EAAEsP,OACA+L,EAAGgtC,OAUDr3B,IATqB,SASjBlyB,EAAMqV,EAAMtH,GACd,MAAO2L,IACLqE,QAAS,SACT5W,OAAQ,OACR/C,mBAAoBpE,EACpBqV,KAAMkH,EAAGkJ,QAAQpQ,EAAM,MAAM,GAC7ByF,YAAa/M,IACZ6L,KAAK,SAAAs+B,GACN,MAAO37B,GAAGmK,QAAQwxB,GAAMl0C,UAY5B4lD,IA7BqB,SA6BjB5pD,EAAMqV,EAAMtH,GACd,MAAI7M,GAAEU,QAAQyT,GACL,UAAQlP,OACb,GAAIkH,OACF,qEAKCqM,GACLqE,QAAS,SACT5W,OAAQ,OACR/C,cAAepE,EACfqV,KAAMkH,EAAG+K,qBAAqBjS,GAC9ByF,YAAa/M,IACZ6L,KAAK,SAAAs+B,GACN,MAAO37B,GAAGmK,QAAQwxB,GAAMl0C,UAU5B6lD,cAvDqB,WAwDnB,MAAO/qC,GAAS,OAAQ,KAAM,KAAM,OAAOlF,KAAK,SAASs+B,GACvD,MAAO37B,GAAGmK,QAAQwxB,MAetB4R,eAxEqB,SAwENz0C,GAAoB,GAAdtH,GAAc,yDAIjC,IAHI7M,EAAEgI,SAASmM,KACbA,GAASgpC,kBAAmBhpC,KAEzBA,EAAKgpC,kBACR,KAAM,IAAIhxC,OAAM,6BAOlB,OALIU,GAAQ0zC,gBACVpsC,EAAOnU,EAAEsP,UAAW6E,GAClBqsC,eAAgB3zC,EAAQ0zC,iBAGrB3iC,EAAS,iBAAkB,KAAM,KAAM,OAAQzJ,EAAMtH,IAU9Dg8C,cA9FqB,SA8FPxrC,EAAMqhC,GAClB,IAAKrhC,EAAM,KAAM,IAAIlR,OAAM,oBAC3B,IAAI41C,KAKJ,OAJI/hD,GAAEgI,SAAS02C,KACbqD,EAAA,kBAA8BrD,GAGzB9gC,EAAS,gBAAiBP,EAAM,KAAM,OAAQ0kC,IAGvDuG,gBAxGqB,SAwGLz7C,EAAS+M,GACvB,MAAOgE,GACL,iBACA,KACA,KACA,MACA/Q,EACA+M,GACAlB,KAAK,eAAgBV,GAAhB,EAAG8wC,WAAH,QACLV,aADK,EAAqBW,cAE1B/wC,UAOJgxC,eAAgB3tC,EAAG6sC,QAAQ1vC,QAS3BgwC,cAlIqB,SAkIPnrC,EAAM+qC,GAClB,MAAOxqC,GAAS,gBAAiB,KAAM,KAAM,QAC3CqrC,aAAc5rC,EACd0rC,cAAeX,IACd1vC,KAAK,qBAAG8nC,sBlKmhdb,SAAUziD,EAAQD,EAASM,GAEjC,YmK5qdA,IAAMoa,GAAUjB,EAAQ,GAAaiB,OAErCza,GAAOD,QAAU,SAASud,GACxBA,EAAG6tC,aAAe7tC,EAAGpc,OAAOqQ,OAAO,iBAKnC+L,EAAG8tC,KAAO9tC,EAAG8tC,SAoBb9tC,EAAG8tC,KAAKC,KAAO,SAASj1C,EAAMtH,GAK5B,GAJIsH,EAAKhO,QACPgO,EAAKhO,MAAQgO,EAAKhO,MAAMywC,aAAazwC,OAGnCgO,EAAKhO,OAASgO,EAAK0tC,IACrB,KAAM,IAAI11C,OAAM,kCAWlB,IARIgI,EAAKk1C,YACPl1C,EAAKk1C,UAAYl1C,EAAKk1C,UAAU50C,UAG9BN,EAAKm1C,kBACPn1C,EAAKm1C,gBAAkBn1C,EAAKm1C,gBAAgB70C,UAG1CN,EAAKm1C,iBAAmBn1C,EAAKo1C,yBAC/B,KAAM,IAAIp9C,OACR,iEAIJ,OAAOqM,IACLqE,QAAS,OACT5W,OAAQ,OACR/C,KAAM,QACNiR,OACAyF,YAAa/M,OnKordb,SAAU9O,EAAQD,EAASM,GAEjC,YAWA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,GARvF,GAAI6V,GAAWzY,EAAoB,GAE/B0Y,EAAYH,EAAuBE,GAEnCM,EAAW/Y,EAAoB,IAE/BgZ,EAAWT,EAAuBQ,GoKvvdhCnX,EAAIuX,EAAQ,GACZ0yB,EAAY1yB,EAAQ,GAAaqG,SpK6vdnCpG,EoK5vdwBD,EAAQ,GAA5BoC,E,EAAAA,eAER5b,GAAOD,QAAU,SAASud,GACxB,GAAMmuC,GAAU,WAAkB,GAAjB38C,GAAiB,yDAEhC,OADqB8M,GAAgB9M,GAE5BwO,EAAGmB,KAAK0iC,yBAAyBvlC,EAAgB9M,IAEnDwO,EAAGmB,KAAKC,gBAGXgtC,EAAiB,SAAA58C,GAAA,MACrB28C,GAAQ38C,GAAS6L,KAAK,SAAAgxC,GAAA,MACpBruC,GAAGpc,OAAOysC,kBAAkB,QAASge,EAASx2C,IAAI2R,eAOtDxJ,GAAGsuC,OAAS,SAASC,EAAUtsC,GAc7B,MAbAnf,MAAKgW,QACLhW,KAAK0rD,UAAY,UACjB1rD,KAAK8Z,MAAQ,KACT2xC,GAAgC,gBAApB,KAAOA,EAAP,0BAAOA,IACrBzrD,KAAKgW,KAAOy1C,GAERA,IACFzrD,KAAKgW,KAAK21C,MAAQF,GAEhBtsC,IACFnf,KAAKgW,KAAKmJ,QAAUA,IAGjBnf,MAGT6B,EAAEsP,OACA+L,EAAGsuC,OAAOjqD,WAMRL,IAAK,SAAS+sC,GACZ,MAAOjuC,MAAKgW,KAAKi4B,IAOnBza,IAAK,SAAS3uB,EAAKvB,GAEjB,MADAtD,MAAKgW,KAAKnR,GAAOvB,EACVtD,MAQTm+B,QAAS,SAASzvB,GAChB,MAAK1O,MAAK+U,GAEI+2B,EAAU,WAAY,KAAM9rC,KAAK+U,GAAI,SAAUrG,GADpD,UAAQ5H,OAAO,GAAIkH,OAAM,kCAQpC+iB,SAAU,WACR,MAAK/wB,MAAK+U,GACHmI,EAAGpc,OAAOysC,kBAAkB,UAAWvtC,KAAK+U,IAD9B,MAGvB62C,aAAc,WACZ,GAAIrjB,GAAO1mC,EAAE6G,MAAM1I,KAAKgW,KACxB,OAAOkH,GAAGkJ,QAAQmiB,IAoBpB0iB,KAAM,WAAuB,WAAdv8C,EAAc,yDAC3B,KAAK8M,EAAgB9M,KAAawO,EAAGmB,KAAK+mB,UACxC,KAAM,IAAIp3B,OAAM,yBAElB,OAAKhO,MAAK8Z,MAIHwxC,EAAe58C,GACnB6L,KAAK,SAAAgxC,GACJ,GAAIzxC,GAAQ,EAAKA,MAAM2+B,YACvB3+B,GAAM3H,UAAY,EAAK2H,MAAM3H,SAC7B,IAAI6D,KAOJ,OANAA,GAAK8D,MAAQA,EACb,EAAK9D,KAAO,EAAKA,SACjB,EAAKA,KAAK9E,OAAS,EAAK8E,KAAK9E,QAAUq6C,EACvCv1C,EAAKA,KAAO,EAAK41C,eACjB51C,EAAK01C,UAAY,EAAKA,WAAa,UAE5B5f,EAAU,WAAY,KAAM,KAAM,OAAQ91B,EAAMtH,KAExD6L,KAAK,SAAAC,GAGJ,MAFA,GAAKzF,GAAKyF,EAASmF,SACnB,EAAKi1B,UAAY13B,EAAG+I,WAAWzL,EAASo6B,WACjC,IAnBF13B,EAAGsuC,OAAOK,sBAAsB7rD,KAAM0O,IAuBjD+Y,aAAc,SAASuuB,GACrBh2C,KAAK+U,GAAKihC,EAAWr2B,SACrB3f,KAAK40C,UAAY13B,EAAG+I,WAAW+vB,EAAWpB,WAC1C50C,KAAK80C,UAAY53B,EAAG+I,WAAW+vB,EAAWlB,WAC1C90C,KAAK8rD,UAAY9V,EAAW8V,gBACrB9V,GAAW8V,gBACX9V,GAAWr2B,eACXq2B,GAAWpB,gBACXoB,GAAWlB,UAClB90C,KAAKgW,KAAOkH,EAAGmK,QAAQ2uB,MAqB7B94B,EAAGsuC,OAAOK,sBAAwB,SAASpxC,GAAsB,GAAd/L,GAAc,yDAC/D,KAAK8M,EAAgB9M,KAAawO,EAAGmB,KAAK+mB,UACxC,KAAM,IAAIp3B,OAAM,yBAElB,OAAOs9C,GAAe58C,GAAS6L,KAAK,SAAAgxC,GAClC,GAAIzxC,KACJA,GAAM3H,UAAY,YAClB2H,EAAMrX,KAAO,WACbqX,EAAM9R,OAAU2T,KAAM4vC,EACtB,IAAIv1C,KAQJ,OAPAA,GAAK8D,MAAQA,EACbW,EAAOzE,KAAOyE,EAAOzE,SACrByE,EAAOzE,KAAK9E,OAASuJ,EAAOzE,KAAK9E,QAAUq6C,EAC3Cv1C,EAAKA,KAAOyE,EAAOmxC,eACnB51C,EAAK01C,UAAYjxC,EAAOixC,WAAa,UAEvB5f,EAAU,WAAY,KAAM,KAAM,OAAQ91B,EAAMtH,GAC/C6L,KAAK,SAASC,GAG3B,MAFAC,GAAO1F,GAAKyF,EAASmF,SACrBlF,EAAOm6B,UAAY13B,EAAG+I,WAAWzL,EAASo6B,WACnCn6B,OAuBbyC,EAAGsuC,OAAOO,kBAAoB,SAAStxC,EAAQxC,GAAsB,GAAdvJ,GAAc,yDACnE,KAAK8M,EAAgB9M,KAAawO,EAAGmB,KAAK+mB,UACxC,KAAM,IAAIp3B,OAAM,yBAElB,KAAKiK,EACH,KAAM,IAAIjK,OAAM,uBAElB,IAAI2xC,GAAe99C,EAAEgI,SAASoO,GAAUA,EAASA,EAAOlD,EACxD,KAAK4qC,EACH,KAAM,IAAI3xC,OAAM,uBAElB,OAAOs9C,GAAe58C,GAAS6L,KAAK,SAAAgxC,GAClC,GAAIzxC,KACJA,GAAM3H,UAAY,QAClB2H,EAAM9R,OAAU2X,SAAUggC,EAC1B,IAAI3pC,KASJ,OARAA,GAAK8D,MAAQA,EACbW,EAAOzE,KAAOyE,EAAOzE,SACrByE,EAAOzE,KAAK9E,OAASuJ,EAAOzE,KAAK9E,QAAUq6C,EAC3Cv1C,EAAKA,KAAOyE,EAAOmxC,eACnB51C,EAAK01C,UAAY,UACjBjxC,EAAOixC,UAAY,UAEL5f,EAAU,WAAY,KAAM,KAAM,OAAQ91B,EAAMtH,GAC/C6L,KAAK,SAASC,GAG3B,MAFAC,GAAO1F,GAAKyF,EAASmF,SACrBlF,EAAOm6B,UAAY13B,EAAG+I,WAAWzL,EAASo6B,WACnCn6B,OAmBbyC,EAAGsuC,OAAOQ,oBAAsB,SAC9B5e,GAGA,GAFAse,GAEA,uDAFY,UACZh9C,EACA,yDAEA,IADK7M,EAAEgI,SAAS6hD,KAAYh9C,EAAUg9C,IACjClwC,EAAgB9M,IAAqB,MAAT0+B,IAAkBlwB,EAAGmB,KAAK+mB,UACzD,KAAM,IAAIp3B,OAAM,oDAElB,OAAO,WAAQgP,QAAQowB,GAASie,EAAQ38C,IAAU6L,KAAK,SAAA6yB,GACrD,GAAIwW,KAGJ,OAFAA,GAAO8H,UAAYxuC,EAAGkJ,QAAQslC,GAC9B9H,EAAOxW,MAAQlwB,EAAGkJ,QAAQgnB,GACnBtB,EACL,2BACA,KACA,KACA,MACA8X,EACAl1C,MAmBNwO,EAAGsuC,OAAOS,iBAAmB,SAC3B7e,GAGA,GAFAse,GAEA,uDAFY,UACZh9C,EACA,yDAEA,IADK7M,EAAEgI,SAAS6hD,KAAYh9C,EAAUg9C,IACjClwC,EAAgB9M,IAAqB,MAAT0+B,IAAkBlwB,EAAGmB,KAAK+mB,UACzD,KAAM,IAAIp3B,OAAM,oDAElB,OAAO,WAAQgP,QAAQowB,GAASie,EAAQ38C,IAAU6L,KAAK,SAAA6yB,GACrD,GAAIwW,KAGJ,OAFAA,GAAO8H,UAAYxuC,EAAGkJ,QAAQslC,GAC9B9H,EAAOxW,MAAQlwB,EAAGkJ,QAAQgnB,GACnBtB,EACL,sCACA,KACA,KACA,OACA8X,EACAl1C,MAiBNwO,EAAGsuC,OAAOU,YAAc,SAASh7C,GAC/B,GAAI4I,GAAQ,GAAIoD,GAAG+tB,MAAM,UAIzB,OAHI/5B,IACF4I,EAAMoxB,QAAQ,SAAUh6B,GAEnB4I,GAOToD,EAAGivC,WAAajvC,EAAG+tB,MAAM/kB,SAErBkmC,aAAclvC,EAAGsuC,OACjBa,SAAU,EACVC,OAAQ,EACRC,WAAY,UACZC,OAAQ,KACR3I,WAAY,WACV,MAAO,IAAI3mC,GAAGsuC,QAEhBlH,eAAgB,SAASV,EAAQl1C,GAC/B,MAAOwO,GAAGivC,WAAWjwC,UAAUooC,eAAe/jD,KAC5CP,KACA4jD,EACAl1C,EACA,wBAWJ+9C,QAAS,SAAS13C,GAEhB,MADA/U,MAAKqsD,SAAWt3C,EACT/U,MAST0sD,MAAO,SAAS33C,GAEd,MADA/U,MAAKssD,OAASv3C,EACP/U,MAOTotC,MAAO,SAASA,GAEd,MADAptC,MAAKwsD,OAASpf,EACPptC,MAOT0rD,UAAW,SAASx5C,GAElB,MADAlS,MAAKusD,WAAar6C,EACXlS,MAETy4C,WAAY,WACV,GAAImL,GAAS1mC,EAAGivC,WAAWjwC,UAAUu8B,WAAWl4C,KAAKP,KAKrD,OAJA4jD,GAAOxW,MAAQlwB,EAAGkJ,QAAQpmB,KAAKwsD,QAC/B5I,EAAO8H,UAAYxuC,EAAGkJ,QAAQpmB,KAAKusD,YACnC3I,EAAO6I,QAAUvvC,EAAGkJ,QAAQpmB,KAAKqsD,UACjCzI,EAAO8I,MAAQxvC,EAAGkJ,QAAQpmB,KAAKssD,QACxB1I,KAqBb1mC,EAAGsuC,OAAOmB,WAAa,SAASvf,EAAOse,GACrC,GAAI5xC,GAAQ,GAAIoD,GAAGivC,WAAWjvC,EAAGsuC,OAOjC,OANIpe,KACFtzB,EAAM0yC,OAASpf,GAEbse,IACF5xC,EAAMyyC,WAAab,GAEd5xC,KpKmvdL,SAAUla,EAAQD,EAASM,GAEjC,YAGA,IAAI6Y,GAAa7Y,EAAoB,IAEjC8Y,EAEJ,SAAgClW,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAF9CiW,GqKrqenCjX,EAAIuX,EAAQ,GACZ0yB,EAAY1yB,EAAQ,GAAaqG,QAEvC7f,GAAOD,QAAU,SAASud,GAYxBA,EAAG0vC,kBAAoB,WACrB5sD,KAAK6sD,gBAGPhrD,EAAEsP,OACA+L,EAAG0vC,kBAAkBrrD,WAEnBurD,UAAW,SAASjoD,EAAKq/C,EAAOr0B,EAAMk9B,GACpC,GAAIjd,KAOJ,OANAA,GAAMjrC,IACJq/C,MAAOA,GAAS,MAChBr0B,KAAMA,GAAQ,MACdk9B,QAAS,KAAOA,GAAW,SAE7B/sD,KAAK6sD,YAAY1qD,KAAK2tC,GACf9vC,MAaTwmD,UAAW,SAAS3hD,EAAKgrB,EAAMk9B,GAC7B,MAAO/sD,MAAK8sD,UAAUjoD,EAAK,MAAOgrB,EAAMk9B,IAa1CrG,WAAY,SAAS7hD,EAAKgrB,EAAMk9B,GAC9B,MAAO/sD,MAAK8sD,UAAUjoD,EAAK,OAAQgrB,EAAMk9B,IAW3CC,UAAW,SAASnoD,EAAKqmB,EAAOxc,GAC9BA,EAAUA,KACV,IAAIohC,MACAmd,GACFC,IAAKhiC,EAAMxD,SACXylC,IAAKjiC,EAAMvD,WAETnnB,GACF0jD,MAAOx1C,EAAQw1C,OAAS,MACxBr0B,KAAMnhB,EAAQmhB,MAAQ,MACtBu9B,KAAM1+C,EAAQ0+C,MAAQ,KAMxB,OAJA5sD,GAAEqE,GAAOooD,EACTnd,EAAA,cAAyBtvC,EAEzBR,KAAK6sD,YAAY1qD,KAAK2tC,GACf9vC,MAOTqtD,MAAO,WACL,OAAO,aAAenwC,EAAGkJ,QAAQpmB,KAAK6sD,iBAoB5C3vC,EAAGowC,YAAcpwC,EAAG+tB,MAAM/kB,SAEtBqnC,KAAM,KACNC,MAAO,EACPC,aAAc,KACdC,YAAa,KACbC,aAAc,KACdrJ,eAAgB,SAASV,EAAQl1C,GAC/B,MAAOo9B,GACL,gBACA,KACA,KACA,MACA8X,GAAU5jD,KAAKy4C,aACf/pC,IASJk/C,IAAK,SAASA,GAEZ,MADA5tD,MAAKutD,KAAOK,EACL5tD,MAQTka,YAAa,SAASmpC,GAEpB,MADArjD,MAAKytD,aAAepK,EACbrjD,MAaT6tD,WAAY,SAASA,GACnB,GAAIpkB,EAOJ,OALEA,GADEokB,GAAchsD,EAAEgI,SAASgkD,GACjBlqD,UAEAkqD,EAEZ7tD,KAAK0tD,YAAcjkB,EACZzpC,MAUT8I,OAAQ,SAASglD,GAEf,MADA9tD,MAAK2tD,aAAeG,EACb9tD,MAOT+tD,KAAM,WAIJ,MAHK/tD,MAAKwtD,QACRxtD,KAAKwtD,MAAQ,GAERxtD,KAAKwtD,OAGd1J,eAAgB,SAASvb,GAIvB,aAHOA,GAAA,gBACAA,GAAA,eACAA,GAAA,UACAA,GASTylB,QAAS,WACP,OAAQhuD,KAAKiuD,SAOfC,MAAO,WACLluD,KAAKiuD,SAAU,EACfjuD,KAAKutD,KAAO,KACZvtD,KAAKwtD,MAAQ,GAYfnnD,KAAM,WACJ,GAAItG,GAAOC,IAIX,OAFcA,MAAKskD,iBAEJ/pC,KAAK,SAASC,GAW3B,MATIA,GAASozC,KACX7tD,EAAKouD,QAAUpuD,EAAKwtD,KACpBxtD,EAAKwtD,KAAO/yC,EAASozC,MAErB7tD,EAAKwtD,KAAO,KACZxtD,EAAKkuD,SAAU,GAEjBluD,EAAKytD,MAAQhzC,EAASuzC,MAAQ,EAEvBlsD,EAAE0D,IAAIiV,EAAS/U,QAAS,SAAS8iC,GAClCA,EAAKp2B,YACPqI,EAASrI,UAAYo2B,EAAKp2B,UAE5B,IAAItP,GAAM9C,EAAK8jD,WAAWrpC,EAG1B,OAFA3X,GAAIurD,OAAS7lB,EAAA,SACb1lC,EAAI4kB,aAAa1nB,EAAK+jD,eAAevb,IAAO,GACrC1lC,OAKb41C,WAAY,WACV,GAAImL,GAAS1mC,EAAGowC,YAAYpxC,UAAUu8B,WAAWl4C,KAAKP,KAQtD,UAPO4jD,GAAO57C,MACVhI,KAAKmS,YACPyxC,EAAOyK,MAAQruD,KAAKmS,WAElBnS,KAAKutD,OACP3J,EAAOgK,IAAM5tD,KAAKutD,OAEfvtD,KAAKytD,aACR,KAAM,IAAIz/C,OAAM,2BAOlB,IALE41C,EAAOP,EAAIrjD,KAAKytD,aAEdztD,KAAK0tD,cACP9J,EAAOiK,WAAa7tD,KAAK0tD,YAAYx5C,KAAK,MAExClU,KAAK2tD,cAAgB/J,EAAOM,MAC9B,KAAM,IAAIl2C,OAAM,8CAMlB,OAJIhO,MAAK2tD,eACP/J,EAAO56C,KAAOhJ,KAAK2tD,aAAaN,SAG3BzJ,OrK4teT,SAAUhkD,EAAQD,EAASM,GAEjC,YAGA,IAAIyY,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GsK9/ejC7W,EAAIuX,EAAQ,GACZyH,EAAUzH,EAAQ,ItKogfpBC,EsKngfgBD,EAAQ,GAApBiB,E,EAAAA,OAERza,GAAOD,QAAU,SAASud,GASxBA,EAAGoxC,QAAUpxC,EAAGoxC,YAEhBzsD,EAAEsP,OACA+L,EAAGoxC,SAkBDC,SAAU,SAASC,EAAW9/C,GAC5B,IAAK8/C,IAAcA,EAAUC,IAC3B,KAAM,IAAIzgD,OAAM,yCAElB,IAAIgI,IACFw4C,UAAWA,EACXvsB,MAAO/kB,EAAGQ,cAEZ,OAAOrD,IACLtV,KAAM,iBACN+C,OAAQ,OACRkO,KAAMkH,EAAGkJ,QAAQpQ,EAAM,MAAM,GAC7ByF,YAAa/M,EACb6O,SAAS,IACRhD,KAAK,SAAAs+B,GAAA,MAAQ37B,GAAGmK,QAAQwxB,GAAM9jC,MAanCsvB,GAAI,SAAStR,EAAOnvB,OAUxBsZ,EAAGoxC,QAAQI,SAAW,SAAS35C,EAAI5C,GACjC,IAAK4C,EACH,KAAM,IAAI/G,OAAM,6BAElBhO,MAAK+U,GAAKA,EACV/U,KAAKmS,UAAYA,EACjBnS,KAAKkjD,MAAQ,EACbljD,KAAKijD,OAAS,KAGhBphD,EAAEsP,OACA+L,EAAGoxC,QAAQI,SAASntD,WASlB0iD,KAAM,SAAS9iD,GAEb,MADAnB,MAAKkjD,MAAQ/hD,EACNnB,MASTgkD,MAAO,SAAS7iD,GAEd,MADAnB,MAAKijD,OAAS9hD,EACPnB,MAaTqG,KAAM,SAASqI,GACb,GAAIk1C,IACFK,KAAMjkD,KAAKkjD,MACXc,MAAOhkD,KAAKijD,OAGd,OAAO5oC,IACLtV,uBAAwB/E,KAAK+U,GAC7BjN,OAAQ,MACRgS,MAAO8pC,EACPnoC,YAAa/M,EACb6O,SAAS,IACRhD,KAAK,SAASC,GACf,MAAIA,GAASI,MACJ,UAAQ9T,OAAO,GAAI+Z,GAAQrG,EAAS0E,KAAM1E,EAASI,QAErD,UAAQoC,QAAQxC,UtK2gf3B,SAAU5a,EAAQD,EAASM,GAEjC,YAGA,IAAI6Y,GAAa7Y,EAAoB,IAEjC8Y,EAEJ,SAAgClW,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAF9CiW,GuKvpfnCjX,EAAIuX,EAAQ,GvK6pfdC,EuK5pfiBD,EAAQ,GAArBqG,E,EAAAA,SACFvC,EAAK9D,EAAQ,IAEbu1C,EAAmB,SAAAxvC,GACvB,MAAuB,gBAAZA,GACFA,EAEyB,kBAAvBA,GAAQyvC,YACV,aAAezvC,EAAQyvC,eAEzB,aAAezvC,GAgBxBvf,GAAOD,QAAUud,EAAGpc,OAAOqQ,OACzB,iBAEEd,YADsC,SAC1B1P,GAAoB,GAAd+N,GAAc,yDAC9BwO,GAAGpc,OAAOS,UAAU8O,YAAY9P,KAAKP,KAAM,KAAM,MACjDA,KAAKwzB,IAAI,OAAQ7yB,OACQuX,KAArBxJ,EAAQmgD,UACV7uD,KAAKwzB,IAAI,QAAO9kB,EAAQmgD,cAEE32C,KAAxBxJ,EAAQogD,aACV9uD,KAAKwzB,IAAI,OAAM9kB,EAAQogD,cAQ3BC,WAhBsC,WAiBpC,MAAO/uD,MAAKkB,IAAI,MAQlB8tD,iBAzBsC,WA0BpC,MAAOhvD,MAAKkB,IAAI,OAQlB+tD,WAlCsC,WAmCpC,MAAOjvD,MAAKkB,IAAI,MAQlBguD,UA3CsC,SA2C5BC,GACR,MAAOnvD,MAAKorC,IAAI,IAAK+jB,IAQvBC,gBApDsC,WAqDpC,MAAOpvD,MAAKkB,IAAI,OAQlBkmC,QA7DsC,WA8DpC,MAAOpnC,MAAKkB,IAAI,SAQlB4tD,YAtEsC,WAuEpC,MAAO9uD,MAAKkB,IAAI,OAQlB2tD,SA/EsC,WAgFpC,MAAO7uD,MAAKkB,IAAI,QAiBlB+pD,KAjGsC,SAiGjCoE,EAAYlwC,GAAyC,GAAhCzQ,GAAgC,0DAAlB+M,EAAkB,0DAClDzF,GACJs5C,UAAWD,EACXE,QAASvvD,KAAK+U,GACdy6C,WAAW,EACXrwC,QAASwvC,EAAiBxvC,GAW5B,YAT0BjH,KAAtBxJ,EAAQ+gD,YACVz5C,EAAK05C,SAAWhhD,EAAQ+gD,eAEAv3C,KAAtBxJ,EAAQ8gD,YACVx5C,EAAKw5C,YAAY9gD,EAAQ8gD,eAEFt3C,KAArBxJ,EAAQihD,WACV35C,EAAK45C,UAAYlhD,EAAQihD,UAEpBlwC,EAAS,MAAO,WAAY,KAAM,OAAQzJ,EAAMyF,IAgBzDo0C,UAjIsC,SAiI5BR,EAAYlwC,GAAyC,GAAhCzQ,GAAgC,0DAAlB+M,EAAkB,0DACvDzF,GACJs5C,UAAWD,EACXE,QAASvvD,KAAK+U,GACdoK,QAASwvC,EAAiBxvC,GAK5B,QAHyBjH,KAArBxJ,EAAQihD,WACV35C,EAAK7T,KAAOuM,EAAQihD,cAEIz3C,KAAtBxJ,EAAQohD,UAAyB,CACnC,GAAIC,GAAKrhD,EAAQohD,SACbjuD,GAAE+kB,OAAOmpC,KACXA,EAAKA,EAAGl8C,WAEVnF,EAAQshD,WAAaD,EAEvB,MAAOtwC,GAAS,MAAO,YAAa,KAAM,OAAQzJ,EAAMyF,OvKqrfxD,SAAU7b,EAAQD,EAASM,GAEjC,YwK1yfA,SAASgwD,GAAT,GAA6C,GAAxBtvD,GAAwB,EAAxBA,KAAM2C,EAAkB,EAAlBA,MAAOkT,EAAW,EAAXA,OAIhCxW,MAAKW,KAAOA,EAIZX,KAAKsD,MAAQA,EAIbtD,KAAKwW,QAAUA,ExKiyfjB,GAAIkC,GAAWzY,EAAoB,GAE/B0Y,EAEJ,SAAgC9V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,IAFhD6V,GwK12fjC7W,EAAIuX,EAAQ,GxKg3fdC,EwK/2fgBD,EAAQ,GAApBiB,E,EAAAA,QxKk3fJZ,EwKj3f+BL,EAAQ,GAAnC+B,E,EAAAA,YAAagB,E,EAAAA,UACfe,EAAK9D,EAAQ,GAMnB8D,GAAGgzC,kCACDC,MAAO,QACPC,IAAK,MACLC,KAAM,OACNC,MAAO,SAOTpzC,EAAGqzC,kBACDC,UAAW,YACXC,WAAY,cAOdvzC,EAAGwzC,2BAEDC,OAAQ,SAERC,KAAM,OAENC,IAAK,MAuCP,IAAMC,GAAqB,SAAAC,GAAiB,MACsB7zC,EAAGmK,QACjE0pC,EAEF,OAAO,IAAId,IAAYtvD,KAJmB,EAClCqwD,cAGqB1tD,MAJa,EACb2tD,eAGOz6C,QAJM,EACUA,UAStD0G,GAAGg0C,YAAc,SAAqBF,GAIpChxD,KAAKgxD,cAAgBA,EAIrBhxD,KAAKkkD,UAAQhsC,GAIblY,KAAKmxD,mBAAiBj5C,GAItBlY,KAAKoxD,0BAAwBl5C,GAI7BlY,KAAKwW,YAAU0B,GAIflY,KAAKqxD,gBAAcn5C,GAInBlY,KAAK40C,cAAY18B,GAEnB,IAAMg5C,GAAch0C,EAAGg0C,WAOvBh0C,GAAGg0C,YAAY3jB,kBAAoB,SAAAyjB,GAAA,MACjC,IAAIE,GAAYF,IAWlB9zC,EAAGg0C,YAAYI,kBAAoB,WAEjC71C,GAFiC,GAC/Bu1C,GAD+B,EAC/BA,cAAe9M,EADgB,EAChBA,MAAOkN,EADS,EACTA,sBAAuBD,EADd,EACcA,cADd,OAIjC92C,IACEvS,OAAQ,OACR/C,KAAM,4BACNiR,MACEg7C,gBACA9M,QACAkN,wBACAD,kBAEF11C,gBACClB,KAAK,SAAAvE,GAEN,MADoB,IAAIk7C,GAAYF,GACjBvpC,aAAazR,MAQpCkH,EAAGg0C,YAAYK,eAAiB,SAACP,EAAev1C,GAAhB,MAC9By1C,GAAY3jB,kBAAkByjB,GAAexhB,MAAM/zB,IASrDyB,EAAGg0C,YAAYM,cAAgB,SAAC71C,GAAD,gEAAS81C,EAAT,EAASA,eAAuBh2C,EAAhC,mBAC7B,WAAQuB,UAAUzC,KAAK,WACrB,IAAMoB,IAAQA,EAAK5G,GAAK,KAAM,IAAI/G,OAAM,0BACxC,OAAOqM,IACLvS,OAAQ,MACR/C,2BAA4B4W,EAAK5G,GAAjC,cACA+E,OACE43C,WAAYD,EACRt2C,EAAYs2C,GAAgBv9C,KAAK,SACjCgE,IAENuD,gBACClB,KAAK,qBAAG9U,QAAsBF,IAAIurD,QAWzC5zC,EAAGg0C,YAAYS,iBAAmB,SAACh2C,EAAM+1C,GAAP,GAAmBhjD,GAAnB,gEAChC,WAAQsO,UAAUzC,KAAK,WACrB,IAAMoB,IAAQA,EAAK5G,GAAK,KAAM,IAAI/G,OAAM,0BACxC,IAAMgI,GAAOnU,EAAE0D,IAAImsD,EAAY,SAACpuD,EAAOuB,GAAR,OAC7BmsD,cAAensD,EACfosD,eAAgB3tD,KAEVsuD,EAAcljD,EAAdkjD,SACR,OAAOv3C,IACLvS,OAAQ,OACR/C,2BAA4B4W,EAAK5G,GAAjC,cACA+E,OACE83C,UAAWA,EAAY,MAAI15C,IAE7BlC,OACAyF,YAAa/M,IACZ6L,KAAK,qBAAG9U,QAAsBF,IAAIurD,QAUzC5zC,EAAGg0C,YAAYW,iBAAmB,SAACl2C,EAAM81C,EAAgBh2C,GAAvB,MAChC,WAAQuB,UAAUzC,KAAK,WACrB,IAAMoB,IAAQA,EAAK5G,GAAK,KAAM,IAAI/G,OAAM,0BACxC,OAAOqM,IACLvS,OAAQ,SACR/C,2BAA4B4W,EAAK5G,GAAjC,cACA+E,OACE43C,WAAYv2C,EAAYs2C,GAAgBv9C,KAAK,MAE/CuH,gBACClB,KAAK,iBAGZ1Y,EAAEsP,OACA+/C,EAAY3vD,WAEVkmB,aADqC,SACxBzR,GAAM,UAcjB,OAbAnU,GAAEyD,QAAQ0Q,EAAM,SAAC1S,EAAOuB,GACV,cAARA,GAA+B,aAARA,IACf,cAARA,IACFA,EAAM,eAEI,cAARA,IACFvB,EAAQ6Y,EAAU7Y,IAEhBA,GAA0B,SAAjBA,EAAMujB,SACjBvjB,EAAQ6Y,EAAU7Y,EAAMwjB,MAE1B,EAAKjiB,GAAOvB,KAEPtD,MAOTwvC,MAtBqC,SAsB/B/zB,GAAa,UACjB,OAAOpB,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cACxCv1C,gBACClB,KAAK,SAAAvE,GAAA,MAAQ,GAAKyR,aAAazR,MASpC/I,MApCqC,WAoCA,gEAA7BuJ,EAA6B,EAA7BA,QAAgBiF,EAAa,YACnC,OAAOpB,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cAAxC,SACAl3C,OACE7M,MAAO,EACP+2C,MAAO,EACPxtC,WAEFiF,gBACClB,KAAK,qBAAGtN,SAEb6kD,YAhDqC,WAyDnCr2C,EACAqrB,GACA,GATEmd,GASF,EATEA,KACAD,EAQF,EAREA,MACA+N,EAOF,EAPEA,eACAC,EAMF,EANEA,gBACAC,EAKF,EALEA,kBACAz7C,EAIF,EAJEA,OAKF,OAAO6D,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cAAxC,UACElqB,EAASA,IAAIA,EAAW,IAE1BhtB,OACEmqC,OACAD,QACA+N,eACElwD,EAAE6J,MACAyP,EAAY42C,GACZ52C,EAAY62C,IACZ99C,KAAK,UAAQgE,GACjBg6C,YAAaF,EACT72C,EAAY62C,GAAiB99C,KAAK,SAClCgE,GACJ+5C,kBAAmBA,EACf92C,EAAY82C,GAAmB/9C,KAAK,SACpCgE,GACJ1B,WAEFiF,gBACClB,KAAK,qBAAG9U,QACAF,IAAI,SAAA4sD,GAAe,MAMtBj1C,EAAGmK,QAAQ8qC,GAJbx2C,EAFwB,EAExBA,KACgBrY,EAHQ,EAGxB2tD,eACAmB,EAJwB,EAIxBA,KAJwB,IAKxBV,UAEF,QACE/1C,OACArY,QACA8uD,OACAC,wBAXwB,aAWO9sD,IAAIurD,SAiB3CwB,WA/GqC,WAyHnC,gEARErO,EAQF,EAREA,KACAD,EAOF,EAPEA,MACA+N,EAMF,EANEA,eACAC,EAKF,EALEA,gBACAC,EAIF,EAJEA,kBACAz7C,EAGF,EAHEA,QAEFiF,EACA,YACA,OAAOzb,MAAK8xD,aAER7N,OACAD,QACA+N,iBACAC,kBACAC,oBACAz7C,WAEFiF,IAeJ82C,qBAlJqC,SAkJhB52C,GAAiC,GAA3BjN,GAA2B,0DAAb+M,EAAa,YAEpD,IAAIE,GAA2B,gBAAZA,GAAK5G,GACtB,MAAO/U,MAAKuyD,yBAAqBr6C,GAAWyD,EAAMjN,EAHA,IAMlDs1C,GAKEt1C,EALFs1C,MACA+N,EAIErjD,EAJFqjD,eACAC,EAGEtjD,EAHFsjD,gBACAC,EAEEvjD,EAFFujD,kBACAz7C,EACE9H,EADF8H,OAEF,OAAOxW,MAAK8xD,aACR9N,QAAO+N,iBAAgBC,kBAAiBC,oBAAmBz7C,WAC7DiF,EACAE,EAAOA,EAAK5G,GAAK,SAGrBy9C,QApKqC,SAoK7Bx8C,EAAMyF,GAAa,UACzB,OAAOpB,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cACxCh7C,OACAyF,gBACClB,KAAK,SAAA5V,GAAA,MAAU,GAAK8iB,aAAa9iB,MAQtC8tD,4BAlLqC,SAkLTrB,EAAuB31C,GACjD,MAAOzb,MAAKwyD,SAAUpB,yBAAyB31C,IAQjDi3C,qBA3LqC,SA2LhBvB,EAAgB11C,GACnC,MAAOzb,MAAKwyD,SAAUrB,kBAAkB11C,IAO1CyyC,MAnMqC,SAmM/BzyC,GAAa,UACjB,OAAOpB,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cAAxC,oBACAv1C,gBACClB,KAAK,SAAAvE,GAAA,MAAQ,GAAKyR,aAAazR,MAOpCmoB,QA/MqC,SA+M7B1iB,GACN,MAAOyB,GAAG7C,SACRvS,OAAQ,SACR/C,kCAAmC/E,KAAKgxD,cACxCv1C,gBACClB,KAAK,eAUVo4C,YA9NqC,WA8NU,uEAAjC1O,EAAiC,EAAjCA,KAAMD,EAA2B,EAA3BA,MAAcvoC,EAAa,YAC7C,OAAOpB,IACLvS,OAAQ,MACR/C,kCAAmC/E,KAAKgxD,cAAxC,YACAl3C,OACEmqC,OACAD,SAEFvoC,gBACClB,KAAK,qBAAG9U,QACDF,IAAI,eAAGiR,GAAH,EAAGA,QAASiE,EAAZ,EAAYA,OAAQZ,EAApB,EAAoBA,IAAK+4C,EAAzB,EAAyBA,YAAaC,EAAtC,EAAsCA,aAAtC,QACV7B,cAAe,EAAKA,cACpBx6C,UACAiE,SACAZ,MACA+4C,YAAaz2C,EAAUy2C,EAAY9rC,KACnC+rC,cAAe12C,EAAU02C,EAAc/rC,cxKs7f3C,SAAUlnB,EAAQD,EAASM,GAEjC,YyK74gBA,IAAMqsB,GAAWlT,EAAQ,KACnB8L,EAAQ9L,EAAQ,IAChBib,GACDtL,SAEHrb,OAAO0L,EAAQ,KAEjBxZ,GAAOD,QAAU,SAAAud,GAGf,MAFAA,GAAGiI,YAAYmH,GACfpP,EAAGgB,cAAcC,UAAY+G,EAAMmP,GAC5BnX,IzKk5gBH,SAAUtd,EAAQD,EAASM,GAEjC,Y0K75gBA,IAAI6yD,GAAa9yD,MAAQA,KAAK8yD,WAAc,WACxC,GAAIC,GAAgB,SAAUryD,EAAG0I,GAI7B,OAHA2pD,EAAgBjyD,OAAOkyD,iBAChBjK,uBAA2BhnD,QAAS,SAAUrB,EAAG0I,GAAK1I,EAAEqoD,UAAY3/C,IACvE,SAAU1I,EAAG0I,GAAK,IAAK,GAAI3H,KAAK2H,GAAOA,EAAE5H,eAAeC,KAAIf,EAAEe,GAAK2H,EAAE3H,MACpDf,EAAG0I,GAE5B,OAAO,UAAU1I,EAAG0I,GAEhB,QAAS6pD,KAAOjzD,KAAKqQ,YAAc3P,EADnCqyD,EAAcryD,EAAG0I,GAEjB1I,EAAEa,UAAkB,OAAN6H,EAAatI,OAAO6B,OAAOyG,IAAM6pD,EAAG1xD,UAAY6H,EAAE7H,UAAW,GAAI0xD,QAGnFC,EAAYlzD,MAAQA,KAAKkzD,UAAa,WAStC,MARAA,GAAWpyD,OAAOuQ,QAAU,SAAS4/B,GACjC,IAAK,GAAIvvC,GAAGtB,EAAI,EAAGe,EAAIwC,UAAUU,OAAQjE,EAAIe,EAAGf,IAAK,CACjDsB,EAAIiC,UAAUvD,EACd,KAAK,GAAIqB,KAAKC,GAAOZ,OAAOS,UAAUC,eAAejB,KAAKmB,EAAGD,KACzDwvC,EAAExvC,GAAKC,EAAED,IAEjB,MAAOwvC,IAEJiiB,EAASxvD,MAAM1D,KAAM2D,YAE5BwvD,EAAUnzD,MAAQA,KAAKmzD,QAAW,SAAUzxD,EAAGqU,GAC/C,GAAIk7B,KACJ,KAAK,GAAIxvC,KAAKC,GAAOZ,OAAOS,UAAUC,eAAejB,KAAKmB,EAAGD,IAAMsU,EAAEpO,QAAQlG,GAAK,IAC9EwvC,EAAExvC,GAAKC,EAAED,GACb,IAAS,MAALC,GAAqD,kBAAjCZ,QAAO4vB,sBAC3B,IAAK,GAAItwB,GAAI,EAAGqB,EAAIX,OAAO4vB,sBAAsBhvB,GAAItB,EAAIqB,EAAE4C,OAAQjE,IAC3D2V,EAAEpO,QAAQlG,EAAErB,IAAM,GAAKU,OAAOS,UAAU0O,qBAAqB1P,KAAKmB,EAAGD,EAAErB,MACvE6wC,EAAExvC,EAAErB,IAAMsB,EAAED,EAAErB,IAE1B,OAAO6wC,GAEXnwC,QAAOC,eAAepB,EAAS,cAAgB2D,OAAO,IACtD,EAAQ,KACR3D,EAAQyqB,SACJK,QAAS,SAAU5lB,GACf,MAAOm3C,IAAGoX,eAAevuD,IAE7BwlB,QAAS,SAAUxlB,EAAKvB,GACpB,MAAO04C,IAAGqX,eAAexuD,EAAKvB,IAElCgnB,WAAY,SAAUzlB,GAClB,MAAO7E,MAAKqqB,QAAQxlB,EAAK,KAE7B4uB,MAAO,WACH,MAAOuoB,IAAGsX,oBAGlB,IAAIC,GAAsB,EAAQ,KAC9BC,GAAU,OAAQ,QAAS,UAAW,SACtCC,EAAoB,SAAUC,GAE9B,QAASD,GAAG55C,EAAK85C,GACb,GAAIC,GAAQ5zD,IACZ,KAAK6Z,EACD,KAAM,IAAItM,WAAU,gDAExB,IAAIomD,KACE3X,GAAG6X,UAAW7X,GAAG6X,QAAQ,mCAC3B,KAAM,IAAI7lD,OAAM,qCAEpB4lD,GAAQF,EAAOnzD,KAAKP,OAASA,KAC7B4zD,EAAME,KAAOj6C,EACb+5C,EAAMG,UAAYJ,EAClBC,EAAMI,YAAcP,EAAGQ,UACvB,IAAIC,GAAe,SAAUnhC,GACzB6gC,EAAMI,YAAcP,EAAGU,OACvBP,EAAMQ,eACFliD,KAAM,QACNiN,QAAS4T,EAAMmpB,UAGnBmY,EAAarY,GAAGsY,eAChBz6C,IAAKA,EACL06C,cAA+Br8C,KAApB07C,EAAMG,WAA2BhyD,MAAMQ,QAAQqxD,EAAMG,WAC1DH,EAAMG,WACLH,EAAMG,WACbr6B,KAAM,SAAU9e,GAAS,MAAOrM,YAAW,WAAc,MAAO2lD,GAAat5C,IAAW,KA0B5F,OAxBAg5C,GAAMY,YAAcH,EACpBA,EAAWI,OAAO,SAAU1hC,GACxB6gC,EAAMI,YAAcP,EAAGiB,KACvBd,EAAMQ,eACFliD,KAAM,WAGdmiD,EAAWM,QAAQT,GACnBG,EAAWO,UAAU,SAAU7hC,GAC3B,GAAI/c,GAAO+c,EAAM/c,IACjB49C,GAAMQ,eACFp+C,KAAMA,EACN9D,KAAM,cAGdmiD,EAAWQ,QAAQ,SAAU9hC,GACzB6gC,EAAMI,YAAcP,EAAGU,MACvB,IAAIj1C,GAAO6T,EAAM7T,KAAMmb,EAAStH,EAAMsH,MACtCu5B,GAAMQ,eACFl1C,KAAMA,EACNmb,OAAQA,EACRnoB,KAAM,YAGP0hD,EA8CX,MAlGAd,GAAUW,EAAIC,GAsDd5yD,OAAOC,eAAe0yD,EAAGlyD,UAAW,OAChCL,IAAK,WACD,MAAOlB,MAAK8zD,MAEhB7yD,YAAY,EACZD,cAAc,IAElBF,OAAOC,eAAe0yD,EAAGlyD,UAAW,YAChCL,IAAK,WACD,MAAOlB,MAAK+zD,WAEhB9yD,YAAY,EACZD,cAAc,IAElBF,OAAOC,eAAe0yD,EAAGlyD,UAAW,cAChCL,IAAK,WACD,MAAOlB,MAAKg0D,aAEhB/yD,YAAY,EACZD,cAAc,IAElByyD,EAAGlyD,UAAUksB,MAAQ,WACbztB,KAAK80D,aAAerB,EAAGU,SAEvBn0D,KAAK80D,aAAerB,EAAGQ,YACvBn2C,QAAQC,KAAK,sDAEjB/d,KAAKw0D,YAAY/mC,YAErBgmC,EAAGlyD,UAAU0pD,KAAO,SAAUj1C,GAC1B,GAAIhW,KAAK80D,aAAerB,EAAGiB,KACvB,KAAM,IAAI1mD,OAAM,oBAEpB,MAAsB,gBAATgI,IAAqBA,YAAgB++C,cAC9C,KAAM,IAAIxnD,WAAU,oCAExBvN,MAAKw0D,YAAYvJ,MACbj1C,KAAMA,KAGdy9C,EAAGQ,WAAa,EAChBR,EAAGiB,KAAO,EACVjB,EAAGuB,QAAU,EACbvB,EAAGU,OAAS,EACLV,GACTF,EAAoB0B,YAAYzB,GAClC7zD,GAAQu1D,UAAYzB,EACpB9zD,EAAQ0a,QAAU,SAAUR,EAAKygB,GAC7B,GAAI66B,OAAY,KAAP76B,KAAqBA,EAAIxyB,EAASqtD,EAAGrtD,OAAQkO,EAAOm/C,EAAGn/C,KAAM+D,EAAUo7C,EAAGp7C,OACnF,OAAO,IAAIkd,SAAQ,SAAUja,EAASlW,GAClC,MAAOk1C,IAAG3hC,SACNR,IAAKA,EACL/R,OAAQA,EACRkO,KAAMA,EACN0E,OAAQX,EACRq7C,aAAc,OACd7lB,QAAS,SAAU/0B,GACf,GAAIC,GAASD,EAASO,WAAY/E,EAAOwE,EAASxE,KAAMxR,EAAO2uD,EAAO34C,GAAW,aAAc,QAC/FwC,GAAQk2C,EAASA,KAAa1uD,IAASwR,KAAsB,gBAATA,GAAoBoJ,KAAKC,MAAMrJ,GAAQA,EAAMyE,OAAQA,EAAQE,KAAMF,GAAU,SAErIif,KAAM,SAAUlf,GACZ1T,EAAO,GAAIkH,OAAMwM,EAAS0hC,eAK1Cv8C,EAAQ01D,OAAS,SAAUx7C,EAAKiO,EAAMwS,GAClC,GAAI66B,OAAY,KAAP76B,KAAqBA,EAAIvgB,EAAUo7C,EAAGp7C,QAAS/D,EAAOm/C,EAAGn/C,KAAMiE,EAAak7C,EAAGl7C,UACxF,OAAM6N,IAAQA,EAAK9R,MAAQ8R,EAAK9R,KAAKk3B,IAG9B,GAAIjW,SAAQ,SAAUja,EAASlW,GAClC,GAAIwzB,GACAlC,EAAO4jB,GAAGsZ,YACVz7C,IAAKA,EACLa,OAAQX,EACRw7C,SAAUztC,EAAK9R,KAAKk3B,IACpBvsC,KAAMmnB,EAAKgoB,MACX0lB,SAAUx/C,EACVu5B,QAAS,SAAU/0B,GACf,GAAIC,GAASD,EAASO,WAAY/E,EAAOwE,EAASxE,KAAMxR,EAAO2uD,EAAO34C,GAAW,aAAc,QAC/FwC,GAAQk2C,EAASA,KAAa1uD,IAASwR,KAAsB,gBAATA,GAAoBoJ,KAAKC,MAAMrJ,GAAQA,EAAMyE,OAAQA,EAAQE,KAAMF,GAAU,SAErIif,KAAM,SAAUlf,GACZ1T,EAAO,GAAIkH,OAAMwM,EAAS0hC,WAG2C,SAA5E5hB,EAAc,OAATlC,OAA0B,KAATA,MAAkB,GAASA,EAAKq9B,uBAAqC,KAAPn7B,GAAyBA,EAAG/5B,KAAK63B,EAAM,SAAUkC,GAClI,GAAIo7B,GAAWp7B,EAAGo7B,SAAUC,EAAiBr7B,EAAGq7B,eAAgBC,EAA2Bt7B,EAAGs7B,wBAC9F,OAAsB,QAAf37C,OAAsC,KAAfA,MAAwB,GAASA,GAC3D47C,QAASH,EACTI,OAAQH,EACRI,MAAOH,QAvBR3+B,QAAQnwB,OAAO,GAAIyG,WAAU,2D1K+7gBtC,SAAU3N,EAAQD,KAOlB,SAAUC,EAAQD,EAASM,GAEjC,YA4CA,SAASuY,GAAuB3V,GAAO,MAAOA,IAAOA,EAAIzB,WAAayB,GAAQ4V,QAAS5V,G2K3nhBvF,QAASmzD,GAAGjjC,GACR,GAAMkjC,GAAOC,EAAYh1D,IAAI6xB,EAM7B,OALAjV,SAAQq4C,OACI,MAARF,EACA,8CACAljC,GAEGkjC,EAOX,QAASG,GAAcpgD,GACnB,GAA4B,MAAxBA,EAAKqgD,gBAUL,YARuB,mBAAZv4C,UACkB,kBAAlBA,SAAQlD,OAEfkD,QAAQlD,MACJ,qEACA5E,EAAKqgD,iBAKZrgD,GAAK+c,MAAMujC,aAIhBtgD,EAAKugD,UAAW,EACyB,kBAA9BvgD,GAAK+c,MAAMyjC,gBAClBxgD,EAAK+c,MAAMyjC,kBAcnB,QAASC,GAAMC,EAAa3jC,GACxBmjC,EAAY1iC,IAAIxzB,MACZ02D,cACA3jC,QACA4jC,WAAY,EACZl6C,cAAei6C,EACfH,UAAU,EACVK,SAAS,EACTC,kBAAkB,EAClBR,gBAAiB,KACjBS,UAAW/jC,EAAM+jC,WAAaljD,KAAK7E,QAIvCjO,OAAOC,eAAef,KAAM,aAAesD,OAAO,EAAOrC,YAAY,GAIrE,KAAK,GADCwB,IAAO,aAAYswB,GAChB3yB,EAAI,EAAGA,EAAIqC,EAAK4B,SAAUjE,EAAG,CAClC,GAAMyE,GAAMpC,EAAKrC,EACXyE,KAAO7E,QACT,aAAsBA,KAAM6E,EAAKkyD,EAAyBlyD,KAyOtE,QAASkyD,GAAyBlyD,GAC9B,OACI3D,IADG,WAEC,MAAO80D,GAAGh2D,MAAM+yB,MAAMluB,IAE1B2uB,IAJG,SAIClwB,GACA0yD,EAAGh2D,MAAM+yB,MAAMluB,GAAOvB,GAE1BtC,cAAc,EACdC,YAAY,GAUpB,QAAS+1D,GAAqBnyD,GAC1B,OACIvB,MADG,WAEC,GAAMyvB,GAAQijC,EAAGh2D,MAAM+yB,KACvB,OAAOA,GAAMluB,GAAKnB,MAAMqvB,EAAOpvB,YAEnC3C,cAAc,EACdC,YAAY,GAWpB,QAASg2D,GAAcC,EAAW5mD,GAO9B,QAAS6mD,GAAYT,EAAa3jC,GAC9BmkC,EAAU32D,KAAKP,KAAM02D,EAAa3jC,GAPtC,GAAMtwB,IAAO,aAAY6N,EACzB,IAAoB,IAAhB7N,EAAK4B,OACL,MAAO6yD,EAQXC,GAAY51D,WAAY,aAAc21D,EAAU31D,WAC5C8O,aAAe/M,MAAO6zD,EAAan2D,cAAc,EAAM2rB,UAAU,IAIrE,KAAK,GAAIvsB,GAAI,EAAGA,EAAIqC,EAAK4B,SAAUjE,EAAG,CAClC,GAAMyE,GAAMpC,EAAKrC,EACjB,MAAMyE,IAAOqyD,GAAU31D,WAAY,CAC/B,GAAM+1B,IAAa,aAAgChnB,EAAOzL,GACpDuyD,EAAqC,kBAArB9/B,GAAWh0B,OACjC,aACI6zD,EAAY51D,UACZsD,EACAuyD,EACMJ,EAAqBnyD,GACrBkyD,EAAyBlyD,KAK3C,MAAOsyD,GASX,QAASE,GAAW/mD,GAChB,GAAa,MAATA,GAAiBA,IAAUxP,OAAOS,UAClC,MAAOk1D,EAGX,IAAI/mD,GAAU4nD,EAASp2D,IAAIoP,EAK3B,OAJe,OAAXZ,IACAA,EAAUunD,EAAcI,GAAW,aAAsB/mD,IAASA,GAClEgnD,EAAS9jC,IAAIljB,EAAOZ,IAEjBA,EAUX,QAAS6nD,GAAUb,EAAa3jC,GAE5B,MAAO,KADSskC,GAAW,aAAsBtkC,KAC9B2jC,EAAa3jC,GASpC,QAASykC,GAAUzkC,GACf,MAAOijC,GAAGjjC,GAAO8jC,iBAUrB,QAASY,GAAc1kC,EAAO4jC,GAC1BX,EAAGjjC,GAAO4jC,WAAaA,EAU3B,QAASe,GAAiB3kC,EAAOtW,GAC7Bu5C,EAAGjjC,GAAOtW,cAAgBA,EAU9B,QAASk7C,GAAmB5kC,EAAOsjC,GAC/BL,EAAGjjC,GAAOsjC,gBAAkBA,EA6BhC,QAASryD,GAASkX,GACd,MAAa,QAANA,GAA2B,gBAAb,KAAOA,EAAP,0BAAOA,IAShC,QAAS08C,GAAalB,GAClB,GAAMzN,GAAY4O,EAAa32D,IAAIw1D,EACnC,IAAiB,MAAbzN,EACA,KAAM,IAAI17C,WACN,mEAGR,OAAO07C,GASX,QAAS6O,GAA+BC,GACpC,OACI72D,IADG,WAIC,IAFA,GAAM+nD,GAAY2O,EAAa53D,MAC3B67B,EAAOotB,EAAU/nD,IAAI62D,GACV,MAARl8B,GAAc,CACjB,GAAIA,EAAKm8B,eAAiBC,EACtB,MAAOp8B,GAAK/I,QAEhB+I,GAAOA,EAAK9W,KAEhB,MAAO,OAGXyO,IAbG,SAaCV,GACwB,kBAAbA,IAA4B9uB,EAAS8uB,KAC5CA,EAAW,KAOf,KALA,GAAMm2B,GAAY2O,EAAa53D,MAG3B89B,EAAO,KACPjC,EAAOotB,EAAU/nD,IAAI62D,GACV,MAARl8B,GACCA,EAAKm8B,eAAiBC,EAET,OAATn6B,EACAA,EAAK/Y,KAAO8W,EAAK9W,KACI,OAAd8W,EAAK9W,KACZkkC,EAAUz1B,IAAIukC,EAAWl8B,EAAK9W,MAE9BkkC,EAAUiP,OAAOH,GAGrBj6B,EAAOjC,EAGXA,EAAOA,EAAK9W,IAIhB,IAAiB,OAAb+N,EAAmB,CACnB,GAAMqlC,IACFrlC,WACAklC,aAAcC,EACdG,SAAS,EACTroD,MAAM,EACNgV,KAAM,KAEG,QAAT+Y,EACAmrB,EAAUz1B,IAAIukC,EAAWI,GAEzBr6B,EAAK/Y,KAAOozC,IAIxBn3D,cAAc,EACdC,YAAY,GAUpB,QAASo3D,GAAqBC,EAAsBP,GAChDj3D,OAAOC,eACHu3D,EADJ,KAESP,EACLD,EAA+BC,IAUvC,QAASQ,GAAwBvP,GAE7B,QAASwP,KACLvD,EAAY10D,KAAKP,MAGrBw4D,EAAkBj3D,WAAY,aAAc0zD,EAAY1zD,WACpD8O,aACI/M,MAAOk1D,EACPx3D,cAAc,EACd2rB,UAAU,IAIlB,KAAK,GAAIvsB,GAAI,EAAGA,EAAI4oD,EAAW3kD,SAAUjE,EACrCi4D,EAAqBG,EAAkBj3D,UAAWynD,EAAW5oD,GAGjE,OAAOo4D,GAgBX,QAASvD,KAEL,GAAIj1D,eAAgBi1D,GAEhB,WADA4C,GAAarkC,IAAIxzB,KAAM,GAAI,GAAJ,QAG3B,IAAyB,IAArB2D,UAAUU,QAAgBtC,MAAMQ,QAAQoB,UAAU,IAClD,MAAO40D,GAAwB50D,UAAU,GAE7C,IAAIA,UAAUU,OAAS,EAAG,CAEtB,IAAK,GADCo0D,GAAQ,GAAI12D,OAAM4B,UAAUU,QACzBjE,EAAI,EAAGA,EAAIuD,UAAUU,SAAUjE,EACpCq4D,EAAMr4D,GAAKuD,UAAUvD,EAEzB,OAAOm4D,GAAwBE,GAEnC,KAAM,IAAIlrD,WAAU,qC3Kk+fxB,GAAImrD,GAAOz4D,EAAoB,KAE3B04D,EAAQngD,EAAuBkgD,GAE/B1/C,EAAW/Y,EAAoB,IAE/BgZ,EAAWT,EAAuBQ,GAElCJ,EAAkB3Y,EAAoB,IAEtC4Y,EAAmBL,EAAuBI,GAE1Ci6B,EAA4B5yC,EAAoB,IAEhD6yC,EAA6Bt6B,EAAuBq6B,GAEpDrrB,EAAUvnB,EAAoB,KAE9B24D,EAAWpgD,EAAuBgP,GAElCqxC,EAAkB54D,EAAoB,KAEtC64D,EAAmBtgD,EAAuBqgD,GAE1Ct2B,EAAkBtiC,EAAoB,IAEtCuiC,EAAmBhqB,EAAuB+pB,GAE1CrpB,EAAQjZ,EAAoB,IAE5BkZ,EAASX,EAAuBU,GAEhC6/C,EAAW94D,EAAoB,KAE/B+4D,EAAYxgD,EAAuBugD,E2K7phBvCj4D,QAAOC,eAAepB,EAAS,cAAgB2D,OAAO,GAqBtD,IAAM4yD,GAAc,GAAI,GAAJ,QAOdoB,EAAW,GAAI,GAAJ,OAkFjBb,GAAMl1D,WAKF,WACI,MAAOy0D,GAAGh2D,MAAM+yB,MAAM7gB,MAO1B,aACI,MAAO8jD,GAAGh2D,MAAM02D,aAOpB,oBACI,MAAOV,GAAGh2D,MAAMyc,eAMpBw8C,aA5Bc,WA6BV,GAAMx8C,GAAgBu5C,EAAGh2D,MAAMyc,aAC/B,OAAqB,OAAjBA,MAGIA,IAOZ,WACI,MAAO,IAOX,sBACI,MAAO,IAOX,gBACI,MAAO,IAOX,qBACI,MAAO,IAOX,iBACI,MAAOu5C,GAAGh2D,MAAM22D,YAOpBuC,gBAhFc,WAiFV,GAAMljD,GAAOggD,EAAGh2D,KAEhBgW,GAAK4gD,SAAU,EAC2B,kBAA/B5gD,GAAK+c,MAAMmmC,iBAClBljD,EAAK+c,MAAMmmC,mBAQnBC,yBA7Fc,WA8FV,GAAMnjD,GAAOggD,EAAGh2D,KAEhBgW,GAAK4gD,SAAU,EACf5gD,EAAK6gD,kBAAmB,EAC2B,kBAAxC7gD,GAAK+c,MAAMomC,0BAClBnjD,EAAK+c,MAAMomC,4BAQnB,cACI,MAAO3uD,SAAQwrD,EAAGh2D,MAAM+yB,MAAMqmC,UAOlC,iBACI,MAAO5uD,SAAQwrD,EAAGh2D,MAAM+yB,MAAMujC,aAOlCE,eA3Hc,WA4HVJ,EAAcJ,EAAGh2D,QAOrB,uBACI,MAAOg2D,GAAGh2D,MAAMu2D,UAOpB,eACI,MAAO/rD,SAAQwrD,EAAGh2D,MAAM+yB,MAAMsmC,WAOlC,gBACI,MAAOrD,GAAGh2D,MAAM82D,WAQpB,iBACI,MAAOd,GAAGh2D,MAAM02D,aAQpB,mBACI,MAAOV,GAAGh2D,MAAM42D,SAEpB,iBAAiBtzD,GACb,GAAKA,EAAL,CAGA,GAAM0S,GAAOggD,EAAGh2D,KAEhBgW,GAAK4gD,SAAU,EACwB,iBAA5B5gD,GAAK+c,MAAMumC,eAClBtjD,EAAK+c,MAAMumC,cAAe,KASlC,kBACI,OAAQtD,EAAGh2D,MAAMu2D,UAErB,gBAAgBjzD,GACPA,GACD8yD,EAAcJ,EAAGh2D,QAWzBu5D,UAzMc,cA+MlBz4D,OAAOC,eAAe01D,EAAMl1D,UAAW,eACnC+B,MAAOmzD,EACPz1D,cAAc,EACd2rB,UAAU,IAIQ,mBAAXjW,aAAkD,KAAjBA,OAAO+/C,SAC/C,aAAsBA,EAAMl1D,UAAWmV,OAAO+/C,MAAMl1D,WAGpD+1D,EAAS9jC,IAAI9c,OAAO+/C,MAAMl1D,UAAWk1D,GAwKzC,IAAMoB,GAAe,GAAI,GAAJ,QAKfI,EAAY,CAyKlBhD,GAAY1zD,WAQR8xB,iBARoB,SAQH0kC,EAAWjlC,EAAUpkB,GAClC,GAAgB,MAAZokB,EAAJ,CAGA,GAAwB,kBAAbA,KAA4B9uB,EAAS8uB,GAC5C,KAAM,IAAIvlB,WAAU,gDAGxB,IAAM07C,GAAY2O,EAAa53D,MACzBw5D,EAAex1D,EAAS0K,GACxB+qD,EAAUD,EACVhvD,QAAQkE,EAAQ+qD,SAChBjvD,QAAQkE,GACRspD,EAAeyB,EAhMb,EACD,EAgMDtB,GACFrlC,WACAklC,eACAI,QAASoB,GAAgBhvD,QAAQkE,EAAQ0pD,SACzCroD,KAAMypD,GAAgBhvD,QAAQkE,EAAQqB,MACtCgV,KAAM,MAIN8W,EAAOotB,EAAU/nD,IAAI62D,EACzB,QAAa7/C,KAAT2jB,EAEA,WADAotB,GAAUz1B,IAAIukC,EAAWI,EAM7B,KADA,GAAIr6B,GAAO,KACI,MAARjC,GAAc,CACjB,GACIA,EAAK/I,WAAaA,GAClB+I,EAAKm8B,eAAiBA,EAGtB,MAEJl6B,GAAOjC,EACPA,EAAOA,EAAK9W,KAIhB+Y,EAAK/Y,KAAOozC,IAUhBuB,oBA9DoB,SA8DA3B,EAAWjlC,EAAUpkB,GACrC,GAAgB,MAAZokB,EAYJ,IARA,GAAMm2B,GAAY2O,EAAa53D,MACzBy5D,EAAUz1D,EAAS0K,GACnBlE,QAAQkE,EAAQ+qD,SAChBjvD,QAAQkE,GACRspD,EAAeyB,EAlPb,EACD,EAmPH37B,EAAO,KACPjC,EAAOotB,EAAU/nD,IAAI62D,GACV,MAARl8B,GAAc,CACjB,GACIA,EAAK/I,WAAaA,GAClB+I,EAAKm8B,eAAiBA,EAStB,YAPa,OAATl6B,EACAA,EAAK/Y,KAAO8W,EAAK9W,KACI,OAAd8W,EAAK9W,KACZkkC,EAAUz1B,IAAIukC,EAAWl8B,EAAK9W,MAE9BkkC,EAAUiP,OAAOH,GAKzBj6B,GAAOjC,EACPA,EAAOA,EAAK9W,OASpBqvC,cApGoB,SAoGNrhC,GACV,GAAa,MAATA,GAAuC,gBAAfA,GAAM7gB,KAC9B,KAAM,IAAI3E,WAAU,mCAIxB,IAAM07C,GAAY2O,EAAa53D,MACzB+3D,EAAYhlC,EAAM7gB,KACpB2pB,EAAOotB,EAAU/nD,IAAI62D,EACzB,IAAY,MAARl8B,EACA,OAAO,CASX,KALA,GAAM89B,GAAepC,EAAUv3D,KAAM+yB,GAIjC+K,EAAO,KACI,MAARjC,GAAc,CAmBjB,GAjBIA,EAAK9rB,KACQ,OAAT+tB,EACAA,EAAK/Y,KAAO8W,EAAK9W,KACI,OAAd8W,EAAK9W,KACZkkC,EAAUz1B,IAAIukC,EAAWl8B,EAAK9W,MAE9BkkC,EAAUiP,OAAOH,GAGrBj6B,EAAOjC,EAIX87B,EACIgC,EACA99B,EAAKu8B,QAAUv8B,EAAK/I,SAAW,MAEN,kBAAlB+I,GAAK/I,SACZ,IACI+I,EAAK/I,SAASvyB,KAAKP,KAAM25D,GAC3B,MAAOn6C,GAEkB,mBAAZ1B,UACkB,kBAAlBA,SAAQlD,OAEfkD,QAAQlD,MAAM4E,OAItBqc,GAAKm8B,eAAiBC,GACe,kBAA9Bp8B,GAAK/I,SAAS8mC,aAErB/9B,EAAK/I,SAAS8mC,YAAYD,EAI9B,IAAInC,EAAUmC,GACV,KAGJ99B,GAAOA,EAAK9W,KAMhB,MAJA4yC,GAAmBgC,EAAc,MACjClC,EAAckC,EAAc,GAC5BjC,EAAiBiC,EAAc,OAEvBA,EAAaE,mBAK7B/4D,OAAOC,eAAek0D,EAAY1zD,UAAW,eACzC+B,MAAO2xD,EACPj0D,cAAc,EACd2rB,UAAU,IAKQ,mBAAXjW,aACuB,KAAvBA,OAAOu+C,cAEd,aAAsBA,EAAY1zD,UAAWmV,OAAOu+C,YAAY1zD,WAGpE5B,EAAQ04D,qBAAuBA,EAC/B14D,EAAQs1D,YAAcA,EACtBt1D,EAAQ8Y,QAAUw8C,EAElBr1D,EAAOD,QAAUs1D,EACjBr1D,EAAOD,QAAQs1D,YAAcr1D,EAAOD,QAAP,QAA4Bs1D,EACzDr1D,EAAOD,QAAQ04D,qBAAuBA,G3KkohBhC,SAAUz4D,EAAQD,EAASM,G4Kv+iBjCL,EAAOD,SAAY,QAAW,EAAQ,KAA2ByB,YAAY,I5K6+iBvE,SAAUxB,EAAQD,EAASM,G6K7+iBjC,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,KACR,EAAQ,KACR,EAAQ,KACR,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAoBm6D,K7Ko/iBvC,SAAUl6D,EAAQD,EAASM,GAEjC,Y8K5/iBA,IAAI85D,GAAS,EAAQ,KACjB1gB,EAAW,EAAQ,GAIvBz5C,GAAOD,QAAU,EAAQ,IAHf,MAGqC,SAAUuB,GACvD,MAAO,YAAiB,MAAOA,GAAIlB,KAAM2D,UAAUU,OAAS,EAAIV,UAAU,OAAKuU,OAG/EhX,IAAK,SAAa2D,GAChB,GAAIm1D,GAAQD,EAAOE,SAAS5gB,EAASr5C,KAR/B,OAQ2C6E,EACjD,OAAOm1D,IAASA,EAAM3xD,GAGxBmrB,IAAK,SAAa3uB,EAAKvB,GACrB,MAAOy2D,GAAO1uC,IAAIguB,EAASr5C,KAbrB,OAayC,IAAR6E,EAAY,EAAIA,EAAKvB,KAE7Dy2D,GAAQ,I9KmgjBL,SAAUn6D,EAAQD,EAASM,GAEjC,Y+KthjBA,IAAIigB,GAAK,EAAQ,IAAgBC,EAC7Bxd,EAAS,EAAQ,IACjBozB,EAAc,EAAQ,IACtBhf,EAAM,EAAQ,IACdkf,EAAa,EAAQ,IACrBD,EAAQ,EAAQ,IAChBkkC,EAAc,EAAQ,IACtBptD,EAAO,EAAQ,IACfqtD,EAAa,EAAQ,IACrBvmC,EAAc,EAAQ,IACtB5H,EAAU,EAAQ,IAAWA,QAC7BqtB,EAAW,EAAQ,IACnB+gB,EAAOxmC,EAAc,KAAO,OAE5BqmC,EAAW,SAAUz5C,EAAM3b,GAE7B,GACIm1D,GADAz2D,EAAQyoB,EAAQnnB,EAEpB,IAAc,MAAVtB,EAAe,MAAOid,GAAKyK,GAAG1nB,EAElC,KAAKy2D,EAAQx5C,EAAK65C,GAAIL,EAAOA,EAAQA,EAAM74D,EACzC,GAAI64D,EAAM5yC,GAAKviB,EAAK,MAAOm1D,GAI/Bp6D,GAAOD,SACL42B,eAAgB,SAAU7mB,EAASyU,EAAM+M,EAAQkF,GAC/C,GAAIje,GAAIzI,EAAQ,SAAU8Q,EAAMkE,GAC9BuR,EAAWzV,EAAMrI,EAAGgM,EAAM,MAC1B3D,EAAKwK,GAAK7G,EACV3D,EAAKyK,GAAKtoB,EAAO,MACjB6d,EAAK65C,OAAKniD,GACVsI,EAAK85C,OAAKpiD,GACVsI,EAAK45C,GAAQ,MACGliD,IAAZwM,GAAuBsR,EAAMtR,EAAUwM,EAAQ1Q,EAAK4V,GAAQ5V,IAsDlE,OApDAuV,GAAY5d,EAAE5W,WAGZkyB,MAAO,WACL,IAAK,GAAIjT,GAAO64B,EAASr5C,KAAMmkB,GAAOnO,EAAOwK,EAAKyK,GAAI+uC,EAAQx5C,EAAK65C,GAAIL,EAAOA,EAAQA,EAAM74D,EAC1F64D,EAAMxvC,GAAI,EACNwvC,EAAMv4D,IAAGu4D,EAAMv4D,EAAIu4D,EAAMv4D,EAAEN,MAAI+W,UAC5BlC,GAAKgkD,EAAM55D,EAEpBogB,GAAK65C,GAAK75C,EAAK85C,OAAKpiD,GACpBsI,EAAK45C,GAAQ,GAIf,OAAU,SAAUv1D,GAClB,GAAI2b,GAAO64B,EAASr5C,KAAMmkB,GACtB61C,EAAQC,EAASz5C,EAAM3b,EAC3B,IAAIm1D,EAAO,CACT,GAAIj1C,GAAOi1C,EAAM74D,EACb28B,EAAOk8B,EAAMv4D,QACV+e,GAAKyK,GAAG+uC,EAAM55D,GACrB45D,EAAMxvC,GAAI,EACNsT,IAAMA,EAAK38B,EAAI4jB,GACfA,IAAMA,EAAKtjB,EAAIq8B,GACftd,EAAK65C,IAAML,IAAOx5C,EAAK65C,GAAKt1C,GAC5BvE,EAAK85C,IAAMN,IAAOx5C,EAAK85C,GAAKx8B,GAChCtd,EAAK45C,KACL,QAASJ,GAIb10D,QAAS,SAAiBmsB,GACxB4nB,EAASr5C,KAAMmkB,EAGf,KAFA,GACI61C,GADA75C,EAAIpJ,EAAI0a,EAAY9tB,UAAUU,OAAS,EAAIV,UAAU,OAAKuU,GAAW,GAElE8hD,EAAQA,EAAQA,EAAM74D,EAAInB,KAAKq6D,IAGpC,IAFAl6C,EAAE65C,EAAM3xD,EAAG2xD,EAAM5yC,EAAGpnB,MAEbg6D,GAASA,EAAMxvC,GAAGwvC,EAAQA,EAAMv4D,GAK3CqD,IAAK,SAAaD,GAChB,QAASo1D,EAAS5gB,EAASr5C,KAAMmkB,GAAOtf,MAGxC+uB,GAAa1T,EAAG/H,EAAE5W,UAAW,QAC/BL,IAAK,WACH,MAAOm4C,GAASr5C,KAAMmkB,GAAMi2C,MAGzBjiD,GAETkT,IAAK,SAAU7K,EAAM3b,EAAKvB,GACxB,GACIw6B,GAAMv6B,EADNy2D,EAAQC,EAASz5C,EAAM3b,EAoBzB,OAjBEm1D,GACFA,EAAM3xD,EAAI/E,GAGVkd,EAAK85C,GAAKN,GACR55D,EAAGmD,EAAQyoB,EAAQnnB,GAAK,GACxBuiB,EAAGviB,EACHwD,EAAG/E,EACH7B,EAAGq8B,EAAOtd,EAAK85C,GACfn5D,MAAG+W,GACHsS,GAAG,GAEAhK,EAAK65C,KAAI75C,EAAK65C,GAAKL,GACpBl8B,IAAMA,EAAK38B,EAAI64D,GACnBx5C,EAAK45C,KAES,MAAV72D,IAAeid,EAAKyK,GAAG1nB,GAASy2D,IAC7Bx5C,GAEXy5C,SAAUA,EACVzjC,UAAW,SAAUre,EAAGgM,EAAM+M,GAG5BgpC,EAAY/hD,EAAGgM,EAAM,SAAU4G,EAAUkE,GACvCjvB,KAAKgrB,GAAKquB,EAAStuB,EAAU5G,GAC7BnkB,KAAK63B,GAAK5I,EACVjvB,KAAKs6D,OAAKpiD,IACT,WAKD,IAJA,GAAIsI,GAAOxgB,KACPivB,EAAOzO,EAAKqX,GACZmiC,EAAQx5C,EAAK85C,GAEVN,GAASA,EAAMxvC,GAAGwvC,EAAQA,EAAMv4D,CAEvC,OAAK+e,GAAKwK,KAAQxK,EAAK85C,GAAKN,EAAQA,EAAQA,EAAM74D,EAAIqf,EAAKwK,GAAGqvC,IAMlD,QAARprC,EAAuBniB,EAAK,EAAGktD,EAAM5yC,GAC7B,UAAR6H,EAAyBniB,EAAK,EAAGktD,EAAM3xD,GACpCyE,EAAK,GAAIktD,EAAM5yC,EAAG4yC,EAAM3xD,KAN7BmY,EAAKwK,OAAK9S,GACHpL,EAAK,KAMbokB,EAAS,UAAY,UAAWA,GAAQ,GAG3CipC,EAAWh2C,M/K+hjBT,SAAUvkB,EAAQD,EAASM,GgL3qjBjC,GAAIk4B,GAAqB,EAAQ,IAEjCv4B,GAAOD,QAAU,SAAU46D,EAAUl2D,GACnC,MAAO,KAAK8zB,EAAmBoiC,IAAWl2D,KhLorjBtC,SAAUzE,EAAQD,EAASM,GiLxrjBjC,GAAI+D,GAAW,EAAQ,GACnBzB,EAAU,EAAQ,IAClBwvB,EAAU,EAAQ,GAAU,UAEhCnyB,GAAOD,QAAU,SAAU46D,GACzB,GAAIpiD,EASF,OARE5V,GAAQg4D,KACVpiD,EAAIoiD,EAASlqD,YAEG,kBAAL8H,IAAoBA,IAAMpW,QAASQ,EAAQ4V,EAAE5W,aAAa4W,MAAID,IACrElU,EAASmU,IAED,QADVA,EAAIA,EAAE4Z,MACU5Z,MAAID,SAETA,KAANC,EAAkBpW,MAAQoW,IjLgsjB/B,SAAUvY,EAAQD,EAASM,GkL7sjBjC,GAAIgX,GAAU,EAAQ,EAEtBA,GAAQA,EAAQU,EAAIV,EAAQoB,EAAG,OAAS/B,OAAQ,EAAQ,KAAyB,UlLqtjB3E,SAAU1W,EAAQD,EAASM,GmLvtjBjC,GAAI4xB,GAAU,EAAQ,IAClB+E,EAAO,EAAQ,IACnBh3B,GAAOD,QAAU,SAAUwkB,GACzB,MAAO,YACL,GAAI0N,EAAQ7xB,OAASmkB,EAAM,KAAM5W,WAAU4W,EAAO,wBAClD,OAAOyS,GAAK52B,SnLiujBV,SAAUJ,EAAQD,EAASM,GoLvujBjC,GAAI+1B,GAAQ,EAAQ,GAEpBp2B,GAAOD,QAAU,SAAUq7B,EAAMpW,GAC/B,GAAIjgB,KAEJ,OADAqxB,GAAMgF,GAAM,EAAOr2B,EAAOxC,KAAMwC,EAAQigB,GACjCjgB,IpL+ujBH,SAAU/E,EAAQD,EAASM,GqLnvjBjC,EAAQ,IAAwB,QrL2vjB1B,SAAUL,EAAQD,EAASM,GsL3vjBjC,EAAQ,IAA0B,QtLmwjB5B,SAAUL,EAAQD,EAASM,GuLpwjBjCL,EAAOD,SAAY,QAAW,EAAQ,KAAqCyB,YAAY,IvL0wjBjF,SAAUxB,EAAQD,EAASM,GwL1wjBjC,EAAQ,IACR,IAAIwjC,GAAU,EAAQ,GAAuB3iC,MAC7ClB,GAAOD,QAAU,SAAgBgY,EAAGqa,GAClC,MAAOyR,GAAQ9gC,OAAOgV,EAAGqa,KxLkxjBrB,SAAUpyB,EAAQD,EAASM,GyLrxjBjC,GAAIgX,GAAU,EAAQ,EAEtBA,GAAQA,EAAQQ,EAAG,UAAY9U,OAAQ,EAAQ,OzL4xjBzC,SAAU/C,EAAQD,EAASM,G0L9xjBjCL,EAAOD,SAAY,QAAW,EAAQ,KAA+CyB,YAAY,I1LoyjB3F,SAAUxB,EAAQD,EAASM,G2LpyjBjC,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAuBmB,OAAOkyD,gB3L2yjBjD,SAAUpzD,EAAQD,EAASM,G4L3yjBjC,GAAIgX,GAAU,EAAQ,EACtBA,GAAQA,EAAQQ,EAAG,UAAYu7C,eAAgB,EAAQ,KAAgBx/B,O5LmzjBjE,SAAU5zB,EAAQD,EAASM,G6LnzjBjC,GAAI+D,GAAW,EAAQ,GACnB+b,EAAW,EAAQ,GACnBy6C,EAAQ,SAAUp6C,EAAG9P,GAEvB,GADAyP,EAASK,IACJpc,EAASsM,IAAoB,OAAVA,EAAgB,KAAM/C,WAAU+C,EAAQ,6BAElE1Q,GAAOD,SACL6zB,IAAK1yB,OAAOkyD,iBAAmB,gBAC7B,SAAUz+C,EAAMkmD,EAAOjnC,GACrB,IACEA,EAAM,EAAQ,IAAU1d,SAASvV,KAAM,EAAQ,IAAkB4f,EAAErf,OAAOS,UAAW,aAAaiyB,IAAK,GACvGA,EAAIjf,MACJkmD,IAAUlmD,YAAgBxS,QAC1B,MAAOgU,GAAK0kD,GAAQ,EACtB,MAAO,UAAwBr6C,EAAG9P,GAIhC,MAHAkqD,GAAMp6C,EAAG9P,GACLmqD,EAAOr6C,EAAE2oC,UAAYz4C,EACpBkjB,EAAIpT,EAAG9P,GACL8P,QAEL,OAASlI,IACjBsiD,MAAOA,I7L6zjBH,SAAU56D,EAAQD,EAASM,G8Lp1jBjCL,EAAOD,SAAY,QAAW,EAAQ,KAAgCyB,YAAY,I9L01jB5E,SAAUxB,EAAQD,EAASM,G+L11jBjC,EAAQ,IACR,EAAQ,IACR,EAAQ,KACR,EAAQ,KACR,EAAQ,KACRL,EAAOD,QAAU,EAAQ,GAAoB+6D,S/Li2jBvC,SAAU96D,EAAQD,EAASM,GAEjC,YgMv2jBA,IAcI06D,GAdAh5D,EAAS,EAAQ,GACjB0D,EAAO,EAAQ,IAAoB,GACnCgpB,EAAW,EAAQ,IACnBlC,EAAO,EAAQ,IACf9a,EAAS,EAAQ,KACjBupD,EAAO,EAAQ,KACf52D,EAAW,EAAQ,GACnBq1C,EAAW,EAAQ,IACnBwhB,EAAkB,EAAQ,IAC1BC,GAAWn5D,EAAOo5D,eAAiB,iBAAmBp5D,GAEtDsqB,EAAUE,EAAKF,QACfN,EAAe7qB,OAAO6qB,aACtBqvC,EAAsBJ,EAAKK,QAG3BvrD,EAAU,SAAUxO,GACtB,MAAO,YACL,MAAOA,GAAIlB,KAAM2D,UAAUU,OAAS,EAAIV,UAAU,OAAKuU,MAIvDrH,GAEF3P,IAAK,SAAa2D,GAChB,GAAIb,EAASa,GAAM,CACjB,GAAImR,GAAOiW,EAAQpnB,EACnB,QAAa,IAATmR,EAAsBglD,EAAoB3hB,EAASr5C,KAjB9C,YAiB+DkB,IAAI2D,GACrEmR,EAAOA,EAAKhW,KAAKirB,QAAM/S,KAIlCsb,IAAK,SAAa3uB,EAAKvB,GACrB,MAAOs3D,GAAKvvC,IAAIguB,EAASr5C,KAvBd,WAuB+B6E,EAAKvB,KAK/C43D,EAAWt7D,EAAOD,QAAU,EAAQ,IA5BzB,UA4BoD+P,EAASmB,EAAS+pD,GAAM,GAAM,EAG7FC,IAAmBC,IACrBH,EAAcC,EAAKrkC,eAAe7mB,EAhCrB,WAiCb2B,EAAOspD,EAAYp5D,UAAWsP,GAC9Bsb,EAAKC,MAAO,EACZ/mB,GAAM,SAAU,MAAO,MAAO,OAAQ,SAAUR,GAC9C,GAAIyL,GAAQ4qD,EAAS35D,UACjBuG,EAASwI,EAAMzL,EACnBwpB,GAAS/d,EAAOzL,EAAK,SAAUsE,EAAGC,GAEhC,GAAIpF,EAASmF,KAAOwiB,EAAaxiB,GAAI,CAC9BnJ,KAAKq6D,KAAIr6D,KAAKq6D,GAAK,GAAIM,GAC5B,IAAIh2D,GAAS3E,KAAKq6D,GAAGx1D,GAAKsE,EAAGC,EAC7B,OAAc,OAAPvE,EAAe7E,KAAO2E,EAE7B,MAAOmD,GAAOvH,KAAKP,KAAMmJ,EAAGC,ShMi3jB9B,SAAUxJ,EAAQD,EAASM,GAEjC,YiMz6jBA,IAAI2zB,GAAc,EAAQ,IACtB2D,EAAU,EAAQ,IAClBkK,EAAO,EAAQ,IACf9Q,EAAM,EAAQ,IACdI,EAAW,EAAQ,IACnBpQ,EAAU,EAAQ,IAClBw6C,EAAUr6D,OAAOuQ,MAGrBzR,GAAOD,SAAWw7D,GAAW,EAAQ,IAAY,WAC/C,GAAIxkC,MACA9e,KAEAJ,EAAIvV,SACJk5D,EAAI,sBAGR,OAFAzkC,GAAElf,GAAK,EACP2jD,EAAE7+C,MAAM,IAAIjX,QAAQ,SAAU8hB,GAAKvP,EAAEuP,GAAKA,IACd,GAArB+zC,KAAYxkC,GAAGlf,IAAW3W,OAAO2B,KAAK04D,KAAYtjD,IAAI3D,KAAK,KAAOknD,IACtE,SAAgBnjD,EAAQ/G,GAM3B,IALA,GAAI6c,GAAIgD,EAAS9Y,GACbojD,EAAO13D,UAAUU,OACjBd,EAAQ,EACRm+B,EAAaD,EAAKthB,EAClB2f,EAASnP,EAAIxQ,EACVk7C,EAAO93D,GAMZ,IALA,GAIIsB,GAJA4S,EAAIkJ,EAAQhd,UAAUJ,MACtBd,EAAOi/B,EAAanK,EAAQ9f,GAAG/J,OAAOg0B,EAAWjqB,IAAM8f,EAAQ9f,GAC/DpT,EAAS5B,EAAK4B,OACd2G,EAAI,EAED3G,EAAS2G,GACdnG,EAAMpC,EAAKuI,KACN4oB,IAAekM,EAAOv/B,KAAKkX,EAAG5S,KAAMkpB,EAAElpB,GAAO4S,EAAE5S,GAEtD,OAAOkpB,IACPotC,GjMi7jBE,SAAUv7D,EAAQD,EAASM,GAEjC,YkMv9jBA,IAAI81B,GAAc,EAAQ,IACtB9J,EAAU,EAAQ,IAAWA,QAC7BlM,EAAW,EAAQ,GACnB/b,EAAW,EAAQ,GACnBiyB,EAAa,EAAQ,IACrBD,EAAQ,EAAQ,IAChBslC,EAAoB,EAAQ,IAC5BC,EAAO,EAAQ,IACfliB,EAAW,EAAQ,IACnBmiB,EAAYF,EAAkB,GAC9BG,EAAiBH,EAAkB,GACnCvmD,EAAK,EAGLimD,EAAsB,SAAUx6C,GAClC,MAAOA,GAAK85C,KAAO95C,EAAK85C,GAAK,GAAIoB,KAE/BA,EAAsB,WACxB17D,KAAKmJ,MAEHwyD,EAAqB,SAAU/kD,EAAO/R,GACxC,MAAO22D,GAAU5kD,EAAMzN,EAAG,SAAUoP,GAClC,MAAOA,GAAG,KAAO1T,IAGrB62D,GAAoBn6D,WAClBL,IAAK,SAAU2D,GACb,GAAIm1D,GAAQ2B,EAAmB37D,KAAM6E,EACrC,IAAIm1D,EAAO,MAAOA,GAAM,IAE1Bl1D,IAAK,SAAUD,GACb,QAAS82D,EAAmB37D,KAAM6E,IAEpC2uB,IAAK,SAAU3uB,EAAKvB,GAClB,GAAI02D,GAAQ2B,EAAmB37D,KAAM6E,EACjCm1D,GAAOA,EAAM,GAAK12D,EACjBtD,KAAKmJ,EAAEhH,MAAM0C,EAAKvB,KAEzB,OAAU,SAAUuB,GAClB,GAAItB,GAAQk4D,EAAez7D,KAAKmJ,EAAG,SAAUoP,GAC3C,MAAOA,GAAG,KAAO1T,GAGnB,QADKtB,GAAOvD,KAAKmJ,EAAE4gB,OAAOxmB,EAAO,MACvBA,IAId3D,EAAOD,SACL42B,eAAgB,SAAU7mB,EAASyU,EAAM+M,EAAQkF,GAC/C,GAAIje,GAAIzI,EAAQ,SAAU8Q,EAAMkE,GAC9BuR,EAAWzV,EAAMrI,EAAGgM,EAAM,MAC1B3D,EAAKwK,GAAK7G,EACV3D,EAAKyK,GAAKlW,IACVyL,EAAK85C,OAAKpiD,OACMA,IAAZwM,GAAuBsR,EAAMtR,EAAUwM,EAAQ1Q,EAAK4V,GAAQ5V,IAoBlE,OAlBAuV,GAAY5d,EAAE5W,WAGZ,OAAU,SAAUsD,GAClB,IAAKb,EAASa,GAAM,OAAO,CAC3B,IAAImR,GAAOiW,EAAQpnB,EACnB,QAAa,IAATmR,EAAsBglD,EAAoB3hB,EAASr5C,KAAMmkB,IAAe,OAAEtf,GACvEmR,GAAQulD,EAAKvlD,EAAMhW,KAAKirB,WAAcjV,GAAKhW,KAAKirB,KAIzDnmB,IAAK,SAAaD,GAChB,IAAKb,EAASa,GAAM,OAAO,CAC3B,IAAImR,GAAOiW,EAAQpnB,EACnB,QAAa,IAATmR,EAAsBglD,EAAoB3hB,EAASr5C,KAAMmkB,IAAOrf,IAAID,GACjEmR,GAAQulD,EAAKvlD,EAAMhW,KAAKirB,OAG5B9S,GAETkT,IAAK,SAAU7K,EAAM3b,EAAKvB,GACxB,GAAI0S,GAAOiW,EAAQlM,EAASlb,IAAM,EAGlC,QAFa,IAATmR,EAAeglD,EAAoBx6C,GAAMgT,IAAI3uB,EAAKvB,GACjD0S,EAAKwK,EAAKyK,IAAM3nB,EACdkd,GAETy6C,QAASD,IlM+9jBL,SAAUp7D,EAAQD,EAASM,GmMjjkBjC,EAAQ,IAAwB,YnMyjkB1B,SAAUL,EAAQD,EAASM,GoMzjkBjC,EAAQ,IAA0B,YpMikkB5B,SAAUL,EAAQD,EAASM,GAEjC,YqMpkkBAL,GAAOD","file":"av-weapp-min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AV\"] = factory();\n\telse\n\t\troot[\"AV\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 88);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9faa8e8d46c2e41415c5","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AV\"] = factory();\n\telse\n\t\troot[\"AV\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 88);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n      return _;\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n}());\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(74), __webpack_require__(108)(module)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(91), __esModule: true };\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(51)('wks');\nvar uid = __webpack_require__(37);\nvar Symbol = __webpack_require__(2).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(2);\nvar core = __webpack_require__(1);\nvar ctx = __webpack_require__(13);\nvar hide = __webpack_require__(14);\nvar has = __webpack_require__(15);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = __webpack_require__(78);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = __webpack_require__(56);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _keys = __webpack_require__(54);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(127),\n    timeout = _require.timeout;\n\nvar debug = __webpack_require__(24);\nvar debugRequest = debug('leancloud:request');\nvar debugRequestError = debug('leancloud:request:error');\n\nvar _require2 = __webpack_require__(32),\n    getAdapter = _require2.getAdapter;\n\nvar requestsCount = 0;\n\nvar ajax = function ajax(_ref) {\n  var method = _ref.method,\n      url = _ref.url,\n      query = _ref.query,\n      data = _ref.data,\n      _ref$headers = _ref.headers,\n      headers = _ref$headers === undefined ? {} : _ref$headers,\n      time = _ref.timeout,\n      onprogress = _ref.onprogress;\n\n  if (query) {\n    var queryString = (0, _keys2.default)(query).map(function (key) {\n      var value = query[key];\n      if (value === undefined) return undefined;\n      var v = (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object' ? (0, _stringify2.default)(value) : value;\n      return encodeURIComponent(key) + '=' + encodeURIComponent(v);\n    }).filter(function (qs) {\n      return qs;\n    }).join('&');\n    url = url + '?' + queryString;\n  }\n\n  var count = requestsCount++;\n  debugRequest('request(%d) %s %s %o %o %o', count, method, url, query, data, headers);\n\n  var request = getAdapter('request');\n  var promise = request(url, { method: method, headers: headers, data: data, onprogress: onprogress }).then(function (response) {\n    debugRequest('response(%d) %d %O %o', count, response.status, response.data || response.text, response.header);\n    if (response.ok === false) {\n      var error = new Error();\n      error.response = response;\n      throw error;\n    }\n    return response.data;\n  }).catch(function (error) {\n    if (error.response) {\n      if (!debug.enabled('leancloud:request')) {\n        debugRequestError('request(%d) %s %s %o %o %o', count, method, url, query, data, headers);\n      }\n      debugRequestError('response(%d) %d %O %o', count, error.response.status, error.response.data || error.response.text, error.response.header);\n      error.statusCode = error.response.status;\n      error.responseText = error.response.text;\n      error.response = error.response.data;\n    }\n    throw error;\n  });\n  return time ? timeout(promise, time) : promise;\n};\n\n// Helper function to check null or undefined.\nvar isNullOrUndefined = function isNullOrUndefined(x) {\n  return _.isNull(x) || _.isUndefined(x);\n};\n\nvar ensureArray = function ensureArray(target) {\n  if (_.isArray(target)) {\n    return target;\n  }\n  if (target === undefined || target === null) {\n    return [];\n  }\n  return [target];\n};\n\nvar transformFetchOptions = function transformFetchOptions() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      keys = _ref2.keys,\n      include = _ref2.include,\n      includeACL = _ref2.includeACL;\n\n  var fetchOptions = {};\n  if (keys) {\n    fetchOptions.keys = ensureArray(keys).join(',');\n  }\n  if (include) {\n    fetchOptions.include = ensureArray(include).join(',');\n  }\n  if (includeACL) {\n    fetchOptions.returnACL = includeACL;\n  }\n  return fetchOptions;\n};\n\nvar getSessionToken = function getSessionToken(authOptions) {\n  if (authOptions.sessionToken) {\n    return authOptions.sessionToken;\n  }\n  if (authOptions.user && typeof authOptions.user.getSessionToken === 'function') {\n    return authOptions.user.getSessionToken();\n  }\n};\n\nvar tap = function tap(interceptor) {\n  return function (value) {\n    return interceptor(value), value;\n  };\n};\n\n// Shared empty constructor function to aid in prototype-chain creation.\nvar EmptyConstructor = function EmptyConstructor() {};\n\n// Helper function to correctly set up the prototype chain, for subclasses.\n// Similar to `goog.inherits`, but uses a hash of prototype properties and\n// class properties to be extended.\nvar inherits = function inherits(parent, protoProps, staticProps) {\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    /** @ignore */\n    child = function child() {\n      parent.apply(this, arguments);\n    };\n  }\n\n  // Inherit class (static) properties from parent.\n  _.extend(child, parent);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function.\n  EmptyConstructor.prototype = parent.prototype;\n  child.prototype = new EmptyConstructor();\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) {\n    _.extend(child.prototype, protoProps);\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  if (staticProps) {\n    _.extend(child, staticProps);\n  }\n\n  // Correctly set child's `prototype.constructor`.\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is\n  // needed later.\n  child.__super__ = parent.prototype;\n\n  return child;\n};\n\nvar parseDate = function parseDate(iso8601) {\n  return new Date(iso8601);\n};\n\nvar setValue = function setValue(target, key, value) {\n  // '.' is not allowed in Class keys, escaping is not in concern now.\n  var segs = key.split('.');\n  var lastSeg = segs.pop();\n  var currentTarget = target;\n  segs.forEach(function (seg) {\n    if (currentTarget[seg] === undefined) currentTarget[seg] = {};\n    currentTarget = currentTarget[seg];\n  });\n  currentTarget[lastSeg] = value;\n  return target;\n};\n\nvar findValue = function findValue(target, key) {\n  var segs = key.split('.');\n  var firstSeg = segs[0];\n  var lastSeg = segs.pop();\n  var currentTarget = target;\n  for (var i = 0; i < segs.length; i++) {\n    currentTarget = currentTarget[segs[i]];\n    if (currentTarget === undefined) {\n      return [undefined, undefined, lastSeg];\n    }\n  }\n  var value = currentTarget[lastSeg];\n  return [value, currentTarget, lastSeg, firstSeg];\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n  return _.isObject(obj) && (0, _getPrototypeOf2.default)(obj) === Object.prototype;\n};\n\nvar continueWhile = function continueWhile(predicate, asyncFunction) {\n  if (predicate()) {\n    return asyncFunction().then(function () {\n      return continueWhile(predicate, asyncFunction);\n    });\n  }\n  return _promise2.default.resolve();\n};\n\nmodule.exports = {\n  ajax: ajax,\n  isNullOrUndefined: isNullOrUndefined,\n  ensureArray: ensureArray,\n  transformFetchOptions: transformFetchOptions,\n  getSessionToken: getSessionToken,\n  tap: tap,\n  inherits: inherits,\n  parseDate: parseDate,\n  setValue: setValue,\n  findValue: findValue,\n  isPlainObject: isPlainObject,\n  continueWhile: continueWhile\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar md5 = __webpack_require__(141);\n\nvar _require = __webpack_require__(0),\n    extend = _require.extend;\n\nvar AV = __webpack_require__(23);\n\nvar _require2 = __webpack_require__(7),\n    getSessionToken = _require2.getSessionToken,\n    ajax = _require2.ajax;\n\n//  X-LC-Sign \n\n\nvar sign = function sign(key, isMasterKey) {\n  var now = new Date().getTime();\n  var signature = md5(now + key);\n  if (isMasterKey) {\n    return signature + ',' + now + ',master';\n  }\n  return signature + ',' + now;\n};\n\nvar setAppKey = function setAppKey(headers, signKey) {\n  if (signKey) {\n    headers['X-LC-Sign'] = sign(AV.applicationKey);\n  } else {\n    headers['X-LC-Key'] = AV.applicationKey;\n  }\n};\n\nvar setHeaders = function setHeaders() {\n  var authOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var signKey = arguments[1];\n\n  var headers = {\n    'X-LC-Id': AV.applicationId,\n    'Content-Type': 'application/json;charset=UTF-8'\n  };\n  var useMasterKey = false;\n  if (typeof authOptions.useMasterKey === 'boolean') {\n    useMasterKey = authOptions.useMasterKey;\n  } else if (typeof AV._config.useMasterKey === 'boolean') {\n    useMasterKey = AV._config.useMasterKey;\n  }\n  if (useMasterKey) {\n    if (AV.masterKey) {\n      if (signKey) {\n        headers['X-LC-Sign'] = sign(AV.masterKey, true);\n      } else {\n        headers['X-LC-Key'] = AV.masterKey + ',master';\n      }\n    } else {\n      console.warn('masterKey is not set, fall back to use appKey');\n      setAppKey(headers, signKey);\n    }\n  } else {\n    setAppKey(headers, signKey);\n  }\n  if (AV.hookKey) {\n    headers['X-LC-Hook-Key'] = AV.hookKey;\n  }\n  if (AV._config.production !== null) {\n    headers['X-LC-Prod'] = String(AV._config.production);\n  }\n  headers[ false ? 'User-Agent' : 'X-LC-UA'] = AV._sharedConfig.userAgent;\n\n  return _promise2.default.resolve().then(function () {\n    // Pass the session token\n    var sessionToken = getSessionToken(authOptions);\n    if (sessionToken) {\n      headers['X-LC-Session'] = sessionToken;\n    } else if (!AV._config.disableCurrentUser) {\n      return AV.User.currentAsync().then(function (currentUser) {\n        if (currentUser && currentUser._sessionToken) {\n          headers['X-LC-Session'] = currentUser._sessionToken;\n        }\n        return headers;\n      });\n    }\n    return headers;\n  });\n};\n\nvar createApiUrl = function createApiUrl(_ref) {\n  var _ref$service = _ref.service,\n      service = _ref$service === undefined ? 'api' : _ref$service,\n      _ref$version = _ref.version,\n      version = _ref$version === undefined ? '1.1' : _ref$version,\n      path = _ref.path;\n\n  var apiURL = AV._config.serverURLs[service];\n\n  if (!apiURL) throw new Error('undefined server URL for ' + service);\n\n  if (apiURL.charAt(apiURL.length - 1) !== '/') {\n    apiURL += '/';\n  }\n  apiURL += version;\n  if (path) {\n    apiURL += path;\n  }\n\n  return apiURL;\n};\n\n/**\n * Low level REST API client. Call REST endpoints with authorization headers.\n * @function AV.request\n * @since 3.0.0\n * @param {Object} options\n * @param {String} options.method HTTP method\n * @param {String} options.path endpoint path, e.g. `/classes/Test/55759577e4b029ae6015ac20`\n * @param {Object} [options.query] query string dict\n * @param {Object} [options.data] HTTP body\n * @param {AuthOptions} [options.authOptions]\n * @param {String} [options.service = 'api']\n * @param {String} [options.version = '1.1']\n */\nvar request = function request(_ref2) {\n  var service = _ref2.service,\n      version = _ref2.version,\n      method = _ref2.method,\n      path = _ref2.path,\n      query = _ref2.query,\n      data = _ref2.data,\n      authOptions = _ref2.authOptions,\n      _ref2$signKey = _ref2.signKey,\n      signKey = _ref2$signKey === undefined ? true : _ref2$signKey;\n\n  if (!(AV.applicationId && (AV.applicationKey || AV.masterKey))) {\n    throw new Error('Not initialized');\n  }\n  if (AV._appRouter) {\n    AV._appRouter.refresh();\n  }\n  var timeout = AV._config.requestTimeout;\n\n  var url = createApiUrl({ service: service, path: path, version: version });\n  return setHeaders(authOptions, signKey).then(function (headers) {\n    return ajax({ method: method, url: url, query: query, data: data, headers: headers, timeout: timeout }).catch(function (error) {\n      var errorJSON = {\n        code: error.code || -1,\n        error: error.message || error.responseText\n      };\n      if (error.response && error.response.code) {\n        errorJSON = error.response;\n      } else if (error.responseText) {\n        try {\n          errorJSON = JSON.parse(error.responseText);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n        }\n      }\n      errorJSON.rawMessage = errorJSON.rawMessage || errorJSON.error;\n      if (!AV._sharedConfig.keepErrorRawMessage) {\n        errorJSON.error += ' [' + (error.statusCode || 'N/A') + ' ' + method + ' ' + url + ']';\n      }\n      // Transform the error into an instance of AVError by trying to parse\n      // the error string as JSON.\n      var err = new Error(errorJSON.error);\n      delete errorJSON.error;\n      throw _.extend(err, errorJSON);\n    });\n  });\n};\n\n// lagecy request\nvar _request = function _request(route, className, objectId, method, data, authOptions, query) {\n  var path = '';\n  if (route) path += '/' + route;\n  if (className) path += '/' + className;\n  if (objectId) path += '/' + objectId;\n  // for migeration\n  if (data && data._fetchWhenSave) throw new Error('_fetchWhenSave should be in the query');\n  if (data && data._where) throw new Error('_where should be in the query');\n  if (method && method.toLowerCase() === 'get') {\n    query = extend({}, query, data);\n    data = null;\n  }\n  return request({\n    method: method,\n    path: path,\n    query: query,\n    data: data,\n    authOptions: authOptions\n  });\n};\n\nAV.request = request;\n\nmodule.exports = {\n  _request: _request,\n  request: request\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(16)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9);\nvar IE8_DOM_DEFINE = __webpack_require__(63);\nvar toPrimitive = __webpack_require__(46);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(10) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(109), __esModule: true };\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// optional / simple context binding\nvar aFunction = __webpack_require__(27);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(11);\nvar createDesc = __webpack_require__(35);\nmodule.exports = __webpack_require__(10) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(48);\nvar defined = __webpack_require__(43);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\n/**\n * @class AV.Error\n */\n\nfunction AVError(code, message) {\n  var error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n_.extend(AVError,\n/** @lends AV.Error */{\n  /**\n   * Error code indicating some error other than those enumerated here.\n   * @constant\n   */\n  OTHER_CAUSE: -1,\n\n  /**\n   * Error code indicating that something has gone wrong with the server.\n   * If you get this error code, it is AV's fault. Contact us at\n   * https://avoscloud.com/help\n   * @constant\n   */\n  INTERNAL_SERVER_ERROR: 1,\n\n  /**\n   * Error code indicating the connection to the AV servers failed.\n   * @constant\n   */\n  CONNECTION_FAILED: 100,\n\n  /**\n   * Error code indicating the specified object doesn't exist.\n   * @constant\n   */\n  OBJECT_NOT_FOUND: 101,\n\n  /**\n   * Error code indicating you tried to query with a datatype that doesn't\n   * support it, like exact matching an array or object.\n   * @constant\n   */\n  INVALID_QUERY: 102,\n\n  /**\n   * Error code indicating a missing or invalid classname. Classnames are\n   * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n   * only valid characters.\n   * @constant\n   */\n  INVALID_CLASS_NAME: 103,\n\n  /**\n   * Error code indicating an unspecified object id.\n   * @constant\n   */\n  MISSING_OBJECT_ID: 104,\n\n  /**\n   * Error code indicating an invalid key name. Keys are case-sensitive. They\n   * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n   * @constant\n   */\n  INVALID_KEY_NAME: 105,\n\n  /**\n   * Error code indicating a malformed pointer. You should not see this unless\n   * you have been mucking about changing internal AV code.\n   * @constant\n   */\n  INVALID_POINTER: 106,\n\n  /**\n   * Error code indicating that badly formed JSON was received upstream. This\n   * either indicates you have done something unusual with modifying how\n   * things encode to JSON, or the network is failing badly.\n   * @constant\n   */\n  INVALID_JSON: 107,\n\n  /**\n   * Error code indicating that the feature you tried to access is only\n   * available internally for testing purposes.\n   * @constant\n   */\n  COMMAND_UNAVAILABLE: 108,\n\n  /**\n   * You must call AV.initialize before using the AV library.\n   * @constant\n   */\n  NOT_INITIALIZED: 109,\n\n  /**\n   * Error code indicating that a field was set to an inconsistent type.\n   * @constant\n   */\n  INCORRECT_TYPE: 111,\n\n  /**\n   * Error code indicating an invalid channel name. A channel name is either\n   * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n   * characters.\n   * @constant\n   */\n  INVALID_CHANNEL_NAME: 112,\n\n  /**\n   * Error code indicating that push is misconfigured.\n   * @constant\n   */\n  PUSH_MISCONFIGURED: 115,\n\n  /**\n   * Error code indicating that the object is too large.\n   * @constant\n   */\n  OBJECT_TOO_LARGE: 116,\n\n  /**\n   * Error code indicating that the operation isn't allowed for clients.\n   * @constant\n   */\n  OPERATION_FORBIDDEN: 119,\n\n  /**\n   * Error code indicating the result was not found in the cache.\n   * @constant\n   */\n  CACHE_MISS: 120,\n\n  /**\n   * Error code indicating that an invalid key was used in a nested\n   * JSONObject.\n   * @constant\n   */\n  INVALID_NESTED_KEY: 121,\n\n  /**\n   * Error code indicating that an invalid filename was used for AVFile.\n   * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n   * and 128 characters.\n   * @constant\n   */\n  INVALID_FILE_NAME: 122,\n\n  /**\n   * Error code indicating an invalid ACL was provided.\n   * @constant\n   */\n  INVALID_ACL: 123,\n\n  /**\n   * Error code indicating that the request timed out on the server. Typically\n   * this indicates that the request is too expensive to run.\n   * @constant\n   */\n  TIMEOUT: 124,\n\n  /**\n   * Error code indicating that the email address was invalid.\n   * @constant\n   */\n  INVALID_EMAIL_ADDRESS: 125,\n\n  /**\n   * Error code indicating a missing content type.\n   * @constant\n   */\n  MISSING_CONTENT_TYPE: 126,\n\n  /**\n   * Error code indicating a missing content length.\n   * @constant\n   */\n  MISSING_CONTENT_LENGTH: 127,\n\n  /**\n   * Error code indicating an invalid content length.\n   * @constant\n   */\n  INVALID_CONTENT_LENGTH: 128,\n\n  /**\n   * Error code indicating a file that was too large.\n   * @constant\n   */\n  FILE_TOO_LARGE: 129,\n\n  /**\n   * Error code indicating an error saving a file.\n   * @constant\n   */\n  FILE_SAVE_ERROR: 130,\n\n  /**\n   * Error code indicating an error deleting a file.\n   * @constant\n   */\n  FILE_DELETE_ERROR: 153,\n\n  /**\n   * Error code indicating that a unique field was given a value that is\n   * already taken.\n   * @constant\n   */\n  DUPLICATE_VALUE: 137,\n\n  /**\n   * Error code indicating that a role's name is invalid.\n   * @constant\n   */\n  INVALID_ROLE_NAME: 139,\n\n  /**\n   * Error code indicating that an application quota was exceeded.  Upgrade to\n   * resolve.\n   * @constant\n   */\n  EXCEEDED_QUOTA: 140,\n\n  /**\n   * Error code indicating that a Cloud Code script failed.\n   * @constant\n   */\n  SCRIPT_FAILED: 141,\n\n  /**\n   * Error code indicating that a Cloud Code validation failed.\n   * @constant\n   */\n  VALIDATION_ERROR: 142,\n\n  /**\n   * Error code indicating that invalid image data was provided.\n   * @constant\n   */\n  INVALID_IMAGE_DATA: 150,\n\n  /**\n   * Error code indicating an unsaved file.\n   * @constant\n   */\n  UNSAVED_FILE_ERROR: 151,\n\n  /**\n   * Error code indicating an invalid push time.\n   */\n  INVALID_PUSH_TIME_ERROR: 152,\n\n  /**\n   * Error code indicating that the username is missing or empty.\n   * @constant\n   */\n  USERNAME_MISSING: 200,\n\n  /**\n   * Error code indicating that the password is missing or empty.\n   * @constant\n   */\n  PASSWORD_MISSING: 201,\n\n  /**\n   * Error code indicating that the username has already been taken.\n   * @constant\n   */\n  USERNAME_TAKEN: 202,\n\n  /**\n   * Error code indicating that the email has already been taken.\n   * @constant\n   */\n  EMAIL_TAKEN: 203,\n\n  /**\n   * Error code indicating that the email is missing, but must be specified.\n   * @constant\n   */\n  EMAIL_MISSING: 204,\n\n  /**\n   * Error code indicating that a user with the specified email was not found.\n   * @constant\n   */\n  EMAIL_NOT_FOUND: 205,\n\n  /**\n   * Error code indicating that a user object without a valid session could\n   * not be altered.\n   * @constant\n   */\n  SESSION_MISSING: 206,\n\n  /**\n   * Error code indicating that a user can only be created through signup.\n   * @constant\n   */\n  MUST_CREATE_USER_THROUGH_SIGNUP: 207,\n\n  /**\n   * Error code indicating that an an account being linked is already linked\n   * to another user.\n   * @constant\n   */\n  ACCOUNT_ALREADY_LINKED: 208,\n\n  /**\n   * Error code indicating that a user cannot be linked to an account because\n   * that account's id could not be found.\n   * @constant\n   */\n  LINKED_ID_MISSING: 250,\n\n  /**\n   * Error code indicating that a user with a linked (e.g. Facebook) account\n   * has an invalid session.\n   * @constant\n   */\n  INVALID_LINKED_SESSION: 251,\n\n  /**\n   * Error code indicating that a service being linked (e.g. Facebook or\n   * Twitter) is unsupported.\n   * @constant\n   */\n  UNSUPPORTED_SERVICE: 252,\n  /**\n   * Error code indicating a real error code is unavailable because\n   * we had to use an XDomainRequest object to allow CORS requests in\n   * Internet Explorer, which strips the body from HTTP responses that have\n   * a non-2XX status code.\n   * @constant\n   */\n  X_DOMAIN_REQUEST: 602\n});\n\nmodule.exports = AVError;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(43);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(97);\nvar global = __webpack_require__(2);\nvar hide = __webpack_require__(14);\nvar Iterators = __webpack_require__(19);\nvar TO_STRING_TAG = __webpack_require__(4)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(13);\nvar call = __webpack_require__(100);\nvar isArrayIter = __webpack_require__(101);\nvar anObject = __webpack_require__(9);\nvar toLength = __webpack_require__(49);\nvar getIterFn = __webpack_require__(68);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = __webpack_require__(54);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar uuid = __webpack_require__(75);\nvar debug = __webpack_require__(24);\nvar getUA = __webpack_require__(76);\n\nvar _require = __webpack_require__(7),\n    inherits = _require.inherits,\n    parseDate = _require.parseDate;\n\nvar _require2 = __webpack_require__(32),\n    setAdapters = _require2.setAdapters;\n\nvar AV = global.AV || {};\n\n// All internal configuration items\nAV._config = {\n  serverURLs: {},\n  useMasterKey: false,\n  production: null,\n  realtime: null,\n  requestTimeout: null\n};\n\n// configs shared by all AV instances\nAV._sharedConfig = {\n  userAgent: getUA(),\n  liveQueryRealtime: null\n};\n\n/**\n * Contains all AV API classes and functions.\n * @namespace AV\n */\n\n/**\n * Returns prefix for localStorage keys used by this instance of AV.\n * @param {String} path The relative suffix to append to it.\n *     null or undefined is treated as the empty string.\n * @return {String} The full key name.\n * @private\n */\nAV._getAVPath = function (path) {\n  if (!AV.applicationId) {\n    throw new Error('You need to call AV.initialize before using AV.');\n  }\n  if (!path) {\n    path = '';\n  }\n  if (!_.isString(path)) {\n    throw new Error(\"Tried to get a localStorage path that wasn't a String.\");\n  }\n  if (path[0] === '/') {\n    path = path.substring(1);\n  }\n  return 'AV/' + AV.applicationId + '/' + path;\n};\n\n/**\n * Returns the unique string for this app on this machine.\n * Gets reset when localStorage is cleared.\n * @private\n */\nAV._installationId = null;\nAV._getInstallationId = function () {\n  // See if it's cached in RAM.\n  if (AV._installationId) {\n    return _promise2.default.resolve(AV._installationId);\n  }\n\n  // Try to get it from localStorage.\n  var path = AV._getAVPath('installationId');\n  return AV.localStorage.getItemAsync(path).then(function (_installationId) {\n    AV._installationId = _installationId;\n    if (!AV._installationId) {\n      // It wasn't in localStorage, so create a new one.\n      AV._installationId = _installationId = uuid();\n      return AV.localStorage.setItemAsync(path, _installationId).then(function () {\n        return _installationId;\n      });\n    }\n    return _installationId;\n  });\n};\n\nAV._subscriptionId = null;\nAV._refreshSubscriptionId = function () {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : AV._getAVPath('subscriptionId');\n\n  var subscriptionId = AV._subscriptionId = uuid();\n  return AV.localStorage.setItemAsync(path, subscriptionId).then(function () {\n    return subscriptionId;\n  });\n};\nAV._getSubscriptionId = function () {\n  // See if it's cached in RAM.\n  if (AV._subscriptionId) {\n    return _promise2.default.resolve(AV._subscriptionId);\n  }\n\n  // Try to get it from localStorage.\n  var path = AV._getAVPath('subscriptionId');\n  return AV.localStorage.getItemAsync(path).then(function (_subscriptionId) {\n    AV._subscriptionId = _subscriptionId;\n    if (!AV._subscriptionId) {\n      // It wasn't in localStorage, so create a new one.\n      _subscriptionId = AV._refreshSubscriptionId(path);\n    }\n    return _subscriptionId;\n  });\n};\n\nAV._parseDate = parseDate;\n\n// A self-propagating extend function.\nAV._extend = function (protoProps, classProps) {\n  var child = inherits(this, protoProps, classProps);\n  child.extend = this.extend;\n  return child;\n};\n\n/**\n * Converts a value in a AV Object into the appropriate representation.\n * This is the JS equivalent of Java's AV.maybeReferenceAndEncode(Object)\n * if seenObjects is falsey. Otherwise any AV.Objects not in\n * seenObjects will be fully embedded rather than encoded\n * as a pointer.  This array will be used to prevent going into an infinite\n * loop because we have circular references.  If <seenObjects>\n * is set, then none of the AV Objects that are serialized can be dirty.\n * @private\n */\nAV._encode = function (value, seenObjects, disallowObjects) {\n  var full = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  if (value instanceof AV.Object) {\n    if (disallowObjects) {\n      throw new Error('AV.Objects not allowed here');\n    }\n    if (!seenObjects || _.include(seenObjects, value) || !value._hasData) {\n      return value._toPointer();\n    }\n    return value._toFullJSON(seenObjects.concat(value), full);\n  }\n  if (value instanceof AV.ACL) {\n    return value.toJSON();\n  }\n  if (_.isDate(value)) {\n    return full ? { __type: 'Date', iso: value.toJSON() } : value.toJSON();\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value.toJSON();\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function (x) {\n      return AV._encode(x, seenObjects, disallowObjects, full);\n    });\n  }\n  if (_.isRegExp(value)) {\n    return value.source;\n  }\n  if (value instanceof AV.Relation) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.Op) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.File) {\n    if (!value.url() && !value.id) {\n      throw new Error('Tried to save an object containing an unsaved file.');\n    }\n    return value._toFullJSON(seenObjects, full);\n  }\n  if (_.isObject(value)) {\n    return _.mapObject(value, function (v, k) {\n      return AV._encode(v, seenObjects, disallowObjects, full);\n    });\n  }\n  return value;\n};\n\n/**\n * The inverse function of AV._encode.\n * @private\n */\nAV._decode = function (value, key) {\n  if (!_.isObject(value) || _.isDate(value)) {\n    return value;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function (v) {\n      return AV._decode(v);\n    });\n  }\n  if (value instanceof AV.Object) {\n    return value;\n  }\n  if (value instanceof AV.File) {\n    return value;\n  }\n  if (value instanceof AV.Op) {\n    return value;\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value;\n  }\n  if (value instanceof AV.ACL) {\n    return value;\n  }\n  if (key === 'ACL') {\n    return new AV.ACL(value);\n  }\n  if (value.__op) {\n    return AV.Op._decode(value);\n  }\n  var className;\n  if (value.__type === 'Pointer') {\n    className = value.className;\n    var pointer = AV.Object._create(className);\n    if ((0, _keys2.default)(value).length > 3) {\n      var v = _.clone(value);\n      delete v.__type;\n      delete v.className;\n      pointer._finishFetch(v, true);\n    } else {\n      pointer._finishFetch({ objectId: value.objectId }, false);\n    }\n    return pointer;\n  }\n  if (value.__type === 'Object') {\n    // It's an Object included in a query result.\n    className = value.className;\n    var _v = _.clone(value);\n    delete _v.__type;\n    delete _v.className;\n    var object = AV.Object._create(className);\n    object._finishFetch(_v, true);\n    return object;\n  }\n  if (value.__type === 'Date') {\n    return AV._parseDate(value.iso);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new AV.GeoPoint({\n      latitude: value.latitude,\n      longitude: value.longitude\n    });\n  }\n  if (value.__type === 'Relation') {\n    if (!key) throw new Error('key missing decoding a Relation');\n    var relation = new AV.Relation(null, key);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'File') {\n    var file = new AV.File(value.name);\n    var _v2 = _.clone(value);\n    delete _v2.__type;\n    file._finishFetch(_v2);\n    return file;\n  }\n  return _.mapObject(value, AV._decode);\n};\n\n/**\n * The inverse function of {@link AV.Object#toFullJSON}.\n * @since 3.0.0\n * @method\n * @param {Object}\n * return {AV.Object|AV.File|any}\n */\nAV.parseJSON = AV._decode;\n\n/**\n * Similar to JSON.parse, except that AV internal types will be used if possible.\n * Inverse to {@link AV.stringify}\n * @since 3.14.0\n * @param {string} text the string to parse.\n * @return {AV.Object|AV.File|any}\n */\nAV.parse = function (text) {\n  return AV.parseJSON(JSON.parse(text));\n};\n/**\n * Serialize a target containing AV.Object, similar to JSON.stringify.\n * Inverse to {@link AV.parse}\n * @since 3.14.0\n * @return {string}\n */\nAV.stringify = function (target) {\n  return (0, _stringify2.default)(AV._encode(target, [], false, true));\n};\n\nAV._encodeObjectOrArray = function (value) {\n  var encodeAVObject = function encodeAVObject(object) {\n    if (object && object._toFullJSON) {\n      object = object._toFullJSON([]);\n    }\n\n    return _.mapObject(object, function (value) {\n      return AV._encode(value, []);\n    });\n  };\n\n  if (_.isArray(value)) {\n    return value.map(function (object) {\n      return encodeAVObject(object);\n    });\n  } else {\n    return encodeAVObject(value);\n  }\n};\n\nAV._arrayEach = _.each;\n\n/**\n * Does a deep traversal of every item in object, calling func on every one.\n * @param {Object} object The object or array to traverse deeply.\n * @param {Function} func The function to call for every item. It will\n *     be passed the item as an argument. If it returns a truthy value, that\n *     value will replace the item in its parent container.\n * @returns {} the result of calling func on the top-level object itself.\n * @private\n */\nAV._traverse = function (object, func, seen) {\n  if (object instanceof AV.Object) {\n    seen = seen || [];\n    if (_.indexOf(seen, object) >= 0) {\n      // We've already visited this object in this call.\n      return;\n    }\n    seen.push(object);\n    AV._traverse(object.attributes, func, seen);\n    return func(object);\n  }\n  if (object instanceof AV.Relation || object instanceof AV.File) {\n    // Nothing needs to be done, but we don't want to recurse into the\n    // object's parent infinitely, so we catch this case.\n    return func(object);\n  }\n  if (_.isArray(object)) {\n    _.each(object, function (child, index) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[index] = newChild;\n      }\n    });\n    return func(object);\n  }\n  if (_.isObject(object)) {\n    AV._each(object, function (child, key) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[key] = newChild;\n      }\n    });\n    return func(object);\n  }\n  return func(object);\n};\n\n/**\n * This is like _.each, except:\n * * it doesn't work for so-called array-like objects,\n * * it does work for dictionaries with a \"length\" attribute.\n * @private\n */\nAV._objectEach = AV._each = function (obj, callback) {\n  if (_.isObject(obj)) {\n    _.each(_.keys(obj), function (key) {\n      callback(obj[key], key);\n    });\n  } else {\n    _.each(obj, callback);\n  }\n};\n\n/**\n * @namespace\n * @since 3.14.0\n */\nAV.debug = {\n  /**\n   * Enable debug\n   */\n  enable: function enable() {\n    var namespaces = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'leancloud*';\n    return debug.enable(namespaces);\n  },\n  /**\n   * Disable debug\n   */\n  disable: debug.disable\n};\n\n/**\n * Specify Adapters\n * @since 4.4.0\n * @function\n * @param {Adapters} newAdapters See {@link https://url.leanapp.cn/adapter-type-definitions @leancloud/adapter-types} for detailed definitions.\n */\nAV.setAdapters = setAdapters;\n\nmodule.exports = AV;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(74)))\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = __webpack_require__(114)(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $at = __webpack_require__(92)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(44)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports = true;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(64);\nvar enumBugKeys = __webpack_require__(52);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar def = __webpack_require__(11).f;\nvar has = __webpack_require__(15);\nvar TAG = __webpack_require__(4)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar META = __webpack_require__(37)('meta');\nvar isObject = __webpack_require__(6);\nvar has = __webpack_require__(15);\nvar setDesc = __webpack_require__(11).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(16)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\nvar adapters = {};\n\nvar getAdapter = function getAdapter(name) {\n  var adapter = adapters[name];\n  if (adapter === undefined) {\n    throw new Error(name + ' adapter is not configured');\n  }\n  return adapter;\n};\nvar setAdapters = function setAdapters(newAdapters) {\n  _.extend(adapters, newAdapters);\n};\n\nmodule.exports = {\n  getAdapter: getAdapter,\n  setAdapters: setAdapters\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6);\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(9);\nvar dPs = __webpack_require__(94);\nvar enumBugKeys = __webpack_require__(52);\nvar IE_PROTO = __webpack_require__(50)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(45)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(65).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports) {\n\nvar id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(29);\nvar TAG = __webpack_require__(4)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar hide = __webpack_require__(14);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY = __webpack_require__(26);\nvar $export = __webpack_require__(5);\nvar redefine = __webpack_require__(47);\nvar hide = __webpack_require__(14);\nvar Iterators = __webpack_require__(19);\nvar $iterCreate = __webpack_require__(93);\nvar setToStringTag = __webpack_require__(30);\nvar getPrototypeOf = __webpack_require__(66);\nvar ITERATOR = __webpack_require__(4)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6);\nvar document = __webpack_require__(2).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(6);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(14);\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(29);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.15 ToLength\nvar toInteger = __webpack_require__(42);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(51)('keys');\nvar uid = __webpack_require__(37);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(1);\nvar global = __webpack_require__(2);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(26) ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(27);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(110), __esModule: true };\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(5);\nvar core = __webpack_require__(1);\nvar fails = __webpack_require__(16);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(118);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(120);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(4);\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(2);\nvar core = __webpack_require__(1);\nvar LIBRARY = __webpack_require__(26);\nvar wksExt = __webpack_require__(57);\nvar defineProperty = __webpack_require__(11).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(41);\nvar createDesc = __webpack_require__(35);\nvar toIObject = __webpack_require__(17);\nvar toPrimitive = __webpack_require__(46);\nvar has = __webpack_require__(15);\nvar IE8_DOM_DEFINE = __webpack_require__(63);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(10) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(129), __esModule: true };\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = __webpack_require__(13);\nvar IObject = __webpack_require__(48);\nvar toObject = __webpack_require__(20);\nvar toLength = __webpack_require__(49);\nvar asc = __webpack_require__(177);\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = !__webpack_require__(10) && !__webpack_require__(16)(function () {\n  return Object.defineProperty(__webpack_require__(45)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(15);\nvar toIObject = __webpack_require__(17);\nvar arrayIndexOf = __webpack_require__(95)(false);\nvar IE_PROTO = __webpack_require__(50)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar document = __webpack_require__(2).document;\nmodule.exports = document && document.documentElement;\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(15);\nvar toObject = __webpack_require__(20);\nvar IE_PROTO = __webpack_require__(50)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(38);\nvar ITERATOR = __webpack_require__(4)('iterator');\nvar Iterators = __webpack_require__(19);\nmodule.exports = __webpack_require__(1).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(9);\nvar aFunction = __webpack_require__(27);\nvar SPECIES = __webpack_require__(4)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(13);\nvar invoke = __webpack_require__(102);\nvar html = __webpack_require__(65);\nvar cel = __webpack_require__(45);\nvar global = __webpack_require__(2);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(29)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(6);\nvar newPromiseCapability = __webpack_require__(53);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(2);\nvar core = __webpack_require__(1);\nvar dP = __webpack_require__(11);\nvar DESCRIPTORS = __webpack_require__(10);\nvar SPECIES = __webpack_require__(4)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(112);\nvar bytesToUuid = __webpack_require__(113);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar version = __webpack_require__(77);\nvar getUA = function getUA() {\n  var comments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var ua = 'LeanCloud-JS-SDK/' + version;\n  if (comments.length) {\n    ua += ' (' + comments.join('; ') + ')';\n  }\n  return ua;\n};\nmodule.exports = getUA;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = '4.5.3';\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(116), __esModule: true };\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(29);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(64);\nvar hiddenKeys = __webpack_require__(52).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = __webpack_require__(32),\n    getAdapter = _require.getAdapter;\n\nvar syncApiNames = ['getItem', 'setItem', 'removeItem', 'clear'];\n\nvar localStorage = {\n  get async() {\n    return getAdapter('storage').async;\n  }\n};\n\n// wrap sync apis with async ones.\nsyncApiNames.forEach(function (apiName) {\n  localStorage[apiName + 'Async'] = function () {\n    var storage = getAdapter('storage');\n    return _promise2.default.resolve(storage[apiName].apply(storage, arguments));\n  };\n\n  localStorage[apiName] = function () {\n    var storage = getAdapter('storage');\n    if (!storage.async) {\n      return storage[apiName].apply(storage, arguments);\n    }\n    var error = new Error('Synchronous API [' + apiName + '] is not available in this runtime.');\n    error.code = 'SYNC_API_NOT_AVAILABLE';\n    throw error;\n  };\n});\n\nmodule.exports = localStorage;\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar storage = __webpack_require__(81);\nvar AV = __webpack_require__(23);\n\nvar removeAsync = exports.removeAsync = storage.removeItemAsync.bind(storage);\n\nvar getCacheData = function getCacheData(cacheData, key) {\n  try {\n    cacheData = JSON.parse(cacheData);\n  } catch (e) {\n    return null;\n  }\n  if (cacheData) {\n    var expired = cacheData.expiredAt && cacheData.expiredAt < Date.now();\n    if (!expired) {\n      return cacheData.value;\n    }\n    return removeAsync(key).then(function () {\n      return null;\n    });\n  }\n  return null;\n};\n\nexports.getAsync = function (key) {\n  key = 'AV/' + AV.applicationId + '/' + key;\n  return storage.getItemAsync(key).then(function (cache) {\n    return getCacheData(cache, key);\n  });\n};\n\nexports.setAsync = function (key, value, ttl) {\n  var cache = { value: value };\n  if (typeof ttl === 'number') {\n    cache.expiredAt = Date.now() + ttl;\n  }\n  return storage.setItemAsync('AV/' + AV.applicationId + '/' + key, (0, _stringify2.default)(cache));\n};\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nvar charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(146), __esModule: true };\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(2);\nvar $export = __webpack_require__(5);\nvar meta = __webpack_require__(31);\nvar fails = __webpack_require__(16);\nvar hide = __webpack_require__(14);\nvar redefineAll = __webpack_require__(40);\nvar forOf = __webpack_require__(22);\nvar anInstance = __webpack_require__(39);\nvar isObject = __webpack_require__(6);\nvar setToStringTag = __webpack_require__(30);\nvar dP = __webpack_require__(11).f;\nvar each = __webpack_require__(62)(0);\nvar DESCRIPTORS = __webpack_require__(10);\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = __webpack_require__(5);\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = __webpack_require__(5);\nvar aFunction = __webpack_require__(27);\nvar ctx = __webpack_require__(13);\nvar forOf = __webpack_require__(22);\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar AV = __webpack_require__(89);\nvar useAdatpers = __webpack_require__(169);\n\nmodule.exports = useAdatpers(AV);\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(90);\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*!\n * LeanCloud JavaScript SDK\n * https://leancloud.cn\n *\n * Copyright 2016 LeanCloud.cn, Inc.\n * The LeanCloud JavaScript SDK is freely distributable under the MIT license.\n */\nvar _ = __webpack_require__(0);\n\nvar AV = __webpack_require__(23);\n\nAV._ = _;\nAV.version = __webpack_require__(77);\nAV.Promise = _promise2.default;\nAV.localStorage = __webpack_require__(81);\nAV.Cache = __webpack_require__(82);\nAV.Error = __webpack_require__(18);\n\n__webpack_require__(128);\n__webpack_require__(132)(AV);\n__webpack_require__(133)(AV);\n__webpack_require__(134)(AV);\n__webpack_require__(135)(AV);\n__webpack_require__(136)(AV);\n__webpack_require__(137)(AV);\n__webpack_require__(145)(AV);\n__webpack_require__(155)(AV);\n__webpack_require__(156)(AV);\n__webpack_require__(158)(AV);\n__webpack_require__(159)(AV);\n__webpack_require__(161)(AV);\n__webpack_require__(162)(AV);\n__webpack_require__(163)(AV);\n__webpack_require__(164)(AV);\n__webpack_require__(165)(AV);\n__webpack_require__(166)(AV);\n\nAV.Conversation = __webpack_require__(167);\n__webpack_require__(168);\nmodule.exports = AV;\n\n/**\n * Options to controll the authentication for an operation\n * @typedef {Object} AuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n */\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(34);\n__webpack_require__(25);\n__webpack_require__(21);\n__webpack_require__(99);\n__webpack_require__(106);\n__webpack_require__(107);\nmodule.exports = __webpack_require__(1).Promise;\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(42);\nvar defined = __webpack_require__(43);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar create = __webpack_require__(36);\nvar descriptor = __webpack_require__(35);\nvar setToStringTag = __webpack_require__(30);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(14)(IteratorPrototype, __webpack_require__(4)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(11);\nvar anObject = __webpack_require__(9);\nvar getKeys = __webpack_require__(28);\n\nmodule.exports = __webpack_require__(10) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(17);\nvar toLength = __webpack_require__(49);\nvar toAbsoluteIndex = __webpack_require__(96);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(42);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar addToUnscopables = __webpack_require__(98);\nvar step = __webpack_require__(67);\nvar Iterators = __webpack_require__(19);\nvar toIObject = __webpack_require__(17);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(44)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = function () { /* empty */ };\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY = __webpack_require__(26);\nvar global = __webpack_require__(2);\nvar ctx = __webpack_require__(13);\nvar classof = __webpack_require__(38);\nvar $export = __webpack_require__(5);\nvar isObject = __webpack_require__(6);\nvar aFunction = __webpack_require__(27);\nvar anInstance = __webpack_require__(39);\nvar forOf = __webpack_require__(22);\nvar speciesConstructor = __webpack_require__(69);\nvar task = __webpack_require__(70).set;\nvar microtask = __webpack_require__(103)();\nvar newPromiseCapabilityModule = __webpack_require__(53);\nvar perform = __webpack_require__(71);\nvar userAgent = __webpack_require__(104);\nvar promiseResolve = __webpack_require__(72);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(4)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(40)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(30)($Promise, PROMISE);\n__webpack_require__(73)(PROMISE);\nWrapper = __webpack_require__(1)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(105)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(9);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// check on default Array iterator\nvar Iterators = __webpack_require__(19);\nvar ITERATOR = __webpack_require__(4)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(2);\nvar macrotask = __webpack_require__(70).set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(29)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(2);\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ITERATOR = __webpack_require__(4)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(5);\nvar core = __webpack_require__(1);\nvar global = __webpack_require__(2);\nvar speciesConstructor = __webpack_require__(69);\nvar promiseResolve = __webpack_require__(72);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(5);\nvar newPromiseCapability = __webpack_require__(53);\nvar perform = __webpack_require__(71);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(1);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(111);\nmodule.exports = __webpack_require__(1).Object.keys;\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(20);\nvar $keys = __webpack_require__(28);\n\n__webpack_require__(55)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports) {\n\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(115);\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports) {\n\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(117);\nmodule.exports = __webpack_require__(1).Object.getPrototypeOf;\n\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(20);\nvar $getPrototypeOf = __webpack_require__(66);\n\n__webpack_require__(55)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(119), __esModule: true };\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(25);\n__webpack_require__(21);\nmodule.exports = __webpack_require__(57).f('iterator');\n\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(121), __esModule: true };\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(122);\n__webpack_require__(34);\n__webpack_require__(125);\n__webpack_require__(126);\nmodule.exports = __webpack_require__(1).Symbol;\n\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(2);\nvar has = __webpack_require__(15);\nvar DESCRIPTORS = __webpack_require__(10);\nvar $export = __webpack_require__(5);\nvar redefine = __webpack_require__(47);\nvar META = __webpack_require__(31).KEY;\nvar $fails = __webpack_require__(16);\nvar shared = __webpack_require__(51);\nvar setToStringTag = __webpack_require__(30);\nvar uid = __webpack_require__(37);\nvar wks = __webpack_require__(4);\nvar wksExt = __webpack_require__(57);\nvar wksDefine = __webpack_require__(58);\nvar enumKeys = __webpack_require__(123);\nvar isArray = __webpack_require__(79);\nvar anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(6);\nvar toObject = __webpack_require__(20);\nvar toIObject = __webpack_require__(17);\nvar toPrimitive = __webpack_require__(46);\nvar createDesc = __webpack_require__(35);\nvar _create = __webpack_require__(36);\nvar gOPNExt = __webpack_require__(124);\nvar $GOPD = __webpack_require__(60);\nvar $GOPS = __webpack_require__(59);\nvar $DP = __webpack_require__(11);\nvar $keys = __webpack_require__(28);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(80).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(41).f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(26)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(14)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(28);\nvar gOPS = __webpack_require__(59);\nvar pIE = __webpack_require__(41);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(17);\nvar gOPN = __webpack_require__(80).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(58)('asyncIterator');\n\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(58)('observable');\n\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright (c) 2015-2017 David M. Lee, II\n\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _defineProperty = __webpack_require__(61);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AV = __webpack_require__(23);\nvar AppRouter = __webpack_require__(131);\n\nvar _require = __webpack_require__(7),\n    isNullOrUndefined = _require.isNullOrUndefined;\n\nvar _require2 = __webpack_require__(0),\n    extend = _require2.extend,\n    isObject = _require2.isObject,\n    isEmpty = _require2.isEmpty;\n\nvar isCNApp = function isCNApp(appId) {\n  return appId.slice(-9) !== '-MdYXbMMI';\n};\n\nvar fillServerURLs = function fillServerURLs(url) {\n  return {\n    push: url,\n    stats: url,\n    engine: url,\n    api: url,\n    rtm: url\n  };\n};\n\nfunction getDefaultServerURLs(appId) {\n  if (isCNApp(appId)) {\n    return {};\n  }\n  var id = appId.slice(0, 8).toLowerCase();\n  var domain = 'lncldglobal.com';\n  return {\n    push: 'https://' + id + '.push.' + domain,\n    stats: 'https://' + id + '.stats.' + domain,\n    engine: 'https://' + id + '.engine.' + domain,\n    api: 'https://' + id + '.api.' + domain,\n    rtm: 'https://' + id + '.rtm.' + domain\n  };\n}\n\nvar _disableAppRouter = false;\nvar _initialized = false;\n\n/**\n * URLs for services\n * @typedef {Object} ServerURLs\n * @property {String} [api] serverURL for API service\n * @property {String} [engine] serverURL for engine service\n * @property {String} [stats] serverURL for stats service\n * @property {String} [push] serverURL for push service\n * @property {String} [rtm] serverURL for LiveQuery service\n */\n\n/**\n * Call this method first to set up your authentication tokens for AV.\n * You can get your app keys from the LeanCloud dashboard on http://leancloud.cn .\n * @function AV.init\n * @param {Object} options\n * @param {String} options.appId application id\n * @param {String} options.appKey application key\n * @param {String} [options.masterKey] application master key\n * @param {Boolean} [options.production]\n * @param {String|ServerURLs} [options.serverURL] URLs for services. if a string was given, it will be applied for all services.\n * @param {Boolean} [options.disableCurrentUser]\n */\nAV.init = function init(options) {\n  if (!isObject(options)) {\n    return AV.init({\n      appId: options,\n      appKey: arguments.length <= 1 ? undefined : arguments[1],\n      masterKey: arguments.length <= 2 ? undefined : arguments[2]\n    });\n  }\n  var appId = options.appId,\n      appKey = options.appKey,\n      masterKey = options.masterKey,\n      hookKey = options.hookKey,\n      serverURL = options.serverURL,\n      _options$serverURLs = options.serverURLs,\n      serverURLs = _options$serverURLs === undefined ? serverURL : _options$serverURLs,\n      disableCurrentUser = options.disableCurrentUser,\n      production = options.production,\n      realtime = options.realtime;\n\n  if (_initialized) console.warn('Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations.');\n  if (!appId) throw new TypeError('appId must be a string');\n  if (!appKey) throw new TypeError('appKey must be a string');\n  if (\"Weapp\" && masterKey) console.warn('MasterKey is not supposed to be used at client side.');\n  if (isCNApp(appId)) {\n    if (!serverURLs && isEmpty(AV._config.serverURLs)) {\n      throw new TypeError('serverURL option is required for apps from CN region');\n    }\n  }\n  if (appId !== AV._config.applicationId) {\n    // overwrite all keys when reinitializing as a new app\n    AV._config.masterKey = masterKey;\n    AV._config.hookKey = hookKey;\n  } else {\n    if (masterKey) AV._config.masterKey = masterKey;\n    if (hookKey) AV._config.hookKey = hookKey;\n  }\n  AV._config.applicationId = appId;\n  AV._config.applicationKey = appKey;\n  AV.setProduction(production);\n  if (typeof disableCurrentUser !== 'undefined') AV._config.disableCurrentUser = disableCurrentUser;\n  var disableAppRouter = _disableAppRouter || typeof serverURLs !== 'undefined';\n  if (!disableAppRouter) {\n    AV._appRouter = new AppRouter(AV);\n  }\n  AV._setServerURLs(extend({}, getDefaultServerURLs(appId), AV._config.serverURLs, typeof serverURLs === 'string' ? fillServerURLs(serverURLs) : serverURLs), disableAppRouter);\n  if (realtime) {\n    AV._config.realtime = realtime;\n  } else if (AV._sharedConfig.liveQueryRealtime) {\n    var _AV$_config$serverURL = AV._config.serverURLs,\n        api = _AV$_config$serverURL.api,\n        rtm = _AV$_config$serverURL.rtm;\n\n    AV._config.realtime = new AV._sharedConfig.liveQueryRealtime({\n      appId: appId,\n      appKey: appKey,\n      server: {\n        api: api,\n        RTMRouter: rtm\n      }\n    });\n  }\n  _initialized = true;\n};\n\n// If we're running in node.js, allow using the master key.\nif (false) {\n  AV.Cloud = AV.Cloud || {};\n  /**\n   * Switches the LeanCloud SDK to using the Master key.  The Master key grants\n   * priveleged access to the data in LeanCloud and can be used to bypass ACLs and\n   * other restrictions that are applied to the client SDKs.\n   * <p><strong><em>Available in Cloud Code and Node.js only.</em></strong>\n   * </p>\n   */\n  AV.Cloud.useMasterKey = function () {\n    AV._config.useMasterKey = true;\n  };\n}\n\n/**\n * Call this method to set production environment variable.\n * @function AV.setProduction\n * @param {Boolean} production True is production environment,and\n *  it's true by default.\n */\nAV.setProduction = function (production) {\n  if (!isNullOrUndefined(production)) {\n    AV._config.production = production ? 1 : 0;\n  } else {\n    // change to default value\n    AV._config.production = null;\n  }\n};\n\nAV._setServerURLs = function (urls) {\n  var disableAppRouter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (typeof urls !== 'string') {\n    extend(AV._config.serverURLs, urls);\n  } else {\n    AV._config.serverURLs = fillServerURLs(urls);\n  }\n  if (disableAppRouter) {\n    if (AV._appRouter) {\n      AV._appRouter.disable();\n    } else {\n      _disableAppRouter = true;\n    }\n  }\n};\n/**\n * Set server URLs for services.\n * @function AV.setServerURL\n * @since 4.3.0\n * @param {String|ServerURLs} urls URLs for services. if a string was given, it will be applied for all services.\n * You can also set them when initializing SDK with `options.serverURL`\n */\nAV.setServerURL = function (urls) {\n  return AV._setServerURLs(urls);\n};\nAV.setServerURLs = AV.setServerURL;\n\nAV.keepErrorRawMessage = function (value) {\n  AV._sharedConfig.keepErrorRawMessage = value;\n};\n\n/**\n * Set a deadline for requests to complete.\n * Note that file upload requests are not affected.\n * @function AV.setRequestTimeout\n * @since 3.6.0\n * @param {number} ms\n */\nAV.setRequestTimeout = function (ms) {\n  AV._config.requestTimeout = ms;\n};\n\n// backword compatible\nAV.initialize = AV.init;\n\nvar defineConfig = function defineConfig(property) {\n  return (0, _defineProperty2.default)(AV, property, {\n    get: function get() {\n      return AV._config[property];\n    },\n    set: function set(value) {\n      AV._config[property] = value;\n    }\n  });\n};\n\n['applicationId', 'applicationKey', 'masterKey', 'hookKey'].forEach(defineConfig);\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(130);\nvar $Object = __webpack_require__(1).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(5);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(10), 'Object', { defineProperty: __webpack_require__(11).f });\n\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _require = __webpack_require__(7),\n    ajax = _require.ajax;\n\nvar Cache = __webpack_require__(82);\n\nfunction AppRouter(AV) {\n  var _this = this;\n\n  this.AV = AV;\n  this.lockedUntil = 0;\n  Cache.getAsync('serverURLs').then(function (data) {\n    if (_this.disabled) return;\n    if (!data) return _this.lock(0);\n    var serverURLs = data.serverURLs,\n        lockedUntil = data.lockedUntil;\n\n    _this.AV._setServerURLs(serverURLs, false);\n    _this.lockedUntil = lockedUntil;\n  }).catch(function () {\n    return _this.lock(0);\n  });\n}\n\nAppRouter.prototype.disable = function disable() {\n  this.disabled = true;\n};\nAppRouter.prototype.lock = function lock(ttl) {\n  this.lockedUntil = Date.now() + ttl;\n};\nAppRouter.prototype.refresh = function refresh() {\n  var _this2 = this;\n\n  if (this.disabled) return;\n  if (Date.now() < this.lockedUntil) return;\n  this.lock(10);\n  var url = 'https://app-router.com/2/route';\n  return ajax({\n    method: 'get',\n    url: url,\n    query: {\n      appId: this.AV.applicationId\n    }\n  }).then(function (servers) {\n    if (_this2.disabled) return;\n    var ttl = servers.ttl;\n    if (!ttl) throw new Error('missing ttl');\n    ttl = ttl * 1000;\n    var protocal = 'https://';\n    var serverURLs = {\n      push: protocal + servers.push_server,\n      stats: protocal + servers.stats_server,\n      engine: protocal + servers.engine_server,\n      api: protocal + servers.api_server\n    };\n    _this2.AV._setServerURLs(serverURLs, false);\n    _this2.lock(ttl);\n    return Cache.setAsync('serverURLs', {\n      serverURLs: serverURLs,\n      lockedUntil: _this2.lockedUntil\n    }, ttl);\n  }).catch(function (error) {\n    // bypass all errors\n    console.warn('refresh server URLs failed: ' + error.message);\n    _this2.lock(600);\n  });\n};\n\nmodule.exports = AppRouter;\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nmodule.exports = function (AV) {\n  var eventSplitter = /\\s+/;\n  var slice = Array.prototype.slice;\n\n  /**\n   * @class\n   *\n   * <p>AV.Events is a fork of Backbone's Events module, provided for your\n   * convenience.</p>\n   *\n   * <p>A module that can be mixed in to any object in order to provide\n   * it with custom events. You may bind callback functions to an event\n   * with `on`, or remove these functions with `off`.\n   * Triggering an event fires all callbacks in the order that `on` was\n   * called.\n   *\n   * @private\n   * @example\n   * var object = {};\n   * _.extend(object, AV.Events);\n   * object.on('expand', function(){ alert('expanded'); });\n   * object.trigger('expand');</pre></p>\n   *\n   */\n  AV.Events = {\n    /**\n     * Bind one or more space separated events, `events`, to a `callback`\n     * function. Passing `\"all\"` will bind the callback to all events fired.\n     */\n    on: function on(events, callback, context) {\n      var calls, event, node, tail, list;\n      if (!callback) {\n        return this;\n      }\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      event = events.shift();\n      while (event) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = { tail: tail, next: list ? list.next : node };\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Remove one or many callbacks. If `context` is null, removes all callbacks\n     * with that function. If `callback` is null, removes all callbacks for the\n     * event. If `events` is null, removes all bound callbacks for all events.\n     */\n    off: function off(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) {\n        return;\n      }\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) {\n          continue;\n        }\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        node = node.next;\n        while (node !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if (callback && cb !== callback || context && ctx !== context) {\n            this.on(event, cb, ctx);\n          }\n          node = node.next;\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Trigger one or many events, firing all bound callbacks. Callbacks are\n     * passed the same arguments as `trigger` is, apart from the event name\n     * (unless you're listening on `\"all\"`, which will cause your callback to\n     * receive the true name of the event as the first argument).\n     */\n    trigger: function trigger(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) {\n        return this;\n      }\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        if (node) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        node = all;\n        if (node) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n        event = events.shift();\n      }\n\n      return this;\n    }\n  };\n\n  /**\n   * @function\n   */\n  AV.Events.bind = AV.Events.on;\n\n  /**\n   * @function\n   */\n  AV.Events.unbind = AV.Events.off;\n};\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\n\n/*global navigator: false */\nmodule.exports = function (AV) {\n  /**\n   * Creates a new GeoPoint with any of the following forms:<br>\n   * @example\n   * new GeoPoint(otherGeoPoint)\n   * new GeoPoint(30, 30)\n   * new GeoPoint([30, 30])\n   * new GeoPoint({latitude: 30, longitude: 30})\n   * new GeoPoint()  // defaults to (0, 0)\n   * @class\n   *\n   * <p>Represents a latitude / longitude point that may be associated\n   * with a key in a AVObject or used as a reference point for geo queries.\n   * This allows proximity-based queries on the key.</p>\n   *\n   * <p>Only one key in a class may contain a GeoPoint.</p>\n   *\n   * <p>Example:<pre>\n   *   var point = new AV.GeoPoint(30.0, -20.0);\n   *   var object = new AV.Object(\"PlaceObject\");\n   *   object.set(\"location\", point);\n   *   object.save();</pre></p>\n   */\n  AV.GeoPoint = function (arg1, arg2) {\n    if (_.isArray(arg1)) {\n      AV.GeoPoint._validate(arg1[0], arg1[1]);\n      this.latitude = arg1[0];\n      this.longitude = arg1[1];\n    } else if (_.isObject(arg1)) {\n      AV.GeoPoint._validate(arg1.latitude, arg1.longitude);\n      this.latitude = arg1.latitude;\n      this.longitude = arg1.longitude;\n    } else if (_.isNumber(arg1) && _.isNumber(arg2)) {\n      AV.GeoPoint._validate(arg1, arg2);\n      this.latitude = arg1;\n      this.longitude = arg2;\n    } else {\n      this.latitude = 0;\n      this.longitude = 0;\n    }\n\n    // Add properties so that anyone using Webkit or Mozilla will get an error\n    // if they try to set values that are out of bounds.\n    var self = this;\n    if (this.__defineGetter__ && this.__defineSetter__) {\n      // Use _latitude and _longitude to actually store the values, and add\n      // getters and setters for latitude and longitude.\n      this._latitude = this.latitude;\n      this._longitude = this.longitude;\n      this.__defineGetter__('latitude', function () {\n        return self._latitude;\n      });\n      this.__defineGetter__('longitude', function () {\n        return self._longitude;\n      });\n      this.__defineSetter__('latitude', function (val) {\n        AV.GeoPoint._validate(val, self.longitude);\n        self._latitude = val;\n      });\n      this.__defineSetter__('longitude', function (val) {\n        AV.GeoPoint._validate(self.latitude, val);\n        self._longitude = val;\n      });\n    }\n  };\n\n  /**\n   * @lends AV.GeoPoint.prototype\n   * @property {float} latitude North-south portion of the coordinate, in range\n   *   [-90, 90].  Throws an exception if set out of range in a modern browser.\n   * @property {float} longitude East-west portion of the coordinate, in range\n   *   [-180, 180].  Throws if set out of range in a modern browser.\n   */\n\n  /**\n   * Throws an exception if the given lat-long is out of bounds.\n   * @private\n   */\n  AV.GeoPoint._validate = function (latitude, longitude) {\n    if (latitude < -90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' < -90.0.');\n    }\n    if (latitude > 90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' > 90.0.');\n    }\n    if (longitude < -180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' < -180.0.');\n    }\n    if (longitude > 180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' > 180.0.');\n    }\n  };\n\n  /**\n   * Creates a GeoPoint with the user's current location, if available.\n   * @return {Promise.<AV.GeoPoint>}\n   */\n  AV.GeoPoint.current = function () {\n    return new _promise2.default(function (resolve, reject) {\n      navigator.geolocation.getCurrentPosition(function (location) {\n        resolve(new AV.GeoPoint({\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude\n        }));\n      }, reject);\n    });\n  };\n\n  _.extend(AV.GeoPoint.prototype,\n  /** @lends AV.GeoPoint.prototype */{\n    /**\n     * Returns a JSON representation of the GeoPoint, suitable for AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      AV.GeoPoint._validate(this.latitude, this.longitude);\n      return {\n        __type: 'GeoPoint',\n        latitude: this.latitude,\n        longitude: this.longitude\n      };\n    },\n\n    /**\n     * Returns the distance from this GeoPoint to another in radians.\n     * @param {AV.GeoPoint} point the other AV.GeoPoint.\n     * @return {Number}\n     */\n    radiansTo: function radiansTo(point) {\n      var d2r = Math.PI / 180.0;\n      var lat1rad = this.latitude * d2r;\n      var long1rad = this.longitude * d2r;\n      var lat2rad = point.latitude * d2r;\n      var long2rad = point.longitude * d2r;\n      var deltaLat = lat1rad - lat2rad;\n      var deltaLong = long1rad - long2rad;\n      var sinDeltaLatDiv2 = Math.sin(deltaLat / 2);\n      var sinDeltaLongDiv2 = Math.sin(deltaLong / 2);\n      // Square of half the straight line chord distance between both points.\n      var a = sinDeltaLatDiv2 * sinDeltaLatDiv2 + Math.cos(lat1rad) * Math.cos(lat2rad) * sinDeltaLongDiv2 * sinDeltaLongDiv2;\n      a = Math.min(1.0, a);\n      return 2 * Math.asin(Math.sqrt(a));\n    },\n\n    /**\n     * Returns the distance from this GeoPoint to another in kilometers.\n     * @param {AV.GeoPoint} point the other AV.GeoPoint.\n     * @return {Number}\n     */\n    kilometersTo: function kilometersTo(point) {\n      return this.radiansTo(point) * 6371.0;\n    },\n\n    /**\n     * Returns the distance from this GeoPoint to another in miles.\n     * @param {AV.GeoPoint} point the other AV.GeoPoint.\n     * @return {Number}\n     */\n    milesTo: function milesTo(point) {\n      return this.radiansTo(point) * 3958.8;\n    }\n  });\n};\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nmodule.exports = function (AV) {\n  var PUBLIC_KEY = '*';\n\n  /**\n   * Creates a new ACL.\n   * If no argument is given, the ACL has no permissions for anyone.\n   * If the argument is a AV.User, the ACL will have read and write\n   *   permission for only that user.\n   * If the argument is any other JSON object, that object will be interpretted\n   *   as a serialized ACL created with toJSON().\n   * @see AV.Object#setACL\n   * @class\n   *\n   * <p>An ACL, or Access Control List can be added to any\n   * <code>AV.Object</code> to restrict access to only a subset of users\n   * of your application.</p>\n   */\n  AV.ACL = function (arg1) {\n    var self = this;\n    self.permissionsById = {};\n    if (_.isObject(arg1)) {\n      if (arg1 instanceof AV.User) {\n        self.setReadAccess(arg1, true);\n        self.setWriteAccess(arg1, true);\n      } else {\n        if (_.isFunction(arg1)) {\n          throw new Error('AV.ACL() called with a function.  Did you forget ()?');\n        }\n        AV._objectEach(arg1, function (accessList, userId) {\n          if (!_.isString(userId)) {\n            throw new Error('Tried to create an ACL with an invalid userId.');\n          }\n          self.permissionsById[userId] = {};\n          AV._objectEach(accessList, function (allowed, permission) {\n            if (permission !== 'read' && permission !== 'write') {\n              throw new Error('Tried to create an ACL with an invalid permission type.');\n            }\n            if (!_.isBoolean(allowed)) {\n              throw new Error('Tried to create an ACL with an invalid permission value.');\n            }\n            self.permissionsById[userId][permission] = allowed;\n          });\n        });\n      }\n    }\n  };\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @return {Object}\n   */\n  AV.ACL.prototype.toJSON = function () {\n    return _.clone(this.permissionsById);\n  };\n\n  AV.ACL.prototype._setAccess = function (accessType, userId, allowed) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    if (!_.isString(userId)) {\n      throw new Error('userId must be a string.');\n    }\n    if (!_.isBoolean(allowed)) {\n      throw new Error('allowed must be either true or false.');\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      if (!allowed) {\n        // The user already doesn't have this permission, so no action needed.\n        return;\n      } else {\n        permissions = {};\n        this.permissionsById[userId] = permissions;\n      }\n    }\n\n    if (allowed) {\n      this.permissionsById[userId][accessType] = true;\n    } else {\n      delete permissions[accessType];\n      if (_.isEmpty(permissions)) {\n        delete this.permissionsById[userId];\n      }\n    }\n  };\n\n  AV.ACL.prototype._getAccess = function (accessType, userId) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      return false;\n    }\n    return permissions[accessType] ? true : false;\n  };\n\n  /**\n   * Set whether the given user is allowed to read this object.\n   * @param userId An instance of AV.User or its objectId.\n   * @param {Boolean} allowed Whether that user should have read access.\n   */\n  AV.ACL.prototype.setReadAccess = function (userId, allowed) {\n    this._setAccess('read', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to read this object.\n   * Even if this returns false, the user may still be able to access it if\n   * getPublicReadAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getReadAccess = function (userId) {\n    return this._getAccess('read', userId);\n  };\n\n  /**\n   * Set whether the given user id is allowed to write this object.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role..\n   * @param {Boolean} allowed Whether that user should have write access.\n   */\n  AV.ACL.prototype.setWriteAccess = function (userId, allowed) {\n    this._setAccess('write', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to write this object.\n   * Even if this returns false, the user may still be able to write it if\n   * getPublicWriteAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getWriteAccess = function (userId) {\n    return this._getAccess('write', userId);\n  };\n\n  /**\n   * Set whether the public is allowed to read this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicReadAccess = function (allowed) {\n    this.setReadAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to read this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicReadAccess = function () {\n    return this.getReadAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Set whether the public is allowed to write this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicWriteAccess = function (allowed) {\n    this.setWriteAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to write this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicWriteAccess = function () {\n    return this.getWriteAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to read this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has read access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has read access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleReadAccess = function (role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getReadAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to write this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has write access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has write access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleWriteAccess = function (role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getWriteAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to read this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can read this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleReadAccess = function (role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setReadAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to write this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can write this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleWriteAccess = function (role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setWriteAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n};\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nmodule.exports = function (AV) {\n  /**\n   * @private\n   * @class\n   * A AV.Op is an atomic operation that can be applied to a field in a\n   * AV.Object. For example, calling <code>object.set(\"foo\", \"bar\")</code>\n   * is an example of a AV.Op.Set. Calling <code>object.unset(\"foo\")</code>\n   * is a AV.Op.Unset. These operations are stored in a AV.Object and\n   * sent to the server as part of <code>object.save()</code> operations.\n   * Instances of AV.Op should be immutable.\n   *\n   * You should not create subclasses of AV.Op or instantiate AV.Op\n   * directly.\n   */\n  AV.Op = function () {\n    this._initialize.apply(this, arguments);\n  };\n\n  _.extend(AV.Op.prototype,\n  /** @lends AV.Op.prototype */{\n    _initialize: function _initialize() {}\n  });\n\n  _.extend(AV.Op, {\n    /**\n     * To create a new Op, call AV.Op._extend();\n     * @private\n     */\n    _extend: AV._extend,\n\n    // A map of __op string to decoder function.\n    _opDecoderMap: {},\n\n    /**\n     * Registers a function to convert a json object with an __op field into an\n     * instance of a subclass of AV.Op.\n     * @private\n     */\n    _registerDecoder: function _registerDecoder(opName, decoder) {\n      AV.Op._opDecoderMap[opName] = decoder;\n    },\n\n    /**\n     * Converts a json object into an instance of a subclass of AV.Op.\n     * @private\n     */\n    _decode: function _decode(json) {\n      var decoder = AV.Op._opDecoderMap[json.__op];\n      if (decoder) {\n        return decoder(json);\n      } else {\n        return undefined;\n      }\n    }\n  });\n\n  /*\n   * Add a handler for Batch ops.\n   */\n  AV.Op._registerDecoder('Batch', function (json) {\n    var op = null;\n    AV._arrayEach(json.ops, function (nextOp) {\n      nextOp = AV.Op._decode(nextOp);\n      op = nextOp._mergeWithPrevious(op);\n    });\n    return op;\n  });\n\n  /**\n   * @private\n   * @class\n   * A Set operation indicates that either the field was changed using\n   * AV.Object.set, or it is a mutable container that was detected as being\n   * changed.\n   */\n  AV.Op.Set = AV.Op._extend(\n  /** @lends AV.Op.Set.prototype */{\n    _initialize: function _initialize(value) {\n      this._value = value;\n    },\n\n    /**\n     * Returns the new value of this field after the set.\n     */\n    value: function value() {\n      return this._value;\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return AV._encode(this.value());\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      return this;\n    },\n\n    _estimate: function _estimate(oldValue) {\n      return this.value();\n    }\n  });\n\n  /**\n   * A sentinel value that is returned by AV.Op.Unset._estimate to\n   * indicate the field should be deleted. Basically, if you find _UNSET as a\n   * value in your object, you should remove that key.\n   */\n  AV.Op._UNSET = {};\n\n  /**\n   * @private\n   * @class\n   * An Unset operation indicates that this field has been deleted from the\n   * object.\n   */\n  AV.Op.Unset = AV.Op._extend(\n  /** @lends AV.Op.Unset.prototype */{\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'Delete' };\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      return this;\n    },\n\n    _estimate: function _estimate(oldValue) {\n      return AV.Op._UNSET;\n    }\n  });\n\n  AV.Op._registerDecoder('Delete', function (json) {\n    return new AV.Op.Unset();\n  });\n\n  /**\n   * @private\n   * @class\n   * An Increment is an atomic operation where the numeric value for the field\n   * will be increased by a given amount.\n   */\n  AV.Op.Increment = AV.Op._extend(\n  /** @lends AV.Op.Increment.prototype */{\n    _initialize: function _initialize(amount) {\n      this._amount = amount;\n    },\n\n    /**\n     * Returns the amount to increment by.\n     * @return {Number} the amount to increment by.\n     */\n    amount: function amount() {\n      return this._amount;\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'Increment', amount: this._amount };\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(this.amount());\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(previous.value() + this.amount());\n      } else if (previous instanceof AV.Op.Increment) {\n        return new AV.Op.Increment(this.amount() + previous.amount());\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n\n    _estimate: function _estimate(oldValue) {\n      if (!oldValue) {\n        return this.amount();\n      }\n      return oldValue + this.amount();\n    }\n  });\n\n  AV.Op._registerDecoder('Increment', function (json) {\n    return new AV.Op.Increment(json.amount);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitAnd is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitAnd = AV.Op._extend(\n  /** @lends AV.Op.BitAnd.prototype */{\n    _initialize: function _initialize(value) {\n      this._value = value;\n    },\n    value: function value() {\n      return this._value;\n    },\n\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'BitAnd', value: this.value() };\n    },\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(0);\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(previous.value() & this.value());\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n    _estimate: function _estimate(oldValue) {\n      return oldValue & this.value();\n    }\n  });\n\n  AV.Op._registerDecoder('BitAnd', function (json) {\n    return new AV.Op.BitAnd(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitOr is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitOr = AV.Op._extend(\n  /** @lends AV.Op.BitOr.prototype */{\n    _initialize: function _initialize(value) {\n      this._value = value;\n    },\n    value: function value() {\n      return this._value;\n    },\n\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'BitOr', value: this.value() };\n    },\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(this.value());\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(previous.value() | this.value());\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n    _estimate: function _estimate(oldValue) {\n      return oldValue | this.value();\n    }\n  });\n\n  AV.Op._registerDecoder('BitOr', function (json) {\n    return new AV.Op.BitOr(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitXor is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitXor = AV.Op._extend(\n  /** @lends AV.Op.BitXor.prototype */{\n    _initialize: function _initialize(value) {\n      this._value = value;\n    },\n    value: function value() {\n      return this._value;\n    },\n\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'BitXor', value: this.value() };\n    },\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(this.value());\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(previous.value() ^ this.value());\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n    _estimate: function _estimate(oldValue) {\n      return oldValue ^ this.value();\n    }\n  });\n\n  AV.Op._registerDecoder('BitXor', function (json) {\n    return new AV.Op.BitXor(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * Add is an atomic operation where the given objects will be appended to the\n   * array that is stored in this field.\n   */\n  AV.Op.Add = AV.Op._extend(\n  /** @lends AV.Op.Add.prototype */{\n    _initialize: function _initialize(objects) {\n      this._objects = objects;\n    },\n\n    /**\n     * Returns the objects to be added to the array.\n     * @return {Array} The objects to be added to the array.\n     */\n    objects: function objects() {\n      return this._objects;\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'Add', objects: AV._encode(this.objects()) };\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(this.objects());\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(this._estimate(previous.value()));\n      } else if (previous instanceof AV.Op.Add) {\n        return new AV.Op.Add(previous.objects().concat(this.objects()));\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n\n    _estimate: function _estimate(oldValue) {\n      if (!oldValue) {\n        return _.clone(this.objects());\n      } else {\n        return oldValue.concat(this.objects());\n      }\n    }\n  });\n\n  AV.Op._registerDecoder('Add', function (json) {\n    return new AV.Op.Add(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * AddUnique is an atomic operation where the given items will be appended to\n   * the array that is stored in this field only if they were not already\n   * present in the array.\n   */\n  AV.Op.AddUnique = AV.Op._extend(\n  /** @lends AV.Op.AddUnique.prototype */{\n    _initialize: function _initialize(objects) {\n      this._objects = _.uniq(objects);\n    },\n\n    /**\n     * Returns the objects to be added to the array.\n     * @return {Array} The objects to be added to the array.\n     */\n    objects: function objects() {\n      return this._objects;\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'AddUnique', objects: AV._encode(this.objects()) };\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return new AV.Op.Set(this.objects());\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(this._estimate(previous.value()));\n      } else if (previous instanceof AV.Op.AddUnique) {\n        return new AV.Op.AddUnique(this._estimate(previous.objects()));\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n\n    _estimate: function _estimate(oldValue) {\n      if (!oldValue) {\n        return _.clone(this.objects());\n      } else {\n        // We can't just take the _.uniq(_.union(...)) of oldValue and\n        // this.objects, because the uniqueness may not apply to oldValue\n        // (especially if the oldValue was set via .set())\n        var newValue = _.clone(oldValue);\n        AV._arrayEach(this.objects(), function (obj) {\n          if (obj instanceof AV.Object && obj.id) {\n            var matchingObj = _.find(newValue, function (anObj) {\n              return anObj instanceof AV.Object && anObj.id === obj.id;\n            });\n            if (!matchingObj) {\n              newValue.push(obj);\n            } else {\n              var index = _.indexOf(newValue, matchingObj);\n              newValue[index] = obj;\n            }\n          } else if (!_.contains(newValue, obj)) {\n            newValue.push(obj);\n          }\n        });\n        return newValue;\n      }\n    }\n  });\n\n  AV.Op._registerDecoder('AddUnique', function (json) {\n    return new AV.Op.AddUnique(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * Remove is an atomic operation where the given objects will be removed from\n   * the array that is stored in this field.\n   */\n  AV.Op.Remove = AV.Op._extend(\n  /** @lends AV.Op.Remove.prototype */{\n    _initialize: function _initialize(objects) {\n      this._objects = _.uniq(objects);\n    },\n\n    /**\n     * Returns the objects to be removed from the array.\n     * @return {Array} The objects to be removed from the array.\n     */\n    objects: function objects() {\n      return this._objects;\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __op: 'Remove', objects: AV._encode(this.objects()) };\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        return previous;\n      } else if (previous instanceof AV.Op.Set) {\n        return new AV.Op.Set(this._estimate(previous.value()));\n      } else if (previous instanceof AV.Op.Remove) {\n        return new AV.Op.Remove(_.union(previous.objects(), this.objects()));\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n\n    _estimate: function _estimate(oldValue) {\n      if (!oldValue) {\n        return [];\n      } else {\n        var newValue = _.difference(oldValue, this.objects());\n        // If there are saved AV Objects being removed, also remove them.\n        AV._arrayEach(this.objects(), function (obj) {\n          if (obj instanceof AV.Object && obj.id) {\n            newValue = _.reject(newValue, function (other) {\n              return other instanceof AV.Object && other.id === obj.id;\n            });\n          }\n        });\n        return newValue;\n      }\n    }\n  });\n\n  AV.Op._registerDecoder('Remove', function (json) {\n    return new AV.Op.Remove(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * A Relation operation indicates that the field is an instance of\n   * AV.Relation, and objects are being added to, or removed from, that\n   * relation.\n   */\n  AV.Op.Relation = AV.Op._extend(\n  /** @lends AV.Op.Relation.prototype */{\n    _initialize: function _initialize(adds, removes) {\n      this._targetClassName = null;\n\n      var self = this;\n\n      var pointerToId = function pointerToId(object) {\n        if (object instanceof AV.Object) {\n          if (!object.id) {\n            throw new Error(\"You can't add an unsaved AV.Object to a relation.\");\n          }\n          if (!self._targetClassName) {\n            self._targetClassName = object.className;\n          }\n          if (self._targetClassName !== object.className) {\n            throw new Error('Tried to create a AV.Relation with 2 different types: ' + self._targetClassName + ' and ' + object.className + '.');\n          }\n          return object.id;\n        }\n        return object;\n      };\n\n      this.relationsToAdd = _.uniq(_.map(adds, pointerToId));\n      this.relationsToRemove = _.uniq(_.map(removes, pointerToId));\n    },\n\n    /**\n     * Returns an array of unfetched AV.Object that are being added to the\n     * relation.\n     * @return {Array}\n     */\n    added: function added() {\n      var self = this;\n      return _.map(this.relationsToAdd, function (objectId) {\n        var object = AV.Object._create(self._targetClassName);\n        object.id = objectId;\n        return object;\n      });\n    },\n\n    /**\n     * Returns an array of unfetched AV.Object that are being removed from\n     * the relation.\n     * @return {Array}\n     */\n    removed: function removed() {\n      var self = this;\n      return _.map(this.relationsToRemove, function (objectId) {\n        var object = AV.Object._create(self._targetClassName);\n        object.id = objectId;\n        return object;\n      });\n    },\n\n    /**\n     * Returns a JSON version of the operation suitable for sending to AV.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      var adds = null;\n      var removes = null;\n      var self = this;\n      var idToPointer = function idToPointer(id) {\n        return {\n          __type: 'Pointer',\n          className: self._targetClassName,\n          objectId: id\n        };\n      };\n      var pointers = null;\n      if (this.relationsToAdd.length > 0) {\n        pointers = _.map(this.relationsToAdd, idToPointer);\n        adds = { __op: 'AddRelation', objects: pointers };\n      }\n\n      if (this.relationsToRemove.length > 0) {\n        pointers = _.map(this.relationsToRemove, idToPointer);\n        removes = { __op: 'RemoveRelation', objects: pointers };\n      }\n\n      if (adds && removes) {\n        return { __op: 'Batch', ops: [adds, removes] };\n      }\n\n      return adds || removes || {};\n    },\n\n    _mergeWithPrevious: function _mergeWithPrevious(previous) {\n      if (!previous) {\n        return this;\n      } else if (previous instanceof AV.Op.Unset) {\n        throw new Error(\"You can't modify a relation after deleting it.\");\n      } else if (previous instanceof AV.Op.Relation) {\n        if (previous._targetClassName && previous._targetClassName !== this._targetClassName) {\n          throw new Error('Related object must be of class ' + previous._targetClassName + ', but ' + this._targetClassName + ' was passed in.');\n        }\n        var newAdd = _.union(_.difference(previous.relationsToAdd, this.relationsToRemove), this.relationsToAdd);\n        var newRemove = _.union(_.difference(previous.relationsToRemove, this.relationsToAdd), this.relationsToRemove);\n\n        var newRelation = new AV.Op.Relation(newAdd, newRemove);\n        newRelation._targetClassName = this._targetClassName;\n        return newRelation;\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    },\n\n    _estimate: function _estimate(oldValue, object, key) {\n      if (!oldValue) {\n        var relation = new AV.Relation(object, key);\n        relation.targetClassName = this._targetClassName;\n      } else if (oldValue instanceof AV.Relation) {\n        if (this._targetClassName) {\n          if (oldValue.targetClassName) {\n            if (oldValue.targetClassName !== this._targetClassName) {\n              throw new Error('Related object must be a ' + oldValue.targetClassName + ', but a ' + this._targetClassName + ' was passed in.');\n            }\n          } else {\n            oldValue.targetClassName = this._targetClassName;\n          }\n        }\n        return oldValue;\n      } else {\n        throw new Error('Op is invalid after previous op.');\n      }\n    }\n  });\n\n  AV.Op._registerDecoder('AddRelation', function (json) {\n    return new AV.Op.Relation(AV._decode(json.objects), []);\n  });\n  AV.Op._registerDecoder('RemoveRelation', function (json) {\n    return new AV.Op.Relation([], AV._decode(json.objects));\n  });\n};\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nmodule.exports = function (AV) {\n  /**\n   * Creates a new Relation for the given parent object and key. This\n   * constructor should rarely be used directly, but rather created by\n   * {@link AV.Object#relation}.\n   * @param {AV.Object} parent The parent of this relation.\n   * @param {String} key The key for this relation on the parent.\n   * @see AV.Object#relation\n   * @class\n   *\n   * <p>\n   * A class that is used to access all of the children of a many-to-many\n   * relationship.  Each instance of AV.Relation is associated with a\n   * particular parent object and key.\n   * </p>\n   */\n  AV.Relation = function (parent, key) {\n    if (!_.isString(key)) {\n      throw new TypeError('key must be a string');\n    }\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  };\n\n  /**\n   * Creates a query that can be used to query the parent objects in this relation.\n   * @param {String} parentClass The parent class or name.\n   * @param {String} relationKey The relation field key in parent.\n   * @param {AV.Object} child The child object.\n   * @return {AV.Query}\n   */\n  AV.Relation.reverseQuery = function (parentClass, relationKey, child) {\n    var query = new AV.Query(parentClass);\n    query.equalTo(relationKey, child._toPointer());\n    return query;\n  };\n\n  _.extend(AV.Relation.prototype,\n  /** @lends AV.Relation.prototype */{\n    /**\n     * Makes sure that this relation has the right parent and key.\n     * @private\n     */\n    _ensureParentAndKey: function _ensureParentAndKey(parent, key) {\n      this.parent = this.parent || parent;\n      this.key = this.key || key;\n      if (this.parent !== parent) {\n        throw new Error('Internal Error. Relation retrieved from two different Objects.');\n      }\n      if (this.key !== key) {\n        throw new Error('Internal Error. Relation retrieved from two different keys.');\n      }\n    },\n\n    /**\n     * Adds a AV.Object or an array of AV.Objects to the relation.\n     * @param {AV.Object|AV.Object[]} objects The item or items to add.\n     */\n    add: function add(objects) {\n      if (!_.isArray(objects)) {\n        objects = [objects];\n      }\n\n      var change = new AV.Op.Relation(objects, []);\n      this.parent.set(this.key, change);\n      this.targetClassName = change._targetClassName;\n    },\n\n    /**\n     * Removes a AV.Object or an array of AV.Objects from this relation.\n     * @param {AV.Object|AV.Object[]} objects The item or items to remove.\n     */\n    remove: function remove(objects) {\n      if (!_.isArray(objects)) {\n        objects = [objects];\n      }\n\n      var change = new AV.Op.Relation([], objects);\n      this.parent.set(this.key, change);\n      this.targetClassName = change._targetClassName;\n    },\n\n    /**\n     * Returns a JSON version of the object suitable for saving to disk.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      return { __type: 'Relation', className: this.targetClassName };\n    },\n\n    /**\n     * Returns a AV.Query that is limited to objects in this\n     * relation.\n     * @return {AV.Query}\n     */\n    query: function query() {\n      var targetClass;\n      var query;\n      if (!this.targetClassName) {\n        targetClass = AV.Object._getSubclass(this.parent.className);\n        query = new AV.Query(targetClass);\n        query._defaultParams.redirectClassNameForKey = this.key;\n      } else {\n        targetClass = AV.Object._getSubclass(this.targetClassName);\n        query = new AV.Query(targetClass);\n      }\n      query._addCondition('$relatedTo', 'object', this.parent._toPointer());\n      query._addCondition('$relatedTo', 'key', this.key);\n\n      return query;\n    }\n  });\n};\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar cos = __webpack_require__(138);\nvar qiniu = __webpack_require__(139);\nvar s3 = __webpack_require__(140);\nvar AVError = __webpack_require__(18);\nvar AVRequest = __webpack_require__(8)._request;\n\nvar _require = __webpack_require__(7),\n    tap = _require.tap,\n    transformFetchOptions = _require.transformFetchOptions;\n\nvar debug = __webpack_require__(24)('leancloud:file');\nvar parseBase64 = __webpack_require__(144);\n\nmodule.exports = function (AV) {\n  var hexOctet = function hexOctet() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  };\n\n  // port from browserify path module\n  // since react-native packager won't shim node modules.\n  var extname = function extname(path) {\n    if (!_.isString(path)) return '';\n    return path.match(/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/)[4];\n  };\n\n  var b64Digit = function b64Digit(number) {\n    if (number < 26) {\n      return String.fromCharCode(65 + number);\n    }\n    if (number < 52) {\n      return String.fromCharCode(97 + (number - 26));\n    }\n    if (number < 62) {\n      return String.fromCharCode(48 + (number - 52));\n    }\n    if (number === 62) {\n      return '+';\n    }\n    if (number === 63) {\n      return '/';\n    }\n    throw new Error('Tried to encode large digit ' + number + ' in base64.');\n  };\n\n  var encodeBase64 = function encodeBase64(array) {\n    var chunks = [];\n    chunks.length = Math.ceil(array.length / 3);\n    _.times(chunks.length, function (i) {\n      var b1 = array[i * 3];\n      var b2 = array[i * 3 + 1] || 0;\n      var b3 = array[i * 3 + 2] || 0;\n\n      var has2 = i * 3 + 1 < array.length;\n      var has3 = i * 3 + 2 < array.length;\n\n      chunks[i] = [b64Digit(b1 >> 2 & 0x3f), b64Digit(b1 << 4 & 0x30 | b2 >> 4 & 0x0f), has2 ? b64Digit(b2 << 2 & 0x3c | b3 >> 6 & 0x03) : '=', has3 ? b64Digit(b3 & 0x3f) : '='].join('');\n    });\n    return chunks.join('');\n  };\n\n  /**\n   * An AV.File is a local representation of a file that is saved to the AV\n   * cloud.\n   * @param name {String} The file's name. This will change to a unique value\n   *     once the file has finished saving.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. a Blob(File) selected with a file upload control.\n   *     4. a Buffer in Node.js runtime.\n   *     5. a Stream in Node.js runtime.\n   *\n   *        For example:<pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var file = new AV.File(name, file);\n   *   file.save().then(function() {\n   *     // The file has been saved to AV.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to AV.\n   *   });\n   * }</pre>\n   *\n   * @class\n   * @param [mimeType] {String} Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   */\n  AV.File = function (name, data, mimeType) {\n    this.attributes = {\n      name: name,\n      url: '',\n      metaData: {},\n      //  base64 String\n      base64: ''\n    };\n\n    if (_.isString(data)) {\n      throw new TypeError('Creating an AV.File from a String is not yet supported.');\n    }\n    if (_.isArray(data)) {\n      this.attributes.metaData.size = data.length;\n      data = { base64: encodeBase64(data) };\n    }\n\n    this._extName = '';\n    this._data = data;\n    this._uploadHeaders = {};\n\n    if (data && data.blob && typeof data.blob.uri === 'string') {\n      this._extName = extname(data.blob.uri);\n    }\n\n    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n      if (data.size) {\n        this.attributes.metaData.size = data.size;\n      }\n      if (data.name) {\n        this._extName = extname(data.name);\n      }\n    }\n\n    var owner = void 0;\n    if (data && data.owner) {\n      owner = data.owner;\n    } else if (!AV._config.disableCurrentUser) {\n      try {\n        owner = AV.User.current();\n      } catch (error) {\n        if ('SYNC_API_NOT_AVAILABLE' !== error.code) {\n          throw error;\n        }\n      }\n    }\n\n    this.attributes.metaData.owner = owner ? owner.id : 'unknown';\n\n    this.set('mime_type', mimeType);\n  };\n\n  /**\n   * Creates a fresh AV.File object with exists url for saving to AVOS Cloud.\n   * @param {String} name the file name\n   * @param {String} url the file url.\n   * @param {Object} [metaData] the file metadata object.\n   * @param {String} [type] Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @return {AV.File} the file object\n   */\n  AV.File.withURL = function (name, url, metaData, type) {\n    if (!name || !url) {\n      throw new Error('Please provide file name and url');\n    }\n    var file = new AV.File(name, null, type);\n    //copy metaData properties to file.\n    if (metaData) {\n      for (var prop in metaData) {\n        if (!file.attributes.metaData[prop]) file.attributes.metaData[prop] = metaData[prop];\n      }\n    }\n    file.attributes.url = url;\n    //Mark the file is from external source.\n    file.attributes.metaData.__source = 'external';\n    return file;\n  };\n\n  /**\n   * Creates a file object with exists objectId.\n   * @param {String} objectId The objectId string\n   * @return {AV.File} the file object\n   */\n  AV.File.createWithoutData = function (objectId) {\n    var file = new AV.File();\n    file.id = objectId;\n    return file;\n  };\n\n  _.extend(AV.File.prototype,\n  /** @lends AV.File.prototype */{\n    className: '_File',\n\n    _toFullJSON: function _toFullJSON(seenObjects) {\n      var _this = this;\n\n      var full = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var json = _.clone(this.attributes);\n      AV._objectEach(json, function (val, key) {\n        json[key] = AV._encode(val, seenObjects, undefined, full);\n      });\n      AV._objectEach(this._operations, function (val, key) {\n        json[key] = val;\n      });\n\n      if (_.has(this, 'id')) {\n        json.objectId = this.id;\n      }\n      _(['createdAt', 'updatedAt']).each(function (key) {\n        if (_.has(_this, key)) {\n          var val = _this[key];\n          json[key] = _.isDate(val) ? val.toJSON() : val;\n        }\n      });\n      if (full) {\n        json.__type = 'File';\n      }\n      return json;\n    },\n\n\n    /**\n     * Returns a JSON version of the file with meta data.\n     * Inverse to {@link AV.parseJSON}\n     * @since 3.0.0\n     * @return {Object}\n     */\n    toFullJSON: function toFullJSON() {\n      var seenObjects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      return this._toFullJSON(seenObjects);\n    },\n\n\n    /**\n     * Returns a JSON version of the object.\n     * @return {Object}\n     */\n    toJSON: function toJSON(key, holder) {\n      var seenObjects = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this];\n\n      return this._toFullJSON(seenObjects, false);\n    },\n\n\n    /**\n     * Gets a Pointer referencing this file.\n     * @private\n     */\n    _toPointer: function _toPointer() {\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    },\n\n\n    /**\n     * Returns the ACL for this file.\n     * @returns {AV.ACL} An instance of AV.ACL.\n     */\n    getACL: function getACL() {\n      return this._acl;\n    },\n\n\n    /**\n     * Sets the ACL to be used for this file.\n     * @param {AV.ACL} acl An instance of AV.ACL.\n     */\n    setACL: function setACL(acl) {\n      if (!(acl instanceof AV.ACL)) {\n        return new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n      }\n      this._acl = acl;\n      return this;\n    },\n\n\n    /**\n     * Gets the name of the file. Before save is called, this is the filename\n     * given by the user. After save is called, that name gets prefixed with a\n     * unique identifier.\n     */\n    name: function name() {\n      return this.get('name');\n    },\n\n\n    /**\n     * Gets the url of the file. It is only available after you save the file or\n     * after you get the file from a AV.Object.\n     * @return {String}\n     */\n    url: function url() {\n      return this.get('url');\n    },\n\n\n    /**\n     * Gets the attributs of the file object.\n     * @param {String} The attribute name which want to get.\n     * @returns {Any}\n     */\n    get: function get(attrName) {\n      switch (attrName) {\n        case 'objectId':\n          return this.id;\n        case 'url':\n        case 'name':\n        case 'mime_type':\n        case 'metaData':\n        case 'createdAt':\n        case 'updatedAt':\n          return this.attributes[attrName];\n        default:\n          return this.attributes.metaData[attrName];\n      }\n    },\n\n\n    /**\n     * Set the metaData of the file object.\n     * @param {Object} Object is an key value Object for setting metaData.\n     * @param {String} attr is an optional metadata key.\n     * @param {Object} value is an optional metadata value.\n     * @returns {String|Number|Array|Object}\n     */\n    set: function set() {\n      var _this2 = this;\n\n      var set = function set(attrName, value) {\n        switch (attrName) {\n          case 'name':\n          case 'url':\n          case 'mime_type':\n          case 'base64':\n          case 'metaData':\n            _this2.attributes[attrName] = value;\n            break;\n          default:\n            // File  AVObject metaData \n            _this2.attributes.metaData[attrName] = value;\n            break;\n        }\n      };\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      switch (args.length) {\n        case 1:\n          //  Object\n          for (var k in args[0]) {\n            set(k, args[0][k]);\n          }\n          break;\n        case 2:\n          set(args[0], args[1]);\n          break;\n      }\n      return this;\n    },\n\n\n    /**\n     * Set a header for the upload request.\n     * For more infomation, go to https://url.leanapp.cn/avfile-upload-headers\n     *\n     * @param {String} key header key\n     * @param {String} value header value\n     * @return {AV.File} this\n     */\n    setUploadHeader: function setUploadHeader(key, value) {\n      this._uploadHeaders[key] = value;\n      return this;\n    },\n\n\n    /**\n     * <p>Returns the file's metadata JSON object if no arguments is given.Returns the\n     * metadata value if a key is given.Set metadata value if key and value are both given.</p>\n     * <p><pre>\n     *  var metadata = file.metaData(); //Get metadata JSON object.\n     *  var size = file.metaData('size');  // Get the size metadata value.\n     *  file.metaData('format', 'jpeg'); //set metadata attribute and value.\n     *</pre></p>\n     * @return {Object} The file's metadata JSON object.\n     * @param {String} attr an optional metadata key.\n     * @param {Object} value an optional metadata value.\n     **/\n    metaData: function metaData(attr, value) {\n      if (attr && value) {\n        this.attributes.metaData[attr] = value;\n        return this;\n      } else if (attr && !value) {\n        return this.attributes.metaData[attr];\n      } else {\n        return this.attributes.metaData;\n      }\n    },\n\n\n    /**\n     * URL\n     * @return {String} URL\n     * @param {Number} width \n     * @param {Number} heigth \n     * @param {Number} quality 1-100100\n     * @param {Number} scaleToFit true\n     * @param {String} fmt pngjpeg,gif\n     */\n\n    thumbnailURL: function thumbnailURL(width, height) {\n      var quality = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var scaleToFit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var fmt = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'png';\n\n      var url = this.attributes.url;\n      if (!url) {\n        throw new Error('Invalid url.');\n      }\n      if (!width || !height || width <= 0 || height <= 0) {\n        throw new Error('Invalid width or height value.');\n      }\n      if (quality <= 0 || quality > 100) {\n        throw new Error('Invalid quality value.');\n      }\n      var mode = scaleToFit ? 2 : 1;\n      return url + '?imageView/' + mode + '/w/' + width + '/h/' + height + '/q/' + quality + '/format/' + fmt;\n    },\n\n\n    /**\n     * Returns the file's size.\n     * @return {Number} The file's size in bytes.\n     **/\n    size: function size() {\n      return this.metaData().size;\n    },\n\n\n    /**\n     * Returns the file's owner.\n     * @return {String} The file's owner id.\n     */\n    ownerId: function ownerId() {\n      return this.metaData().owner;\n    },\n\n\n    /**\n     * Destroy the file.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n    destroy: function destroy(options) {\n      if (!this.id) {\n        return _promise2.default.reject(new Error('The file id does not eixst.'));\n      }\n      var request = AVRequest('files', null, this.id, 'DELETE', null, options);\n      return request;\n    },\n\n\n    /**\n     * Request Qiniu upload token\n     * @param {string} type\n     * @return {Promise} Resolved with the response\n     * @private\n     */\n    _fileToken: function _fileToken(type, authOptions) {\n      var name = this.attributes.name;\n\n      var extName = extname(name);\n      if (!extName && this._extName) {\n        name += this._extName;\n        extName = this._extName;\n      }\n      // Create 16-bits uuid as qiniu key.\n      var key = hexOctet() + hexOctet() + hexOctet() + hexOctet() + hexOctet() + extName;\n      var data = {\n        key: key,\n        name: name,\n        keep_file_name: authOptions.keepFileName,\n        ACL: this._acl,\n        mime_type: type,\n        metaData: this.attributes.metaData\n      };\n      this._qiniu_key = key;\n      return AVRequest('fileTokens', null, null, 'POST', data, authOptions);\n    },\n\n\n    /**\n     * @callback UploadProgressCallback\n     * @param {XMLHttpRequestProgressEvent} event - The progress event with 'loaded' and 'total' attributes\n     */\n    /**\n     * Saves the file to the AV cloud.\n     * @param {AuthOptions} [options] AuthOptions plus:\n     * @param {UploadProgressCallback} [options.onprogress]  Node.js  {@link UploadProgressCallback}\n     * @param {boolean} [options.keepFileName = false] \n     * @return {Promise} Promise that is resolved when the save finishes.\n     */\n    save: function save() {\n      var _this3 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this.id) {\n        throw new Error('File is already saved.');\n      }\n      if (!this._previousSave) {\n        if (this._data) {\n          var mimeType = this.get('mime_type');\n          this._previousSave = this._fileToken(mimeType, options).then(function (uploadInfo) {\n            if (uploadInfo.mime_type) {\n              mimeType = uploadInfo.mime_type;\n              _this3.set('mime_type', mimeType);\n            }\n            _this3._token = uploadInfo.token;\n            return _promise2.default.resolve().then(function () {\n              var data = _this3._data;\n              if (data && data.base64) {\n                return parseBase64(data.base64, mimeType);\n              }\n              if (data && data.blob) {\n                if (!data.blob.type && mimeType) {\n                  data.blob.type = mimeType;\n                }\n                if (!data.blob.name) {\n                  data.blob.name = _this3.get('name');\n                }\n                return data.blob;\n              }\n              if (typeof Blob !== 'undefined' && data instanceof Blob) {\n                return data;\n              }\n              throw new TypeError('malformed file data');\n            }).then(function (data) {\n              var _options = _.extend({}, options);\n              // filter out download progress events\n              if (options.onprogress) {\n                _options.onprogress = function (event) {\n                  if (event.direction === 'download') return;\n                  return options.onprogress(event);\n                };\n              }\n              switch (uploadInfo.provider) {\n                case 's3':\n                  return s3(uploadInfo, data, _this3, _options);\n                case 'qcloud':\n                  return cos(uploadInfo, data, _this3, _options);\n                case 'qiniu':\n                default:\n                  return qiniu(uploadInfo, data, _this3, _options);\n              }\n            }).then(tap(function () {\n              return _this3._callback(true);\n            }), function (error) {\n              _this3._callback(false);\n              throw error;\n            });\n          });\n        } else if (this.attributes.url && this.attributes.metaData.__source === 'external') {\n          // external link file.\n          var data = {\n            name: this.attributes.name,\n            ACL: this._acl,\n            metaData: this.attributes.metaData,\n            mime_type: this.mimeType,\n            url: this.attributes.url\n          };\n          this._previousSave = AVRequest('files', this.attributes.name, null, 'post', data, options).then(function (response) {\n            _this3.attributes.name = response.name;\n            _this3.attributes.url = response.url;\n            _this3.id = response.objectId;\n            if (response.size) {\n              _this3.attributes.metaData.size = response.size;\n            }\n            return _this3;\n          });\n        }\n      }\n      return this._previousSave;\n    },\n    _callback: function _callback(success) {\n      AVRequest('fileCallback', null, null, 'post', {\n        token: this._token,\n        result: success\n      }).catch(debug);\n      delete this._token;\n      delete this._data;\n    },\n\n\n    /**\n     * fetch the file from server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden,\n     * @param {Object} fetchOptions Optional options to set 'keys',\n     *      'include' and 'includeACL' option.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n    fetch: function fetch(fetchOptions, options) {\n      var request = AVRequest('files', null, this.id, 'GET', transformFetchOptions(fetchOptions), options);\n      return request.then(this._finishFetch.bind(this));\n    },\n    _finishFetch: function _finishFetch(response) {\n      var value = AV.Object.prototype.parse(response);\n      value.attributes = {\n        name: value.name,\n        url: value.url,\n        mime_type: value.mime_type,\n        bucket: value.bucket\n      };\n      value.attributes.metaData = value.metaData || {};\n      value.id = value.objectId;\n      // clean\n      delete value.objectId;\n      delete value.metaData;\n      delete value.url;\n      delete value.name;\n      delete value.mime_type;\n      delete value.bucket;\n      _.extend(this, value);\n      return this;\n    }\n  });\n};\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _require = __webpack_require__(32),\n    getAdapter = _require.getAdapter;\n\nvar debug = __webpack_require__(24)('cos');\n\nmodule.exports = function (uploadInfo, data, file) {\n  var saveOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  var url = uploadInfo.upload_url + '?sign=' + encodeURIComponent(uploadInfo.token);\n  var fileFormData = {\n    field: 'fileContent',\n    data: data,\n    name: file.attributes.name\n  };\n  var options = {\n    headers: file._uploadHeaders,\n    data: {\n      op: 'upload'\n    },\n    onprogress: saveOptions.onprogress\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  var upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(function (response) {\n    debug(response.status, response.data);\n    if (response.ok === false) {\n      var error = new Error(response.status);\n      error.response = response;\n      throw error;\n    }\n    return file;\n  }, function (error) {\n    var response = error.response;\n\n    if (response) {\n      debug(response.status, response.data);\n      error.statusCode = response.status;\n      error.response = response.data;\n    }\n    throw error;\n  });\n};\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = __webpack_require__(32),\n    getAdapter = _require.getAdapter;\n\nvar debug = __webpack_require__(24)('leancloud:qiniu');\n\nmodule.exports = function (uploadInfo, data, file) {\n  var saveOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  // Get the uptoken to upload files to qiniu.\n  var uptoken = uploadInfo.token;\n  var url = uploadInfo.upload_url || 'https://upload.qiniup.com';\n  var fileFormData = {\n    field: 'file',\n    data: data,\n    name: file.attributes.name\n  };\n  var options = {\n    headers: file._uploadHeaders,\n    data: {\n      name: file.attributes.name,\n      key: uploadInfo.key || file._qiniu_key,\n      token: uptoken\n    },\n    onprogress: saveOptions.onprogress\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  var upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(function (response) {\n    debug(response.status, response.data);\n    if (response.ok === false) {\n      var message = response.status;\n      if (response.data) {\n        if (response.data.error) {\n          message = response.data.error;\n        } else {\n          message = (0, _stringify2.default)(response.data);\n        }\n      }\n      var error = new Error(message);\n      error.response = response;\n      throw error;\n    }\n    return file;\n  }, function (error) {\n    var response = error.response;\n\n    if (response) {\n      debug(response.status, response.data);\n      error.statusCode = response.status;\n      error.response = response.data;\n    }\n    throw error;\n  });\n};\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(7),\n    ajax = _require.ajax;\n\nmodule.exports = function upload(uploadInfo, data, file) {\n  var saveOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n\n  return ajax({\n    url: uploadInfo.upload_url,\n    method: 'PUT',\n    data: data,\n    headers: _.extend({\n      'Content-Type': file.get('mime_type'),\n      'Cache-Control': 'public, max-age=31536000'\n    }, file._uploadHeaders),\n    onprogress: saveOptions.onprogress\n  }).then(function () {\n    return file;\n  });\n};\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(){\r\n  var crypt = __webpack_require__(142),\r\n      utf8 = __webpack_require__(83).utf8,\r\n      isBuffer = __webpack_require__(143),\r\n      bin = __webpack_require__(83).bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports) {\n\n(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports) {\n\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar dataURItoBlob = function dataURItoBlob(dataURI, type) {\n  var byteString;\n\n  //  base64 dataURL\n  if (dataURI.indexOf('base64') < 0) {\n    byteString = atob(dataURI);\n  } else if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    type = type || dataURI.split(',')[0].split(':')[1].split(';')[0];\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type: type });\n};\n\nmodule.exports = dataURItoBlob;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _getOwnPropertyDescriptor = __webpack_require__(84);\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _slicedToArray2 = __webpack_require__(148);\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar AVError = __webpack_require__(18);\n\nvar _require = __webpack_require__(8),\n    _request = _require._request;\n\nvar _require2 = __webpack_require__(7),\n    isNullOrUndefined = _require2.isNullOrUndefined,\n    ensureArray = _require2.ensureArray,\n    transformFetchOptions = _require2.transformFetchOptions,\n    setValue = _require2.setValue,\n    findValue = _require2.findValue,\n    isPlainObject = _require2.isPlainObject,\n    continueWhile = _require2.continueWhile;\n\nvar recursiveToPointer = function recursiveToPointer(value) {\n  if (_.isArray(value)) return value.map(recursiveToPointer);\n  if (isPlainObject(value)) return _.mapObject(value, recursiveToPointer);\n  if (_.isObject(value) && value._toPointer) return value._toPointer();\n  return value;\n};\n\nvar RESERVED_KEYS = ['objectId', 'createdAt', 'updatedAt'];\nvar checkReservedKey = function checkReservedKey(key) {\n  if (RESERVED_KEYS.indexOf(key) !== -1) {\n    throw new Error('key[' + key + '] is reserved');\n  }\n};\n\nvar handleBatchResults = function handleBatchResults(results) {\n  var firstError = _.find(results, function (result) {\n    return result instanceof Error;\n  });\n  if (!firstError) {\n    return results;\n  }\n  var error = new AVError(firstError.code, firstError.message);\n  error.results = results;\n  throw error;\n};\n\n// Helper function to get a value from a Backbone object as a property\n// or as a function.\nfunction getValue(object, prop) {\n  if (!(object && object[prop])) {\n    return null;\n  }\n  return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n}\n\n// AV.Object is analogous to the Java AVObject.\n// It also implements the same interface as a Backbone model.\n\nmodule.exports = function (AV) {\n  /**\n   * Creates a new model with defined attributes. A client id (cid) is\n   * automatically generated and assigned for you.\n   *\n   * <p>You won't normally call this method directly.  It is recommended that\n   * you use a subclass of <code>AV.Object</code> instead, created by calling\n   * <code>extend</code>.</p>\n   *\n   * <p>However, if you don't want to use a subclass, or aren't sure which\n   * subclass is appropriate, you can use this form:<pre>\n   *     var object = new AV.Object(\"ClassName\");\n   * </pre>\n   * That is basically equivalent to:<pre>\n   *     var MyClass = AV.Object.extend(\"ClassName\");\n   *     var object = new MyClass();\n   * </pre></p>\n   *\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @see AV.Object.extend\n   *\n   * @class\n   *\n   * <p>The fundamental unit of AV data, which implements the Backbone Model\n   * interface.</p>\n   */\n  AV.Object = function (attributes, options) {\n    // Allow new AV.Object(\"ClassName\") as a shortcut to _create.\n    if (_.isString(attributes)) {\n      return AV.Object._create.apply(this, arguments);\n    }\n\n    attributes = attributes || {};\n    if (options && options.parse) {\n      attributes = this.parse(attributes);\n      attributes = this._mergeMagicFields(attributes);\n    }\n    var defaults = getValue(this, 'defaults');\n    if (defaults) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n\n    this._serverData = {}; // The last known data for this object from cloud.\n    this._opSetQueue = [{}]; // List of sets of changes to the data.\n    this._flags = {};\n    this.attributes = {}; // The best estimate of this's current data.\n\n    this._hashedJSON = {}; // Hash of values of containers at last save.\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, { silent: true });\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._hasData = true;\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  /**\n   * @lends AV.Object.prototype\n   * @property {String} id The objectId of the AV Object.\n   */\n\n  /**\n   * Saves the given list of AV.Object.\n   * If any error is encountered, stops and calls the error handler.\n   *\n   * @example\n   * AV.Object.saveAll([object1, object2, ...]).then(function(list) {\n   *   // All the objects were saved.\n   * }, function(error) {\n   *   // An error occurred while saving one of the objects.\n   * });\n   *\n   * @param {Array} list A list of <code>AV.Object</code>.\n   */\n  AV.Object.saveAll = function (list, options) {\n    return AV.Object._deepSaveAsync(list, null, options);\n  };\n\n  /**\n   * Fetch the given list of AV.Object.\n   *\n   * @param {AV.Object[]} objects A list of <code>AV.Object</code>\n   * @param {AuthOptions} options\n   * @return {Promise.<AV.Object[]>} The given list of <code>AV.Object</code>, updated\n   */\n\n  AV.Object.fetchAll = function (objects, options) {\n    return _promise2.default.resolve().then(function () {\n      return _request('batch', null, null, 'POST', {\n        requests: _.map(objects, function (object) {\n          if (!object.className) throw new Error('object must have className to fetch');\n          if (!object.id) throw new Error('object must have id to fetch');\n          if (object.dirty()) throw new Error('object is modified but not saved');\n          return {\n            method: 'GET',\n            path: '/1.1/classes/' + object.className + '/' + object.id\n          };\n        })\n      }, options);\n    }).then(function (response) {\n      var results = _.map(objects, function (object, i) {\n        if (response[i].success) {\n          var fetchedAttrs = object.parse(response[i].success);\n          object._cleanupUnsetKeys(fetchedAttrs);\n          object._finishFetch(fetchedAttrs);\n          return object;\n        }\n        if (response[i].success === null) {\n          return new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n        }\n        return new AVError(response[i].error.code, response[i].error.error);\n      });\n      return handleBatchResults(results);\n    });\n  };\n\n  // Attach all inheritable methods to the AV.Object prototype.\n  _.extend(AV.Object.prototype, AV.Events,\n  /** @lends AV.Object.prototype */{\n    _fetchWhenSave: false,\n\n    /**\n     * Initialize is an empty function by default. Override it with your own\n     * initialization logic.\n     */\n    initialize: function initialize() {},\n\n    /**\n     * Set whether to enable fetchWhenSave option when updating object.\n     * When set true, SDK would fetch the latest object after saving.\n     * Default is false.\n     *\n     * @deprecated use AV.Object#save with options.fetchWhenSave instead\n     * @param {boolean} enable  true to enable fetchWhenSave option.\n     */\n    fetchWhenSave: function fetchWhenSave(enable) {\n      console.warn('AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead.');\n      if (!_.isBoolean(enable)) {\n        throw new Error('Expect boolean value for fetchWhenSave');\n      }\n      this._fetchWhenSave = enable;\n    },\n\n    /**\n     * Returns the object's objectId.\n     * @return {String} the objectId.\n     */\n    getObjectId: function getObjectId() {\n      return this.id;\n    },\n\n    /**\n     * Returns the object's createdAt attribute.\n     * @return {Date}\n     */\n    getCreatedAt: function getCreatedAt() {\n      return this.createdAt;\n    },\n\n    /**\n     * Returns the object's updatedAt attribute.\n     * @return {Date}\n     */\n    getUpdatedAt: function getUpdatedAt() {\n      return this.updatedAt;\n    },\n\n    /**\n     * Returns a JSON version of the object.\n     * @return {Object}\n     */\n    toJSON: function toJSON(key, holder) {\n      var seenObjects = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      return this._toFullJSON(seenObjects, false);\n    },\n\n    /**\n     * Returns a JSON version of the object with meta data.\n     * Inverse to {@link AV.parseJSON}\n     * @since 3.0.0\n     * @return {Object}\n     */\n    toFullJSON: function toFullJSON() {\n      var seenObjects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      return this._toFullJSON(seenObjects);\n    },\n\n\n    _toFullJSON: function _toFullJSON(seenObjects) {\n      var _this = this;\n\n      var full = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var json = _.clone(this.attributes);\n      if (_.isArray(seenObjects)) {\n        var newSeenObjects = seenObjects.concat(this);\n      }\n      AV._objectEach(json, function (val, key) {\n        json[key] = AV._encode(val, newSeenObjects, undefined, full);\n      });\n      AV._objectEach(this._operations, function (val, key) {\n        json[key] = val;\n      });\n\n      if (_.has(this, 'id')) {\n        json.objectId = this.id;\n      }\n      _(['createdAt', 'updatedAt']).each(function (key) {\n        if (_.has(_this, key)) {\n          var val = _this[key];\n          json[key] = _.isDate(val) ? val.toJSON() : val;\n        }\n      });\n      if (full) {\n        json.__type = 'Object';\n        if (_.isArray(seenObjects) && seenObjects.length) json.__type = 'Pointer';\n        json.className = this.className;\n      }\n      return json;\n    },\n\n    /**\n     * Updates _hashedJSON to reflect the current state of this object.\n     * Adds any changed hash values to the set of pending changes.\n     * @private\n     */\n    _refreshCache: function _refreshCache() {\n      var self = this;\n      if (self._refreshingCache) {\n        return;\n      }\n      self._refreshingCache = true;\n      AV._objectEach(this.attributes, function (value, key) {\n        if (value instanceof AV.Object) {\n          value._refreshCache();\n        } else if (_.isObject(value)) {\n          if (self._resetCacheForKey(key)) {\n            self.set(key, new AV.Op.Set(value), { silent: true });\n          }\n        }\n      });\n      delete self._refreshingCache;\n    },\n\n    /**\n     * Returns true if this object has been modified since its last\n     * save/refresh.  If an attribute is specified, it returns true only if that\n     * particular attribute has been modified since the last save/refresh.\n     * @param {String} attr An attribute name (optional).\n     * @return {Boolean}\n     */\n    dirty: function dirty(attr) {\n      this._refreshCache();\n\n      var currentChanges = _.last(this._opSetQueue);\n\n      if (attr) {\n        return currentChanges[attr] ? true : false;\n      }\n      if (!this.id) {\n        return true;\n      }\n      if (_.keys(currentChanges).length > 0) {\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * Returns the keys of the modified attribute since its last save/refresh.\n     * @return {String[]}\n     */\n    dirtyKeys: function dirtyKeys() {\n      this._refreshCache();\n      var currentChanges = _.last(this._opSetQueue);\n      return _.keys(currentChanges);\n    },\n\n    /**\n     * Gets a Pointer referencing this Object.\n     * @private\n     */\n    _toPointer: function _toPointer() {\n      // if (!this.id) {\n      //   throw new Error(\"Can't serialize an unsaved AV.Object\");\n      // }\n      return {\n        __type: 'Pointer',\n        className: this.className,\n        objectId: this.id\n      };\n    },\n\n    /**\n     * Gets the value of an attribute.\n     * @param {String} attr The string name of an attribute.\n     */\n    get: function get(attr) {\n      switch (attr) {\n        case 'objectId':\n          return this.id;\n        case 'createdAt':\n        case 'updatedAt':\n          return this[attr];\n        default:\n          return this.attributes[attr];\n      }\n    },\n\n    /**\n     * Gets a relation on the given class for the attribute.\n     * @param {String} attr The attribute to get the relation for.\n     * @return {AV.Relation}\n     */\n    relation: function relation(attr) {\n      var value = this.get(attr);\n      if (value) {\n        if (!(value instanceof AV.Relation)) {\n          throw new Error('Called relation() on non-relation field ' + attr);\n        }\n        value._ensureParentAndKey(this, attr);\n        return value;\n      } else {\n        return new AV.Relation(this, attr);\n      }\n    },\n\n    /**\n     * Gets the HTML-escaped value of an attribute.\n     */\n    escape: function escape(attr) {\n      var html = this._escapedAttributes[attr];\n      if (html) {\n        return html;\n      }\n      var val = this.attributes[attr];\n      var escaped;\n      if (isNullOrUndefined(val)) {\n        escaped = '';\n      } else {\n        escaped = _.escape(val.toString());\n      }\n      this._escapedAttributes[attr] = escaped;\n      return escaped;\n    },\n\n    /**\n     * Returns <code>true</code> if the attribute contains a value that is not\n     * null or undefined.\n     * @param {String} attr The string name of the attribute.\n     * @return {Boolean}\n     */\n    has: function has(attr) {\n      return !isNullOrUndefined(this.attributes[attr]);\n    },\n\n    /**\n     * Pulls \"special\" fields like objectId, createdAt, etc. out of attrs\n     * and puts them on \"this\" directly.  Removes them from attrs.\n     * @param attrs - A dictionary with the data for this AV.Object.\n     * @private\n     */\n    _mergeMagicFields: function _mergeMagicFields(attrs) {\n      // Check for changes of magic fields.\n      var model = this;\n      var specialFields = ['objectId', 'createdAt', 'updatedAt'];\n      AV._arrayEach(specialFields, function (attr) {\n        if (attrs[attr]) {\n          if (attr === 'objectId') {\n            model.id = attrs[attr];\n          } else if ((attr === 'createdAt' || attr === 'updatedAt') && !_.isDate(attrs[attr])) {\n            model[attr] = AV._parseDate(attrs[attr]);\n          } else {\n            model[attr] = attrs[attr];\n          }\n          delete attrs[attr];\n        }\n      });\n      return attrs;\n    },\n\n    /**\n     * Returns the json to be sent to the server.\n     * @private\n     */\n    _startSave: function _startSave() {\n      this._opSetQueue.push({});\n    },\n\n    /**\n     * Called when a save fails because of an error. Any changes that were part\n     * of the save need to be merged with changes made after the save. This\n     * might throw an exception is you do conflicting operations. For example,\n     * if you do:\n     *   object.set(\"foo\", \"bar\");\n     *   object.set(\"invalid field name\", \"baz\");\n     *   object.save();\n     *   object.increment(\"foo\");\n     * then this will throw when the save fails and the client tries to merge\n     * \"bar\" with the +1.\n     * @private\n     */\n    _cancelSave: function _cancelSave() {\n      var failedChanges = _.first(this._opSetQueue);\n      this._opSetQueue = _.rest(this._opSetQueue);\n      var nextChanges = _.first(this._opSetQueue);\n      AV._objectEach(failedChanges, function (op, key) {\n        var op1 = failedChanges[key];\n        var op2 = nextChanges[key];\n        if (op1 && op2) {\n          nextChanges[key] = op2._mergeWithPrevious(op1);\n        } else if (op1) {\n          nextChanges[key] = op1;\n        }\n      });\n      this._saving = this._saving - 1;\n    },\n\n    /**\n     * Called when a save completes successfully. This merges the changes that\n     * were saved into the known server data, and overrides it with any data\n     * sent directly from the server.\n     * @private\n     */\n    _finishSave: function _finishSave(serverData) {\n      // Grab a copy of any object referenced by this object. These instances\n      // may have already been fetched, and we don't want to lose their data.\n      // Note that doing it like this means we will unify separate copies of the\n      // same object, but that's a risk we have to take.\n      var fetchedObjects = {};\n      AV._traverse(this.attributes, function (object) {\n        if (object instanceof AV.Object && object.id && object._hasData) {\n          fetchedObjects[object.id] = object;\n        }\n      });\n\n      var savedChanges = _.first(this._opSetQueue);\n      this._opSetQueue = _.rest(this._opSetQueue);\n      this._applyOpSet(savedChanges, this._serverData);\n      this._mergeMagicFields(serverData);\n      var self = this;\n      AV._objectEach(serverData, function (value, key) {\n        self._serverData[key] = AV._decode(value, key);\n\n        // Look for any objects that might have become unfetched and fix them\n        // by replacing their values with the previously observed values.\n        var fetched = AV._traverse(self._serverData[key], function (object) {\n          if (object instanceof AV.Object && fetchedObjects[object.id]) {\n            return fetchedObjects[object.id];\n          }\n        });\n        if (fetched) {\n          self._serverData[key] = fetched;\n        }\n      });\n      this._rebuildAllEstimatedData();\n      var opSetQueue = this._opSetQueue.map(_.clone);\n      this._refreshCache();\n      this._opSetQueue = opSetQueue;\n      this._saving = this._saving - 1;\n    },\n\n    /**\n     * Called when a fetch or login is complete to set the known server data to\n     * the given object.\n     * @private\n     */\n    _finishFetch: function _finishFetch(serverData, hasData) {\n      // Clear out any changes the user might have made previously.\n      this._opSetQueue = [{}];\n\n      // Bring in all the new server data.\n      this._mergeMagicFields(serverData);\n      var self = this;\n      AV._objectEach(serverData, function (value, key) {\n        self._serverData[key] = AV._decode(value, key);\n      });\n\n      // Refresh the attributes.\n      this._rebuildAllEstimatedData();\n\n      // Clear out the cache of mutable containers.\n      this._refreshCache();\n      this._opSetQueue = [{}];\n\n      this._hasData = hasData;\n    },\n\n    /**\n     * Applies the set of AV.Op in opSet to the object target.\n     * @private\n     */\n    _applyOpSet: function _applyOpSet(opSet, target) {\n      var self = this;\n      AV._objectEach(opSet, function (change, key) {\n        var _findValue = findValue(target, key),\n            _findValue2 = (0, _slicedToArray3.default)(_findValue, 3),\n            value = _findValue2[0],\n            actualTarget = _findValue2[1],\n            actualKey = _findValue2[2];\n\n        setValue(target, key, change._estimate(value, self, key));\n        if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n          delete actualTarget[actualKey];\n        }\n      });\n    },\n\n    /**\n     * Replaces the cached value for key with the current value.\n     * Returns true if the new value is different than the old value.\n     * @private\n     */\n    _resetCacheForKey: function _resetCacheForKey(key) {\n      var value = this.attributes[key];\n      if (_.isObject(value) && !(value instanceof AV.Object) && !(value instanceof AV.File)) {\n        var json = (0, _stringify2.default)(recursiveToPointer(value));\n        if (this._hashedJSON[key] !== json) {\n          var wasSet = !!this._hashedJSON[key];\n          this._hashedJSON[key] = json;\n          return wasSet;\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Populates attributes[key] by starting with the last known data from the\n     * server, and applying all of the local changes that have been made to that\n     * key since then.\n     * @private\n     */\n    _rebuildEstimatedDataForKey: function _rebuildEstimatedDataForKey(key) {\n      var self = this;\n      delete this.attributes[key];\n      if (this._serverData[key]) {\n        this.attributes[key] = this._serverData[key];\n      }\n      AV._arrayEach(this._opSetQueue, function (opSet) {\n        var op = opSet[key];\n        if (op) {\n          var _findValue3 = findValue(self.attributes, key),\n              _findValue4 = (0, _slicedToArray3.default)(_findValue3, 4),\n              value = _findValue4[0],\n              actualTarget = _findValue4[1],\n              actualKey = _findValue4[2],\n              firstKey = _findValue4[3];\n\n          setValue(self.attributes, key, op._estimate(value, self, key));\n          if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n            delete actualTarget[actualKey];\n          }\n          self._resetCacheForKey(firstKey);\n        }\n      });\n    },\n\n    /**\n     * Populates attributes by starting with the last known data from the\n     * server, and applying all of the local changes that have been made since\n     * then.\n     * @private\n     */\n    _rebuildAllEstimatedData: function _rebuildAllEstimatedData() {\n      var self = this;\n\n      var previousAttributes = _.clone(this.attributes);\n\n      this.attributes = _.clone(this._serverData);\n      AV._arrayEach(this._opSetQueue, function (opSet) {\n        self._applyOpSet(opSet, self.attributes);\n        AV._objectEach(opSet, function (op, key) {\n          self._resetCacheForKey(key);\n        });\n      });\n\n      // Trigger change events for anything that changed because of the fetch.\n      AV._objectEach(previousAttributes, function (oldValue, key) {\n        if (self.attributes[key] !== oldValue) {\n          self.trigger('change:' + key, self, self.attributes[key], {});\n        }\n      });\n      AV._objectEach(this.attributes, function (newValue, key) {\n        if (!_.has(previousAttributes, key)) {\n          self.trigger('change:' + key, self, newValue, {});\n        }\n      });\n    },\n\n    /**\n     * Sets a hash of model attributes on the object, firing\n     * <code>\"change\"</code> unless you choose to silence it.\n     *\n     * <p>You can call it with an object containing keys and values, or with one\n     * key and value.  For example:</p>\n     *\n     * @example\n     * gameTurn.set({\n     *   player: player1,\n     *   diceRoll: 2\n     * });\n     *\n     * game.set(\"currentPlayer\", player2);\n     *\n     * game.set(\"finished\", true);\n     *\n     * @param {String} key The key to set.\n     * @param {Any} value The value to give it.\n     * @param {Object} [options]\n     * @param {Boolean} [options.silent]\n     * @return {AV.Object} self if succeeded, throws if the value is not valid.\n     * @see AV.Object#validate\n     */\n    set: function set(key, value, options) {\n      var attrs;\n      if (_.isObject(key) || isNullOrUndefined(key)) {\n        attrs = _.mapObject(key, function (v, k) {\n          checkReservedKey(k);\n          return AV._decode(v, k);\n        });\n        options = value;\n      } else {\n        attrs = {};\n        checkReservedKey(key);\n        attrs[key] = AV._decode(value, key);\n      }\n\n      // Extract attributes and options.\n      options = options || {};\n      if (!attrs) {\n        return this;\n      }\n      if (attrs instanceof AV.Object) {\n        attrs = attrs.attributes;\n      }\n\n      // If the unset option is used, every attribute should be a Unset.\n      if (options.unset) {\n        AV._objectEach(attrs, function (unused_value, key) {\n          attrs[key] = new AV.Op.Unset();\n        });\n      }\n\n      // Apply all the attributes to get the estimated values.\n      var dataToValidate = _.clone(attrs);\n      var self = this;\n      AV._objectEach(dataToValidate, function (value, key) {\n        if (value instanceof AV.Op) {\n          dataToValidate[key] = value._estimate(self.attributes[key], self, key);\n          if (dataToValidate[key] === AV.Op._UNSET) {\n            delete dataToValidate[key];\n          }\n        }\n      });\n\n      // Run validation.\n      this._validate(attrs, options);\n\n      options.changes = {};\n      var escaped = this._escapedAttributes;\n\n      // Update attributes.\n      AV._arrayEach(_.keys(attrs), function (attr) {\n        var val = attrs[attr];\n\n        // If this is a relation object we need to set the parent correctly,\n        // since the location where it was parsed does not have access to\n        // this object.\n        if (val instanceof AV.Relation) {\n          val.parent = self;\n        }\n\n        if (!(val instanceof AV.Op)) {\n          val = new AV.Op.Set(val);\n        }\n\n        // See if this change will actually have any effect.\n        var isRealChange = true;\n        if (val instanceof AV.Op.Set && _.isEqual(self.attributes[attr], val.value)) {\n          isRealChange = false;\n        }\n\n        if (isRealChange) {\n          delete escaped[attr];\n          if (options.silent) {\n            self._silent[attr] = true;\n          } else {\n            options.changes[attr] = true;\n          }\n        }\n\n        var currentChanges = _.last(self._opSetQueue);\n        currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);\n        self._rebuildEstimatedDataForKey(attr);\n\n        if (isRealChange) {\n          self.changed[attr] = self.attributes[attr];\n          if (!options.silent) {\n            self._pending[attr] = true;\n          }\n        } else {\n          delete self.changed[attr];\n          delete self._pending[attr];\n        }\n      });\n\n      if (!options.silent) {\n        this.change(options);\n      }\n      return this;\n    },\n\n    /**\n     * Remove an attribute from the model, firing <code>\"change\"</code> unless\n     * you choose to silence it. This is a noop if the attribute doesn't\n     * exist.\n     * @param key {String} The key.\n     */\n    unset: function unset(attr, options) {\n      options = options || {};\n      options.unset = true;\n      return this.set(attr, null, options);\n    },\n\n    /**\n     * Atomically increments the value of the given attribute the next time the\n     * object is saved. If no amount is specified, 1 is used by default.\n     *\n     * @param key {String} The key.\n     * @param amount {Number} The amount to increment by.\n     */\n    increment: function increment(attr, amount) {\n      if (_.isUndefined(amount) || _.isNull(amount)) {\n        amount = 1;\n      }\n      return this.set(attr, new AV.Op.Increment(amount));\n    },\n\n    /**\n     * Atomically add an object to the end of the array associated with a given\n     * key.\n     * @param key {String} The key.\n     * @param item {} The item to add.\n     */\n    add: function add(attr, item) {\n      return this.set(attr, new AV.Op.Add(ensureArray(item)));\n    },\n\n    /**\n     * Atomically add an object to the array associated with a given key, only\n     * if it is not already present in the array. The position of the insert is\n     * not guaranteed.\n     *\n     * @param key {String} The key.\n     * @param item {} The object to add.\n     */\n    addUnique: function addUnique(attr, item) {\n      return this.set(attr, new AV.Op.AddUnique(ensureArray(item)));\n    },\n\n    /**\n     * Atomically remove all instances of an object from the array associated\n     * with a given key.\n     *\n     * @param key {String} The key.\n     * @param item {} The object to remove.\n     */\n    remove: function remove(attr, item) {\n      return this.set(attr, new AV.Op.Remove(ensureArray(item)));\n    },\n\n    /**\n     * Atomically apply a \"bit and\" operation on the value associated with a\n     * given key.\n     *\n     * @param key {String} The key.\n     * @param value {Number} The value to apply.\n     */\n    bitAnd: function bitAnd(attr, value) {\n      return this.set(attr, new AV.Op.BitAnd(value));\n    },\n\n\n    /**\n     * Atomically apply a \"bit or\" operation on the value associated with a\n     * given key.\n     *\n     * @param key {String} The key.\n     * @param value {Number} The value to apply.\n     */\n    bitOr: function bitOr(attr, value) {\n      return this.set(attr, new AV.Op.BitOr(value));\n    },\n\n\n    /**\n     * Atomically apply a \"bit xor\" operation on the value associated with a\n     * given key.\n     *\n     * @param key {String} The key.\n     * @param value {Number} The value to apply.\n     */\n    bitXor: function bitXor(attr, value) {\n      return this.set(attr, new AV.Op.BitXor(value));\n    },\n\n\n    /**\n     * Returns an instance of a subclass of AV.Op describing what kind of\n     * modification has been performed on this field since the last time it was\n     * saved. For example, after calling object.increment(\"x\"), calling\n     * object.op(\"x\") would return an instance of AV.Op.Increment.\n     *\n     * @param key {String} The key.\n     * @returns {AV.Op} The operation, or undefined if none.\n     */\n    op: function op(attr) {\n      return _.last(this._opSetQueue)[attr];\n    },\n\n    /**\n     * Clear all attributes on the model, firing <code>\"change\"</code> unless\n     * you choose to silence it.\n     */\n    clear: function clear(options) {\n      options = options || {};\n      options.unset = true;\n      var keysToClear = _.extend(this.attributes, this._operations);\n      return this.set(keysToClear, options);\n    },\n\n    /**\n     * Clears any (or specific) changes to the model made since the last save.\n     * @param {string|string[]} [keys] specify keys to revert.\n     */\n    revert: function revert(keys) {\n      var lastOp = _.last(this._opSetQueue);\n      var _keys = ensureArray(keys || _.keys(lastOp));\n      _keys.forEach(function (key) {\n        delete lastOp[key];\n      });\n      this._rebuildAllEstimatedData();\n      return this;\n    },\n\n\n    /**\n     * Returns a JSON-encoded set of operations to be sent with the next save\n     * request.\n     * @private\n     */\n    _getSaveJSON: function _getSaveJSON() {\n      var json = _.clone(_.first(this._opSetQueue));\n      AV._objectEach(json, function (op, key) {\n        json[key] = op.toJSON();\n      });\n      return json;\n    },\n\n    /**\n     * Returns true if this object can be serialized for saving.\n     * @private\n     */\n    _canBeSerialized: function _canBeSerialized() {\n      return AV.Object._canBeSerializedAsValue(this.attributes);\n    },\n\n    /**\n     * Fetch the model from the server. If the server's representation of the\n     * model differs from its current attributes, they will be overriden,\n     * triggering a <code>\"change\"</code> event.\n     * @param {Object} fetchOptions Optional options to set 'keys',\n     *      'include' and 'includeACL' option.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the fetch\n     *     completes.\n     */\n    fetch: function fetch() {\n      var fetchOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var options = arguments[1];\n\n      var self = this;\n      var request = _request('classes', this.className, this.id, 'GET', transformFetchOptions(fetchOptions), options);\n      return request.then(function (response) {\n        var fetchedAttrs = self.parse(response);\n        self._cleanupUnsetKeys(fetchedAttrs, fetchOptions.keys ? ensureArray(fetchOptions.keys).join(',').split(',') : undefined);\n        self._finishFetch(fetchedAttrs, true);\n        return self;\n      });\n    },\n\n    _cleanupUnsetKeys: function _cleanupUnsetKeys(fetchedAttrs) {\n      var _this2 = this;\n\n      var fetchedKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _.keys(this._serverData);\n\n      _.forEach(fetchedKeys, function (key) {\n        if (fetchedAttrs[key] === undefined) delete _this2._serverData[key];\n      });\n    },\n\n\n    /**\n     * Set a hash of model attributes, and save the model to the server.\n     * updatedAt will be updated when the request returns.\n     * You can either call it as:<pre>\n     *   object.save();</pre>\n     * or<pre>\n     *   object.save(null, options);</pre>\n     * or<pre>\n     *   object.save(attrs, options);</pre>\n     * or<pre>\n     *   object.save(key, value, options);</pre>\n     *\n     * @example\n     * gameTurn.save({\n     *   player: \"Jake Cutter\",\n     *   diceRoll: 2\n     * }).then(function(gameTurnAgain) {\n     *   // The save was successful.\n     * }, function(error) {\n     *   // The save failed.  Error is an instance of AVError.\n     * });\n     *\n     * @param {AuthOptions} options AuthOptions plus:\n     * @param {Boolean} options.fetchWhenSave fetch and update object after save succeeded\n     * @param {AV.Query} options.query Save object only when it matches the query\n     * @return {Promise} A promise that is fulfilled when the save\n     *     completes.\n     * @see AVError\n     */\n    save: function save(arg1, arg2, arg3) {\n      var attrs, current, options;\n      if (_.isObject(arg1) || isNullOrUndefined(arg1)) {\n        attrs = arg1;\n        options = arg2;\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n\n      options = _.clone(options) || {};\n      if (options.wait) {\n        current = _.clone(this.attributes);\n      }\n\n      var setOptions = _.clone(options) || {};\n      if (setOptions.wait) {\n        setOptions.silent = true;\n      }\n      if (attrs) {\n        this.set(attrs, setOptions);\n      }\n\n      var model = this;\n\n      var unsavedChildren = [];\n      var unsavedFiles = [];\n      AV.Object._findUnsavedChildren(model, unsavedChildren, unsavedFiles);\n      if (unsavedChildren.length + unsavedFiles.length > 1) {\n        return AV.Object._deepSaveAsync(this, model, options);\n      }\n\n      this._startSave();\n      this._saving = (this._saving || 0) + 1;\n\n      this._allPreviousSaves = this._allPreviousSaves || _promise2.default.resolve();\n      this._allPreviousSaves = this._allPreviousSaves.catch(function (e) {}).then(function () {\n        var method = model.id ? 'PUT' : 'POST';\n\n        var json = model._getSaveJSON();\n        var query = {};\n\n        if (model._fetchWhenSave || options.fetchWhenSave) {\n          query['new'] = 'true';\n        }\n        // user login option\n        if (options._failOnNotExist) {\n          query.failOnNotExist = 'true';\n        }\n\n        if (options.query) {\n          var queryParams;\n          if (typeof options.query._getParams === 'function') {\n            queryParams = options.query._getParams();\n            if (queryParams) {\n              query.where = queryParams.where;\n            }\n          }\n          if (!query.where) {\n            var error = new Error('options.query is not an AV.Query');\n            throw error;\n          }\n        }\n\n        _.extend(json, model._flags);\n\n        var route = 'classes';\n        var className = model.className;\n        if (model.className === '_User' && !model.id) {\n          // Special-case user sign-up.\n          route = 'users';\n          className = null;\n        }\n        //hook makeRequest in options.\n        var makeRequest = options._makeRequest || _request;\n        var requestPromise = makeRequest(route, className, model.id, method, json, options, query);\n\n        requestPromise = requestPromise.then(function (resp) {\n          var serverAttrs = model.parse(resp);\n          if (options.wait) {\n            serverAttrs = _.extend(attrs || {}, serverAttrs);\n          }\n          model._finishSave(serverAttrs);\n          if (options.wait) {\n            model.set(current, setOptions);\n          }\n          return model;\n        }, function (error) {\n          model._cancelSave();\n          throw error;\n        });\n\n        return requestPromise;\n      });\n      return this._allPreviousSaves;\n    },\n\n    /**\n     * Destroy this model on the server if it was already persisted.\n     * Optimistically removes the model from its collection, if it has one.\n     * @param {AuthOptions} options AuthOptions plus:\n     * @param {Boolean} [options.wait] wait for the server to respond\n     * before removal.\n     *\n     * @return {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n    destroy: function destroy(options) {\n      options = options || {};\n      var model = this;\n\n      var triggerDestroy = function triggerDestroy() {\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      if (!this.id) {\n        return triggerDestroy();\n      }\n\n      if (!options.wait) {\n        triggerDestroy();\n      }\n\n      var request = _request('classes', this.className, this.id, 'DELETE', this._flags, options);\n      return request.then(function () {\n        if (options.wait) {\n          triggerDestroy();\n        }\n        return model;\n      });\n    },\n\n    /**\n     * Converts a response into the hash of attributes to be set on the model.\n     * @ignore\n     */\n    parse: function parse(resp) {\n      var output = _.clone(resp);\n      _(['createdAt', 'updatedAt']).each(function (key) {\n        if (output[key]) {\n          output[key] = AV._parseDate(output[key]);\n        }\n      });\n      if (output.createdAt && !output.updatedAt) {\n        output.updatedAt = output.createdAt;\n      }\n      return output;\n    },\n\n    /**\n     * Creates a new model with identical attributes to this one.\n     * @return {AV.Object}\n     */\n    clone: function clone() {\n      return new this.constructor(this.attributes);\n    },\n\n    /**\n     * Returns true if this object has never been saved to AV.\n     * @return {Boolean}\n     */\n    isNew: function isNew() {\n      return !this.id;\n    },\n\n    /**\n     * Call this method to manually fire a `\"change\"` event for this model and\n     * a `\"change:attribute\"` event for each changed attribute.\n     * Calling this will cause all objects observing the model to update.\n     */\n    change: function change(options) {\n      options = options || {};\n      var changing = this._changing;\n      this._changing = true;\n\n      // Silent changes become pending changes.\n      var self = this;\n      AV._objectEach(this._silent, function (attr) {\n        self._pending[attr] = true;\n      });\n\n      // Silent changes are triggered.\n      var changes = _.extend({}, options.changes, this._silent);\n      this._silent = {};\n      AV._objectEach(changes, function (unused_value, attr) {\n        self.trigger('change:' + attr, self, self.get(attr), options);\n      });\n      if (changing) {\n        return this;\n      }\n\n      // This is to get around lint not letting us make a function in a loop.\n      var deleteChanged = function deleteChanged(value, attr) {\n        if (!self._pending[attr] && !self._silent[attr]) {\n          delete self.changed[attr];\n        }\n      };\n\n      // Continue firing `\"change\"` events while there are pending changes.\n      while (!_.isEmpty(this._pending)) {\n        this._pending = {};\n        this.trigger('change', this, options);\n        // Pending and silent changes still remain.\n        AV._objectEach(this.changed, deleteChanged);\n        self._previousAttributes = _.clone(this.attributes);\n      }\n\n      this._changing = false;\n      return this;\n    },\n\n    /**\n     * Gets the previous value of an attribute, recorded at the time the last\n     * <code>\"change\"</code> event was fired.\n     * @param {String} attr Name of the attribute to get.\n     */\n    previous: function previous(attr) {\n      if (!arguments.length || !this._previousAttributes) {\n        return null;\n      }\n      return this._previousAttributes[attr];\n    },\n\n    /**\n     * Gets all of the attributes of the model at the time of the previous\n     * <code>\"change\"</code> event.\n     * @return {Object}\n     */\n    previousAttributes: function previousAttributes() {\n      return _.clone(this._previousAttributes);\n    },\n\n    /**\n     * Checks if the model is currently in a valid state. It's only possible to\n     * get into an *invalid* state if you're using silent changes.\n     * @return {Boolean}\n     */\n    isValid: function isValid() {\n      try {\n        this.validate(this.attributes);\n      } catch (error) {\n        return false;\n      }\n      return true;\n    },\n\n    /**\n     * You should not call this function directly unless you subclass\n     * <code>AV.Object</code>, in which case you can override this method\n     * to provide additional validation on <code>set</code> and\n     * <code>save</code>.  Your implementation should throw an Error if\n     * the attrs is invalid\n     *\n     * @param {Object} attrs The current data to validate.\n     * @see AV.Object#set\n     */\n    validate: function validate(attrs) {\n      if (_.has(attrs, 'ACL') && !(attrs.ACL instanceof AV.ACL)) {\n        throw new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n      }\n    },\n\n    /**\n     * Run validation against a set of incoming attributes, returning `true`\n     * if all is well. If a specific `error` callback has been passed,\n     * call that instead of firing the general `\"error\"` event.\n     * @private\n     */\n    _validate: function _validate(attrs, options) {\n      if (options.silent || !this.validate) {\n        return;\n      }\n      attrs = _.extend({}, this.attributes, attrs);\n      this.validate(attrs);\n    },\n\n    /**\n     * Returns the ACL for this object.\n     * @returns {AV.ACL} An instance of AV.ACL.\n     * @see AV.Object#get\n     */\n    getACL: function getACL() {\n      return this.get('ACL');\n    },\n\n    /**\n     * Sets the ACL to be used for this object.\n     * @param {AV.ACL} acl An instance of AV.ACL.\n     * @param {Object} options Optional Backbone-like options object to be\n     *     passed in to set.\n     * @return {AV.Object} self\n     * @see AV.Object#set\n     */\n    setACL: function setACL(acl, options) {\n      return this.set('ACL', acl, options);\n    },\n\n    disableBeforeHook: function disableBeforeHook() {\n      this.ignoreHook('beforeSave');\n      this.ignoreHook('beforeUpdate');\n      this.ignoreHook('beforeDelete');\n    },\n\n    disableAfterHook: function disableAfterHook() {\n      this.ignoreHook('afterSave');\n      this.ignoreHook('afterUpdate');\n      this.ignoreHook('afterDelete');\n    },\n\n    ignoreHook: function ignoreHook(hookName) {\n      if (!_.contains(['beforeSave', 'afterSave', 'beforeUpdate', 'afterUpdate', 'beforeDelete', 'afterDelete'], hookName)) {\n        throw new Error('Unsupported hookName: ' + hookName);\n      }\n\n      if (!AV.hookKey) {\n        throw new Error('ignoreHook required hookKey');\n      }\n\n      if (!this._flags.__ignore_hooks) {\n        this._flags.__ignore_hooks = [];\n      }\n\n      this._flags.__ignore_hooks.push(hookName);\n    }\n  });\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the give classname\n   * and id.\n   * @param  {String|Function} class the className or a subclass of AV.Object.\n   * @param {String} id The object id of this model.\n   * @return {AV.Object} A new subclass instance of AV.Object.\n   */\n  AV.Object.createWithoutData = function (klass, id, hasData) {\n    var _klass = void 0;\n    if (_.isString(klass)) {\n      _klass = AV.Object._getSubclass(klass);\n    } else if (klass.prototype && klass.prototype instanceof AV.Object) {\n      _klass = klass;\n    } else {\n      throw new Error('class must be a string or a subclass of AV.Object.');\n    }\n    var object = new _klass();\n    object.id = id;\n    object._hasData = hasData;\n    return object;\n  };\n  /**\n   * Delete objects in batch.\n   * @param {AV.Object[]} objects The <code>AV.Object</code> array to be deleted.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the save\n   *     completes.\n   */\n  AV.Object.destroyAll = function (objects) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!objects || objects.length === 0) {\n      return _promise2.default.resolve();\n    }\n    var objectsByClassNameAndFlags = _.groupBy(objects, function (object) {\n      return (0, _stringify2.default)({\n        className: object.className,\n        flags: object._flags\n      });\n    });\n    var body = {\n      requests: _.map(objectsByClassNameAndFlags, function (objects) {\n        var ids = _.map(objects, 'id').join(',');\n        return {\n          method: 'DELETE',\n          path: '/1.1/classes/' + objects[0].className + '/' + ids,\n          body: objects[0]._flags\n        };\n      })\n    };\n    return _request('batch', null, null, 'POST', body, options).then(function (response) {\n      var firstError = _.find(response, function (result) {\n        return !result.success;\n      });\n      if (firstError) throw new AVError(firstError.error.code, firstError.error.error);\n      return undefined;\n    });\n  };\n\n  /**\n   * Returns the appropriate subclass for making new instances of the given\n   * className string.\n   * @private\n   */\n  AV.Object._getSubclass = function (className) {\n    if (!_.isString(className)) {\n      throw new Error('AV.Object._getSubclass requires a string argument.');\n    }\n    var ObjectClass = AV.Object._classMap[className];\n    if (!ObjectClass) {\n      ObjectClass = AV.Object.extend(className);\n      AV.Object._classMap[className] = ObjectClass;\n    }\n    return ObjectClass;\n  };\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the given classname.\n   * @private\n   */\n  AV.Object._create = function (className, attributes, options) {\n    var ObjectClass = AV.Object._getSubclass(className);\n    return new ObjectClass(attributes, options);\n  };\n\n  // Set up a map of className to class so that we can create new instances of\n  // AV Objects from JSON automatically.\n  AV.Object._classMap = {};\n\n  AV.Object._extend = AV._extend;\n\n  /**\n   * Creates a new model with defined attributes,\n   * It's the same with\n   * <pre>\n   *   new AV.Object(attributes, options);\n   *  </pre>\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @return {AV.Object}\n   * @since v0.4.4\n   * @see AV.Object\n   * @see AV.Object.extend\n   */\n  AV.Object['new'] = function (attributes, options) {\n    return new AV.Object(attributes, options);\n  };\n\n  /**\n   * Creates a new subclass of AV.Object for the given AV class name.\n   *\n   * <p>Every extension of a AV class will inherit from the most recent\n   * previous extension of that class. When a AV.Object is automatically\n   * created by parsing JSON, it will use the most recent extension of that\n   * class.</p>\n   *\n   * @example\n   * var MyClass = AV.Object.extend(\"MyClass\", {\n   *     // Instance properties\n   * }, {\n   *     // Class properties\n   * });\n   *\n   * @param {String} className The name of the AV class backing this model.\n   * @param {Object} protoProps Instance properties to add to instances of the\n   *     class returned from this method.\n   * @param {Object} classProps Class properties to add the class returned from\n   *     this method.\n   * @return {Class} A new subclass of AV.Object.\n   */\n  AV.Object.extend = function (className, protoProps, classProps) {\n    // Handle the case with only two args.\n    if (!_.isString(className)) {\n      if (className && _.has(className, 'className')) {\n        return AV.Object.extend(className.className, className, protoProps);\n      } else {\n        throw new Error(\"AV.Object.extend's first argument should be the className.\");\n      }\n    }\n\n    // If someone tries to subclass \"User\", coerce it to the right type.\n    if (className === 'User') {\n      className = '_User';\n    }\n\n    var NewClassObject = null;\n    if (_.has(AV.Object._classMap, className)) {\n      var OldClassObject = AV.Object._classMap[className];\n      // This new subclass has been told to extend both from \"this\" and from\n      // OldClassObject. This is multiple inheritance, which isn't supported.\n      // For now, let's just pick one.\n      if (protoProps || classProps) {\n        NewClassObject = OldClassObject._extend(protoProps, classProps);\n      } else {\n        return OldClassObject;\n      }\n    } else {\n      protoProps = protoProps || {};\n      protoProps._className = className;\n      NewClassObject = this._extend(protoProps, classProps);\n    }\n    // Extending a subclass should reuse the classname automatically.\n    NewClassObject.extend = function (arg0) {\n      if (_.isString(arg0) || arg0 && _.has(arg0, 'className')) {\n        return AV.Object.extend.apply(NewClassObject, arguments);\n      }\n      var newArguments = [className].concat(_.toArray(arguments));\n      return AV.Object.extend.apply(NewClassObject, newArguments);\n    };\n    // Add the query property descriptor.\n    Object.defineProperty(NewClassObject, 'query', (0, _getOwnPropertyDescriptor2.default)(AV.Object, 'query'));\n    NewClassObject['new'] = function (attributes, options) {\n      return new NewClassObject(attributes, options);\n    };\n    AV.Object._classMap[className] = NewClassObject;\n    return NewClassObject;\n  };\n\n  // ES6 class syntax support\n  Object.defineProperty(AV.Object.prototype, 'className', {\n    get: function get() {\n      var className = this._className || this.constructor._LCClassName || this.constructor.name;\n      // If someone tries to subclass \"User\", coerce it to the right type.\n      if (className === 'User') {\n        return '_User';\n      }\n      return className;\n    }\n  });\n\n  /**\n   * Register a class.\n   * If a subclass of <code>AV.Object</code> is defined with your own implement\n   * rather then <code>AV.Object.extend</code>, the subclass must be registered.\n   * @param {Function} klass A subclass of <code>AV.Object</code>\n   * @param {String} [name] Specify the name of the class. Useful when the class might be uglified.\n   * @example\n   * class Person extend AV.Object {}\n   * AV.Object.register(Person);\n   */\n  AV.Object.register = function (klass, name) {\n    if (!(klass.prototype instanceof AV.Object)) {\n      throw new Error('registered class is not a subclass of AV.Object');\n    }\n    var className = name || klass.name;\n    if (!className.length) {\n      throw new Error('registered class must be named');\n    }\n    if (name) {\n      klass._LCClassName = name;\n    }\n    AV.Object._classMap[className] = klass;\n  };\n\n  /**\n   * Get a new Query of the current class\n   * @name query\n   * @memberof AV.Object\n   * @type AV.Query\n   * @readonly\n   * @since v3.1.0\n   * @example\n   * const Post = AV.Object.extend('Post');\n   * Post.query.equalTo('author', 'leancloud').find().then();\n   */\n  Object.defineProperty(AV.Object, 'query', {\n    get: function get() {\n      return new AV.Query(this.prototype.className);\n    }\n  });\n\n  AV.Object._findUnsavedChildren = function (objects, children, files) {\n    AV._traverse(objects, function (object) {\n      if (object instanceof AV.Object) {\n        if (object.dirty()) {\n          children.push(object);\n        }\n        return;\n      }\n\n      if (object instanceof AV.File) {\n        if (!object.id) {\n          files.push(object);\n        }\n        return;\n      }\n    });\n  };\n\n  AV.Object._canBeSerializedAsValue = function (object) {\n    var canBeSerializedAsValue = true;\n\n    if (object instanceof AV.Object || object instanceof AV.File) {\n      canBeSerializedAsValue = !!object.id;\n    } else if (_.isArray(object)) {\n      AV._arrayEach(object, function (child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    } else if (_.isObject(object)) {\n      AV._objectEach(object, function (child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    }\n\n    return canBeSerializedAsValue;\n  };\n\n  AV.Object._deepSaveAsync = function (object, model, options) {\n    var unsavedChildren = [];\n    var unsavedFiles = [];\n    AV.Object._findUnsavedChildren(object, unsavedChildren, unsavedFiles);\n\n    var promise = _promise2.default.resolve();\n    _.each(unsavedFiles, function (file) {\n      promise = promise.then(function () {\n        return file.save();\n      });\n    });\n\n    var objects = _.uniq(unsavedChildren);\n    var remaining = _.uniq(objects);\n\n    return promise.then(function () {\n      return continueWhile(function () {\n        return remaining.length > 0;\n      }, function () {\n        // Gather up all the objects that can be saved in this batch.\n        var batch = [];\n        var newRemaining = [];\n        AV._arrayEach(remaining, function (object) {\n          // Limit batches to 20 objects.\n          if (batch.length > 20) {\n            newRemaining.push(object);\n            return;\n          }\n\n          if (object._canBeSerialized()) {\n            batch.push(object);\n          } else {\n            newRemaining.push(object);\n          }\n        });\n        remaining = newRemaining;\n\n        // If we can't save any objects, there must be a circular reference.\n        if (batch.length === 0) {\n          return _promise2.default.reject(new AVError(AVError.OTHER_CAUSE, 'Tried to save a batch with a cycle.'));\n        }\n\n        // Reserve a spot in every object's save queue.\n        var readyToStart = _promise2.default.resolve(_.map(batch, function (object) {\n          return object._allPreviousSaves || _promise2.default.resolve();\n        }));\n\n        // Save a single batch, whether previous saves succeeded or failed.\n        var bathSavePromise = readyToStart.then(function () {\n          return _request('batch', null, null, 'POST', {\n            requests: _.map(batch, function (object) {\n              var method = object.id ? 'PUT' : 'POST';\n\n              var json = object._getSaveJSON();\n\n              _.extend(json, object._flags);\n\n              var route = 'classes';\n              var className = object.className;\n              var path = '/' + route + '/' + className;\n              if (object.className === '_User' && !object.id) {\n                // Special-case user sign-up.\n                path = '/users';\n              }\n\n              var path = '/1.1' + path;\n              if (object.id) {\n                path = path + '/' + object.id;\n              }\n\n              object._startSave();\n\n              return {\n                method: method,\n                path: path,\n                body: json\n              };\n            })\n          }, options).then(function (response) {\n            var results = _.map(batch, function (object, i) {\n              if (response[i].success) {\n                object._finishSave(object.parse(response[i].success));\n                return object;\n              }\n              object._cancelSave();\n              return new AVError(response[i].error.code, response[i].error.error);\n            });\n            return handleBatchResults(results);\n          });\n        });\n        AV._arrayEach(batch, function (object) {\n          object._allPreviousSaves = bathSavePromise;\n        });\n        return bathSavePromise;\n      });\n    }).then(function () {\n      return object;\n    });\n  };\n};\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(147);\nvar $Object = __webpack_require__(1).Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(17);\nvar $getOwnPropertyDescriptor = __webpack_require__(60).f;\n\n__webpack_require__(55)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _isIterable2 = __webpack_require__(149);\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = __webpack_require__(152);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(150), __esModule: true };\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(21);\n__webpack_require__(25);\nmodule.exports = __webpack_require__(151);\n\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(38);\nvar ITERATOR = __webpack_require__(4)('iterator');\nvar Iterators = __webpack_require__(19);\nmodule.exports = __webpack_require__(1).isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(153), __esModule: true };\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(21);\n__webpack_require__(25);\nmodule.exports = __webpack_require__(154);\n\n\n/***/ }),\n/* 154 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(9);\nvar get = __webpack_require__(68);\nmodule.exports = __webpack_require__(1).getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\nvar AVError = __webpack_require__(18);\n\nmodule.exports = function (AV) {\n  AV.Role = AV.Object.extend('_Role',\n  /** @lends AV.Role.prototype */{\n    // Instance Methods\n\n    /**\n     * Represents a Role on the AV server. Roles represent groupings of\n     * Users for the purposes of granting permissions (e.g. specifying an ACL\n     * for an Object). Roles are specified by their sets of child users and\n     * child roles, all of which are granted any permissions that the parent\n     * role has.\n     *\n     * <p>Roles must have a name (which cannot be changed after creation of the\n     * role), and must specify an ACL.</p>\n     * An AV.Role is a local representation of a role persisted to the AV\n     * cloud.\n     * @class AV.Role\n     * @param {String} name The name of the Role to create.\n     * @param {AV.ACL} acl The ACL for this role.\n     */\n    constructor: function constructor(name, acl) {\n      if (_.isString(name)) {\n        AV.Object.prototype.constructor.call(this, null, null);\n        this.setName(name);\n      } else {\n        AV.Object.prototype.constructor.call(this, name, acl);\n      }\n      if (acl) {\n        if (!(acl instanceof AV.ACL)) {\n          throw new TypeError('acl must be an instance of AV.ACL');\n        } else {\n          this.setACL(acl);\n        }\n      }\n    },\n\n    /**\n     * Gets the name of the role.  You can alternatively call role.get(\"name\")\n     *\n     * @return {String} the name of the role.\n     */\n    getName: function getName() {\n      return this.get('name');\n    },\n\n    /**\n     * Sets the name for a role. This value must be set before the role has\n     * been saved to the server, and cannot be set once the role has been\n     * saved.\n     *\n     * <p>\n     *   A role's name can only contain alphanumeric characters, _, -, and\n     *   spaces.\n     * </p>\n     *\n     * <p>This is equivalent to calling role.set(\"name\", name)</p>\n     *\n     * @param {String} name The name of the role.\n     */\n    setName: function setName(name, options) {\n      return this.set('name', name, options);\n    },\n\n    /**\n     * Gets the AV.Relation for the AV.Users that are direct\n     * children of this role. These users are granted any privileges that this\n     * role has been granted (e.g. read or write access through ACLs). You can\n     * add or remove users from the role through this relation.\n     *\n     * <p>This is equivalent to calling role.relation(\"users\")</p>\n     *\n     * @return {AV.Relation} the relation for the users belonging to this\n     *     role.\n     */\n    getUsers: function getUsers() {\n      return this.relation('users');\n    },\n\n    /**\n     * Gets the AV.Relation for the AV.Roles that are direct\n     * children of this role. These roles' users are granted any privileges that\n     * this role has been granted (e.g. read or write access through ACLs). You\n     * can add or remove child roles from this role through this relation.\n     *\n     * <p>This is equivalent to calling role.relation(\"roles\")</p>\n     *\n     * @return {AV.Relation} the relation for the roles belonging to this\n     *     role.\n     */\n    getRoles: function getRoles() {\n      return this.relation('roles');\n    },\n\n    /**\n     * @ignore\n     */\n    validate: function validate(attrs, options) {\n      if ('name' in attrs && attrs.name !== this.getName()) {\n        var newName = attrs.name;\n        if (this.id && this.id !== attrs.objectId) {\n          // Check to see if the objectId being set matches this.id.\n          // This happens during a fetch -- the id is set before calling fetch.\n          // Let the name be set in this case.\n          return new AVError(AVError.OTHER_CAUSE, \"A role's name can only be set before it has been saved.\");\n        }\n        if (!_.isString(newName)) {\n          return new AVError(AVError.OTHER_CAUSE, \"A role's name must be a String.\");\n        }\n        if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n          return new AVError(AVError.OTHER_CAUSE, \"A role's name can only contain alphanumeric characters, _,\" + ' -, and spaces.');\n        }\n      }\n      if (AV.Object.prototype.validate) {\n        return AV.Object.prototype.validate.call(this, attrs, options);\n      }\n      return false;\n    }\n  });\n};\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _defineProperty2 = __webpack_require__(157);\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar uuid = __webpack_require__(75);\nvar AVError = __webpack_require__(18);\n\nvar _require = __webpack_require__(8),\n    AVRequest = _require._request,\n    request = _require.request;\n\nvar PLATFORM_ANONYMOUS = 'anonymous';\nvar PLATFORM_WEAPP = 'lc_weapp';\nvar PLATFORM_QQAPP = 'lc_qqapp';\n\nvar getMiniappLoginCode = function getMiniappLoginCode() {\n  if (typeof wx === 'undefined' || typeof wx.login !== 'function') {\n    throw new Error('wx.login is not a function');\n  }\n  return new _promise2.default(function (resolve, reject) {\n    wx.login({\n      success: function success(_ref) {\n        var code = _ref.code,\n            errMsg = _ref.errMsg;\n\n        if (code) {\n          resolve(code);\n        } else {\n          reject(new Error(errMsg));\n        }\n      },\n      fail: function fail() {\n        return reject(new Error('login '));\n      }\n    });\n  });\n};\n\nvar getMiniappAuthData = function getMiniappAuthData() {\n  var defaultUnionIdPlatform = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'weixin';\n  return function (code) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preferUnionId = _ref2.preferUnionId,\n        _ref2$unionIdPlatform = _ref2.unionIdPlatform,\n        unionIdPlatform = _ref2$unionIdPlatform === undefined ? defaultUnionIdPlatform : _ref2$unionIdPlatform,\n        _ref2$asMainAccount = _ref2.asMainAccount,\n        asMainAccount = _ref2$asMainAccount === undefined ? true : _ref2$asMainAccount;\n\n    return preferUnionId ? {\n      platform: unionIdPlatform,\n      main_account: asMainAccount,\n      code: code\n    } : { code: code };\n  };\n};\n\nvar mergeUnionDataIntoAuthData = function mergeUnionDataIntoAuthData() {\n  var defaultUnionIdPlatform = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'weixin';\n  return function (authData, unionId) {\n    var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref3$unionIdPlatform = _ref3.unionIdPlatform,\n        unionIdPlatform = _ref3$unionIdPlatform === undefined ? defaultUnionIdPlatform : _ref3$unionIdPlatform,\n        _ref3$asMainAccount = _ref3.asMainAccount,\n        asMainAccount = _ref3$asMainAccount === undefined ? false : _ref3$asMainAccount;\n\n    if (typeof unionId !== 'string') throw new AVError(AVError.OTHER_CAUSE, 'unionId is not a string');\n    if (typeof unionIdPlatform !== 'string') throw new AVError(AVError.OTHER_CAUSE, 'unionIdPlatform is not a string');\n\n    return _.extend({}, authData, {\n      platform: unionIdPlatform,\n      unionid: unionId,\n      main_account: Boolean(asMainAccount)\n    });\n  };\n};\n\nmodule.exports = function (AV) {\n  /**\n   * @class\n   *\n   * <p>An AV.User object is a local representation of a user persisted to the\n   * LeanCloud server. This class is a subclass of an AV.Object, and retains the\n   * same functionality of an AV.Object, but also extends it with various\n   * user specific methods, like authentication, signing up, and validation of\n   * uniqueness.</p>\n   */\n  AV.User = AV.Object.extend('_User',\n  /** @lends AV.User.prototype */{\n    // Instance Variables\n    _isCurrentUser: false,\n\n    // Instance Methods\n\n    /**\n     * Internal method to handle special fields in a _User response.\n     * @private\n     */\n    _mergeMagicFields: function _mergeMagicFields(attrs) {\n      if (attrs.sessionToken) {\n        this._sessionToken = attrs.sessionToken;\n        delete attrs.sessionToken;\n      }\n      return AV.User.__super__._mergeMagicFields.call(this, attrs);\n    },\n\n    /**\n     * Removes null values from authData (which exist temporarily for\n     * unlinking)\n     * @private\n     */\n    _cleanupAuthData: function _cleanupAuthData() {\n      if (!this.isCurrent()) {\n        return;\n      }\n      var authData = this.get('authData');\n      if (!authData) {\n        return;\n      }\n      AV._objectEach(this.get('authData'), function (value, key) {\n        if (!authData[key]) {\n          delete authData[key];\n        }\n      });\n    },\n\n    /**\n     * Synchronizes authData for all providers.\n     * @private\n     */\n    _synchronizeAllAuthData: function _synchronizeAllAuthData() {\n      var authData = this.get('authData');\n      if (!authData) {\n        return;\n      }\n\n      var self = this;\n      AV._objectEach(this.get('authData'), function (value, key) {\n        self._synchronizeAuthData(key);\n      });\n    },\n\n    /**\n     * Synchronizes auth data for a provider (e.g. puts the access token in the\n     * right place to be used by the Facebook SDK).\n     * @private\n     */\n    _synchronizeAuthData: function _synchronizeAuthData(provider) {\n      if (!this.isCurrent()) {\n        return;\n      }\n      var authType;\n      if (_.isString(provider)) {\n        authType = provider;\n        provider = AV.User._authProviders[authType];\n      } else {\n        authType = provider.getAuthType();\n      }\n      var authData = this.get('authData');\n      if (!authData || !provider) {\n        return;\n      }\n      var success = provider.restoreAuthentication(authData[authType]);\n      if (!success) {\n        this.dissociateAuthData(provider);\n      }\n    },\n\n    _handleSaveResult: function _handleSaveResult(makeCurrent) {\n      // Clean up and synchronize the authData object, removing any unset values\n      if (makeCurrent && !AV._config.disableCurrentUser) {\n        this._isCurrentUser = true;\n      }\n      this._cleanupAuthData();\n      this._synchronizeAllAuthData();\n      // Don't keep the password around.\n      delete this._serverData.password;\n      this._rebuildEstimatedDataForKey('password');\n      this._refreshCache();\n      if ((makeCurrent || this.isCurrent()) && !AV._config.disableCurrentUser) {\n        // Some old version of leanengine-node-sdk will overwrite\n        // AV.User._saveCurrentUser which returns no Promise.\n        // So we need a Promise wrapper.\n        return _promise2.default.resolve(AV.User._saveCurrentUser(this));\n      } else {\n        return _promise2.default.resolve();\n      }\n    },\n\n    /**\n     * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n     * call linkWith on the user (even if it doesn't exist yet on the server).\n     * @private\n     */\n    _linkWith: function _linkWith(provider, data) {\n      var _this = this;\n\n      var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref4$failOnNotExist = _ref4.failOnNotExist,\n          failOnNotExist = _ref4$failOnNotExist === undefined ? false : _ref4$failOnNotExist;\n\n      var authType;\n      if (_.isString(provider)) {\n        authType = provider;\n        provider = AV.User._authProviders[provider];\n      } else {\n        authType = provider.getAuthType();\n      }\n      if (data) {\n        return this.save({ authData: (0, _defineProperty3.default)({}, authType, data) }, {\n          fetchWhenSave: !!this.get('authData'),\n          _failOnNotExist: failOnNotExist\n        }).then(function (model) {\n          return model._handleSaveResult(true).then(function () {\n            return model;\n          });\n        });\n      } else {\n        return provider.authenticate().then(function (result) {\n          return _this._linkWith(provider, result);\n        });\n      }\n    },\n\n    /**\n     * Associate the user with a third party authData.\n     * @since 3.3.0\n     * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n     * @param {string} platform Available platform for sign up.\n     * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n     * @example user.associateWithAuthData({\n     *   openid: 'abc123',\n     *   access_token: '123abc',\n     *   expires_in: 1382686496\n     * }, 'weixin').then(function(user) {\n     *   //Access user here\n     * }).catch(function(error) {\n     *   //console.error(\"error: \", error);\n     * });\n     */\n    associateWithAuthData: function associateWithAuthData(authData, platform) {\n      return this._linkWith(platform, authData);\n    },\n\n\n    /**\n     * Associate the user with a third party authData and unionId.\n     * @since 3.5.0\n     * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n     * @param {string} platform Available platform for sign up.\n     * @param {string} unionId\n     * @param {Object} [unionLoginOptions]\n     * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n     * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n     * @example user.associateWithAuthDataAndUnionId({\n     *   openid: 'abc123',\n     *   access_token: '123abc',\n     *   expires_in: 1382686496\n     * }, 'weixin', 'union123', {\n     *   unionIdPlatform: 'weixin',\n     *   asMainAccount: true,\n     * }).then(function(user) {\n     *   //Access user here\n     * }).catch(function(error) {\n     *   //console.error(\"error: \", error);\n     * });\n     */\n    associateWithAuthDataAndUnionId: function associateWithAuthDataAndUnionId(authData, platform, unionId, unionOptions) {\n      return this._linkWith(platform, mergeUnionDataIntoAuthData()(authData, unionId, unionOptions));\n    },\n\n\n    /**\n     *  QQ  QQ \n     *  QQ \n     *\n     * @since 4.2.0\n     * @param {Object} [options]\n     * @param {boolean} [options.preferUnionId]  UnionId UnionId \n     * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     * @return {Promise<AV.User>}\n     */\n    associateWithQQApp: function associateWithQQApp(options) {\n      var _this2 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this2._linkWith(PLATFORM_QQAPP, getMiniappAuthData('qq')(code, options));\n      });\n    },\n\n\n    /**\n     * \n     * \n     *\n     * @since 3.13.0\n     * @param {Object} [options]\n     * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId \n     * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     * @return {Promise<AV.User>}\n     */\n    associateWithWeapp: function associateWithWeapp(options) {\n      var _this3 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this3._linkWith(PLATFORM_WEAPP, getMiniappAuthData()(code, options));\n      });\n    },\n\n\n    /**\n     * @deprecated renamed to {@link AV.User#associateWithWeapp}\n     * @return {Promise<AV.User>}\n     */\n    linkWithWeapp: function linkWithWeapp(options) {\n      console.warn('DEPRECATED: User#linkWithWeapp  User#associateWithWeapp ');\n      return this.associateWithWeapp(options);\n    },\n\n\n    /**\n     *  QQ  QQ  QQ \n     *  QQ \n     *\n     * @since 4.2.0\n     * @param {string} unionId\n     * @param {Object} [unionOptions]\n     * @param {string} [unionOptions.unionIdPlatform = 'qq'] unionId platform\n     * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @return {Promise<AV.User>}\n     */\n    associateWithQQAppWithUnionId: function associateWithQQAppWithUnionId(unionId, unionOptions) {\n      var _this4 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this4._linkWith(PLATFORM_QQAPP, mergeUnionDataIntoAuthData('qq')({ code: code }, unionId, unionOptions));\n      });\n    },\n\n\n    /**\n     * \n     * \n     *\n     * @since 3.13.0\n     * @param {string} unionId\n     * @param {Object} [unionOptions]\n     * @param {string} [unionOptions.unionIdPlatform = 'weixin'] unionId platform\n     * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @return {Promise<AV.User>}\n     */\n    associateWithWeappWithUnionId: function associateWithWeappWithUnionId(unionId, unionOptions) {\n      var _this5 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this5._linkWith(PLATFORM_WEAPP, mergeUnionDataIntoAuthData()({ code: code }, unionId, unionOptions));\n      });\n    },\n\n\n    /**\n     * Unlinks a user from a service.\n     * @param {string} platform\n     * @return {Promise<AV.User>}\n     * @since 3.3.0\n     */\n    dissociateAuthData: function dissociateAuthData(provider) {\n      this.unset('authData.' + provider);\n      return this.save().then(function (model) {\n        return model._handleSaveResult(true).then(function () {\n          return model;\n        });\n      });\n    },\n\n\n    /**\n     * @private\n     * @deprecated\n     */\n    _unlinkFrom: function _unlinkFrom(provider) {\n      console.warn('DEPRECATED: User#_unlinkFrom  User#dissociateAuthData ');\n      return this.dissociateAuthData(provider);\n    },\n\n\n    /**\n     * Checks whether a user is linked to a service.\n     * @private\n     */\n    _isLinked: function _isLinked(provider) {\n      var authType;\n      if (_.isString(provider)) {\n        authType = provider;\n      } else {\n        authType = provider.getAuthType();\n      }\n      var authData = this.get('authData') || {};\n      return !!authData[authType];\n    },\n\n    /**\n     * Checks whether a user is anonymous.\n     * @since 3.9.0\n     * @return {boolean}\n     */\n    isAnonymous: function isAnonymous() {\n      return this._isLinked(PLATFORM_ANONYMOUS);\n    },\n\n\n    logOut: function logOut() {\n      this._logOutWithAll();\n      this._isCurrentUser = false;\n    },\n\n    /**\n     * Deauthenticates all providers.\n     * @private\n     */\n    _logOutWithAll: function _logOutWithAll() {\n      var authData = this.get('authData');\n      if (!authData) {\n        return;\n      }\n      var self = this;\n      AV._objectEach(this.get('authData'), function (value, key) {\n        self._logOutWith(key);\n      });\n    },\n\n    /**\n     * Deauthenticates a single provider (e.g. removing access tokens from the\n     * Facebook SDK).\n     * @private\n     */\n    _logOutWith: function _logOutWith(provider) {\n      if (!this.isCurrent()) {\n        return;\n      }\n      if (_.isString(provider)) {\n        provider = AV.User._authProviders[provider];\n      }\n      if (provider && provider.deauthenticate) {\n        provider.deauthenticate();\n      }\n    },\n\n    /**\n     * Signs up a new user. You should call this instead of save for\n     * new AV.Users. This will create a new AV.User on the server, and\n     * also persist the session on disk so that you can access the user using\n     * <code>current</code>.\n     *\n     * <p>A username and password must be set before calling signUp.</p>\n     *\n     * @param {Object} attrs Extra fields to set on the new user, or null.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the signup\n     *     finishes.\n     * @see AV.User.signUp\n     */\n    signUp: function signUp(attrs, options) {\n      var error;\n\n      var username = attrs && attrs.username || this.get('username');\n      if (!username || username === '') {\n        error = new AVError(AVError.OTHER_CAUSE, 'Cannot sign up user with an empty name.');\n        throw error;\n      }\n\n      var password = attrs && attrs.password || this.get('password');\n      if (!password || password === '') {\n        error = new AVError(AVError.OTHER_CAUSE, 'Cannot sign up user with an empty password.');\n        throw error;\n      }\n\n      return this.save(attrs, options).then(function (model) {\n        if (model.isAnonymous()) {\n          model.unset('authData.' + PLATFORM_ANONYMOUS);\n          model._opSetQueue = [{}];\n        }\n        return model._handleSaveResult(true).then(function () {\n          return model;\n        });\n      });\n    },\n\n    /**\n     * Signs up a new user with mobile phone and sms code.\n     * You should call this instead of save for\n     * new AV.Users. This will create a new AV.User on the server, and\n     * also persist the session on disk so that you can access the user using\n     * <code>current</code>.\n     *\n     * <p>A username and password must be set before calling signUp.</p>\n     *\n     * @param {Object} attrs Extra fields to set on the new user, or null.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the signup\n     *     finishes.\n     * @see AV.User.signUpOrlogInWithMobilePhone\n     * @see AV.Cloud.requestSmsCode\n     */\n    signUpOrlogInWithMobilePhone: function signUpOrlogInWithMobilePhone(attrs) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var error;\n\n      var mobilePhoneNumber = attrs && attrs.mobilePhoneNumber || this.get('mobilePhoneNumber');\n      if (!mobilePhoneNumber || mobilePhoneNumber === '') {\n        error = new AVError(AVError.OTHER_CAUSE, 'Cannot sign up or login user by mobilePhoneNumber ' + 'with an empty mobilePhoneNumber.');\n        throw error;\n      }\n\n      var smsCode = attrs && attrs.smsCode || this.get('smsCode');\n      if (!smsCode || smsCode === '') {\n        error = new AVError(AVError.OTHER_CAUSE, 'Cannot sign up or login user by mobilePhoneNumber  ' + 'with an empty smsCode.');\n        throw error;\n      }\n\n      options._makeRequest = function (route, className, id, method, json) {\n        return AVRequest('usersByMobilePhone', null, null, 'POST', json);\n      };\n      return this.save(attrs, options).then(function (model) {\n        delete model.attributes.smsCode;\n        delete model._serverData.smsCode;\n        return model._handleSaveResult(true).then(function () {\n          return model;\n        });\n      });\n    },\n\n    /**\n     * The same with {@link AV.User.loginWithAuthData}, except that you can set attributes before login.\n     * @since 3.7.0\n     */\n    loginWithAuthData: function loginWithAuthData(authData, platform, options) {\n      return this._linkWith(platform, authData, options);\n    },\n\n\n    /**\n     * The same with {@link AV.User.loginWithAuthDataAndUnionId}, except that you can set attributes before login.\n     * @since 3.7.0\n     */\n    loginWithAuthDataAndUnionId: function loginWithAuthDataAndUnionId(authData, platform, unionId, unionLoginOptions) {\n      return this.loginWithAuthData(mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions), platform, unionLoginOptions);\n    },\n\n\n    /**\n     * The same with {@link AV.User.loginWithWeapp}, except that you can set attributes before login.\n     * @since 3.7.0\n     * @param {Object} [options]\n     * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n     * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n     * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     */\n    loginWithWeapp: function loginWithWeapp(options) {\n      var _this6 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this6.loginWithAuthData(getMiniappAuthData()(code, options), PLATFORM_WEAPP, options);\n      });\n    },\n\n\n    /**\n     * The same with {@link AV.User.loginWithWeappWithUnionId}, except that you can set attributes before login.\n     * @since 3.13.0\n     */\n    loginWithWeappWithUnionId: function loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n      var _this7 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this7.loginWithAuthData(mergeUnionDataIntoAuthData()({ code: code }, unionId, unionLoginOptions), PLATFORM_WEAPP, unionLoginOptions);\n      });\n    },\n\n\n    /**\n     * The same with {@link AV.User.loginWithQQApp}, except that you can set attributes before login.\n     * @since 4.2.0\n     * @param {Object} [options]\n     * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n     * @param {boolean} [options.preferUnionId]  UnionId UnionId \n     * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     */\n    loginWithQQApp: function loginWithQQApp(options) {\n      var _this8 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this8.loginWithAuthData(getMiniappAuthData('qq')(code, options), PLATFORM_WEAPP, options);\n      });\n    },\n\n\n    /**\n     * The same with {@link AV.User.loginWithQQAppWithUnionId}, except that you can set attributes before login.\n     * @since 4.2.0\n     */\n    loginWithQQAppWithUnionId: function loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n      var _this9 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this9.loginWithAuthData(mergeUnionDataIntoAuthData('qq')({ code: code }, unionId, unionLoginOptions), PLATFORM_WEAPP, unionLoginOptions);\n      });\n    },\n\n\n    /**\n     * Logs in a AV.User. On success, this saves the session to localStorage,\n     * so you can retrieve the currently logged in user using\n     * <code>current</code>.\n     *\n     * <p>A username and password must be set before calling logIn.</p>\n     *\n     * @see AV.User.logIn\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login is complete.\n     */\n    logIn: function logIn() {\n      var model = this;\n      var request = AVRequest('login', null, null, 'POST', this.toJSON());\n      return request.then(function (resp) {\n        var serverAttrs = model.parse(resp);\n        model._finishFetch(serverAttrs);\n        return model._handleSaveResult(true).then(function () {\n          if (!serverAttrs.smsCode) delete model.attributes['smsCode'];\n          return model;\n        });\n      });\n    },\n    /**\n     * @see AV.Object#save\n     */\n    save: function save(arg1, arg2, arg3) {\n      var attrs, options;\n      if (_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)) {\n        attrs = arg1;\n        options = arg2;\n      } else {\n        attrs = {};\n        attrs[arg1] = arg2;\n        options = arg3;\n      }\n      options = options || {};\n\n      return AV.Object.prototype.save.call(this, attrs, options).then(function (model) {\n        return model._handleSaveResult(false).then(function () {\n          return model;\n        });\n      });\n    },\n\n    /**\n     * Follow a user\n     * @since 0.3.0\n     * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n     * @param {AV.User | String} options.user The target user or user's objectId to follow.\n     * @param {Object} [options.attributes] key-value attributes dictionary to be used as\n     *  conditions of followerQuery/followeeQuery.\n     * @param {AuthOptions} [authOptions]\n     */\n    follow: function follow(options, authOptions) {\n      if (!this.id) {\n        throw new Error('Please signin.');\n      }\n      var user = void 0;\n      var attributes = void 0;\n      if (options.user) {\n        user = options.user;\n        attributes = options.attributes;\n      } else {\n        user = options;\n      }\n      var userObjectId = _.isString(user) ? user : user.id;\n      if (!userObjectId) {\n        throw new Error('Invalid target user.');\n      }\n      var route = 'users/' + this.id + '/friendship/' + userObjectId;\n      var request = AVRequest(route, null, null, 'POST', AV._encode(attributes), authOptions);\n      return request;\n    },\n\n    /**\n     * Unfollow a user.\n     * @since 0.3.0\n     * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n     * @param {AV.User | String} options.user The target user or user's objectId to unfollow.\n     * @param {AuthOptions} [authOptions]\n     */\n    unfollow: function unfollow(options, authOptions) {\n      if (!this.id) {\n        throw new Error('Please signin.');\n      }\n      var user = void 0;\n      if (options.user) {\n        user = options.user;\n      } else {\n        user = options;\n      }\n      var userObjectId = _.isString(user) ? user : user.id;\n      if (!userObjectId) {\n        throw new Error('Invalid target user.');\n      }\n      var route = 'users/' + this.id + '/friendship/' + userObjectId;\n      var request = AVRequest(route, null, null, 'DELETE', null, authOptions);\n      return request;\n    },\n\n    /**\n     *Create a follower query to query the user's followers.\n     * @since 0.3.0\n     * @see AV.User#followerQuery\n     */\n    followerQuery: function followerQuery() {\n      return AV.User.followerQuery(this.id);\n    },\n\n    /**\n     *Create a followee query to query the user's followees.\n     * @since 0.3.0\n     * @see AV.User#followeeQuery\n     */\n    followeeQuery: function followeeQuery() {\n      return AV.User.followeeQuery(this.id);\n    },\n\n    /**\n     * @see AV.Object#fetch\n     */\n    fetch: function fetch(fetchOptions, options) {\n      return AV.Object.prototype.fetch.call(this, fetchOptions, options).then(function (model) {\n        return model._handleSaveResult(false).then(function () {\n          return model;\n        });\n      });\n    },\n\n    /**\n     * Update user's new password safely based on old password.\n     * @param {String} oldPassword the old password.\n     * @param {String} newPassword the new password.\n     * @param {AuthOptions} options\n     */\n    updatePassword: function updatePassword(oldPassword, newPassword, options) {\n      var route = 'users/' + this.id + '/updatePassword';\n      var params = {\n        old_password: oldPassword,\n        new_password: newPassword\n      };\n      var request = AVRequest(route, null, null, 'PUT', params, options);\n      return request;\n    },\n\n    /**\n     * Returns true if <code>current</code> would return this user.\n     * @see AV.User#current\n     */\n    isCurrent: function isCurrent() {\n      return this._isCurrentUser;\n    },\n\n    /**\n     * Returns get(\"username\").\n     * @return {String}\n     * @see AV.Object#get\n     */\n    getUsername: function getUsername() {\n      return this.get('username');\n    },\n\n    /**\n     * Returns get(\"mobilePhoneNumber\").\n     * @return {String}\n     * @see AV.Object#get\n     */\n    getMobilePhoneNumber: function getMobilePhoneNumber() {\n      return this.get('mobilePhoneNumber');\n    },\n\n    /**\n     * Calls set(\"mobilePhoneNumber\", phoneNumber, options) and returns the result.\n     * @param {String} mobilePhoneNumber\n     * @return {Boolean}\n     * @see AV.Object#set\n     */\n    setMobilePhoneNumber: function setMobilePhoneNumber(phone, options) {\n      return this.set('mobilePhoneNumber', phone, options);\n    },\n\n    /**\n     * Calls set(\"username\", username, options) and returns the result.\n     * @param {String} username\n     * @return {Boolean}\n     * @see AV.Object#set\n     */\n    setUsername: function setUsername(username, options) {\n      return this.set('username', username, options);\n    },\n\n    /**\n     * Calls set(\"password\", password, options) and returns the result.\n     * @param {String} password\n     * @return {Boolean}\n     * @see AV.Object#set\n     */\n    setPassword: function setPassword(password, options) {\n      return this.set('password', password, options);\n    },\n\n    /**\n     * Returns get(\"email\").\n     * @return {String}\n     * @see AV.Object#get\n     */\n    getEmail: function getEmail() {\n      return this.get('email');\n    },\n\n    /**\n     * Calls set(\"email\", email, options) and returns the result.\n     * @param {String} email\n     * @param {AuthOptions} options\n     * @return {Boolean}\n     * @see AV.Object#set\n     */\n    setEmail: function setEmail(email, options) {\n      return this.set('email', email, options);\n    },\n\n    /**\n     * Checks whether this user is the current user and has been authenticated.\n     * @deprecated  currentUser.isAuthenticated().then()\n     *  user.id === currentUser.id\n     * @return (Boolean) whether this user is the current user and is logged in.\n     */\n    authenticated: function authenticated() {\n      console.warn('DEPRECATED:  currentUser.isAuthenticated().then() user.id === currentUser.id');\n      return !!this._sessionToken && !AV._config.disableCurrentUser && AV.User.current() && AV.User.current().id === this.id;\n    },\n\n    /**\n     *  sessionToken \n     *\n     * @since 2.0.0\n     * @return Promise.<Boolean>\n     */\n    isAuthenticated: function isAuthenticated() {\n      var _this10 = this;\n\n      return _promise2.default.resolve().then(function () {\n        return !!_this10._sessionToken && AV.User._fetchUserBySessionToken(_this10._sessionToken).then(function () {\n          return true;\n        }, function (error) {\n          if (error.code === 211) {\n            return false;\n          }\n          throw error;\n        });\n      });\n    },\n\n\n    /**\n     * Get sessionToken of current user.\n     * @return {String} sessionToken\n     */\n    getSessionToken: function getSessionToken() {\n      return this._sessionToken;\n    },\n\n\n    /**\n     * Refresh sessionToken of current user.\n     * @since 2.1.0\n     * @param {AuthOptions} [options]\n     * @return {Promise.<AV.User>} user with refreshed sessionToken\n     */\n    refreshSessionToken: function refreshSessionToken(options) {\n      var _this11 = this;\n\n      return AVRequest('users/' + this.id + '/refreshSessionToken', null, null, 'PUT', null, options).then(function (response) {\n        _this11._finishFetch(response);\n        return _this11._handleSaveResult(true).then(function () {\n          return _this11;\n        });\n      });\n    },\n\n\n    /**\n     * Get this user's Roles.\n     * @param {AuthOptions} [options]\n     * @return {Promise.<AV.Role[]>} A promise that is fulfilled with the roles when\n     *     the query is complete.\n     */\n    getRoles: function getRoles(options) {\n      return AV.Relation.reverseQuery('_Role', 'users', this).find(options);\n    }\n  },\n  /** @lends AV.User */{\n    // Class Variables\n\n    // The currently logged-in user.\n    _currentUser: null,\n\n    // Whether currentUser is known to match the serialized version on disk.\n    // This is useful for saving a localstorage check if you try to load\n    // _currentUser frequently while there is none stored.\n    _currentUserMatchesDisk: false,\n\n    // The localStorage key suffix that the current user is stored under.\n    _CURRENT_USER_KEY: 'currentUser',\n\n    // The mapping of auth provider names to actual providers\n    _authProviders: {},\n\n    // Class Methods\n\n    /**\n     * Signs up a new user with a username (or email) and password.\n     * This will create a new AV.User on the server, and also persist the\n     * session in localStorage so that you can access the user using\n     * {@link #current}.\n     *\n     * @param {String} username The username (or email) to sign up with.\n     * @param {String} password The password to sign up with.\n     * @param {Object} [attrs] Extra fields to set on the new user.\n     * @param {AuthOptions} [options]\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the signup completes.\n     * @see AV.User#signUp\n     */\n    signUp: function signUp(username, password, attrs, options) {\n      attrs = attrs || {};\n      attrs.username = username;\n      attrs.password = password;\n      var user = AV.Object._create('_User');\n      return user.signUp(attrs, options);\n    },\n\n    /**\n     * Logs in a user with a username (or email) and password. On success, this\n     * saves the session to disk, so you can retrieve the currently logged in\n     * user using <code>current</code>.\n     *\n     * @param {String} username The username (or email) to log in with.\n     * @param {String} password The password to log in with.\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     * @see AV.User#logIn\n     */\n    logIn: function logIn(username, password) {\n      var user = AV.Object._create('_User');\n      user._finishFetch({ username: username, password: password });\n      return user.logIn();\n    },\n\n    /**\n     * Logs in a user with a session token. On success, this saves the session\n     * to disk, so you can retrieve the currently logged in user using\n     * <code>current</code>.\n     *\n     * @param {String} sessionToken The sessionToken to log in with.\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     */\n    become: function become(sessionToken) {\n      return this._fetchUserBySessionToken(sessionToken).then(function (user) {\n        return user._handleSaveResult(true).then(function () {\n          return user;\n        });\n      });\n    },\n\n    _fetchUserBySessionToken: function _fetchUserBySessionToken(sessionToken) {\n      var user = AV.Object._create('_User');\n      return request({\n        method: 'GET',\n        path: '/users/me',\n        authOptions: {\n          sessionToken: sessionToken\n        }\n      }).then(function (resp) {\n        var serverAttrs = user.parse(resp);\n        user._finishFetch(serverAttrs);\n        return user;\n      });\n    },\n\n    /**\n     * Logs in a user with a mobile phone number and sms code sent by\n     * AV.User.requestLoginSmsCode.On success, this\n     * saves the session to disk, so you can retrieve the currently logged in\n     * user using <code>current</code>.\n     *\n     * @param {String} mobilePhone The user's mobilePhoneNumber\n     * @param {String} smsCode The sms code sent by AV.User.requestLoginSmsCode\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     * @see AV.User#logIn\n     */\n    logInWithMobilePhoneSmsCode: function logInWithMobilePhoneSmsCode(mobilePhone, smsCode) {\n      var user = AV.Object._create('_User');\n      user._finishFetch({ mobilePhoneNumber: mobilePhone, smsCode: smsCode });\n      return user.logIn();\n    },\n\n    /**\n     * Sign up or logs in a user with a mobilePhoneNumber and smsCode.\n     * On success, this saves the session to disk, so you can retrieve the currently\n     * logged in user using <code>current</code>.\n     *\n     * @param {String} mobilePhoneNumber The user's mobilePhoneNumber.\n     * @param {String} smsCode The sms code sent by AV.Cloud.requestSmsCode\n     * @param {Object} attributes  The user's other attributes such as username etc.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     * @see AV.User#signUpOrlogInWithMobilePhone\n     * @see AV.Cloud.requestSmsCode\n     */\n    signUpOrlogInWithMobilePhone: function signUpOrlogInWithMobilePhone(mobilePhoneNumber, smsCode, attrs, options) {\n      attrs = attrs || {};\n      attrs.mobilePhoneNumber = mobilePhoneNumber;\n      attrs.smsCode = smsCode;\n      var user = AV.Object._create('_User');\n      return user.signUpOrlogInWithMobilePhone(attrs, options);\n    },\n\n    /**\n     * Logs in a user with a mobile phone number and password. On success, this\n     * saves the session to disk, so you can retrieve the currently logged in\n     * user using <code>current</code>.\n     *\n     * @param {String} mobilePhone The user's mobilePhoneNumber\n     * @param {String} password The password to log in with.\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     * @see AV.User#logIn\n     */\n    logInWithMobilePhone: function logInWithMobilePhone(mobilePhone, password) {\n      var user = AV.Object._create('_User');\n      user._finishFetch({\n        mobilePhoneNumber: mobilePhone,\n        password: password\n      });\n      return user.logIn();\n    },\n\n    /**\n     * Logs in a user with email and password.\n     *\n     * @since 3.13.0\n     * @param {String} email The user's email.\n     * @param {String} password The password to log in with.\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     */\n    loginWithEmail: function loginWithEmail(email, password) {\n      var user = AV.Object._create('_User');\n      user._finishFetch({\n        email: email,\n        password: password\n      });\n      return user.logIn();\n    },\n\n\n    /**\n     * Sign up or logs in a user with a third party auth data(AccessToken).\n     * On success, this saves the session to disk, so you can retrieve the currently\n     * logged in user using <code>current</code>.\n     *\n     * @since 3.7.0\n     * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n     * @param {string} platform Available platform for sign up.\n     * @param {Object} [options]\n     * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n     * @return {Promise} A promise that is fulfilled with the user when\n     *     the login completes.\n     * @example AV.User.loginWithAuthData({\n     *   openid: 'abc123',\n     *   access_token: '123abc',\n     *   expires_in: 1382686496\n     * }, 'weixin').then(function(user) {\n     *   //Access user here\n     * }).catch(function(error) {\n     *   //console.error(\"error: \", error);\n     * });\n     * @see {@link https://leancloud.cn/docs/js_guide.html#}\n     */\n    loginWithAuthData: function loginWithAuthData(authData, platform, options) {\n      return AV.User._logInWith(platform, authData, options);\n    },\n\n\n    /**\n     * @deprecated renamed to {@link AV.User.loginWithAuthData}\n     */\n    signUpOrlogInWithAuthData: function signUpOrlogInWithAuthData() {\n      console.warn('DEPRECATED: User.signUpOrlogInWithAuthData  User#loginWithAuthData ');\n      return this.loginWithAuthData.apply(this, arguments);\n    },\n\n\n    /**\n     * Sign up or logs in a user with a third party authData and unionId.\n     * @since 3.7.0\n     * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n     * @param {string} platform Available platform for sign up.\n     * @param {string} unionId\n     * @param {Object} [unionLoginOptions]\n     * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n     * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n     * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n     * @example AV.User.loginWithAuthDataAndUnionId({\n     *   openid: 'abc123',\n     *   access_token: '123abc',\n     *   expires_in: 1382686496\n     * }, 'weixin', 'union123', {\n     *   unionIdPlatform: 'weixin',\n     *   asMainAccount: true,\n     * }).then(function(user) {\n     *   //Access user here\n     * }).catch(function(error) {\n     *   //console.error(\"error: \", error);\n     * });\n     */\n    loginWithAuthDataAndUnionId: function loginWithAuthDataAndUnionId(authData, platform, unionId, unionLoginOptions) {\n      return this.loginWithAuthData(mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions), platform, unionLoginOptions);\n    },\n\n\n    /**\n     * @deprecated renamed to {@link AV.User.loginWithAuthDataAndUnionId}\n     * @since 3.5.0\n     */\n    signUpOrlogInWithAuthDataAndUnionId: function signUpOrlogInWithAuthDataAndUnionId() {\n      console.warn('DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId  User#loginWithAuthDataAndUnionId ');\n      return this.loginWithAuthDataAndUnionId.apply(this, arguments);\n    },\n\n\n    /**\n     *  session  AV.User.current() \n     * \n     *\n     * @since 2.0.0\n     * @param {Object} [options]\n     * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n     * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n     * @return {Promise.<AV.User>}\n     */\n    loginWithWeapp: function loginWithWeapp(options) {\n      var _this12 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this12.loginWithAuthData(getMiniappAuthData()(code, options), PLATFORM_WEAPP, options);\n      });\n    },\n\n\n    /**\n     * \n     * \n     *\n     * @since 3.13.0\n     * @param {Object} [unionLoginOptions]\n     * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n     * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n     */\n    loginWithWeappWithUnionId: function loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n      var _this13 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this13.loginWithAuthData(mergeUnionDataIntoAuthData()({ code: code }, unionId, unionLoginOptions), PLATFORM_WEAPP, unionLoginOptions);\n      });\n    },\n\n\n    /**\n     *  QQ  QQ  session  AV.User.current() \n     *  QQ \n     *\n     * @since 4.2.0\n     * @param {Object} [options]\n     * @param {boolean} [options.preferUnionId]  UnionId UnionId \n     * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n     * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n     * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n     * @return {Promise.<AV.User>}\n     */\n    loginWithQQApp: function loginWithQQApp(options) {\n      var _this14 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this14.loginWithAuthData(getMiniappAuthData('qq')(code, options), PLATFORM_QQAPP, options);\n      });\n    },\n\n\n    /**\n     *  QQ  QQ \n     *  QQ \n     *\n     * @since 4.2.0\n     * @param {Object} [unionLoginOptions]\n     * @param {string} [unionLoginOptions.unionIdPlatform = 'qq'] unionId platform\n     * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n     * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n     */\n    loginWithQQAppWithUnionId: function loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n      var _this15 = this;\n\n      return getMiniappLoginCode().then(function (code) {\n        return _this15.loginWithAuthData(mergeUnionDataIntoAuthData('qq')({ code: code }, unionId, unionLoginOptions), PLATFORM_QQAPP, unionLoginOptions);\n      });\n    },\n\n\n    /**\n     * Only use for DI in tests to produce deterministic IDs.\n     */\n    _genId: function _genId() {\n      return uuid();\n    },\n\n\n    /**\n     * Creates an anonymous user.\n     *\n     * @since 3.9.0\n     * @return {Promise.<AV.User>}\n     */\n    loginAnonymously: function loginAnonymously() {\n      return this.loginWithAuthData({\n        id: AV.User._genId()\n      }, 'anonymous');\n    },\n    associateWithAuthData: function associateWithAuthData(userObj, platform, authData) {\n      console.warn('DEPRECATED: User.associateWithAuthData  User#associateWithAuthData ');\n      return userObj._linkWith(platform, authData);\n    },\n\n    /**\n     * Logs out the currently logged in user session. This will remove the\n     * session from disk, log out of linked services, and future calls to\n     * <code>current</code> will return <code>null</code>.\n     * @return {Promise}\n     */\n    logOut: function logOut() {\n      if (AV._config.disableCurrentUser) {\n        console.warn('AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html');\n        return _promise2.default.resolve(null);\n      }\n\n      if (AV.User._currentUser !== null) {\n        AV.User._currentUser._logOutWithAll();\n        AV.User._currentUser._isCurrentUser = false;\n      }\n      AV.User._currentUserMatchesDisk = true;\n      AV.User._currentUser = null;\n      return AV.localStorage.removeItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY)).then(function () {\n        return AV._refreshSubscriptionId();\n      });\n    },\n\n    /**\n     *Create a follower query for special user to query the user's followers.\n     * @param {String} userObjectId The user object id.\n     * @return {AV.FriendShipQuery}\n     * @since 0.3.0\n     */\n    followerQuery: function followerQuery(userObjectId) {\n      if (!userObjectId || !_.isString(userObjectId)) {\n        throw new Error('Invalid user object id.');\n      }\n      var query = new AV.FriendShipQuery('_Follower');\n      query._friendshipTag = 'follower';\n      query.equalTo('user', AV.Object.createWithoutData('_User', userObjectId));\n      return query;\n    },\n\n    /**\n     *Create a followee query for special user to query the user's followees.\n     * @param {String} userObjectId The user object id.\n     * @return {AV.FriendShipQuery}\n     * @since 0.3.0\n     */\n    followeeQuery: function followeeQuery(userObjectId) {\n      if (!userObjectId || !_.isString(userObjectId)) {\n        throw new Error('Invalid user object id.');\n      }\n      var query = new AV.FriendShipQuery('_Followee');\n      query._friendshipTag = 'followee';\n      query.equalTo('user', AV.Object.createWithoutData('_User', userObjectId));\n      return query;\n    },\n\n    /**\n     * Requests a password reset email to be sent to the specified email address\n     * associated with the user account. This email allows the user to securely\n     * reset their password on the AV site.\n     *\n     * @param {String} email The email address associated with the user that\n     *     forgot their password.\n     * @return {Promise}\n     */\n    requestPasswordReset: function requestPasswordReset(email) {\n      var json = { email: email };\n      var request = AVRequest('requestPasswordReset', null, null, 'POST', json);\n      return request;\n    },\n\n    /**\n     * Requests a verify email to be sent to the specified email address\n     * associated with the user account. This email allows the user to securely\n     * verify their email address on the AV site.\n     *\n     * @param {String} email The email address associated with the user that\n     *     doesn't verify their email address.\n     * @return {Promise}\n     */\n    requestEmailVerify: function requestEmailVerify(email) {\n      var json = { email: email };\n      var request = AVRequest('requestEmailVerify', null, null, 'POST', json);\n      return request;\n    },\n\n    /**\n     * Requests a verify sms code to be sent to the specified mobile phone\n     * number associated with the user account. This sms code allows the user to\n     * verify their mobile phone number by calling AV.User.verifyMobilePhone\n     *\n     * @param {String} mobilePhoneNumber The mobile phone number associated with the\n     *                  user that doesn't verify their mobile phone number.\n     * @param {AuthOptions} [options] AuthOptions plus:\n     * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n     * @return {Promise}\n     */\n    requestMobilePhoneVerify: function requestMobilePhoneVerify(mobilePhoneNumber) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var data = {\n        mobilePhoneNumber: mobilePhoneNumber\n      };\n      if (options.validateToken) {\n        data.validate_token = options.validateToken;\n      }\n      var request = AVRequest('requestMobilePhoneVerify', null, null, 'POST', data, options);\n      return request;\n    },\n\n    /**\n     * Requests a reset password sms code to be sent to the specified mobile phone\n     * number associated with the user account. This sms code allows the user to\n     * reset their account's password by calling AV.User.resetPasswordBySmsCode\n     *\n     * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n     *                  user that doesn't verify their mobile phone number.\n     * @param {AuthOptions} [options] AuthOptions plus:\n     * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n     * @return {Promise}\n     */\n    requestPasswordResetBySmsCode: function requestPasswordResetBySmsCode(mobilePhoneNumber) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var data = {\n        mobilePhoneNumber: mobilePhoneNumber\n      };\n      if (options.validateToken) {\n        data.validate_token = options.validateToken;\n      }\n      var request = AVRequest('requestPasswordResetBySmsCode', null, null, 'POST', data, options);\n      return request;\n    },\n\n    /**\n     * Makes a call to reset user's account password by sms code and new password.\n     * The sms code is sent by AV.User.requestPasswordResetBySmsCode.\n     * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n     * @param {String} password The new password.\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     */\n    resetPasswordBySmsCode: function resetPasswordBySmsCode(code, password) {\n      var json = { password: password };\n      var request = AVRequest('resetPasswordBySmsCode', null, code, 'PUT', json);\n      return request;\n    },\n\n    /**\n     * Makes a call to verify sms code that sent by AV.User.Cloud.requestSmsCode\n     * If verify successfully,the user mobilePhoneVerified attribute will be true.\n     * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     */\n    verifyMobilePhone: function verifyMobilePhone(code) {\n      var request = AVRequest('verifyMobilePhone', null, code, 'POST', null);\n      return request;\n    },\n\n    /**\n     * Requests a logIn sms code to be sent to the specified mobile phone\n     * number associated with the user account. This sms code allows the user to\n     * login by AV.User.logInWithMobilePhoneSmsCode function.\n     *\n     * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n     *           user that want to login by AV.User.logInWithMobilePhoneSmsCode\n     * @param {AuthOptions} [options] AuthOptions plus:\n     * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n     * @return {Promise}\n     */\n    requestLoginSmsCode: function requestLoginSmsCode(mobilePhoneNumber) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var data = {\n        mobilePhoneNumber: mobilePhoneNumber\n      };\n      if (options.validateToken) {\n        data.validate_token = options.validateToken;\n      }\n      var request = AVRequest('requestLoginSmsCode', null, null, 'POST', data, options);\n      return request;\n    },\n\n    /**\n     * Retrieves the currently logged in AVUser with a valid session,\n     * either from memory or localStorage, if necessary.\n     * @return {Promise.<AV.User>} resolved with the currently logged in AV.User.\n     */\n    currentAsync: function currentAsync() {\n      if (AV._config.disableCurrentUser) {\n        console.warn('AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html');\n        return _promise2.default.resolve(null);\n      }\n\n      if (AV.User._currentUser) {\n        return _promise2.default.resolve(AV.User._currentUser);\n      }\n\n      if (AV.User._currentUserMatchesDisk) {\n        return _promise2.default.resolve(AV.User._currentUser);\n      }\n\n      return AV.localStorage.getItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY)).then(function (userData) {\n        if (!userData) {\n          return null;\n        }\n\n        // Load the user from local storage.\n        AV.User._currentUserMatchesDisk = true;\n\n        AV.User._currentUser = AV.Object._create('_User');\n        AV.User._currentUser._isCurrentUser = true;\n\n        var json = JSON.parse(userData);\n        AV.User._currentUser.id = json._id;\n        delete json._id;\n        AV.User._currentUser._sessionToken = json._sessionToken;\n        delete json._sessionToken;\n        AV.User._currentUser._finishFetch(json);\n        //AV.User._currentUser.set(json);\n\n        AV.User._currentUser._synchronizeAllAuthData();\n        AV.User._currentUser._refreshCache();\n        AV.User._currentUser._opSetQueue = [{}];\n        return AV.User._currentUser;\n      });\n    },\n\n    /**\n     * Retrieves the currently logged in AVUser with a valid session,\n     * either from memory or localStorage, if necessary.\n     * @return {AV.User} The currently logged in AV.User.\n     */\n    current: function current() {\n      if (AV._config.disableCurrentUser) {\n        console.warn('AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html');\n        return null;\n      }\n\n      if (AV.localStorage.async) {\n        var error = new Error('Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.');\n        error.code = 'SYNC_API_NOT_AVAILABLE';\n        throw error;\n      }\n\n      if (AV.User._currentUser) {\n        return AV.User._currentUser;\n      }\n\n      if (AV.User._currentUserMatchesDisk) {\n        return AV.User._currentUser;\n      }\n\n      // Load the user from local storage.\n      AV.User._currentUserMatchesDisk = true;\n\n      var userData = AV.localStorage.getItem(AV._getAVPath(AV.User._CURRENT_USER_KEY));\n      if (!userData) {\n        return null;\n      }\n      AV.User._currentUser = AV.Object._create('_User');\n      AV.User._currentUser._isCurrentUser = true;\n\n      var json = JSON.parse(userData);\n      AV.User._currentUser.id = json._id;\n      delete json._id;\n      AV.User._currentUser._sessionToken = json._sessionToken;\n      delete json._sessionToken;\n      AV.User._currentUser._finishFetch(json);\n      //AV.User._currentUser.set(json);\n\n      AV.User._currentUser._synchronizeAllAuthData();\n      AV.User._currentUser._refreshCache();\n      AV.User._currentUser._opSetQueue = [{}];\n      return AV.User._currentUser;\n    },\n\n    /**\n     * Persists a user as currentUser to localStorage, and into the singleton.\n     * @private\n     */\n    _saveCurrentUser: function _saveCurrentUser(user) {\n      var promise;\n      if (AV.User._currentUser !== user) {\n        promise = AV.User.logOut();\n      } else {\n        promise = _promise2.default.resolve();\n      }\n      return promise.then(function () {\n        user._isCurrentUser = true;\n        AV.User._currentUser = user;\n\n        var json = user._toFullJSON();\n        json._id = user.id;\n        json._sessionToken = user._sessionToken;\n        return AV.localStorage.setItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY), (0, _stringify2.default)(json)).then(function () {\n          AV.User._currentUserMatchesDisk = true;\n          return AV._refreshSubscriptionId();\n        });\n      });\n    },\n\n    _registerAuthenticationProvider: function _registerAuthenticationProvider(provider) {\n      AV.User._authProviders[provider.getAuthType()] = provider;\n      // Synchronize the current user with the auth provider.\n      if (!AV._config.disableCurrentUser && AV.User.current()) {\n        AV.User.current()._synchronizeAuthData(provider.getAuthType());\n      }\n    },\n\n    _logInWith: function _logInWith(provider, authData, options) {\n      var user = AV.Object._create('_User');\n      return user._linkWith(provider, authData, options);\n    }\n  });\n};\n\n/***/ }),\n/* 157 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(61);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n/***/ }),\n/* 158 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar debug = __webpack_require__(24)('leancloud:query');\nvar AVError = __webpack_require__(18);\n\nvar _require = __webpack_require__(8),\n    _request = _require._request,\n    request = _require.request;\n\nvar _require2 = __webpack_require__(7),\n    ensureArray = _require2.ensureArray,\n    transformFetchOptions = _require2.transformFetchOptions,\n    continueWhile = _require2.continueWhile;\n\nvar requires = function requires(value, message) {\n  if (value === undefined) {\n    throw new Error(message);\n  }\n};\n\n// AV.Query is a way to create a list of AV.Objects.\nmodule.exports = function (AV) {\n  /**\n   * Creates a new AV.Query for the given AV.Object subclass.\n   * @param {Class|String} objectClass An instance of a subclass of AV.Object, or a AV className string.\n   * @class\n   *\n   * <p>AV.Query defines a query that is used to fetch AV.Objects. The\n   * most common use case is finding all objects that match a query through the\n   * <code>find</code> method. For example, this sample code fetches all objects\n   * of class <code>MyClass</code>. It calls a different function depending on\n   * whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.find().then(function(results) {\n   *   // results is an array of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to retrieve a single object whose id is\n   * known, through the get method. For example, this sample code fetches an\n   * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n   * different function depending on whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.get(myId).then(function(object) {\n   *   // object is an instance of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to count the number of objects that match\n   * the query without retrieving all of those objects. For example, this\n   * sample code counts the number of objects of the class <code>MyClass</code>\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.count().then(function(number) {\n   *   // There are number instances of MyClass.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   */\n  AV.Query = function (objectClass) {\n    if (_.isString(objectClass)) {\n      objectClass = AV.Object._getSubclass(objectClass);\n    }\n\n    this.objectClass = objectClass;\n\n    this.className = objectClass.prototype.className;\n\n    this._where = {};\n    this._include = [];\n    this._select = [];\n    this._limit = -1; // negative limit means, do not send a limit\n    this._skip = 0;\n    this._defaultParams = {};\n  };\n\n  /**\n   * Constructs a AV.Query that is the OR of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.or(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an or of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to OR.\n   * @return {AV.Query} The query that is the OR of the passed in queries.\n   */\n  AV.Query.or = function () {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function (q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._orQuery(queries);\n    return query;\n  };\n\n  /**\n   * Constructs a AV.Query that is the AND of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.and(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an 'and' of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to AND.\n   * @return {AV.Query} The query that is the AND of the passed in queries.\n   */\n  AV.Query.and = function () {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function (q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._andQuery(queries);\n    return query;\n  };\n\n  /**\n   * Retrieves a list of AVObjects that satisfy the CQL.\n   * CQL syntax please see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   *\n   * @param {String} cql A CQL string, see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   * @param {Array} pvalues An array contains placeholder values.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is resolved with the results when\n   * the query completes.\n   */\n  AV.Query.doCloudQuery = function (cql, pvalues, options) {\n    var params = { cql: cql };\n    if (_.isArray(pvalues)) {\n      params.pvalues = pvalues;\n    } else {\n      options = pvalues;\n    }\n\n    var request = _request('cloudQuery', null, null, 'GET', params, options);\n    return request.then(function (response) {\n      //query to process results.\n      var query = new AV.Query(response.className);\n      var results = _.map(response.results, function (json) {\n        var obj = query._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(query._processResult(json), true);\n        }\n        return obj;\n      });\n      return {\n        results: results,\n        count: response.count,\n        className: response.className\n      };\n    });\n  };\n\n  /**\n   * Return a query with conditions from json.\n   * This can be useful to send a query from server side to client side.\n   * @since 4.0.0\n   * @param {Object} json from {@link AV.Query#toJSON}\n   * @return {AV.Query}\n   */\n  AV.Query.fromJSON = function (_ref) {\n    var className = _ref.className,\n        where = _ref.where,\n        include = _ref.include,\n        select = _ref.select,\n        includeACL = _ref.includeACL,\n        limit = _ref.limit,\n        skip = _ref.skip,\n        order = _ref.order;\n\n    if (typeof className !== 'string') {\n      throw new TypeError('Invalid Query JSON, className must be a String.');\n    }\n    var query = new AV.Query(className);\n    _.extend(query, {\n      _where: where,\n      _include: include,\n      _select: select,\n      _includeACL: includeACL,\n      _limit: limit,\n      _skip: skip,\n      _order: order\n    });\n    return query;\n  };\n\n  AV.Query._extend = AV._extend;\n\n  _.extend(AV.Query.prototype,\n  /** @lends AV.Query.prototype */{\n    //hook to iterate result. Added by dennis<xzhuang@avoscloud.com>.\n    _processResult: function _processResult(obj) {\n      return obj;\n    },\n\n    /**\n     * Constructs an AV.Object whose id is already known by fetching data from\n     * the server.\n     *\n     * @param {String} objectId The id of the object to be fetched.\n     * @param {AuthOptions} options\n     * @return {Promise.<AV.Object>}\n     */\n    get: function get(objectId, options) {\n      if (!_.isString(objectId)) {\n        throw new Error('objectId must be a string');\n      }\n      if (objectId === '') {\n        return _promise2.default.reject(new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.'));\n      }\n\n      var obj = this._newObject();\n      obj.id = objectId;\n\n      var queryJSON = this._getParams();\n      var fetchOptions = {};\n\n      if (queryJSON.keys) fetchOptions.keys = queryJSON.keys;\n      if (queryJSON.include) fetchOptions.include = queryJSON.include;\n      if (queryJSON.includeACL) fetchOptions.includeACL = queryJSON.includeACL;\n\n      return _request('classes', this.className, objectId, 'GET', transformFetchOptions(fetchOptions), options).then(function (response) {\n        if (_.isEmpty(response)) throw new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n        obj._finishFetch(obj.parse(response), true);\n        return obj;\n      });\n    },\n\n    /**\n     * Returns a JSON representation of this query.\n     * @return {Object}\n     */\n    toJSON: function toJSON() {\n      var className = this.className,\n          where = this._where,\n          include = this._include,\n          select = this._select,\n          includeACL = this._includeACL,\n          limit = this._limit,\n          skip = this._skip,\n          order = this._order;\n\n      return {\n        className: className,\n        where: where,\n        include: include,\n        select: select,\n        includeACL: includeACL,\n        limit: limit,\n        skip: skip,\n        order: order\n      };\n    },\n\n\n    _getParams: function _getParams() {\n      var params = _.extend({}, this._defaultParams, {\n        where: this._where\n      });\n\n      if (this._include.length > 0) {\n        params.include = this._include.join(',');\n      }\n      if (this._select.length > 0) {\n        params.keys = this._select.join(',');\n      }\n      if (this._includeACL !== undefined) {\n        params.returnACL = this._includeACL;\n      }\n      if (this._limit >= 0) {\n        params.limit = this._limit;\n      }\n      if (this._skip > 0) {\n        params.skip = this._skip;\n      }\n      if (this._order !== undefined) {\n        params.order = this._order;\n      }\n\n      return params;\n    },\n\n    _newObject: function _newObject(response) {\n      var obj;\n      if (response && response.className) {\n        obj = new AV.Object(response.className);\n      } else {\n        obj = new this.objectClass();\n      }\n      return obj;\n    },\n    _createRequest: function _createRequest() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._getParams();\n      var options = arguments[1];\n      var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '/classes/' + this.className;\n\n      if (encodeURIComponent((0, _stringify2.default)(params)).length > 2000) {\n        var body = {\n          requests: [{\n            method: 'GET',\n            path: '/1.1' + path,\n            params: params\n          }]\n        };\n        return request({\n          path: '/batch',\n          method: 'POST',\n          data: body,\n          authOptions: options\n        }).then(function (response) {\n          var result = response[0];\n          if (result.success) {\n            return result.success;\n          }\n          var error = new Error(result.error.error || 'Unknown batch error');\n          error.code = result.error.code;\n          throw error;\n        });\n      }\n      return request({\n        method: 'GET',\n        path: path,\n        query: params,\n        authOptions: options\n      });\n    },\n    _parseResponse: function _parseResponse(response) {\n      var _this = this;\n\n      return _.map(response.results, function (json) {\n        var obj = _this._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(_this._processResult(json), true);\n        }\n        return obj;\n      });\n    },\n\n\n    /**\n     * Retrieves a list of AVObjects that satisfy this query.\n     *\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is resolved with the results when\n     * the query completes.\n     */\n    find: function find(options) {\n      var request = this._createRequest(undefined, options);\n      return request.then(this._parseResponse.bind(this));\n    },\n\n\n    /**\n     * scan a Query. masterKey required.\n     *\n     * @since 2.1.0\n     * @param {object} [options]\n     * @param {string} [options.orderedBy] specify the key to sort\n     * @param {number} [options.batchSize] specify the batch size for each request\n     * @param {AuthOptions} [authOptions]\n     * @return {AsyncIterator.<AV.Object>}\n     * @example const scan = new AV.Query(TestClass).scan({\n     *   orderedBy: 'objectId',\n     *   batchSize: 10,\n     * }, {\n     *   useMasterKey: true,\n     * });\n     * const getTen = () => Promise.all(new Array(10).fill(0).map(() => scan.next()));\n     * getTen().then(results => {\n     *   // results are fisrt 10 instances of TestClass\n     *   return getTen();\n     * }).then(results => {\n     *   // 11 - 20\n     * });\n     */\n    scan: function scan() {\n      var _this2 = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          orderedBy = _ref2.orderedBy,\n          batchSize = _ref2.batchSize;\n\n      var authOptions = arguments[1];\n\n      var condition = this._getParams();\n      debug('scan %O', condition);\n      if (condition.order) {\n        console.warn('The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan.');\n        delete condition.order;\n      }\n      if (condition.skip) {\n        console.warn('The skip option of the query is ignored for Query#scan.');\n        delete condition.skip;\n      }\n      if (condition.limit) {\n        console.warn('The limit option of the query is ignored for Query#scan.');\n        delete condition.limit;\n      }\n      if (orderedBy) condition.scan_key = orderedBy;\n      if (batchSize) condition.limit = batchSize;\n      var promise = _promise2.default.resolve([]);\n      var cursor = void 0;\n      var done = false;\n      return {\n        next: function next() {\n          promise = promise.then(function (remainResults) {\n            if (done) return [];\n            if (remainResults.length > 1) return remainResults;\n            // no cursor means we have reached the end\n            // except for the first time\n            if (!cursor && remainResults.length !== 0) {\n              done = true;\n              return remainResults;\n            }\n            // when only 1 item left in queue\n            // start the next request to see if it is the last one\n            return _request('scan/classes', _this2.className, null, 'GET', cursor ? _.extend({}, condition, { cursor: cursor }) : condition, authOptions).then(function (response) {\n              cursor = response.cursor;\n              return _this2._parseResponse(response);\n            }).then(function (results) {\n              if (!results.length) done = true;\n              return remainResults.concat(results);\n            });\n          });\n          return promise.then(function (remainResults) {\n            return remainResults.shift();\n          }).then(function (result) {\n            return {\n              value: result,\n              done: done\n            };\n          });\n        }\n      };\n    },\n\n\n    /**\n     * Delete objects retrieved by this query.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the save\n     *     completes.\n     */\n    destroyAll: function destroyAll(options) {\n      var self = this;\n      return self.find(options).then(function (objects) {\n        return AV.Object.destroyAll(objects, options);\n      });\n    },\n\n    /**\n     * Counts the number of objects that match this query.\n     *\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is resolved with the count when\n     * the query completes.\n     */\n    count: function count(options) {\n      var params = this._getParams();\n      params.limit = 0;\n      params.count = 1;\n      var request = this._createRequest(params, options);\n\n      return request.then(function (response) {\n        return response.count;\n      });\n    },\n\n    /**\n     * Retrieves at most one AV.Object that satisfies this query.\n     *\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is resolved with the object when\n     * the query completes.\n     */\n    first: function first(options) {\n      var self = this;\n\n      var params = this._getParams();\n      params.limit = 1;\n      var request = this._createRequest(params, options);\n\n      return request.then(function (response) {\n        return _.map(response.results, function (json) {\n          var obj = self._newObject();\n          if (obj._finishFetch) {\n            obj._finishFetch(self._processResult(json), true);\n          }\n          return obj;\n        })[0];\n      });\n    },\n\n    /**\n     * Sets the number of results to skip before returning any results.\n     * This is useful for pagination.\n     * Default is to skip zero results.\n     * @param {Number} n the number of results to skip.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    skip: function skip(n) {\n      requires(n, 'undefined is not a valid skip value');\n      this._skip = n;\n      return this;\n    },\n\n    /**\n     * Sets the limit of the number of results to return. The default limit is\n     * 100, with a maximum of 1000 results being returned at a time.\n     * @param {Number} n the number of results to limit to.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    limit: function limit(n) {\n      requires(n, 'undefined is not a valid limit value');\n      this._limit = n;\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be equal to the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that the AV.Object must contain.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    equalTo: function equalTo(key, value) {\n      requires(key, 'undefined is not a valid key');\n      requires(value, 'undefined is not a valid value');\n      this._where[key] = AV._encode(value);\n      return this;\n    },\n\n    /**\n     * Helper for condition queries\n     * @private\n     */\n    _addCondition: function _addCondition(key, condition, value) {\n      requires(key, 'undefined is not a valid condition key');\n      requires(condition, 'undefined is not a valid condition');\n      requires(value, 'undefined is not a valid condition value');\n\n      // Check if we already have a condition\n      if (!this._where[key]) {\n        this._where[key] = {};\n      }\n      this._where[key][condition] = AV._encode(value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular\n     * <strong>array</strong> key's length to be equal to the provided value.\n     * @param {String} key The array key to check.\n     * @param value The length value.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    sizeEqualTo: function sizeEqualTo(key, value) {\n      this._addCondition(key, '$size', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be not equal to the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that must not be equalled.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    notEqualTo: function notEqualTo(key, value) {\n      this._addCondition(key, '$ne', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be less than the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that provides an upper bound.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    lessThan: function lessThan(key, value) {\n      this._addCondition(key, '$lt', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be greater than the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that provides an lower bound.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    greaterThan: function greaterThan(key, value) {\n      this._addCondition(key, '$gt', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be less than or equal to the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that provides an upper bound.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    lessThanOrEqualTo: function lessThanOrEqualTo(key, value) {\n      this._addCondition(key, '$lte', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be greater than or equal to the provided value.\n     * @param {String} key The key to check.\n     * @param value The value that provides an lower bound.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    greaterThanOrEqualTo: function greaterThanOrEqualTo(key, value) {\n      this._addCondition(key, '$gte', value);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * be contained in the provided list of values.\n     * @param {String} key The key to check.\n     * @param {Array} values The values that will match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    containedIn: function containedIn(key, values) {\n      this._addCondition(key, '$in', values);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * not be contained in the provided list of values.\n     * @param {String} key The key to check.\n     * @param {Array} values The values that will not match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    notContainedIn: function notContainedIn(key, values) {\n      this._addCondition(key, '$nin', values);\n      return this;\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's value to\n     * contain each one of the provided list of values.\n     * @param {String} key The key to check.  This key's value must be an array.\n     * @param {Array} values The values that will match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    containsAll: function containsAll(key, values) {\n      this._addCondition(key, '$all', values);\n      return this;\n    },\n\n    /**\n     * Add a constraint for finding objects that contain the given key.\n     * @param {String} key The key that should exist.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    exists: function exists(key) {\n      this._addCondition(key, '$exists', true);\n      return this;\n    },\n\n    /**\n     * Add a constraint for finding objects that do not contain a given key.\n     * @param {String} key The key that should not exist\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    doesNotExist: function doesNotExist(key) {\n      this._addCondition(key, '$exists', false);\n      return this;\n    },\n\n    /**\n     * Add a regular expression constraint for finding string values that match\n     * the provided regular expression.\n     * This may be slow for large datasets.\n     * @param {String} key The key that the string to match is stored in.\n     * @param {RegExp} regex The regular expression pattern to match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    matches: function matches(key, regex, modifiers) {\n      this._addCondition(key, '$regex', regex);\n      if (!modifiers) {\n        modifiers = '';\n      }\n      // Javascript regex options support mig as inline options but store them\n      // as properties of the object. We support mi & should migrate them to\n      // modifiers\n      if (regex.ignoreCase) {\n        modifiers += 'i';\n      }\n      if (regex.multiline) {\n        modifiers += 'm';\n      }\n\n      if (modifiers && modifiers.length) {\n        this._addCondition(key, '$options', modifiers);\n      }\n      return this;\n    },\n\n    /**\n     * Add a constraint that requires that a key's value matches a AV.Query\n     * constraint.\n     * @param {String} key The key that the contains the object to match the\n     *                     query.\n     * @param {AV.Query} query The query that should match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    matchesQuery: function matchesQuery(key, query) {\n      var queryJSON = query._getParams();\n      queryJSON.className = query.className;\n      this._addCondition(key, '$inQuery', queryJSON);\n      return this;\n    },\n\n    /**\n     * Add a constraint that requires that a key's value not matches a\n     * AV.Query constraint.\n     * @param {String} key The key that the contains the object to match the\n     *                     query.\n     * @param {AV.Query} query The query that should not match.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    doesNotMatchQuery: function doesNotMatchQuery(key, query) {\n      var queryJSON = query._getParams();\n      queryJSON.className = query.className;\n      this._addCondition(key, '$notInQuery', queryJSON);\n      return this;\n    },\n\n    /**\n     * Add a constraint that requires that a key's value matches a value in\n     * an object returned by a different AV.Query.\n     * @param {String} key The key that contains the value that is being\n     *                     matched.\n     * @param {String} queryKey The key in the objects returned by the query to\n     *                          match against.\n     * @param {AV.Query} query The query to run.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    matchesKeyInQuery: function matchesKeyInQuery(key, queryKey, query) {\n      var queryJSON = query._getParams();\n      queryJSON.className = query.className;\n      this._addCondition(key, '$select', { key: queryKey, query: queryJSON });\n      return this;\n    },\n\n    /**\n     * Add a constraint that requires that a key's value not match a value in\n     * an object returned by a different AV.Query.\n     * @param {String} key The key that contains the value that is being\n     *                     excluded.\n     * @param {String} queryKey The key in the objects returned by the query to\n     *                          match against.\n     * @param {AV.Query} query The query to run.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    doesNotMatchKeyInQuery: function doesNotMatchKeyInQuery(key, queryKey, query) {\n      var queryJSON = query._getParams();\n      queryJSON.className = query.className;\n      this._addCondition(key, '$dontSelect', {\n        key: queryKey,\n        query: queryJSON\n      });\n      return this;\n    },\n\n    /**\n     * Add constraint that at least one of the passed in queries matches.\n     * @param {Array} queries\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     * @private\n     */\n    _orQuery: function _orQuery(queries) {\n      var queryJSON = _.map(queries, function (q) {\n        return q._getParams().where;\n      });\n\n      this._where.$or = queryJSON;\n      return this;\n    },\n\n    /**\n     * Add constraint that both of the passed in queries matches.\n     * @param {Array} queries\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     * @private\n     */\n    _andQuery: function _andQuery(queries) {\n      var queryJSON = _.map(queries, function (q) {\n        return q._getParams().where;\n      });\n\n      this._where.$and = queryJSON;\n      return this;\n    },\n\n    /**\n     * Converts a string into a regex that matches it.\n     * Surrounding with \\Q .. \\E does this, we just need to escape \\E's in\n     * the text separately.\n     * @private\n     */\n    _quote: function _quote(s) {\n      return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n    },\n\n    /**\n     * Add a constraint for finding string values that contain a provided\n     * string.  This may be slow for large datasets.\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} substring The substring that the value must contain.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    contains: function contains(key, value) {\n      this._addCondition(key, '$regex', this._quote(value));\n      return this;\n    },\n\n    /**\n     * Add a constraint for finding string values that start with a provided\n     * string.  This query will use the backend index, so it will be fast even\n     * for large datasets.\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} prefix The substring that the value must start with.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    startsWith: function startsWith(key, value) {\n      this._addCondition(key, '$regex', '^' + this._quote(value));\n      return this;\n    },\n\n    /**\n     * Add a constraint for finding string values that end with a provided\n     * string.  This will be slow for large datasets.\n     * @param {String} key The key that the string to match is stored in.\n     * @param {String} suffix The substring that the value must end with.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    endsWith: function endsWith(key, value) {\n      this._addCondition(key, '$regex', this._quote(value) + '$');\n      return this;\n    },\n\n    /**\n     * Sorts the results in ascending order by the given key.\n     *\n     * @param {String} key The key to order by.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    ascending: function ascending(key) {\n      requires(key, 'undefined is not a valid key');\n      this._order = key;\n      return this;\n    },\n\n    /**\n     * Also sorts the results in ascending order by the given key. The previous sort keys have\n     * precedence over this key.\n     *\n     * @param {String} key The key to order by\n     * @return {AV.Query} Returns the query so you can chain this call.\n     */\n    addAscending: function addAscending(key) {\n      requires(key, 'undefined is not a valid key');\n      if (this._order) this._order += ',' + key;else this._order = key;\n      return this;\n    },\n\n    /**\n     * Sorts the results in descending order by the given key.\n     *\n     * @param {String} key The key to order by.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    descending: function descending(key) {\n      requires(key, 'undefined is not a valid key');\n      this._order = '-' + key;\n      return this;\n    },\n\n    /**\n     * Also sorts the results in descending order by the given key. The previous sort keys have\n     * precedence over this key.\n     *\n     * @param {String} key The key to order by\n     * @return {AV.Query} Returns the query so you can chain this call.\n     */\n    addDescending: function addDescending(key) {\n      requires(key, 'undefined is not a valid key');\n      if (this._order) this._order += ',-' + key;else this._order = '-' + key;\n      return this;\n    },\n\n    /**\n     * Add a proximity based constraint for finding objects with key point\n     * values near the point given.\n     * @param {String} key The key that the AV.GeoPoint is stored in.\n     * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    near: function near(key, point) {\n      if (!(point instanceof AV.GeoPoint)) {\n        // Try to cast it to a GeoPoint, so that near(\"loc\", [20,30]) works.\n        point = new AV.GeoPoint(point);\n      }\n      this._addCondition(key, '$nearSphere', point);\n      return this;\n    },\n\n    /**\n     * Add a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * @param {String} key The key that the AV.GeoPoint is stored in.\n     * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n     * @param maxDistance Maximum distance (in radians) of results to return.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    withinRadians: function withinRadians(key, point, distance) {\n      this.near(key, point);\n      this._addCondition(key, '$maxDistance', distance);\n      return this;\n    },\n\n    /**\n     * Add a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * Radius of earth used is 3958.8 miles.\n     * @param {String} key The key that the AV.GeoPoint is stored in.\n     * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n     * @param {Number} maxDistance Maximum distance (in miles) of results to\n     *     return.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    withinMiles: function withinMiles(key, point, distance) {\n      return this.withinRadians(key, point, distance / 3958.8);\n    },\n\n    /**\n     * Add a proximity based constraint for finding objects with key point\n     * values near the point given and within the maximum distance given.\n     * Radius of earth used is 6371.0 kilometers.\n     * @param {String} key The key that the AV.GeoPoint is stored in.\n     * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n     * @param {Number} maxDistance Maximum distance (in kilometers) of results\n     *     to return.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    withinKilometers: function withinKilometers(key, point, distance) {\n      return this.withinRadians(key, point, distance / 6371.0);\n    },\n\n    /**\n     * Add a constraint to the query that requires a particular key's\n     * coordinates be contained within a given rectangular geographic bounding\n     * box.\n     * @param {String} key The key to be constrained.\n     * @param {AV.GeoPoint} southwest\n     *     The lower-left inclusive corner of the box.\n     * @param {AV.GeoPoint} northeast\n     *     The upper-right inclusive corner of the box.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    withinGeoBox: function withinGeoBox(key, southwest, northeast) {\n      if (!(southwest instanceof AV.GeoPoint)) {\n        southwest = new AV.GeoPoint(southwest);\n      }\n      if (!(northeast instanceof AV.GeoPoint)) {\n        northeast = new AV.GeoPoint(northeast);\n      }\n      this._addCondition(key, '$within', { $box: [southwest, northeast] });\n      return this;\n    },\n\n    /**\n     * Include nested AV.Objects for the provided key.  You can use dot\n     * notation to specify which fields in the included object are also fetch.\n     * @param {String[]} keys The name of the key to include.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    include: function include(keys) {\n      var _this3 = this;\n\n      requires(keys, 'undefined is not a valid key');\n      _.forEach(arguments, function (keys) {\n        _this3._include = _this3._include.concat(ensureArray(keys));\n      });\n      return this;\n    },\n\n    /**\n     * Include the ACL.\n     * @param {Boolean} [value=true] Whether to include the ACL\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    includeACL: function includeACL() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._includeACL = value;\n      return this;\n    },\n\n    /**\n     * Restrict the fields of the returned AV.Objects to include only the\n     * provided keys.  If this is called multiple times, then all of the keys\n     * specified in each of the calls will be included.\n     * @param {String[]} keys The names of the keys to include.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    select: function select(keys) {\n      var _this4 = this;\n\n      requires(keys, 'undefined is not a valid key');\n      _.forEach(arguments, function (keys) {\n        _this4._select = _this4._select.concat(ensureArray(keys));\n      });\n      return this;\n    },\n\n    /**\n     * Iterates over each result of a query, calling a callback for each one. If\n     * the callback returns a promise, the iteration will not continue until\n     * that promise has been fulfilled. If the callback returns a rejected\n     * promise, then iteration will stop with that error. The items are\n     * processed in an unspecified order. The query may not have any sort order,\n     * and may not use limit or skip.\n     * @param callback {Function} Callback that will be called with each result\n     *     of the query.\n     * @return {Promise} A promise that will be fulfilled once the\n     *     iteration has completed.\n     */\n    each: function each(callback) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this._order || this._skip || this._limit >= 0) {\n        var error = new Error('Cannot iterate on a query with sort, skip, or limit.');\n        return _promise2.default.reject(error);\n      }\n\n      var query = new AV.Query(this.objectClass);\n      // We can override the batch size from the options.\n      // This is undocumented, but useful for testing.\n      query._limit = options.batchSize || 100;\n      query._where = _.clone(this._where);\n      query._include = _.clone(this._include);\n\n      query.ascending('objectId');\n\n      var finished = false;\n      return continueWhile(function () {\n        return !finished;\n      }, function () {\n        return query.find(options).then(function (results) {\n          var callbacksDone = _promise2.default.resolve();\n          _.each(results, function (result) {\n            callbacksDone = callbacksDone.then(function () {\n              return callback(result);\n            });\n          });\n\n          return callbacksDone.then(function () {\n            if (results.length >= query._limit) {\n              query.greaterThan('objectId', results[results.length - 1].id);\n            } else {\n              finished = true;\n            }\n          });\n        });\n      });\n    },\n\n    /**\n     * Subscribe the changes of this query.\n     *\n     * LiveQuery is not included in the default bundle: {@link https://url.leanapp.cn/enable-live-query}.\n     *\n     * @since 3.0.0\n     * @return {AV.LiveQuery} An eventemitter which can be used to get LiveQuery updates;\n     */\n    subscribe: function subscribe(options) {\n      return AV.LiveQuery.init(this, options);\n    }\n  });\n\n  AV.FriendShipQuery = AV.Query._extend({\n    _newObject: function _newObject() {\n      var UserClass = AV.Object._getSubclass('_User');\n      return new UserClass();\n    },\n    _processResult: function _processResult(json) {\n      if (json && json[this._friendshipTag]) {\n        var user = json[this._friendshipTag];\n        if (user.__type === 'Pointer' && user.className === '_User') {\n          delete user.__type;\n          delete user.className;\n        }\n        return user;\n      } else {\n        return null;\n      }\n    }\n  });\n};\n\n/***/ }),\n/* 159 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar EventEmitter = __webpack_require__(160);\n\nvar _require = __webpack_require__(7),\n    inherits = _require.inherits;\n\nvar _require2 = __webpack_require__(8),\n    request = _require2.request;\n\nvar subscribe = function subscribe(queryJSON, subscriptionId) {\n  return request({\n    method: 'POST',\n    path: '/LiveQuery/subscribe',\n    data: {\n      query: queryJSON,\n      id: subscriptionId\n    }\n  });\n};\n\nmodule.exports = function (AV) {\n  var requireRealtime = function requireRealtime() {\n    if (!AV._config.realtime) {\n      throw new Error('LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query');\n    }\n  };\n  /**\n   * @class\n   * A LiveQuery, created by {@link AV.Query#subscribe} is an EventEmitter notifies changes of the Query.\n   * @since 3.0.0\n   */\n  AV.LiveQuery = inherits(EventEmitter,\n  /** @lends AV.LiveQuery.prototype */{\n    constructor: function constructor(id, client, queryJSON, subscriptionId) {\n      var _this = this;\n\n      EventEmitter.apply(this);\n      this.id = id;\n      this._client = client;\n      this._client.register(this);\n      this._queryJSON = queryJSON;\n      this._subscriptionId = subscriptionId;\n      this._onMessage = this._dispatch.bind(this);\n      this._onReconnect = function () {\n        subscribe(_this._queryJSON, _this._subscriptionId).catch(function (error) {\n          return console.error('LiveQuery resubscribe error: ' + error.message);\n        });\n      };\n      client.on('message', this._onMessage);\n      client.on('reconnect', this._onReconnect);\n    },\n    _dispatch: function _dispatch(message) {\n      var _this2 = this;\n\n      message.forEach(function (_ref) {\n        var op = _ref.op,\n            object = _ref.object,\n            queryId = _ref.query_id,\n            updatedKeys = _ref.updatedKeys;\n\n        if (queryId !== _this2.id) return;\n        var target = AV.parseJSON(_.extend({\n          __type: object.className === '_File' ? 'File' : 'Object'\n        }, object));\n        if (updatedKeys) {\n          /**\n           * An existing AV.Object which fulfills the Query you subscribe is updated.\n           * @event AV.LiveQuery#update\n           * @param {AV.Object|AV.File} target updated object\n           * @param {String[]} updatedKeys updated keys\n           */\n          /**\n           * An existing AV.Object which doesn't fulfill the Query is updated and now it fulfills the Query.\n           * @event AV.LiveQuery#enter\n           * @param {AV.Object|AV.File} target updated object\n           * @param {String[]} updatedKeys updated keys\n           */\n          /**\n           * An existing AV.Object which fulfills the Query is updated and now it doesn't fulfill the Query.\n           * @event AV.LiveQuery#leave\n           * @param {AV.Object|AV.File} target updated object\n           * @param {String[]} updatedKeys updated keys\n           */\n          _this2.emit(op, target, updatedKeys);\n        } else {\n          /**\n           * A new AV.Object which fulfills the Query you subscribe is created.\n           * @event AV.LiveQuery#create\n           * @param {AV.Object|AV.File} target updated object\n           */\n          /**\n           * An existing AV.Object which fulfills the Query you subscribe is deleted.\n           * @event AV.LiveQuery#delete\n           * @param {AV.Object|AV.File} target updated object\n           */\n          _this2.emit(op, target);\n        }\n      });\n    },\n\n    /**\n     * unsubscribe the query\n     *\n     * @return {Promise}\n     */\n    unsubscribe: function unsubscribe() {\n      var client = this._client;\n      client.off('message', this._onMessage);\n      client.off('reconnect', this._onReconnect);\n      client.deregister(this);\n      return request({\n        method: 'POST',\n        path: '/LiveQuery/unsubscribe',\n        data: {\n          id: client.id,\n          query_id: this.id\n        }\n      });\n    }\n  },\n  /** @lends AV.LiveQuery */\n  {\n    init: function init(query) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$subscriptionId = _ref2.subscriptionId,\n          userDefinedSubscriptionId = _ref2$subscriptionId === undefined ? AV._getSubscriptionId() : _ref2$subscriptionId;\n\n      requireRealtime();\n      if (!(query instanceof AV.Query)) throw new TypeError('LiveQuery must be inited with a Query');\n      return _promise2.default.resolve(userDefinedSubscriptionId).then(function (subscriptionId) {\n        return AV._config.realtime.createLiveQueryClient(subscriptionId).then(function (liveQueryClient) {\n          var _query$_getParams = query._getParams(),\n              where = _query$_getParams.where,\n              keys = _query$_getParams.keys,\n              returnACL = _query$_getParams.returnACL;\n\n          var queryJSON = {\n            where: where,\n            keys: keys,\n            returnACL: returnACL,\n            className: query.className\n          };\n          var promise = subscribe(queryJSON, subscriptionId).then(function (_ref3) {\n            var queryId = _ref3.query_id;\n            return new AV.LiveQuery(queryId, liveQueryClient, queryJSON, subscriptionId);\n          }).finally(function () {\n            liveQueryClient.deregister(promise);\n          });\n          liveQueryClient.register(promise);\n          return promise;\n        });\n      });\n    },\n\n    /**\n     * Pause the LiveQuery connection. This is useful to deactivate the SDK when the app is swtiched to background.\n     * @static\n     * @return void\n     */\n    pause: function pause() {\n      requireRealtime();\n      return AV._config.realtime.pause();\n    },\n\n    /**\n     * Resume the LiveQuery connection. All subscriptions will be restored after reconnection.\n     * @static\n     * @return void\n     */\n    resume: function resume() {\n      requireRealtime();\n      return AV._config.realtime.resume();\n    }\n  });\n};\n\n/***/ }),\n/* 160 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif (true) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 161 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(7),\n    tap = _require.tap;\n\nmodule.exports = function (AV) {\n  /**\n   * @class\n   * @example\n   * AV.Captcha.request().then(captcha => {\n   *   captcha.bind({\n   *     textInput: 'code', // the id for textInput\n   *     image: 'captcha',\n   *     verifyButton: 'verify',\n   *   }, {\n   *     success: (validateCode) => {}, // next step\n   *     error: (error) => {}, // present error.message to user\n   *   });\n   * });\n   */\n  AV.Captcha = function Captcha(options, authOptions) {\n    this._options = options;\n    this._authOptions = authOptions;\n    /**\n     * The image url of the captcha\n     * @type string\n     */\n    this.url = undefined;\n    /**\n     * The captchaToken of the captcha.\n     * @type string\n     */\n    this.captchaToken = undefined;\n    /**\n     * The validateToken of the captcha.\n     * @type string\n     */\n    this.validateToken = undefined;\n  };\n\n  /**\n   * Refresh the captcha\n   * @return {Promise.<string>} a new capcha url\n   */\n  AV.Captcha.prototype.refresh = function refresh() {\n    var _this = this;\n\n    return AV.Cloud._requestCaptcha(this._options, this._authOptions).then(function (_ref) {\n      var captchaToken = _ref.captchaToken,\n          url = _ref.url;\n\n      _.extend(_this, { captchaToken: captchaToken, url: url });\n      return url;\n    });\n  };\n\n  /**\n   * Verify the captcha\n   * @param {String} code The code from user input\n   * @return {Promise.<string>} validateToken if the code is valid\n   */\n  AV.Captcha.prototype.verify = function verify(code) {\n    var _this2 = this;\n\n    return AV.Cloud.verifyCaptcha(code, this.captchaToken).then(tap(function (validateToken) {\n      return _this2.validateToken = validateToken;\n    }));\n  };\n\n  if (false) {\n    /**\n     * Bind the captcha to HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     * @param [elements]\n     * @param {String|HTMLInputElement} [elements.textInput] An input element typed text, or the id for the element.\n     * @param {String|HTMLImageElement} [elements.image] An image element, or the id for the element.\n     * @param {String|HTMLElement} [elements.verifyButton] A button element, or the id for the element.\n     * @param [callbacks]\n     * @param {Function} [callbacks.success] Success callback will be called if the code is verified. The param `validateCode` can be used for further SMS request.\n     * @param {Function} [callbacks.error] Error callback will be called if something goes wrong, detailed in param `error.message`.\n     */\n    AV.Captcha.prototype.bind = function bind(_ref2, _ref3) {\n      var _this3 = this;\n\n      var textInput = _ref2.textInput,\n          image = _ref2.image,\n          verifyButton = _ref2.verifyButton;\n      var success = _ref3.success,\n          error = _ref3.error;\n\n      if (typeof textInput === 'string') {\n        textInput = document.getElementById(textInput);\n        if (!textInput) throw new Error('textInput with id ' + textInput + ' not found');\n      }\n      if (typeof image === 'string') {\n        image = document.getElementById(image);\n        if (!image) throw new Error('image with id ' + image + ' not found');\n      }\n      if (typeof verifyButton === 'string') {\n        verifyButton = document.getElementById(verifyButton);\n        if (!verifyButton) throw new Error('verifyButton with id ' + verifyButton + ' not found');\n      }\n\n      this.__refresh = function () {\n        return _this3.refresh().then(function (url) {\n          image.src = url;\n          if (textInput) {\n            textInput.value = '';\n            textInput.focus();\n          }\n        }).catch(function (err) {\n          return console.warn('refresh captcha fail: ' + err.message);\n        });\n      };\n      if (image) {\n        this.__image = image;\n        image.src = this.url;\n        image.addEventListener('click', this.__refresh);\n      }\n\n      this.__verify = function () {\n        var code = textInput.value;\n        _this3.verify(code).catch(function (err) {\n          _this3.__refresh();\n          throw err;\n        }).then(success, error).catch(function (err) {\n          return console.warn('verify captcha fail: ' + err.message);\n        });\n      };\n      if (textInput && verifyButton) {\n        this.__verifyButton = verifyButton;\n        verifyButton.addEventListener('click', this.__verify);\n      }\n    };\n\n    /**\n     * unbind the captcha from HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     */\n    AV.Captcha.prototype.unbind = function unbind() {\n      if (this.__image) this.__image.removeEventListener('click', this.__refresh);\n      if (this.__verifyButton) this.__verifyButton.removeEventListener('click', this.__verify);\n    };\n  }\n\n  /**\n   * Request a captcha\n   * @param [options]\n   * @param {Number} [options.width] width(px) of the captcha, ranged 60-200\n   * @param {Number} [options.height] height(px) of the captcha, ranged 30-100\n   * @param {Number} [options.size=4] length of the captcha, ranged 3-6. MasterKey required.\n   * @param {Number} [options.ttl=60] time to live(s), ranged 10-180. MasterKey required.\n   * @return {Promise.<AV.Captcha>}\n   */\n  AV.Captcha.request = function (options, authOptions) {\n    var captcha = new AV.Captcha(options, authOptions);\n    return captcha.refresh().then(function () {\n      return captcha;\n    });\n  };\n};\n\n/***/ }),\n/* 162 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(8),\n    _request = _require._request,\n    request = _require.request;\n\nmodule.exports = function (AV) {\n  /**\n   * Contains functions for calling and declaring\n   * <p><strong><em>\n   *   Some functions are only available from Cloud Code.\n   * </em></strong></p>\n   *\n   * @namespace\n   * @borrows AV.Captcha.request as requestCaptcha\n   */\n  AV.Cloud = AV.Cloud || {};\n\n  _.extend(AV.Cloud,\n  /** @lends AV.Cloud */{\n    /**\n     * Makes a call to a cloud function.\n     * @param {String} name The function name.\n     * @param {Object} data The parameters to send to the cloud function.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     */\n    run: function run(name, data, options) {\n      return request({\n        service: 'engine',\n        method: 'POST',\n        path: '/functions/' + name,\n        data: AV._encode(data, null, true),\n        authOptions: options\n      }).then(function (resp) {\n        return AV._decode(resp).result;\n      });\n    },\n\n\n    /**\n     * Makes a call to a cloud function, you can send {AV.Object} as param or a field of param; the response\n     * from server will also be parsed as an {AV.Object}, array of {AV.Object}, or object includes {AV.Object}\n     * @param {String} name The function name.\n     * @param {Object} data The parameters to send to the cloud function.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that will be resolved with the result of the function.\n     */\n    rpc: function rpc(name, data, options) {\n      if (_.isArray(data)) {\n        return _promise2.default.reject(new Error(\"Can't pass Array as the param of rpc function in JavaScript SDK.\"));\n      }\n\n      return request({\n        service: 'engine',\n        method: 'POST',\n        path: '/call/' + name,\n        data: AV._encodeObjectOrArray(data),\n        authOptions: options\n      }).then(function (resp) {\n        return AV._decode(resp).result;\n      });\n    },\n\n\n    /**\n     * Make a call to request server date time.\n     * @return {Promise.<Date>} A promise that will be resolved with the result\n     * of the function.\n     * @since 0.5.9\n     */\n    getServerDate: function getServerDate() {\n      return _request('date', null, null, 'GET').then(function (resp) {\n        return AV._decode(resp);\n      });\n    },\n\n\n    /**\n     * Makes a call to request a sms code for operation verification.\n     * @param {String|Object} data The mobile phone number string or a JSON\n     *    object that contains mobilePhoneNumber,template,sign,op,ttl,name etc.\n     * @param {String} data.mobilePhoneNumber\n     * @param {String} [data.template] sms template name\n     * @param {String} [data.sign] sms signature name\n     * @param {AuthOptions} [options] AuthOptions plus:\n     * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n     * @return {Promise} A promise that will be resolved if the request succeed\n     */\n    requestSmsCode: function requestSmsCode(data) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (_.isString(data)) {\n        data = { mobilePhoneNumber: data };\n      }\n      if (!data.mobilePhoneNumber) {\n        throw new Error('Missing mobilePhoneNumber.');\n      }\n      if (options.validateToken) {\n        data = _.extend({}, data, {\n          validate_token: options.validateToken\n        });\n      }\n      return _request('requestSmsCode', null, null, 'POST', data, options);\n    },\n\n\n    /**\n     * Makes a call to verify sms code that sent by AV.Cloud.requestSmsCode\n     * @param {String} code The sms code sent by AV.Cloud.requestSmsCode\n     * @param {phone} phone The mobile phoner number(optional).\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     */\n    verifySmsCode: function verifySmsCode(code, phone) {\n      if (!code) throw new Error('Missing sms code.');\n      var params = {};\n      if (_.isString(phone)) {\n        params['mobilePhoneNumber'] = phone;\n      }\n\n      return _request('verifySmsCode', code, null, 'POST', params);\n    },\n    _requestCaptcha: function _requestCaptcha(options, authOptions) {\n      return _request('requestCaptcha', null, null, 'GET', options, authOptions).then(function (_ref) {\n        var url = _ref.captcha_url,\n            captchaToken = _ref.captcha_token;\n        return {\n          captchaToken: captchaToken,\n          url: url\n        };\n      });\n    },\n\n\n    /**\n     * Request a captcha.\n     */\n    requestCaptcha: AV.Captcha.request,\n\n    /**\n     * Verify captcha code. This is the low-level API for captcha.\n     * Checkout {@link AV.Captcha} for high abstract APIs.\n     * @param {String} code the code from user input\n     * @param {String} captchaToken captchaToken returned by {@link AV.Cloud.requestCaptcha}\n     * @return {Promise.<String>} validateToken if the code is valid\n     */\n    verifyCaptcha: function verifyCaptcha(code, captchaToken) {\n      return _request('verifyCaptcha', null, null, 'POST', {\n        captcha_code: code,\n        captcha_token: captchaToken\n      }).then(function (_ref2) {\n        var validateToken = _ref2.validate_token;\n        return validateToken;\n      });\n    }\n  });\n};\n\n/***/ }),\n/* 163 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar request = __webpack_require__(8).request;\n\nmodule.exports = function (AV) {\n  AV.Installation = AV.Object.extend('_Installation');\n\n  /**\n   * @namespace\n   */\n  AV.Push = AV.Push || {};\n\n  /**\n   * Sends a push notification.\n   * @param {Object} data The data of the push notification.\n   * @param {String[]} [data.channels] An Array of channels to push to.\n   * @param {Date} [data.push_time] A Date object for when to send the push.\n   * @param {Date} [data.expiration_time]  A Date object for when to expire\n   *         the push.\n   * @param {Number} [data.expiration_interval] The seconds from now to expire the push.\n   * @param {Number} [data.flow_control] The clients to notify per second\n   * @param {AV.Query} [data.where] An AV.Query over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {String} [data.cql] A CQL statement over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {Object} data.data The data to send as part of the push.\n             More details:  https://url.leanapp.cn/pushData\n   * @param {AuthOptions} [options]\n   * @return {Promise}\n   */\n  AV.Push.send = function (data, options) {\n    if (data.where) {\n      data.where = data.where._getParams().where;\n    }\n\n    if (data.where && data.cql) {\n      throw new Error(\"Both where and cql can't be set\");\n    }\n\n    if (data.push_time) {\n      data.push_time = data.push_time.toJSON();\n    }\n\n    if (data.expiration_time) {\n      data.expiration_time = data.expiration_time.toJSON();\n    }\n\n    if (data.expiration_time && data.expiration_time_interval) {\n      throw new Error(\"Both expiration_time and expiration_time_interval can't be set\");\n    }\n\n    return request({\n      service: 'push',\n      method: 'POST',\n      path: '/push',\n      data: data,\n      authOptions: options\n    });\n  };\n};\n\n/***/ }),\n/* 164 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _typeof2 = __webpack_require__(56);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar AVRequest = __webpack_require__(8)._request;\n\nvar _require = __webpack_require__(7),\n    getSessionToken = _require.getSessionToken;\n\nmodule.exports = function (AV) {\n  var getUser = function getUser() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var sessionToken = getSessionToken(options);\n    if (sessionToken) {\n      return AV.User._fetchUserBySessionToken(getSessionToken(options));\n    }\n    return AV.User.currentAsync();\n  };\n\n  var getUserPointer = function getUserPointer(options) {\n    return getUser(options).then(function (currUser) {\n      return AV.Object.createWithoutData('_User', currUser.id)._toPointer();\n    });\n  };\n\n  /**\n   * Contains functions to deal with Status in LeanCloud.\n   * @class\n   */\n  AV.Status = function (imageUrl, message) {\n    this.data = {};\n    this.inboxType = 'default';\n    this.query = null;\n    if (imageUrl && (typeof imageUrl === 'undefined' ? 'undefined' : (0, _typeof3.default)(imageUrl)) === 'object') {\n      this.data = imageUrl;\n    } else {\n      if (imageUrl) {\n        this.data.image = imageUrl;\n      }\n      if (message) {\n        this.data.message = message;\n      }\n    }\n    return this;\n  };\n\n  _.extend(AV.Status.prototype,\n  /** @lends AV.Status.prototype */{\n    /**\n     * Gets the value of an attribute in status data.\n     * @param {String} attr The string name of an attribute.\n     */\n    get: function get(attr) {\n      return this.data[attr];\n    },\n    /**\n     * Sets a hash of model attributes on the status data.\n     * @param {String} key The key to set.\n     * @param {} value The value to give it.\n     */\n    set: function set(key, value) {\n      this.data[key] = value;\n      return this;\n    },\n    /**\n     * Destroy this status,then it will not be avaiable in other user's inboxes.\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the destroy\n     *     completes.\n     */\n    destroy: function destroy(options) {\n      if (!this.id) return _promise2.default.reject(new Error('The status id is not exists.'));\n      var request = AVRequest('statuses', null, this.id, 'DELETE', options);\n      return request;\n    },\n    /**\n     * Cast the AV.Status object to an AV.Object pointer.\n     * @return {AV.Object} A AV.Object pointer.\n     */\n    toObject: function toObject() {\n      if (!this.id) return null;\n      return AV.Object.createWithoutData('_Status', this.id);\n    },\n    _getDataJSON: function _getDataJSON() {\n      var json = _.clone(this.data);\n      return AV._encode(json);\n    },\n    /**\n     * Send a status by a AV.Query object.\n     * @since 0.3.0\n     * @param {AuthOptions} options\n     * @return {Promise} A promise that is fulfilled when the send\n     *     completes.\n     * @example\n     *     // send a status to male users\n     *     var status = new AVStatus('image url', 'a message');\n     *     status.query = new AV.Query('_User');\n     *     status.query.equalTo('gender', 'male');\n     *     status.send().then(function(){\n     *              //send status successfully.\n     *      }, function(err){\n     *             //an error threw.\n     *             console.dir(err);\n     *      });\n     */\n    send: function send() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!getSessionToken(options) && !AV.User.current()) {\n        throw new Error('Please signin an user.');\n      }\n      if (!this.query) {\n        return AV.Status.sendStatusToFollowers(this, options);\n      }\n\n      return getUserPointer(options).then(function (currUser) {\n        var query = _this.query._getParams();\n        query.className = _this.query.className;\n        var data = {};\n        data.query = query;\n        _this.data = _this.data || {};\n        _this.data.source = _this.data.source || currUser;\n        data.data = _this._getDataJSON();\n        data.inboxType = _this.inboxType || 'default';\n\n        return AVRequest('statuses', null, null, 'POST', data, options);\n      }).then(function (response) {\n        _this.id = response.objectId;\n        _this.createdAt = AV._parseDate(response.createdAt);\n        return _this;\n      });\n    },\n\n    _finishFetch: function _finishFetch(serverData) {\n      this.id = serverData.objectId;\n      this.createdAt = AV._parseDate(serverData.createdAt);\n      this.updatedAt = AV._parseDate(serverData.updatedAt);\n      this.messageId = serverData.messageId;\n      delete serverData.messageId;\n      delete serverData.objectId;\n      delete serverData.createdAt;\n      delete serverData.updatedAt;\n      this.data = AV._decode(serverData);\n    }\n  });\n\n  /**\n   * Send a status to current signined user's followers.\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendStatusToFollowers(status).then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendStatusToFollowers = function (status) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    return getUserPointer(options).then(function (currUser) {\n      var query = {};\n      query.className = '_Follower';\n      query.keys = 'follower';\n      query.where = { user: currUser };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = status.inboxType || 'default';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function (response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * <p>Send  a status from current signined user to other user's private status inbox.</p>\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {String} target The target user or user's objectId.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     // send a private status to user '52e84e47e4b0f8de283b079b'\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendPrivateStatus(status, '52e84e47e4b0f8de283b079b').then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendPrivateStatus = function (status, target) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    if (!target) {\n      throw new Error('Invalid target user.');\n    }\n    var userObjectId = _.isString(target) ? target : target.id;\n    if (!userObjectId) {\n      throw new Error('Invalid target user.');\n    }\n    return getUserPointer(options).then(function (currUser) {\n      var query = {};\n      query.className = '_User';\n      query.where = { objectId: userObjectId };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = 'private';\n      status.inboxType = 'private';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function (response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * Count unread statuses in someone's inbox.\n   * @since 0.3.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the count\n   *     completes.\n   * @example\n   *  AV.Status.countUnreadStatuses(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.countUnreadStatuses = function (owner) {\n    var inboxType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return _promise2.default.resolve(owner || getUser(options)).then(function (owner) {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest('subscribe/statuses/count', null, null, 'GET', params, options);\n    });\n  };\n\n  /**\n   * reset unread statuses count in someone's inbox.\n   * @since 2.1.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the reset\n   *     completes.\n   * @example\n   *  AV.Status.resetUnreadCount(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.resetUnreadCount = function (owner) {\n    var inboxType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return _promise2.default.resolve(owner || getUser(options)).then(function (owner) {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest('subscribe/statuses/resetUnreadCount', null, null, 'POST', params, options);\n    });\n  };\n\n  /**\n   * Create a status query to find someone's published statuses.\n   * @since 0.3.0\n   * @param {AV.User} source The status source, typically the publisher.\n   * @return {AV.Query} The query object for status.\n   * @example\n   *   //Find current user's published statuses.\n   *   var query = AV.Status.statusQuery(AV.User.current());\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.statusQuery = function (source) {\n    var query = new AV.Query('_Status');\n    if (source) {\n      query.equalTo('source', source);\n    }\n    return query;\n  };\n\n  /**\n   * <p>AV.InboxQuery defines a query that is used to fetch somebody's inbox statuses.</p>\n   * @class\n   */\n  AV.InboxQuery = AV.Query._extend(\n  /** @lends AV.InboxQuery.prototype */{\n    _objectClass: AV.Status,\n    _sinceId: 0,\n    _maxId: 0,\n    _inboxType: 'default',\n    _owner: null,\n    _newObject: function _newObject() {\n      return new AV.Status();\n    },\n    _createRequest: function _createRequest(params, options) {\n      return AV.InboxQuery.__super__._createRequest.call(this, params, options, '/subscribe/statuses');\n    },\n\n    /**\n     * Sets the messageId of results to skip before returning any results.\n     * This is useful for pagination.\n     * Default is zero.\n     * @param {Number} n the mesage id.\n     * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n     */\n    sinceId: function sinceId(id) {\n      this._sinceId = id;\n      return this;\n    },\n    /**\n     * Sets the maximal messageId of results\n     * This is useful for pagination.\n     * Default is zero that is no limition.\n     * @param {Number} n the mesage id.\n     * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n     */\n    maxId: function maxId(id) {\n      this._maxId = id;\n      return this;\n    },\n    /**\n     * Sets the owner of the querying inbox.\n     * @param {AV.User} owner The inbox owner.\n     * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n     */\n    owner: function owner(_owner) {\n      this._owner = _owner;\n      return this;\n    },\n    /**\n     * Sets the querying inbox type.default is 'default'.\n     * @param {Object} type The inbox type.\n     * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n     */\n    inboxType: function inboxType(type) {\n      this._inboxType = type;\n      return this;\n    },\n    _getParams: function _getParams() {\n      var params = AV.InboxQuery.__super__._getParams.call(this);\n      params.owner = AV._encode(this._owner);\n      params.inboxType = AV._encode(this._inboxType);\n      params.sinceId = AV._encode(this._sinceId);\n      params.maxId = AV._encode(this._maxId);\n      return params;\n    }\n  });\n\n  /**\n   * Create a inbox status query to find someone's inbox statuses.\n   * @since 0.3.0\n   * @param {AV.User} owner The inbox's owner\n   * @param {String} inboxType The inbox type,'default' by default.\n   * @return {AV.InboxQuery} The inbox query object.\n   * @see AV.InboxQuery\n   * @example\n   *   //Find current user's default inbox statuses.\n   *   var query = AV.Status.inboxQuery(AV.User.current());\n   *   //find the statuses after the last message id\n   *   query.sinceId(lastMessageId);\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.inboxQuery = function (owner, inboxType) {\n    var query = new AV.InboxQuery(AV.Status);\n    if (owner) {\n      query._owner = owner;\n    }\n    if (inboxType) {\n      query._inboxType = inboxType;\n    }\n    return query;\n  };\n};\n\n/***/ }),\n/* 165 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar AVRequest = __webpack_require__(8)._request;\n\nmodule.exports = function (AV) {\n  /**\n   * A builder to generate sort string for app searching.For example:\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var builder = new AV.SearchSortBuilder();\n   *   builder.ascending('key1').descending('key2','max');\n   *   var query = new AV.SearchQuery('Player');\n   *   query.sortBy(builder);\n   *   query.find().then();\n   */\n  AV.SearchSortBuilder = function () {\n    this._sortFields = [];\n  };\n\n  _.extend(AV.SearchSortBuilder.prototype,\n  /** @lends AV.SearchSortBuilder.prototype */{\n    _addField: function _addField(key, order, mode, missing) {\n      var field = {};\n      field[key] = {\n        order: order || 'asc',\n        mode: mode || 'avg',\n        missing: '_' + (missing || 'last')\n      };\n      this._sortFields.push(field);\n      return this;\n    },\n\n    /**\n     * Sorts the results in ascending order by the given key and options.\n     *\n     * @param {String} key The key to order by.\n     * @param {String} mode The sort mode, default is 'avg', you can choose\n     *                  'max' or 'min' too.\n     * @param {String} missing The missing key behaviour, default is 'last',\n     *                  you can choose 'first' too.\n     * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n     */\n    ascending: function ascending(key, mode, missing) {\n      return this._addField(key, 'asc', mode, missing);\n    },\n\n    /**\n     * Sorts the results in descending order by the given key and options.\n     *\n     * @param {String} key The key to order by.\n     * @param {String} mode The sort mode, default is 'avg', you can choose\n     *                  'max' or 'min' too.\n     * @param {String} missing The missing key behaviour, default is 'last',\n     *                  you can choose 'first' too.\n     * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n     */\n    descending: function descending(key, mode, missing) {\n      return this._addField(key, 'desc', mode, missing);\n    },\n\n    /**\n     * Add a proximity based constraint for finding objects with key point\n     * values near the point given.\n     * @param {String} key The key that the AV.GeoPoint is stored in.\n     * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n     * @param {Object} options The other options such as mode,order, unit etc.\n     * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n     */\n    whereNear: function whereNear(key, point, options) {\n      options = options || {};\n      var field = {};\n      var geo = {\n        lat: point.latitude,\n        lon: point.longitude\n      };\n      var m = {\n        order: options.order || 'asc',\n        mode: options.mode || 'avg',\n        unit: options.unit || 'km'\n      };\n      m[key] = geo;\n      field['_geo_distance'] = m;\n\n      this._sortFields.push(field);\n      return this;\n    },\n\n    /**\n     * Build a sort string by configuration.\n     * @return {String} the sort string.\n     */\n    build: function build() {\n      return (0, _stringify2.default)(AV._encode(this._sortFields));\n    }\n  });\n\n  /**\n   * App searching query.Use just like AV.Query:\n   *\n   * Visit <a href='https://leancloud.cn/docs/app_search_guide.html'>App Searching Guide</a>\n   * for more details.\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var query = new AV.SearchQuery('Player');\n   *   query.queryString('*');\n   *   query.find().then(function(results) {\n   *     console.log('Found %d objects', query.hits());\n   *     //Process results\n   *   });\n   */\n  AV.SearchQuery = AV.Query._extend(\n  /** @lends AV.SearchQuery.prototype */{\n    _sid: null,\n    _hits: 0,\n    _queryString: null,\n    _highlights: null,\n    _sortBuilder: null,\n    _createRequest: function _createRequest(params, options) {\n      return AVRequest('search/select', null, null, 'GET', params || this._getParams(), options);\n    },\n\n    /**\n     * Sets the sid of app searching query.Default is null.\n     * @param {String} sid  Scroll id for searching.\n     * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n     */\n    sid: function sid(_sid) {\n      this._sid = _sid;\n      return this;\n    },\n\n    /**\n     * Sets the query string of app searching.\n     * @param {String} q  The query string.\n     * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n     */\n    queryString: function queryString(q) {\n      this._queryString = q;\n      return this;\n    },\n\n    /**\n     * Sets the highlight fields. Such as\n     * <pre><code>\n     *   query.highlights('title');\n     *   //or pass an array.\n     *   query.highlights(['title', 'content'])\n     * </code></pre>\n     * @param {String|String[]} highlights a list of fields.\n     * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n     */\n    highlights: function highlights(_highlights) {\n      var objects;\n      if (_highlights && _.isString(_highlights)) {\n        objects = arguments;\n      } else {\n        objects = _highlights;\n      }\n      this._highlights = objects;\n      return this;\n    },\n\n    /**\n     * Sets the sort builder for this query.\n     * @see AV.SearchSortBuilder\n     * @param { AV.SearchSortBuilder} builder The sort builder.\n     * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n     *\n     */\n    sortBy: function sortBy(builder) {\n      this._sortBuilder = builder;\n      return this;\n    },\n\n    /**\n     * Returns the number of objects that match this query.\n     * @return {Number}\n     */\n    hits: function hits() {\n      if (!this._hits) {\n        this._hits = 0;\n      }\n      return this._hits;\n    },\n\n    _processResult: function _processResult(json) {\n      delete json['className'];\n      delete json['_app_url'];\n      delete json['_deeplink'];\n      return json;\n    },\n\n    /**\n     * Returns true when there are more documents can be retrieved by this\n     * query instance, you can call find function to get more results.\n     * @see AV.SearchQuery#find\n     * @return {Boolean}\n     */\n    hasMore: function hasMore() {\n      return !this._hitEnd;\n    },\n\n    /**\n     * Reset current query instance state(such as sid, hits etc) except params\n     * for a new searching. After resetting, hasMore() will return true.\n     */\n    reset: function reset() {\n      this._hitEnd = false;\n      this._sid = null;\n      this._hits = 0;\n    },\n\n    /**\n     * Retrieves a list of AVObjects that satisfy this query.\n     * Either options.success or options.error is called when the find\n     * completes.\n     *\n     * @see AV.Query#find\n     * @return {Promise} A promise that is resolved with the results when\n     * the query completes.\n     */\n    find: function find() {\n      var self = this;\n\n      var request = this._createRequest();\n\n      return request.then(function (response) {\n        //update sid for next querying.\n        if (response.sid) {\n          self._oldSid = self._sid;\n          self._sid = response.sid;\n        } else {\n          self._sid = null;\n          self._hitEnd = true;\n        }\n        self._hits = response.hits || 0;\n\n        return _.map(response.results, function (json) {\n          if (json.className) {\n            response.className = json.className;\n          }\n          var obj = self._newObject(response);\n          obj.appURL = json['_app_url'];\n          obj._finishFetch(self._processResult(json), true);\n          return obj;\n        });\n      });\n    },\n\n    _getParams: function _getParams() {\n      var params = AV.SearchQuery.__super__._getParams.call(this);\n      delete params.where;\n      if (this.className) {\n        params.clazz = this.className;\n      }\n      if (this._sid) {\n        params.sid = this._sid;\n      }\n      if (!this._queryString) {\n        throw new Error('Please set query string.');\n      } else {\n        params.q = this._queryString;\n      }\n      if (this._highlights) {\n        params.highlights = this._highlights.join(',');\n      }\n      if (this._sortBuilder && params.order) {\n        throw new Error('sort and order can not be set at same time.');\n      }\n      if (this._sortBuilder) {\n        params.sort = this._sortBuilder.build();\n      }\n\n      return params;\n    }\n  });\n};\n\n/**\n * Sorts the results in ascending order by the given key.\n *\n * @method AV.SearchQuery#ascending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in ascending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addAscending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Sorts the results in descending order by the given key.\n *\n * @method AV.SearchQuery#descending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in descending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addDescending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Include nested AV.Objects for the provided key.  You can use dot\n * notation to specify which fields in the included object are also fetch.\n * @method AV.SearchQuery#include\n * @param {String[]} keys The name of the key to include.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the number of results to skip before returning any results.\n * This is useful for pagination.\n * Default is to skip zero results.\n * @method AV.SearchQuery#skip\n * @param {Number} n the number of results to skip.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the limit of the number of results to return. The default limit is\n * 100, with a maximum of 1000 results being returned at a time.\n * @method AV.SearchQuery#limit\n * @param {Number} n the number of results to limit to.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n\n/***/ }),\n/* 166 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\nvar AVError = __webpack_require__(18);\n\nvar _require = __webpack_require__(8),\n    request = _require.request;\n\nmodule.exports = function (AV) {\n  /**\n   *  LeanCloud\n   *  <a href='/docs/leaninsight_guide.html'></a>\n   * <p><strong><em>\n   *   \n   * </em></strong></p>\n   * @namespace\n   */\n  AV.Insight = AV.Insight || {};\n\n  _.extend(AV.Insight,\n  /** @lends AV.Insight */{\n    /**\n     *  Insight  Job id id \n     * AV.Insight.JobQuery \n     * @param {Object} jobConfig  JSON <code><pre>\n     *                   { \"sql\" : \"select count(*) as c,gender from _User group by gender\",\n     *                     \"saveAs\": {\n     *                         \"className\" : \"UserGender\",\n     *                         \"limit\": 1\n     *                      }\n     *                   }\n     *                  </pre></code>\n     *               sql  SQL  saveAs limit  1000\n     * @param {AuthOptions} [options]\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     */\n    startJob: function startJob(jobConfig, options) {\n      if (!jobConfig || !jobConfig.sql) {\n        throw new Error('Please provide the sql to run the job.');\n      }\n      var data = {\n        jobConfig: jobConfig,\n        appId: AV.applicationId\n      };\n      return request({\n        path: '/bigquery/jobs',\n        method: 'POST',\n        data: AV._encode(data, null, true),\n        authOptions: options,\n        signKey: false\n      }).then(function (resp) {\n        return AV._decode(resp).id;\n      });\n    },\n\n    /**\n     *  Insight \n     *  <p><strong><em>\n     *     \n     *  </em></strong></p>\n     * @param {String} event \n     * @param {Function}  (err, id) err \n     *                   id  id id AV.Insight.JobQuery \n     *\n     */\n    on: function on(event, cb) {}\n  });\n\n  /**\n   *  Insight \n   * @class\n   * @param {String} id  id\n   * @since 0.5.5\n   */\n  AV.Insight.JobQuery = function (id, className) {\n    if (!id) {\n      throw new Error('Please provide the job id.');\n    }\n    this.id = id;\n    this.className = className;\n    this._skip = 0;\n    this._limit = 100;\n  };\n\n  _.extend(AV.Insight.JobQuery.prototype,\n  /** @lends AV.Insight.JobQuery.prototype */{\n    /**\n     * Sets the number of results to skip before returning any results.\n     * This is useful for pagination.\n     * Default is to skip zero results.\n     * @param {Number} n the number of results to skip.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    skip: function skip(n) {\n      this._skip = n;\n      return this;\n    },\n\n    /**\n     * Sets the limit of the number of results to return. The default limit is\n     * 100, with a maximum of 1000 results being returned at a time.\n     * @param {Number} n the number of results to limit to.\n     * @return {AV.Query} Returns the query, so you can chain this call.\n     */\n    limit: function limit(n) {\n      this._limit = n;\n      return this;\n    },\n\n    /**\n     *  JSON  status  totalCount \n     * results previewCount \n     * startTimeendTime \n     *\n     * @param {AuthOptions} [options]\n     * @return {Promise} A promise that will be resolved with the result\n     * of the function.\n     *\n     */\n    find: function find(options) {\n      var params = {\n        skip: this._skip,\n        limit: this._limit\n      };\n\n      return request({\n        path: '/bigquery/jobs/' + this.id,\n        method: 'GET',\n        query: params,\n        authOptions: options,\n        signKey: false\n      }).then(function (response) {\n        if (response.error) {\n          return _promise2.default.reject(new AVError(response.code, response.error));\n        }\n        return _promise2.default.resolve(response);\n      });\n    }\n  });\n};\n\n/***/ }),\n/* 167 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _stringify = __webpack_require__(12);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(8),\n    _request = _require._request;\n\nvar AV = __webpack_require__(23);\n\nvar serializeMessage = function serializeMessage(message) {\n  if (typeof message === 'string') {\n    return message;\n  }\n  if (typeof message.getPayload === 'function') {\n    return (0, _stringify2.default)(message.getPayload());\n  }\n  return (0, _stringify2.default)(message);\n};\n\n/**\n * <p>An AV.Conversation is a local representation of a LeanCloud realtime's\n * conversation. This class is a subclass of AV.Object, and retains the\n * same functionality of an AV.Object, but also extends it with various\n * conversation specific methods, like get members, creators of this conversation.\n * </p>\n *\n * @class AV.Conversation\n * @param {String} name The name of the Role to create.\n * @param {Object} [options]\n * @param {Boolean} [options.isSystem] Set this conversation as system conversation.\n * @param {Boolean} [options.isTransient] Set this conversation as transient conversation.\n */\nmodule.exports = AV.Object.extend('_Conversation',\n/** @lends AV.Conversation.prototype */{\n  constructor: function constructor(name) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    AV.Object.prototype.constructor.call(this, null, null);\n    this.set('name', name);\n    if (options.isSystem !== undefined) {\n      this.set('sys', options.isSystem ? true : false);\n    }\n    if (options.isTransient !== undefined) {\n      this.set('tr', options.isTransient ? true : false);\n    }\n  },\n\n  /**\n   * Get current conversation's creator.\n   *\n   * @return {String}\n   */\n  getCreator: function getCreator() {\n    return this.get('c');\n  },\n\n\n  /**\n   * Get the last message's time.\n   *\n   * @return {Date}\n   */\n  getLastMessageAt: function getLastMessageAt() {\n    return this.get('lm');\n  },\n\n\n  /**\n   * Get this conversation's members\n   *\n   * @return {String[]}\n   */\n  getMembers: function getMembers() {\n    return this.get('m');\n  },\n\n\n  /**\n   * Add a member to this conversation\n   *\n   * @param {String} member\n   */\n  addMember: function addMember(member) {\n    return this.add('m', member);\n  },\n\n\n  /**\n   * Get this conversation's members who set this conversation as muted.\n   *\n   * @return {String[]}\n   */\n  getMutedMembers: function getMutedMembers() {\n    return this.get('mu');\n  },\n\n\n  /**\n   * Get this conversation's name field.\n   *\n   * @return String\n   */\n  getName: function getName() {\n    return this.get('name');\n  },\n\n\n  /**\n   * Returns true if this conversation is transient conversation.\n   *\n   * @return {Boolean}\n   */\n  isTransient: function isTransient() {\n    return this.get('tr');\n  },\n\n\n  /**\n   * Returns true if this conversation is system conversation.\n   *\n   * @return {Boolean}\n   */\n  isSystem: function isSystem() {\n    return this.get('sys');\n  },\n\n\n  /**\n   * Send realtime message to this conversation, using HTTP request.\n   *\n   * @param {String} fromClient Sender's client id.\n   * @param {String|Object} message The message which will send to conversation.\n   *     It could be a raw string, or an object with a `toJSON` method, like a\n   *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}\n   * @param {Object} [options]\n   * @param {Boolean} [options.transient] Whether send this message as transient message or not.\n   * @param {String[]} [options.toClients] Ids of clients to send to. This option can be used only in system conversation.\n   * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise}\n   */\n  send: function send(fromClient, message) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var authOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var data = {\n      from_peer: fromClient,\n      conv_id: this.id,\n      transient: false,\n      message: serializeMessage(message)\n    };\n    if (options.toClients !== undefined) {\n      data.to_peers = options.toClients;\n    }\n    if (options.transient !== undefined) {\n      data.transient = options.transient ? true : false;\n    }\n    if (options.pushData !== undefined) {\n      data.push_data = options.pushData;\n    }\n    return _request('rtm', 'messages', null, 'POST', data, authOptions);\n  },\n\n\n  /**\n   * Send realtime broadcast message to all clients, via this conversation, using HTTP request.\n   *\n   * @param {String} fromClient Sender's client id.\n   * @param {String|Object} message The message which will send to conversation.\n   *     It could be a raw string, or an object with a `toJSON` method, like a\n   *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}.\n   * @param {Object} [options]\n   * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }.\n   * @param {Object} [options.validTill] The message will valid till this time.\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise}\n   */\n  broadcast: function broadcast(fromClient, message) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var authOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var data = {\n      from_peer: fromClient,\n      conv_id: this.id,\n      message: serializeMessage(message)\n    };\n    if (options.pushData !== undefined) {\n      data.push = options.pushData;\n    }\n    if (options.validTill !== undefined) {\n      var ts = options.validTill;\n      if (_.isDate(ts)) {\n        ts = ts.getTime();\n      }\n      options.valid_till = ts;\n    }\n    return _request('rtm', 'broadcast', null, 'POST', data, authOptions);\n  }\n});\n\n/***/ }),\n/* 168 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _promise = __webpack_require__(3);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ = __webpack_require__(0);\n\nvar _require = __webpack_require__(8),\n    request = _require.request;\n\nvar _require2 = __webpack_require__(7),\n    ensureArray = _require2.ensureArray,\n    parseDate = _require2.parseDate;\n\nvar AV = __webpack_require__(23);\n\n/**\n * The version change interval for Leaderboard\n * @enum\n */\nAV.LeaderboardVersionChangeInterval = {\n  NEVER: 'never',\n  DAY: 'day',\n  WEEK: 'week',\n  MONTH: 'month'\n};\n\n/**\n * The order of the leaderboard results\n * @enum\n */\nAV.LeaderboardOrder = {\n  ASCENDING: 'ascending',\n  DESCENDING: 'descending'\n};\n\n/**\n * The update strategy for Leaderboard\n * @enum\n */\nAV.LeaderboardUpdateStrategy = {\n  /** Only keep the best statistic. If the leaderboard is in descending order, the best statistic is the highest one. */\n  BETTER: 'better',\n  /** Keep the last updated statistic */\n  LAST: 'last',\n  /** Keep the sum of all updated statistics */\n  SUM: 'sum'\n};\n\n/**\n * @typedef {Object} Ranking\n * @property {number} rank Starts at 0\n * @property {number} value the statistic value of this ranking\n * @property {AV.User} user The user of this ranking\n * @property {Statistic[]} [includedStatistics] Other statistics of the user, specified by the `includeStatistic` option of `AV.Leaderboard.getResults()`\n */\n\n/**\n * @typedef {Object} LeaderboardArchive\n * @property {string} statisticName\n * @property {number} version version of the leaderboard\n * @property {string} status\n * @property {string} url URL for the downloadable archive\n * @property {Date} activatedAt time when this version became active\n * @property {Date} deactivatedAt time when this version was deactivated by a version incrementing\n */\n\n/**\n * @class\n */\nfunction Statistic(_ref) {\n  var name = _ref.name,\n      value = _ref.value,\n      version = _ref.version;\n\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {number}\n   */\n  this.value = value;\n  /**\n   * @type {number?}\n   */\n  this.version = version;\n}\n\nvar parseStatisticData = function parseStatisticData(statisticData) {\n  var _AV$_decode = AV._decode(statisticData),\n      name = _AV$_decode.statisticName,\n      value = _AV$_decode.statisticValue,\n      version = _AV$_decode.version;\n\n  return new Statistic({ name: name, value: value, version: version });\n};\n\n/**\n * @class\n */\nAV.Leaderboard = function Leaderboard(statisticName) {\n  /**\n   * @type {string}\n   */\n  this.statisticName = statisticName;\n  /**\n   * @type {AV.LeaderboardOrder}\n   */\n  this.order = undefined;\n  /**\n   * @type {AV.LeaderboardUpdateStrategy}\n   */\n  this.updateStrategy = undefined;\n  /**\n   * @type {AV.LeaderboardVersionChangeInterval}\n   */\n  this.versionChangeInterval = undefined;\n  /**\n   * @type {number}\n   */\n  this.version = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.nextResetAt = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.createdAt = undefined;\n};\nvar Leaderboard = AV.Leaderboard;\n\n/**\n * Create an instance of Leaderboard for the give statistic name.\n * @param {string} statisticName\n * @return {AV.Leaderboard}\n */\nAV.Leaderboard.createWithoutData = function (statisticName) {\n  return new Leaderboard(statisticName);\n};\n/**\n * (masterKey required) Create a new Leaderboard.\n * @param {Object} options\n * @param {string} options.statisticName\n * @param {AV.LeaderboardOrder} options.order\n * @param {AV.LeaderboardVersionChangeInterval} [options.versionChangeInterval] default to WEEK\n * @param {AV.LeaderboardUpdateStrategy} [options.updateStrategy] default to BETTER\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.createLeaderboard = function (_ref2, authOptions) {\n  var statisticName = _ref2.statisticName,\n      order = _ref2.order,\n      versionChangeInterval = _ref2.versionChangeInterval,\n      updateStrategy = _ref2.updateStrategy;\n  return request({\n    method: 'POST',\n    path: '/leaderboard/leaderboards',\n    data: {\n      statisticName: statisticName,\n      order: order,\n      versionChangeInterval: versionChangeInterval,\n      updateStrategy: updateStrategy\n    },\n    authOptions: authOptions\n  }).then(function (data) {\n    var leaderboard = new Leaderboard(statisticName);\n    return leaderboard._finishFetch(data);\n  });\n};\n/**\n * Get the Leaderboard with the specified statistic name.\n * @param {string} statisticName\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.getLeaderboard = function (statisticName, authOptions) {\n  return Leaderboard.createWithoutData(statisticName).fetch(authOptions);\n};\n/**\n * Get Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} [options]\n * @param {string[]} [options.statisticNames] Specify the statisticNames. If not set, all statistics of the user will be fetched.\n * @param {AuthOptions} [authOptions]\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.getStatistics = function (user) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      statisticNames = _ref3.statisticNames;\n\n  var authOptions = arguments[2];\n  return _promise2.default.resolve().then(function () {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'GET',\n      path: '/leaderboard/users/' + user.id + '/statistics',\n      query: {\n        statistics: statisticNames ? ensureArray(statisticNames).join(',') : undefined\n      },\n      authOptions: authOptions\n    }).then(function (_ref4) {\n      var results = _ref4.results;\n      return results.map(parseStatisticData);\n    });\n  });\n};\n\n/**\n * Update Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to update.\n * @param {AuthOptions} [options] AuthOptions plus:\n * @param {boolean} [options.overwrite] Wethere to overwrite these statistics disregarding the updateStrategy of there leaderboards\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.updateStatistics = function (user, statistics) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return _promise2.default.resolve().then(function () {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    var data = _.map(statistics, function (value, key) {\n      return {\n        statisticName: key,\n        statisticValue: value\n      };\n    });\n    var overwrite = options.overwrite;\n\n    return request({\n      method: 'POST',\n      path: '/leaderboard/users/' + user.id + '/statistics',\n      query: {\n        overwrite: overwrite ? 1 : undefined\n      },\n      data: data,\n      authOptions: options\n    }).then(function (_ref5) {\n      var results = _ref5.results;\n      return results.map(parseStatisticData);\n    });\n  });\n};\n\n/**\n * Delete Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to delete.\n * @param {AuthOptions} [options]\n * @return {Promise<void>}\n */\nAV.Leaderboard.deleteStatistics = function (user, statisticNames, authOptions) {\n  return _promise2.default.resolve().then(function () {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'DELETE',\n      path: '/leaderboard/users/' + user.id + '/statistics',\n      query: {\n        statistics: ensureArray(statisticNames).join(',')\n      },\n      authOptions: authOptions\n    }).then(function () {\n      return undefined;\n    });\n  });\n};\n\n_.extend(Leaderboard.prototype,\n/** @lends AV.Leaderboard.prototype */{\n  _finishFetch: function _finishFetch(data) {\n    var _this = this;\n\n    _.forEach(data, function (value, key) {\n      if (key === 'updatedAt' || key === 'objectId') return;\n      if (key === 'expiredAt') {\n        key = 'nextResetAt';\n      }\n      if (key === 'createdAt') {\n        value = parseDate(value);\n      }\n      if (value && value.__type === 'Date') {\n        value = parseDate(value.iso);\n      }\n      _this[key] = value;\n    });\n    return this;\n  },\n\n  /**\n   * Fetch data from the srever.\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<AV.Leaderboard>}\n   */\n  fetch: function fetch(authOptions) {\n    var _this2 = this;\n\n    return request({\n      method: 'GET',\n      path: '/leaderboard/leaderboards/' + this.statisticName,\n      authOptions: authOptions\n    }).then(function (data) {\n      return _this2._finishFetch(data);\n    });\n  },\n\n  /**\n   * Counts the number of users participated in this leaderboard\n   * @param {Object} [options]\n   * @param {number} [options.version] Specify the version of the leaderboard\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<number>}\n   */\n  count: function count() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        version = _ref6.version;\n\n    var authOptions = arguments[1];\n\n    return request({\n      method: 'GET',\n      path: '/leaderboard/leaderboards/' + this.statisticName + '/ranks',\n      query: {\n        count: 1,\n        limit: 0,\n        version: version\n      },\n      authOptions: authOptions\n    }).then(function (_ref7) {\n      var count = _ref7.count;\n      return count;\n    });\n  },\n  _getResults: function _getResults(_ref8, authOptions, userId) {\n    var skip = _ref8.skip,\n        limit = _ref8.limit,\n        selectUserKeys = _ref8.selectUserKeys,\n        includeUserKeys = _ref8.includeUserKeys,\n        includeStatistics = _ref8.includeStatistics,\n        version = _ref8.version;\n\n    return request({\n      method: 'GET',\n      path: '/leaderboard/leaderboards/' + this.statisticName + '/ranks' + (userId ? '/' + userId : ''),\n      query: {\n        skip: skip,\n        limit: limit,\n        selectUserKeys: _.union(ensureArray(selectUserKeys), ensureArray(includeUserKeys)).join(',') || undefined,\n        includeUser: includeUserKeys ? ensureArray(includeUserKeys).join(',') : undefined,\n        includeStatistics: includeStatistics ? ensureArray(includeStatistics).join(',') : undefined,\n        version: version\n      },\n      authOptions: authOptions\n    }).then(function (_ref9) {\n      var rankings = _ref9.results;\n      return rankings.map(function (rankingData) {\n        var _AV$_decode2 = AV._decode(rankingData),\n            user = _AV$_decode2.user,\n            value = _AV$_decode2.statisticValue,\n            rank = _AV$_decode2.rank,\n            _AV$_decode2$statisti = _AV$_decode2.statistics,\n            statistics = _AV$_decode2$statisti === undefined ? [] : _AV$_decode2$statisti;\n\n        return {\n          user: user,\n          value: value,\n          rank: rank,\n          includedStatistics: statistics.map(parseStatisticData)\n        };\n      });\n    });\n  },\n\n  /**\n   * Retrieve a list of ranked users for this Leaderboard.\n   * @param {Object} [options]\n   * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n   * @param {number} [options.limit] The limit of the number of results.\n   * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n   * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n   * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n   * @param {number} [options.version] Specify the version of the leaderboard\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<Ranking[]>}\n   */\n  getResults: function getResults() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        skip = _ref10.skip,\n        limit = _ref10.limit,\n        selectUserKeys = _ref10.selectUserKeys,\n        includeUserKeys = _ref10.includeUserKeys,\n        includeStatistics = _ref10.includeStatistics,\n        version = _ref10.version;\n\n    var authOptions = arguments[1];\n\n    return this._getResults({\n      skip: skip,\n      limit: limit,\n      selectUserKeys: selectUserKeys,\n      includeUserKeys: includeUserKeys,\n      includeStatistics: includeStatistics,\n      version: version\n    }, authOptions);\n  },\n\n  /**\n   * Retrieve a list of ranked users for this Leaderboard, centered on the specified user.\n   * @param {AV.User} user The specified AV.User pointer.\n   * @param {Object} [options]\n   * @param {number} [options.limit] The limit of the number of results.\n   * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n   * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n   * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n   * @param {number} [options.version] Specify the version of the leaderboard\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<Ranking[]>}\n   */\n  getResultsAroundUser: function getResultsAroundUser(user) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var authOptions = arguments[2];\n\n    // getResultsAroundUser(options, authOptions)\n    if (user && typeof user.id !== 'string') {\n      return this.getResultsAroundUser(undefined, user, options);\n    }\n    var limit = options.limit,\n        selectUserKeys = options.selectUserKeys,\n        includeUserKeys = options.includeUserKeys,\n        includeStatistics = options.includeStatistics,\n        version = options.version;\n\n    return this._getResults({ limit: limit, selectUserKeys: selectUserKeys, includeUserKeys: includeUserKeys, includeStatistics: includeStatistics, version: version }, authOptions, user ? user.id : 'self');\n  },\n  _update: function _update(data, authOptions) {\n    var _this3 = this;\n\n    return request({\n      method: 'PUT',\n      path: '/leaderboard/leaderboards/' + this.statisticName,\n      data: data,\n      authOptions: authOptions\n    }).then(function (result) {\n      return _this3._finishFetch(result);\n    });\n  },\n\n  /**\n   * (masterKey required) Update the version change interval of the Leaderboard.\n   * @param {AV.LeaderboardVersionChangeInterval} versionChangeInterval\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<AV.Leaderboard>}\n   */\n  updateVersionChangeInterval: function updateVersionChangeInterval(versionChangeInterval, authOptions) {\n    return this._update({ versionChangeInterval: versionChangeInterval }, authOptions);\n  },\n\n  /**\n   * (masterKey required) Update the version change interval of the Leaderboard.\n   * @param {AV.LeaderboardUpdateStrategy} updateStrategy\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<AV.Leaderboard>}\n   */\n  updateUpdateStrategy: function updateUpdateStrategy(updateStrategy, authOptions) {\n    return this._update({ updateStrategy: updateStrategy }, authOptions);\n  },\n\n  /**\n   * (masterKey required) Reset the Leaderboard. The version of the Leaderboard will be incremented by 1.\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<AV.Leaderboard>}\n   */\n  reset: function reset(authOptions) {\n    var _this4 = this;\n\n    return request({\n      method: 'PUT',\n      path: '/leaderboard/leaderboards/' + this.statisticName + '/incrementVersion',\n      authOptions: authOptions\n    }).then(function (data) {\n      return _this4._finishFetch(data);\n    });\n  },\n\n  /**\n   * (masterKey required) Delete the Leaderboard and its all archived versions.\n   * @param {AuthOptions} [authOptions]\n   * @return {void}\n   */\n  destroy: function destroy(authOptions) {\n    return AV.request({\n      method: 'DELETE',\n      path: '/leaderboard/leaderboards/' + this.statisticName,\n      authOptions: authOptions\n    }).then(function () {\n      return undefined;\n    });\n  },\n\n  /**\n   * (masterKey required) Get archived versions.\n   * @param {Object} [options]\n   * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n   * @param {number} [options.limit] The limit of the number of results.\n   * @param {AuthOptions} [authOptions]\n   * @return {Promise<LeaderboardArchive[]>}\n   */\n  getArchives: function getArchives() {\n    var _this5 = this;\n\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        skip = _ref11.skip,\n        limit = _ref11.limit;\n\n    var authOptions = arguments[1];\n\n    return request({\n      method: 'GET',\n      path: '/leaderboard/leaderboards/' + this.statisticName + '/archives',\n      query: {\n        skip: skip,\n        limit: limit\n      },\n      authOptions: authOptions\n    }).then(function (_ref12) {\n      var results = _ref12.results;\n      return results.map(function (_ref13) {\n        var version = _ref13.version,\n            status = _ref13.status,\n            url = _ref13.url,\n            activatedAt = _ref13.activatedAt,\n            deactivatedAt = _ref13.deactivatedAt;\n        return {\n          statisticName: _this5.statisticName,\n          version: version,\n          status: status,\n          url: url,\n          activatedAt: parseDate(activatedAt.iso),\n          deactivatedAt: parseDate(deactivatedAt.iso)\n        };\n      });\n    });\n  }\n});\n\n/***/ }),\n/* 169 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar adapters = __webpack_require__(170);\nvar getUA = __webpack_require__(76);\nvar comments = ( true ? [\"Weapp\"] : []).concat(__webpack_require__(198));\n\nmodule.exports = function (AV) {\n  AV.setAdapters(adapters);\n  AV._sharedConfig.userAgent = getUA(comments);\n  return AV;\n};\n\n/***/ }),\n/* 170 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(171);\nexports.storage = {\n    getItem: function (key) {\n        return wx.getStorageSync(key);\n    },\n    setItem: function (key, value) {\n        return wx.setStorageSync(key, value);\n    },\n    removeItem: function (key) {\n        return this.setItem(key, \"\");\n    },\n    clear: function () {\n        return wx.clearStorageSync();\n    }\n};\nvar event_target_shim_1 = __webpack_require__(172);\nvar EVENTS = [\"open\", \"error\", \"message\", \"close\"];\nvar WS = /** @class */ (function (_super) {\n    __extends(WS, _super);\n    function WS(url, protocol) {\n        var _this = this;\n        if (!url) {\n            throw new TypeError(\"Failed to construct 'WebSocket': url required\");\n        }\n        if (protocol &&\n            !(wx.canIUse && wx.canIUse(\"connectSocket.object.protocols\"))) {\n            throw new Error(\"subprotocol not supported in weapp\");\n        }\n        _this = _super.call(this) || this;\n        _this._url = url;\n        _this._protocol = protocol;\n        _this._readyState = WS.CONNECTING;\n        var errorHandler = function (event) {\n            _this._readyState = WS.CLOSED;\n            _this.dispatchEvent({\n                type: \"error\",\n                message: event.errMsg\n            });\n        };\n        var socketTask = wx.connectSocket({\n            url: url,\n            protocols: _this._protocol === undefined || Array.isArray(_this._protocol)\n                ? _this._protocol\n                : [_this._protocol],\n            fail: function (error) { return setTimeout(function () { return errorHandler(error); }, 0); }\n        });\n        _this._socketTask = socketTask;\n        socketTask.onOpen(function (event) {\n            _this._readyState = WS.OPEN;\n            _this.dispatchEvent({\n                type: \"open\"\n            });\n        });\n        socketTask.onError(errorHandler);\n        socketTask.onMessage(function (event) {\n            var data = event.data;\n            _this.dispatchEvent({\n                data: data,\n                type: \"message\"\n            });\n        });\n        socketTask.onClose(function (event) {\n            _this._readyState = WS.CLOSED;\n            var code = event.code, reason = event.reason;\n            _this.dispatchEvent({\n                code: code,\n                reason: reason,\n                type: \"close\"\n            });\n        });\n        return _this;\n    }\n    Object.defineProperty(WS.prototype, \"url\", {\n        get: function () {\n            return this._url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"protocol\", {\n        get: function () {\n            return this._protocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"readyState\", {\n        get: function () {\n            return this._readyState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WS.prototype.close = function () {\n        if (this.readyState === WS.CLOSED)\n            return;\n        if (this.readyState === WS.CONNECTING) {\n            console.warn(\"close WebSocket which is connecting might not work\");\n        }\n        this._socketTask.close({});\n    };\n    WS.prototype.send = function (data) {\n        if (this.readyState !== WS.OPEN) {\n            throw new Error(\"INVALID_STATE_ERR\");\n        }\n        if (!(typeof data === \"string\" || data instanceof ArrayBuffer)) {\n            throw new TypeError(\"only String/ArrayBuffer supported\");\n        }\n        this._socketTask.send({\n            data: data\n        });\n    };\n    WS.CONNECTING = 0;\n    WS.OPEN = 1;\n    WS.CLOSING = 2;\n    WS.CLOSED = 3;\n    return WS;\n}(event_target_shim_1.EventTarget(EVENTS)));\nexports.WebSocket = WS;\nexports.request = function (url, _a) {\n    var _b = _a === void 0 ? {} : _a, method = _b.method, data = _b.data, headers = _b.headers;\n    return new Promise(function (resolve, reject) {\n        return wx.request({\n            url: url,\n            method: method,\n            data: data,\n            header: headers,\n            responseType: \"text\",\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n    });\n};\nexports.upload = function (url, file, _a) {\n    var _b = _a === void 0 ? {} : _a, headers = _b.headers, data = _b.data, onprogress = _b.onprogress;\n    if (!(file && file.data && file.data.uri)) {\n        return Promise.reject(new TypeError(\"File data must be an object like { uri: localPath }.\"));\n    }\n    return new Promise(function (resolve, reject) {\n        var _a;\n        var task = wx.uploadFile({\n            url: url,\n            header: headers,\n            filePath: file.data.uri,\n            name: file.field,\n            formData: data,\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n        (_a = task === null || task === void 0 ? void 0 : task.onProgressUpdate) === null || _a === void 0 ? void 0 : _a.call(task, function (_a) {\n            var progress = _a.progress, totalBytesSent = _a.totalBytesSent, totalBytesExpectedToSend = _a.totalBytesExpectedToSend;\n            return onprogress === null || onprogress === void 0 ? void 0 : onprogress({\n                percent: progress,\n                loaded: totalBytesSent,\n                total: totalBytesExpectedToSend\n            });\n        });\n    });\n};\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 171 */\n/***/ (function(module, exports) {\n\n/// <reference path=\"./types/index.d.ts\" />\n\n\n/***/ }),\n/* 172 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\nvar _map = __webpack_require__(173);\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _typeof2 = __webpack_require__(56);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(78);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = __webpack_require__(84);\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nvar _create = __webpack_require__(184);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _setPrototypeOf = __webpack_require__(187);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _defineProperty = __webpack_require__(61);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nvar _keys = __webpack_require__(54);\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _weakMap = __webpack_require__(191);\n\nvar _weakMap2 = _interopRequireDefault(_weakMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nvar privateData = new _weakMap2.default();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nvar wrappers = new _weakMap2.default();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    var retv = privateData.get(event);\n    console.assert(retv != null, \"'this' is expected an Event object, but got\", event);\n    return retv;\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n            console.error(\"Unable to preventDefault inside passive event listener invocation.\", data.passiveListener);\n        }\n        return;\n    }\n    if (!data.event.cancelable) {\n        return;\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget: eventTarget,\n        event: event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now()\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    var keys = (0, _keys2.default)(event);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (!(key in this)) {\n            (0, _defineProperty2.default)(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type;\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget;\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget;\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath: function composedPath() {\n        var currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return [];\n        }\n        return [currentTarget];\n    },\n\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0;\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1;\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2;\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3;\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase;\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation: function stopPropagation() {\n        var data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation: function stopImmediatePropagation() {\n        var data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles);\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable);\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault: function preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled;\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed);\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp;\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget;\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped;\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return;\n        }\n        var data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled;\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent: function initEvent() {\n        // Do nothing.\n    }\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    (0, _setPrototypeOf2.default)(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get: function get() {\n            return pd(this).event[key];\n        },\n        set: function set(value) {\n            pd(this).event[key] = value;\n        },\n\n        configurable: true,\n        enumerable: true\n    };\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value: function value() {\n            var event = pd(this).event;\n            return event[key].apply(event, arguments);\n        },\n\n        configurable: true,\n        enumerable: true\n    };\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    var keys = (0, _keys2.default)(proto);\n    if (keys.length === 0) {\n        return BaseEvent;\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = (0, _create2.default)(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true }\n    });\n\n    // Define accessors.\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            var descriptor = (0, _getOwnPropertyDescriptor2.default)(proto, key);\n            var isFunc = typeof descriptor.value === \"function\";\n            (0, _defineProperty2.default)(CustomEvent.prototype, key, isFunc ? defineCallDescriptor(key) : defineRedirectDescriptor(key));\n        }\n    }\n\n    return CustomEvent;\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event;\n    }\n\n    var wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper((0, _getPrototypeOf2.default)(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper;\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    var Wrapper = getWrapper((0, _getPrototypeOf2.default)(event));\n    return new Wrapper(eventTarget, event);\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped;\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nvar listenersMap = new _weakMap2.default();\n\n// Listener types\nvar CAPTURE = 1;\nvar BUBBLE = 2;\nvar ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && (typeof x === 'undefined' ? 'undefined' : (0, _typeof3.default)(x)) === \"object\"; //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    var listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\"'this' is expected an EventTarget object, but got another value.\");\n    }\n    return listeners;\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get: function get() {\n            var listeners = getListeners(this);\n            var node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener;\n                }\n                node = node.next;\n            }\n            return null;\n        },\n        set: function set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            var listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            var prev = null;\n            var node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                var newNode = {\n                    listener: listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n\n        configurable: true,\n        enumerable: true\n    };\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(eventTargetPrototype, 'on' + eventName, defineEventAttributeDescriptor(eventName));\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = (0, _create2.default)(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true\n        }\n    });\n\n    for (var i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget;\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new _map2.default());\n        return;\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0]);\n    }\n    if (arguments.length > 0) {\n        var types = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types);\n    }\n    throw new TypeError(\"Cannot call a class as a function\");\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener: function addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return;\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\");\n        }\n\n        var listeners = getListeners(this);\n        var optionsIsObj = isObject(options);\n        var capture = optionsIsObj ? Boolean(options.capture) : Boolean(options);\n        var listenerType = capture ? CAPTURE : BUBBLE;\n        var newNode = {\n            listener: listener,\n            listenerType: listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null\n        };\n\n        // Set it as the first node if the first node is null.\n        var node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return;\n        }\n\n        // Traverse to the tail while checking duplication..\n        var prev = null;\n        while (node != null) {\n            if (node.listener === listener && node.listenerType === listenerType) {\n                // Should ignore duplication.\n                return;\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener: function removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return;\n        }\n\n        var listeners = getListeners(this);\n        var capture = isObject(options) ? Boolean(options.capture) : Boolean(options);\n        var listenerType = capture ? CAPTURE : BUBBLE;\n\n        var prev = null;\n        var node = listeners.get(eventName);\n        while (node != null) {\n            if (node.listener === listener && node.listenerType === listenerType) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return;\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent: function dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.');\n        }\n\n        // If listeners aren't registered, terminate.\n        var listeners = getListeners(this);\n        var eventName = event.type;\n        var node = listeners.get(eventName);\n        if (node == null) {\n            return true;\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        var wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        var prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(wrappedEvent, node.passive ? node.listener : null);\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (typeof console !== \"undefined\" && typeof console.error === \"function\") {\n                        console.error(err);\n                    }\n                }\n            } else if (node.listenerType !== ATTRIBUTE && typeof node.listener.handleEvent === \"function\") {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break;\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented;\n    }\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (typeof window !== \"undefined\" && typeof window.EventTarget !== \"undefined\") {\n    (0, _setPrototypeOf2.default)(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget;\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget;\nmodule.exports.defineEventAttribute = defineEventAttribute;\n//# sourceMappingURL=event-target-shim.js.map\n\n/***/ }),\n/* 173 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(174), __esModule: true };\n\n/***/ }),\n/* 174 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(34);\n__webpack_require__(25);\n__webpack_require__(21);\n__webpack_require__(175);\n__webpack_require__(179);\n__webpack_require__(182);\n__webpack_require__(183);\nmodule.exports = __webpack_require__(1).Map;\n\n\n/***/ }),\n/* 175 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strong = __webpack_require__(176);\nvar validate = __webpack_require__(33);\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = __webpack_require__(85)(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n/***/ }),\n/* 176 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar dP = __webpack_require__(11).f;\nvar create = __webpack_require__(36);\nvar redefineAll = __webpack_require__(40);\nvar ctx = __webpack_require__(13);\nvar anInstance = __webpack_require__(39);\nvar forOf = __webpack_require__(22);\nvar $iterDefine = __webpack_require__(44);\nvar step = __webpack_require__(67);\nvar setSpecies = __webpack_require__(73);\nvar DESCRIPTORS = __webpack_require__(10);\nvar fastKey = __webpack_require__(31).fastKey;\nvar validate = __webpack_require__(33);\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n/***/ }),\n/* 177 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = __webpack_require__(178);\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n\n/***/ }),\n/* 178 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(6);\nvar isArray = __webpack_require__(79);\nvar SPECIES = __webpack_require__(4)('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n/***/ }),\n/* 179 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = __webpack_require__(5);\n\n$export($export.P + $export.R, 'Map', { toJSON: __webpack_require__(180)('Map') });\n\n\n/***/ }),\n/* 180 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = __webpack_require__(38);\nvar from = __webpack_require__(181);\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n/***/ }),\n/* 181 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar forOf = __webpack_require__(22);\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n/***/ }),\n/* 182 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\n__webpack_require__(86)('Map');\n\n\n/***/ }),\n/* 183 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\n__webpack_require__(87)('Map');\n\n\n/***/ }),\n/* 184 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(185), __esModule: true };\n\n/***/ }),\n/* 185 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(186);\nvar $Object = __webpack_require__(1).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n/***/ }),\n/* 186 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(5);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(36) });\n\n\n/***/ }),\n/* 187 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(188), __esModule: true };\n\n/***/ }),\n/* 188 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(189);\nmodule.exports = __webpack_require__(1).Object.setPrototypeOf;\n\n\n/***/ }),\n/* 189 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(5);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(190).set });\n\n\n/***/ }),\n/* 190 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(6);\nvar anObject = __webpack_require__(9);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(13)(Function.call, __webpack_require__(60).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n/***/ }),\n/* 191 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(192), __esModule: true };\n\n/***/ }),\n/* 192 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(34);\n__webpack_require__(21);\n__webpack_require__(193);\n__webpack_require__(196);\n__webpack_require__(197);\nmodule.exports = __webpack_require__(1).WeakMap;\n\n\n/***/ }),\n/* 193 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(2);\nvar each = __webpack_require__(62)(0);\nvar redefine = __webpack_require__(47);\nvar meta = __webpack_require__(31);\nvar assign = __webpack_require__(194);\nvar weak = __webpack_require__(195);\nvar isObject = __webpack_require__(6);\nvar validate = __webpack_require__(33);\nvar NATIVE_WEAK_MAP = __webpack_require__(33);\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = __webpack_require__(85)(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n/***/ }),\n/* 194 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = __webpack_require__(10);\nvar getKeys = __webpack_require__(28);\nvar gOPS = __webpack_require__(59);\nvar pIE = __webpack_require__(41);\nvar toObject = __webpack_require__(20);\nvar IObject = __webpack_require__(48);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(16)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n/***/ }),\n/* 195 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar redefineAll = __webpack_require__(40);\nvar getWeak = __webpack_require__(31).getWeak;\nvar anObject = __webpack_require__(9);\nvar isObject = __webpack_require__(6);\nvar anInstance = __webpack_require__(39);\nvar forOf = __webpack_require__(22);\nvar createArrayMethod = __webpack_require__(62);\nvar $has = __webpack_require__(15);\nvar validate = __webpack_require__(33);\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n/***/ }),\n/* 196 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\n__webpack_require__(86)('WeakMap');\n\n\n/***/ }),\n/* 197 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\n__webpack_require__(87)('WeakMap');\n\n\n/***/ }),\n/* 198 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = [];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// av-weapp-min.js","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/underscore/underscore.js\n// module id = 0\n// module chunks = 0 1","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 1\n// module chunks = 0 1","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 2\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 3\n// module chunks = 0 1","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 4\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 5\n// module chunks = 0 1","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 6\n// module chunks = 0 1","const _ = require('underscore');\nconst { timeout } = require('promise-timeout');\nconst debug = require('debug');\nconst debugRequest = debug('leancloud:request');\nconst debugRequestError = debug('leancloud:request:error');\nconst { getAdapter } = require('../adapter');\n\nlet requestsCount = 0;\n\nconst ajax = ({\n  method,\n  url,\n  query,\n  data,\n  headers = {},\n  timeout: time,\n  onprogress,\n}) => {\n  if (query) {\n    const queryString = Object.keys(query)\n      .map(key => {\n        const value = query[key];\n        if (value === undefined) return undefined;\n        const v = typeof value === 'object' ? JSON.stringify(value) : value;\n        return `${encodeURIComponent(key)}=${encodeURIComponent(v)}`;\n      })\n      .filter(qs => qs)\n      .join('&');\n    url = `${url}?${queryString}`;\n  }\n\n  const count = requestsCount++;\n  debugRequest(\n    'request(%d) %s %s %o %o %o',\n    count,\n    method,\n    url,\n    query,\n    data,\n    headers\n  );\n\n  const request = getAdapter('request');\n  const promise = request(url, { method, headers, data, onprogress })\n    .then(response => {\n      debugRequest(\n        'response(%d) %d %O %o',\n        count,\n        response.status,\n        response.data || response.text,\n        response.header\n      );\n      if (response.ok === false) {\n        const error = new Error();\n        error.response = response;\n        throw error;\n      }\n      return response.data;\n    })\n    .catch(error => {\n      if (error.response) {\n        if (!debug.enabled('leancloud:request')) {\n          debugRequestError(\n            'request(%d) %s %s %o %o %o',\n            count,\n            method,\n            url,\n            query,\n            data,\n            headers\n          );\n        }\n        debugRequestError(\n          'response(%d) %d %O %o',\n          count,\n          error.response.status,\n          error.response.data || error.response.text,\n          error.response.header\n        );\n        error.statusCode = error.response.status;\n        error.responseText = error.response.text;\n        error.response = error.response.data;\n      }\n      throw error;\n    });\n  return time ? timeout(promise, time) : promise;\n};\n\n// Helper function to check null or undefined.\nconst isNullOrUndefined = x => _.isNull(x) || _.isUndefined(x);\n\nconst ensureArray = target => {\n  if (_.isArray(target)) {\n    return target;\n  }\n  if (target === undefined || target === null) {\n    return [];\n  }\n  return [target];\n};\n\nconst transformFetchOptions = ({ keys, include, includeACL } = {}) => {\n  const fetchOptions = {};\n  if (keys) {\n    fetchOptions.keys = ensureArray(keys).join(',');\n  }\n  if (include) {\n    fetchOptions.include = ensureArray(include).join(',');\n  }\n  if (includeACL) {\n    fetchOptions.returnACL = includeACL;\n  }\n  return fetchOptions;\n};\n\nconst getSessionToken = authOptions => {\n  if (authOptions.sessionToken) {\n    return authOptions.sessionToken;\n  }\n  if (\n    authOptions.user &&\n    typeof authOptions.user.getSessionToken === 'function'\n  ) {\n    return authOptions.user.getSessionToken();\n  }\n};\n\nconst tap = interceptor => value => (interceptor(value), value);\n\n// Shared empty constructor function to aid in prototype-chain creation.\nconst EmptyConstructor = function() {};\n\n// Helper function to correctly set up the prototype chain, for subclasses.\n// Similar to `goog.inherits`, but uses a hash of prototype properties and\n// class properties to be extended.\nconst inherits = function inherits(parent, protoProps, staticProps) {\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    /** @ignore */\n    child = function() {\n      parent.apply(this, arguments);\n    };\n  }\n\n  // Inherit class (static) properties from parent.\n  _.extend(child, parent);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function.\n  EmptyConstructor.prototype = parent.prototype;\n  child.prototype = new EmptyConstructor();\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) {\n    _.extend(child.prototype, protoProps);\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  if (staticProps) {\n    _.extend(child, staticProps);\n  }\n\n  // Correctly set child's `prototype.constructor`.\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is\n  // needed later.\n  child.__super__ = parent.prototype;\n\n  return child;\n};\n\nconst parseDate = iso8601 => new Date(iso8601);\n\nconst setValue = (target, key, value) => {\n  // '.' is not allowed in Class keys, escaping is not in concern now.\n  const segs = key.split('.');\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  segs.forEach(seg => {\n    if (currentTarget[seg] === undefined) currentTarget[seg] = {};\n    currentTarget = currentTarget[seg];\n  });\n  currentTarget[lastSeg] = value;\n  return target;\n};\n\nconst findValue = (target, key) => {\n  const segs = key.split('.');\n  const firstSeg = segs[0];\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  for (let i = 0; i < segs.length; i++) {\n    currentTarget = currentTarget[segs[i]];\n    if (currentTarget === undefined) {\n      return [undefined, undefined, lastSeg];\n    }\n  }\n  const value = currentTarget[lastSeg];\n  return [value, currentTarget, lastSeg, firstSeg];\n};\n\nconst isPlainObject = obj =>\n  _.isObject(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\nconst continueWhile = function(predicate, asyncFunction) {\n  if (predicate()) {\n    return asyncFunction().then(function() {\n      return continueWhile(predicate, asyncFunction);\n    });\n  }\n  return Promise.resolve();\n};\n\nmodule.exports = {\n  ajax,\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  getSessionToken,\n  tap,\n  inherits,\n  parseDate,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","const _ = require('underscore');\nconst md5 = require('md5');\nconst { extend } = require('underscore');\nconst AV = require('./av');\nconst { getSessionToken, ajax } = require('./utils');\n\n//  X-LC-Sign \nconst sign = (key, isMasterKey) => {\n  const now = new Date().getTime();\n  const signature = md5(now + key);\n  if (isMasterKey) {\n    return `${signature},${now},master`;\n  }\n  return `${signature},${now}`;\n};\n\nconst setAppKey = (headers, signKey) => {\n  if (signKey) {\n    headers['X-LC-Sign'] = sign(AV.applicationKey);\n  } else {\n    headers['X-LC-Key'] = AV.applicationKey;\n  }\n};\n\nconst setHeaders = (authOptions = {}, signKey) => {\n  const headers = {\n    'X-LC-Id': AV.applicationId,\n    'Content-Type': 'application/json;charset=UTF-8',\n  };\n  let useMasterKey = false;\n  if (typeof authOptions.useMasterKey === 'boolean') {\n    useMasterKey = authOptions.useMasterKey;\n  } else if (typeof AV._config.useMasterKey === 'boolean') {\n    useMasterKey = AV._config.useMasterKey;\n  }\n  if (useMasterKey) {\n    if (AV.masterKey) {\n      if (signKey) {\n        headers['X-LC-Sign'] = sign(AV.masterKey, true);\n      } else {\n        headers['X-LC-Key'] = `${AV.masterKey},master`;\n      }\n    } else {\n      console.warn('masterKey is not set, fall back to use appKey');\n      setAppKey(headers, signKey);\n    }\n  } else {\n    setAppKey(headers, signKey);\n  }\n  if (AV.hookKey) {\n    headers['X-LC-Hook-Key'] = AV.hookKey;\n  }\n  if (AV._config.production !== null) {\n    headers['X-LC-Prod'] = String(AV._config.production);\n  }\n  headers[!process.env.CLIENT_PLATFORM ? 'User-Agent' : 'X-LC-UA'] =\n    AV._sharedConfig.userAgent;\n\n  return Promise.resolve().then(() => {\n    // Pass the session token\n    const sessionToken = getSessionToken(authOptions);\n    if (sessionToken) {\n      headers['X-LC-Session'] = sessionToken;\n    } else if (!AV._config.disableCurrentUser) {\n      return AV.User.currentAsync().then(currentUser => {\n        if (currentUser && currentUser._sessionToken) {\n          headers['X-LC-Session'] = currentUser._sessionToken;\n        }\n        return headers;\n      });\n    }\n    return headers;\n  });\n};\n\nconst createApiUrl = ({\n  service = 'api',\n  version = '1.1',\n  path,\n  // query, // don't care\n  // method, // don't care\n  // data, // don't care\n}) => {\n  let apiURL = AV._config.serverURLs[service];\n\n  if (!apiURL) throw new Error(`undefined server URL for ${service}`);\n\n  if (apiURL.charAt(apiURL.length - 1) !== '/') {\n    apiURL += '/';\n  }\n  apiURL += version;\n  if (path) {\n    apiURL += path;\n  }\n\n  return apiURL;\n};\n\n/**\n * Low level REST API client. Call REST endpoints with authorization headers.\n * @function AV.request\n * @since 3.0.0\n * @param {Object} options\n * @param {String} options.method HTTP method\n * @param {String} options.path endpoint path, e.g. `/classes/Test/55759577e4b029ae6015ac20`\n * @param {Object} [options.query] query string dict\n * @param {Object} [options.data] HTTP body\n * @param {AuthOptions} [options.authOptions]\n * @param {String} [options.service = 'api']\n * @param {String} [options.version = '1.1']\n */\nconst request = ({\n  service,\n  version,\n  method,\n  path,\n  query,\n  data,\n  authOptions,\n  signKey = true,\n}) => {\n  if (!(AV.applicationId && (AV.applicationKey || AV.masterKey))) {\n    throw new Error('Not initialized');\n  }\n  if (AV._appRouter) {\n    AV._appRouter.refresh();\n  }\n  const { requestTimeout: timeout } = AV._config;\n  const url = createApiUrl({ service, path, version });\n  return setHeaders(authOptions, signKey).then(headers =>\n    ajax({ method, url, query, data, headers, timeout }).catch(error => {\n      let errorJSON = {\n        code: error.code || -1,\n        error: error.message || error.responseText,\n      };\n      if (error.response && error.response.code) {\n        errorJSON = error.response;\n      } else if (error.responseText) {\n        try {\n          errorJSON = JSON.parse(error.responseText);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n        }\n      }\n      errorJSON.rawMessage = errorJSON.rawMessage || errorJSON.error;\n      if (!AV._sharedConfig.keepErrorRawMessage) {\n        errorJSON.error += ` [${error.statusCode || 'N/A'} ${method} ${url}]`;\n      }\n      // Transform the error into an instance of AVError by trying to parse\n      // the error string as JSON.\n      const err = new Error(errorJSON.error);\n      delete errorJSON.error;\n      throw _.extend(err, errorJSON);\n    })\n  );\n};\n\n// lagecy request\nconst _request = (\n  route,\n  className,\n  objectId,\n  method,\n  data,\n  authOptions,\n  query\n) => {\n  let path = '';\n  if (route) path += `/${route}`;\n  if (className) path += `/${className}`;\n  if (objectId) path += `/${objectId}`;\n  // for migeration\n  if (data && data._fetchWhenSave)\n    throw new Error('_fetchWhenSave should be in the query');\n  if (data && data._where) throw new Error('_where should be in the query');\n  if (method && method.toLowerCase() === 'get') {\n    query = extend({}, query, data);\n    data = null;\n  }\n  return request({\n    method,\n    path,\n    query,\n    data,\n    authOptions,\n  });\n};\n\nAV.request = request;\n\nmodule.exports = {\n  _request,\n  request,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 9\n// module chunks = 0 1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 10\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 11\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = 12\n// module chunks = 0 1","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 13\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 14\n// module chunks = 0 1","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 15\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 16\n// module chunks = 0 1","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 17\n// module chunks = 0 1","const _ = require('underscore');\n\n/**\n * @class AV.Error\n */\n\nfunction AVError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n_.extend(\n  AVError,\n  /** @lends AV.Error */ {\n    /**\n     * Error code indicating some error other than those enumerated here.\n     * @constant\n     */\n    OTHER_CAUSE: -1,\n\n    /**\n     * Error code indicating that something has gone wrong with the server.\n     * If you get this error code, it is AV's fault. Contact us at\n     * https://avoscloud.com/help\n     * @constant\n     */\n    INTERNAL_SERVER_ERROR: 1,\n\n    /**\n     * Error code indicating the connection to the AV servers failed.\n     * @constant\n     */\n    CONNECTION_FAILED: 100,\n\n    /**\n     * Error code indicating the specified object doesn't exist.\n     * @constant\n     */\n    OBJECT_NOT_FOUND: 101,\n\n    /**\n     * Error code indicating you tried to query with a datatype that doesn't\n     * support it, like exact matching an array or object.\n     * @constant\n     */\n    INVALID_QUERY: 102,\n\n    /**\n     * Error code indicating a missing or invalid classname. Classnames are\n     * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n     * only valid characters.\n     * @constant\n     */\n    INVALID_CLASS_NAME: 103,\n\n    /**\n     * Error code indicating an unspecified object id.\n     * @constant\n     */\n    MISSING_OBJECT_ID: 104,\n\n    /**\n     * Error code indicating an invalid key name. Keys are case-sensitive. They\n     * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n     * @constant\n     */\n    INVALID_KEY_NAME: 105,\n\n    /**\n     * Error code indicating a malformed pointer. You should not see this unless\n     * you have been mucking about changing internal AV code.\n     * @constant\n     */\n    INVALID_POINTER: 106,\n\n    /**\n     * Error code indicating that badly formed JSON was received upstream. This\n     * either indicates you have done something unusual with modifying how\n     * things encode to JSON, or the network is failing badly.\n     * @constant\n     */\n    INVALID_JSON: 107,\n\n    /**\n     * Error code indicating that the feature you tried to access is only\n     * available internally for testing purposes.\n     * @constant\n     */\n    COMMAND_UNAVAILABLE: 108,\n\n    /**\n     * You must call AV.initialize before using the AV library.\n     * @constant\n     */\n    NOT_INITIALIZED: 109,\n\n    /**\n     * Error code indicating that a field was set to an inconsistent type.\n     * @constant\n     */\n    INCORRECT_TYPE: 111,\n\n    /**\n     * Error code indicating an invalid channel name. A channel name is either\n     * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n     * characters.\n     * @constant\n     */\n    INVALID_CHANNEL_NAME: 112,\n\n    /**\n     * Error code indicating that push is misconfigured.\n     * @constant\n     */\n    PUSH_MISCONFIGURED: 115,\n\n    /**\n     * Error code indicating that the object is too large.\n     * @constant\n     */\n    OBJECT_TOO_LARGE: 116,\n\n    /**\n     * Error code indicating that the operation isn't allowed for clients.\n     * @constant\n     */\n    OPERATION_FORBIDDEN: 119,\n\n    /**\n     * Error code indicating the result was not found in the cache.\n     * @constant\n     */\n    CACHE_MISS: 120,\n\n    /**\n     * Error code indicating that an invalid key was used in a nested\n     * JSONObject.\n     * @constant\n     */\n    INVALID_NESTED_KEY: 121,\n\n    /**\n     * Error code indicating that an invalid filename was used for AVFile.\n     * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n     * and 128 characters.\n     * @constant\n     */\n    INVALID_FILE_NAME: 122,\n\n    /**\n     * Error code indicating an invalid ACL was provided.\n     * @constant\n     */\n    INVALID_ACL: 123,\n\n    /**\n     * Error code indicating that the request timed out on the server. Typically\n     * this indicates that the request is too expensive to run.\n     * @constant\n     */\n    TIMEOUT: 124,\n\n    /**\n     * Error code indicating that the email address was invalid.\n     * @constant\n     */\n    INVALID_EMAIL_ADDRESS: 125,\n\n    /**\n     * Error code indicating a missing content type.\n     * @constant\n     */\n    MISSING_CONTENT_TYPE: 126,\n\n    /**\n     * Error code indicating a missing content length.\n     * @constant\n     */\n    MISSING_CONTENT_LENGTH: 127,\n\n    /**\n     * Error code indicating an invalid content length.\n     * @constant\n     */\n    INVALID_CONTENT_LENGTH: 128,\n\n    /**\n     * Error code indicating a file that was too large.\n     * @constant\n     */\n    FILE_TOO_LARGE: 129,\n\n    /**\n     * Error code indicating an error saving a file.\n     * @constant\n     */\n    FILE_SAVE_ERROR: 130,\n\n    /**\n     * Error code indicating an error deleting a file.\n     * @constant\n     */\n    FILE_DELETE_ERROR: 153,\n\n    /**\n     * Error code indicating that a unique field was given a value that is\n     * already taken.\n     * @constant\n     */\n    DUPLICATE_VALUE: 137,\n\n    /**\n     * Error code indicating that a role's name is invalid.\n     * @constant\n     */\n    INVALID_ROLE_NAME: 139,\n\n    /**\n     * Error code indicating that an application quota was exceeded.  Upgrade to\n     * resolve.\n     * @constant\n     */\n    EXCEEDED_QUOTA: 140,\n\n    /**\n     * Error code indicating that a Cloud Code script failed.\n     * @constant\n     */\n    SCRIPT_FAILED: 141,\n\n    /**\n     * Error code indicating that a Cloud Code validation failed.\n     * @constant\n     */\n    VALIDATION_ERROR: 142,\n\n    /**\n     * Error code indicating that invalid image data was provided.\n     * @constant\n     */\n    INVALID_IMAGE_DATA: 150,\n\n    /**\n     * Error code indicating an unsaved file.\n     * @constant\n     */\n    UNSAVED_FILE_ERROR: 151,\n\n    /**\n     * Error code indicating an invalid push time.\n     */\n    INVALID_PUSH_TIME_ERROR: 152,\n\n    /**\n     * Error code indicating that the username is missing or empty.\n     * @constant\n     */\n    USERNAME_MISSING: 200,\n\n    /**\n     * Error code indicating that the password is missing or empty.\n     * @constant\n     */\n    PASSWORD_MISSING: 201,\n\n    /**\n     * Error code indicating that the username has already been taken.\n     * @constant\n     */\n    USERNAME_TAKEN: 202,\n\n    /**\n     * Error code indicating that the email has already been taken.\n     * @constant\n     */\n    EMAIL_TAKEN: 203,\n\n    /**\n     * Error code indicating that the email is missing, but must be specified.\n     * @constant\n     */\n    EMAIL_MISSING: 204,\n\n    /**\n     * Error code indicating that a user with the specified email was not found.\n     * @constant\n     */\n    EMAIL_NOT_FOUND: 205,\n\n    /**\n     * Error code indicating that a user object without a valid session could\n     * not be altered.\n     * @constant\n     */\n    SESSION_MISSING: 206,\n\n    /**\n     * Error code indicating that a user can only be created through signup.\n     * @constant\n     */\n    MUST_CREATE_USER_THROUGH_SIGNUP: 207,\n\n    /**\n     * Error code indicating that an an account being linked is already linked\n     * to another user.\n     * @constant\n     */\n    ACCOUNT_ALREADY_LINKED: 208,\n\n    /**\n     * Error code indicating that a user cannot be linked to an account because\n     * that account's id could not be found.\n     * @constant\n     */\n    LINKED_ID_MISSING: 250,\n\n    /**\n     * Error code indicating that a user with a linked (e.g. Facebook) account\n     * has an invalid session.\n     * @constant\n     */\n    INVALID_LINKED_SESSION: 251,\n\n    /**\n     * Error code indicating that a service being linked (e.g. Facebook or\n     * Twitter) is unsupported.\n     * @constant\n     */\n    UNSUPPORTED_SERVICE: 252,\n    /**\n     * Error code indicating a real error code is unavailable because\n     * we had to use an XDomainRequest object to allow CORS requests in\n     * Internet Explorer, which strips the body from HTTP responses that have\n     * a non-2XX status code.\n     * @constant\n     */\n    X_DOMAIN_REQUEST: 602,\n  }\n);\n\nmodule.exports = AVError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/error.js","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 19\n// module chunks = 0 1","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 20\n// module chunks = 0 1","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 21\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 22\n// module chunks = 0 1","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst debug = require('debug');\nconst getUA = require('./ua');\nconst { inherits, parseDate } = require('./utils');\nconst { setAdapters } = require('./adapter');\n\nconst AV = global.AV || {};\n\n// All internal configuration items\nAV._config = {\n  serverURLs: {},\n  useMasterKey: false,\n  production: null,\n  realtime: null,\n  requestTimeout: null,\n};\n\n// configs shared by all AV instances\nAV._sharedConfig = {\n  userAgent: getUA(),\n  liveQueryRealtime: null,\n};\n\n/**\n * Contains all AV API classes and functions.\n * @namespace AV\n */\n\n/**\n * Returns prefix for localStorage keys used by this instance of AV.\n * @param {String} path The relative suffix to append to it.\n *     null or undefined is treated as the empty string.\n * @return {String} The full key name.\n * @private\n */\nAV._getAVPath = function(path) {\n  if (!AV.applicationId) {\n    throw new Error('You need to call AV.initialize before using AV.');\n  }\n  if (!path) {\n    path = '';\n  }\n  if (!_.isString(path)) {\n    throw new Error(\"Tried to get a localStorage path that wasn't a String.\");\n  }\n  if (path[0] === '/') {\n    path = path.substring(1);\n  }\n  return 'AV/' + AV.applicationId + '/' + path;\n};\n\n/**\n * Returns the unique string for this app on this machine.\n * Gets reset when localStorage is cleared.\n * @private\n */\nAV._installationId = null;\nAV._getInstallationId = () => {\n  // See if it's cached in RAM.\n  if (AV._installationId) {\n    return Promise.resolve(AV._installationId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('installationId');\n  return AV.localStorage.getItemAsync(path).then(_installationId => {\n    AV._installationId = _installationId;\n    if (!AV._installationId) {\n      // It wasn't in localStorage, so create a new one.\n      AV._installationId = _installationId = uuid();\n      return AV.localStorage\n        .setItemAsync(path, _installationId)\n        .then(() => _installationId);\n    }\n    return _installationId;\n  });\n};\n\nAV._subscriptionId = null;\nAV._refreshSubscriptionId = (path = AV._getAVPath('subscriptionId')) => {\n  const subscriptionId = (AV._subscriptionId = uuid());\n  return AV.localStorage\n    .setItemAsync(path, subscriptionId)\n    .then(() => subscriptionId);\n};\nAV._getSubscriptionId = () => {\n  // See if it's cached in RAM.\n  if (AV._subscriptionId) {\n    return Promise.resolve(AV._subscriptionId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('subscriptionId');\n  return AV.localStorage.getItemAsync(path).then(_subscriptionId => {\n    AV._subscriptionId = _subscriptionId;\n    if (!AV._subscriptionId) {\n      // It wasn't in localStorage, so create a new one.\n      _subscriptionId = AV._refreshSubscriptionId(path);\n    }\n    return _subscriptionId;\n  });\n};\n\nAV._parseDate = parseDate;\n\n// A self-propagating extend function.\nAV._extend = function(protoProps, classProps) {\n  var child = inherits(this, protoProps, classProps);\n  child.extend = this.extend;\n  return child;\n};\n\n/**\n * Converts a value in a AV Object into the appropriate representation.\n * This is the JS equivalent of Java's AV.maybeReferenceAndEncode(Object)\n * if seenObjects is falsey. Otherwise any AV.Objects not in\n * seenObjects will be fully embedded rather than encoded\n * as a pointer.  This array will be used to prevent going into an infinite\n * loop because we have circular references.  If <seenObjects>\n * is set, then none of the AV Objects that are serialized can be dirty.\n * @private\n */\nAV._encode = function(value, seenObjects, disallowObjects, full = true) {\n  if (value instanceof AV.Object) {\n    if (disallowObjects) {\n      throw new Error('AV.Objects not allowed here');\n    }\n    if (!seenObjects || _.include(seenObjects, value) || !value._hasData) {\n      return value._toPointer();\n    }\n    return value._toFullJSON(seenObjects.concat(value), full);\n  }\n  if (value instanceof AV.ACL) {\n    return value.toJSON();\n  }\n  if (_.isDate(value)) {\n    return full ? { __type: 'Date', iso: value.toJSON() } : value.toJSON();\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value.toJSON();\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(x) {\n      return AV._encode(x, seenObjects, disallowObjects, full);\n    });\n  }\n  if (_.isRegExp(value)) {\n    return value.source;\n  }\n  if (value instanceof AV.Relation) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.Op) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.File) {\n    if (!value.url() && !value.id) {\n      throw new Error('Tried to save an object containing an unsaved file.');\n    }\n    return value._toFullJSON(seenObjects, full);\n  }\n  if (_.isObject(value)) {\n    return _.mapObject(value, (v, k) =>\n      AV._encode(v, seenObjects, disallowObjects, full)\n    );\n  }\n  return value;\n};\n\n/**\n * The inverse function of AV._encode.\n * @private\n */\nAV._decode = function(value, key) {\n  if (!_.isObject(value) || _.isDate(value)) {\n    return value;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, v => AV._decode(v));\n  }\n  if (value instanceof AV.Object) {\n    return value;\n  }\n  if (value instanceof AV.File) {\n    return value;\n  }\n  if (value instanceof AV.Op) {\n    return value;\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value;\n  }\n  if (value instanceof AV.ACL) {\n    return value;\n  }\n  if (key === 'ACL') {\n    return new AV.ACL(value);\n  }\n  if (value.__op) {\n    return AV.Op._decode(value);\n  }\n  var className;\n  if (value.__type === 'Pointer') {\n    className = value.className;\n    var pointer = AV.Object._create(className);\n    if (Object.keys(value).length > 3) {\n      const v = _.clone(value);\n      delete v.__type;\n      delete v.className;\n      pointer._finishFetch(v, true);\n    } else {\n      pointer._finishFetch({ objectId: value.objectId }, false);\n    }\n    return pointer;\n  }\n  if (value.__type === 'Object') {\n    // It's an Object included in a query result.\n    className = value.className;\n    const v = _.clone(value);\n    delete v.__type;\n    delete v.className;\n    var object = AV.Object._create(className);\n    object._finishFetch(v, true);\n    return object;\n  }\n  if (value.__type === 'Date') {\n    return AV._parseDate(value.iso);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new AV.GeoPoint({\n      latitude: value.latitude,\n      longitude: value.longitude,\n    });\n  }\n  if (value.__type === 'Relation') {\n    if (!key) throw new Error('key missing decoding a Relation');\n    var relation = new AV.Relation(null, key);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'File') {\n    var file = new AV.File(value.name);\n    const v = _.clone(value);\n    delete v.__type;\n    file._finishFetch(v);\n    return file;\n  }\n  return _.mapObject(value, AV._decode);\n};\n\n/**\n * The inverse function of {@link AV.Object#toFullJSON}.\n * @since 3.0.0\n * @method\n * @param {Object}\n * return {AV.Object|AV.File|any}\n */\nAV.parseJSON = AV._decode;\n\n/**\n * Similar to JSON.parse, except that AV internal types will be used if possible.\n * Inverse to {@link AV.stringify}\n * @since 3.14.0\n * @param {string} text the string to parse.\n * @return {AV.Object|AV.File|any}\n */\nAV.parse = text => AV.parseJSON(JSON.parse(text));\n/**\n * Serialize a target containing AV.Object, similar to JSON.stringify.\n * Inverse to {@link AV.parse}\n * @since 3.14.0\n * @return {string}\n */\nAV.stringify = target => JSON.stringify(AV._encode(target, [], false, true));\n\nAV._encodeObjectOrArray = function(value) {\n  var encodeAVObject = function(object) {\n    if (object && object._toFullJSON) {\n      object = object._toFullJSON([]);\n    }\n\n    return _.mapObject(object, function(value) {\n      return AV._encode(value, []);\n    });\n  };\n\n  if (_.isArray(value)) {\n    return value.map(function(object) {\n      return encodeAVObject(object);\n    });\n  } else {\n    return encodeAVObject(value);\n  }\n};\n\nAV._arrayEach = _.each;\n\n/**\n * Does a deep traversal of every item in object, calling func on every one.\n * @param {Object} object The object or array to traverse deeply.\n * @param {Function} func The function to call for every item. It will\n *     be passed the item as an argument. If it returns a truthy value, that\n *     value will replace the item in its parent container.\n * @returns {} the result of calling func on the top-level object itself.\n * @private\n */\nAV._traverse = function(object, func, seen) {\n  if (object instanceof AV.Object) {\n    seen = seen || [];\n    if (_.indexOf(seen, object) >= 0) {\n      // We've already visited this object in this call.\n      return;\n    }\n    seen.push(object);\n    AV._traverse(object.attributes, func, seen);\n    return func(object);\n  }\n  if (object instanceof AV.Relation || object instanceof AV.File) {\n    // Nothing needs to be done, but we don't want to recurse into the\n    // object's parent infinitely, so we catch this case.\n    return func(object);\n  }\n  if (_.isArray(object)) {\n    _.each(object, function(child, index) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[index] = newChild;\n      }\n    });\n    return func(object);\n  }\n  if (_.isObject(object)) {\n    AV._each(object, function(child, key) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[key] = newChild;\n      }\n    });\n    return func(object);\n  }\n  return func(object);\n};\n\n/**\n * This is like _.each, except:\n * * it doesn't work for so-called array-like objects,\n * * it does work for dictionaries with a \"length\" attribute.\n * @private\n */\nAV._objectEach = AV._each = function(obj, callback) {\n  if (_.isObject(obj)) {\n    _.each(_.keys(obj), function(key) {\n      callback(obj[key], key);\n    });\n  } else {\n    _.each(obj, callback);\n  }\n};\n\n/**\n * @namespace\n * @since 3.14.0\n */\nAV.debug = {\n  /**\n   * Enable debug\n   */\n  enable: (namespaces = 'leancloud*') => debug.enable(namespaces),\n  /**\n   * Disable debug\n   */\n  disable: debug.disable,\n};\n\n/**\n * Specify Adapters\n * @since 4.4.0\n * @function\n * @param {Adapters} newAdapters See {@link https://url.leanapp.cn/adapter-type-definitions @leancloud/adapter-types} for detailed definitions.\n */\nAV.setAdapters = setAdapters;\n\nmodule.exports = AV;\n\n\n\n// WEBPACK FOOTER //\n// ./src/av.js","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/browser.js\n// module id = 24\n// module chunks = 0 1","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 25\n// module chunks = 0 1","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 26\n// module chunks = 0 1","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 27\n// module chunks = 0 1","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 28\n// module chunks = 0 1","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 29\n// module chunks = 0 1","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 30\n// module chunks = 0 1","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 31\n// module chunks = 0 1","const _ = require('underscore');\nconst adapters = {};\n\nconst getAdapter = name => {\n  const adapter = adapters[name];\n  if (adapter === undefined) {\n    throw new Error(`${name} adapter is not configured`);\n  }\n  return adapter;\n};\nconst setAdapters = newAdapters => {\n  _.extend(adapters, newAdapters);\n};\n\nmodule.exports = {\n  getAdapter,\n  setAdapters,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapter.js","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_validate-collection.js\n// module id = 33\n// module chunks = 0 1","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 35\n// module chunks = 0 1","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 36\n// module chunks = 0 1","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 37\n// module chunks = 0 1","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 38\n// module chunks = 0 1","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 39\n// module chunks = 0 1","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 40\n// module chunks = 0 1","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 41\n// module chunks = 0 1","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 42\n// module chunks = 0 1","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 43\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 44\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 45\n// module chunks = 0 1","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 46\n// module chunks = 0 1","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 47\n// module chunks = 0 1","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 48\n// module chunks = 0 1","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 49\n// module chunks = 0 1","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 50\n// module chunks = 0 1","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 51\n// module chunks = 0 1","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 52\n// module chunks = 0 1","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 53\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 54\n// module chunks = 0 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 55\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 56\n// module chunks = 0 1","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 57\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 58\n// module chunks = 0 1","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 59\n// module chunks = 0 1","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 60\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 61\n// module chunks = 0 1","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-methods.js\n// module id = 62\n// module chunks = 0 1","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 63\n// module chunks = 0 1","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 64\n// module chunks = 0 1","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 65\n// module chunks = 0 1","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 66\n// module chunks = 0 1","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 67\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 68\n// module chunks = 0 1","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 69\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 70\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 71\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 72\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 73\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 74\n// module chunks = 0 1","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 75\n// module chunks = 0 1","const version = require('../version');\nconst getUA = (comments = []) => {\n  let ua = `LeanCloud-JS-SDK/${version}`;\n  if (comments.length) {\n    ua += ` (${comments.join('; ')})`;\n  }\n  return ua;\n};\nmodule.exports = getUA;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ua/index.js","module.exports = '4.5.3';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\n// module id = 78\n// module chunks = 0 1","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 79\n// module chunks = 0 1","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 80\n// module chunks = 0 1","var { getAdapter } = require('./adapter');\n\nvar syncApiNames = ['getItem', 'setItem', 'removeItem', 'clear'];\n\nconst localStorage = {\n  get async() {\n    return getAdapter('storage').async;\n  },\n};\n\n// wrap sync apis with async ones.\nsyncApiNames.forEach(function(apiName) {\n  localStorage[apiName + 'Async'] = function() {\n    const storage = getAdapter('storage');\n    return Promise.resolve(storage[apiName].apply(storage, arguments));\n  };\n\n  localStorage[apiName] = function() {\n    const storage = getAdapter('storage');\n    if (!storage.async) {\n      return storage[apiName].apply(storage, arguments);\n    }\n    const error = new Error(\n      'Synchronous API [' + apiName + '] is not available in this runtime.'\n    );\n    error.code = 'SYNC_API_NOT_AVAILABLE';\n    throw error;\n  };\n});\n\nmodule.exports = localStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/localstorage.js","const storage = require('./localstorage');\nconst AV = require('./av');\n\nconst removeAsync = (exports.removeAsync = storage.removeItemAsync.bind(\n  storage\n));\n\nconst getCacheData = (cacheData, key) => {\n  try {\n    cacheData = JSON.parse(cacheData);\n  } catch (e) {\n    return null;\n  }\n  if (cacheData) {\n    const expired = cacheData.expiredAt && cacheData.expiredAt < Date.now();\n    if (!expired) {\n      return cacheData.value;\n    }\n    return removeAsync(key).then(() => null);\n  }\n  return null;\n};\n\nexports.getAsync = key => {\n  key = `AV/${AV.applicationId}/${key}`;\n  return storage.getItemAsync(key).then(cache => getCacheData(cache, key));\n};\n\nexports.setAsync = (key, value, ttl) => {\n  const cache = { value };\n  if (typeof ttl === 'number') {\n    cache.expiredAt = Date.now() + ttl;\n  }\n  return storage.setItemAsync(\n    `AV/${AV.applicationId}/${key}`,\n    JSON.stringify(cache)\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/charenc/charenc.js\n// module id = 83\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\n// module id = 84\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection.js\n// module id = 85\n// module chunks = 0 1","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-collection-of.js\n// module id = 86\n// module chunks = 0 1","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-collection-from.js\n// module id = 87\n// module chunks = 0 1","const AV = require('./core');\nconst useAdatpers = require('./use-adapters');\n\nmodule.exports = useAdatpers(AV);\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/index.js","module.exports = require('../index');\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/core.js","/*!\n * LeanCloud JavaScript SDK\n * https://leancloud.cn\n *\n * Copyright 2016 LeanCloud.cn, Inc.\n * The LeanCloud JavaScript SDK is freely distributable under the MIT license.\n */\nconst _ = require('underscore');\n\nconst AV = require('./av');\n\nAV._ = _;\nAV.version = require('./version');\nAV.Promise = Promise;\nAV.localStorage = require('./localstorage');\nAV.Cache = require('./cache');\nAV.Error = require('./error');\n\nrequire('./init');\nrequire('./event')(AV);\nrequire('./geopoint')(AV);\nrequire('./acl')(AV);\nrequire('./op')(AV);\nrequire('./relation')(AV);\nrequire('./file')(AV);\nrequire('./object')(AV);\nrequire('./role')(AV);\nrequire('./user')(AV);\nrequire('./query')(AV);\nrequire('./live-query')(AV);\nrequire('./captcha')(AV);\nrequire('./cloudfunction')(AV);\nrequire('./push')(AV);\nrequire('./status')(AV);\nrequire('./search')(AV);\nrequire('./insight')(AV);\n\nAV.Conversation = require('./conversation');\nrequire('./leaderboard');\nmodule.exports = AV;\n\n/**\n * Options to controll the authentication for an operation\n * @typedef {Object} AuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 91\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 92\n// module chunks = 0 1","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 93\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 94\n// module chunks = 0 1","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 95\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 96\n// module chunks = 0 1","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 97\n// module chunks = 0 1","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 98\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 99\n// module chunks = 0 1","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 100\n// module chunks = 0 1","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 101\n// module chunks = 0 1","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 102\n// module chunks = 0 1","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 103\n// module chunks = 0 1","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_user-agent.js\n// module id = 104\n// module chunks = 0 1","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 105\n// module chunks = 0 1","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 106\n// module chunks = 0 1","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 107\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 108\n// module chunks = 0 1","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = 109\n// module chunks = 0 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 110\n// module chunks = 0 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 111\n// module chunks = 0 1","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 112\n// module chunks = 0 1","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 113\n// module chunks = 0 1","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/common.js\n// module id = 114\n// module chunks = 0 1","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ms/index.js\n// module id = 115\n// module chunks = 0 1","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-prototype-of.js\n// module id = 116\n// module chunks = 0 1","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 117\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 118\n// module chunks = 0 1","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 119\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 120\n// module chunks = 0 1","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 121\n// module chunks = 0 1","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 122\n// module chunks = 0 1","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 123\n// module chunks = 0 1","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 124\n// module chunks = 0 1","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 125\n// module chunks = 0 1","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 126\n// module chunks = 0 1","// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/promise-timeout/index.js\n// module id = 127\n// module chunks = 0 1","const AV = require('./av');\nconst AppRouter = require('./app-router');\nconst { isNullOrUndefined } = require('./utils');\nconst { extend, isObject, isEmpty } = require('underscore');\n\nconst isCNApp = appId => appId.slice(-9) !== '-MdYXbMMI';\n\nconst fillServerURLs = url => ({\n  push: url,\n  stats: url,\n  engine: url,\n  api: url,\n  rtm: url,\n});\n\nfunction getDefaultServerURLs(appId) {\n  if (isCNApp(appId)) {\n    return {};\n  }\n  const id = appId.slice(0, 8).toLowerCase();\n  const domain = 'lncldglobal.com';\n  return {\n    push: `https://${id}.push.${domain}`,\n    stats: `https://${id}.stats.${domain}`,\n    engine: `https://${id}.engine.${domain}`,\n    api: `https://${id}.api.${domain}`,\n    rtm: `https://${id}.rtm.${domain}`,\n  };\n}\n\nlet _disableAppRouter = false;\nlet _initialized = false;\n\n/**\n * URLs for services\n * @typedef {Object} ServerURLs\n * @property {String} [api] serverURL for API service\n * @property {String} [engine] serverURL for engine service\n * @property {String} [stats] serverURL for stats service\n * @property {String} [push] serverURL for push service\n * @property {String} [rtm] serverURL for LiveQuery service\n */\n\n/**\n * Call this method first to set up your authentication tokens for AV.\n * You can get your app keys from the LeanCloud dashboard on http://leancloud.cn .\n * @function AV.init\n * @param {Object} options\n * @param {String} options.appId application id\n * @param {String} options.appKey application key\n * @param {String} [options.masterKey] application master key\n * @param {Boolean} [options.production]\n * @param {String|ServerURLs} [options.serverURL] URLs for services. if a string was given, it will be applied for all services.\n * @param {Boolean} [options.disableCurrentUser]\n */\nAV.init = function init(options, ...params) {\n  if (!isObject(options)) {\n    return AV.init({\n      appId: options,\n      appKey: params[0],\n      masterKey: params[1],\n    });\n  }\n  const {\n    appId,\n    appKey,\n    masterKey,\n    hookKey,\n    serverURL,\n    serverURLs = serverURL,\n    disableCurrentUser,\n    production,\n    realtime,\n  } = options;\n  if (_initialized)\n    console.warn(\n      'Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations.'\n    );\n  if (!appId) throw new TypeError('appId must be a string');\n  if (!appKey) throw new TypeError('appKey must be a string');\n  if (process.env.CLIENT_PLATFORM && masterKey)\n    console.warn('MasterKey is not supposed to be used at client side.');\n  if (isCNApp(appId)) {\n    if (!serverURLs && isEmpty(AV._config.serverURLs)) {\n      throw new TypeError(\n        `serverURL option is required for apps from CN region`\n      );\n    }\n  }\n  if (appId !== AV._config.applicationId) {\n    // overwrite all keys when reinitializing as a new app\n    AV._config.masterKey = masterKey;\n    AV._config.hookKey = hookKey;\n  } else {\n    if (masterKey) AV._config.masterKey = masterKey;\n    if (hookKey) AV._config.hookKey = hookKey;\n  }\n  AV._config.applicationId = appId;\n  AV._config.applicationKey = appKey;\n  AV.setProduction(production);\n  if (typeof disableCurrentUser !== 'undefined')\n    AV._config.disableCurrentUser = disableCurrentUser;\n  const disableAppRouter =\n    _disableAppRouter || typeof serverURLs !== 'undefined';\n  if (!disableAppRouter) {\n    AV._appRouter = new AppRouter(AV);\n  }\n  AV._setServerURLs(\n    extend(\n      {},\n      getDefaultServerURLs(appId),\n      AV._config.serverURLs,\n      typeof serverURLs === 'string' ? fillServerURLs(serverURLs) : serverURLs\n    ),\n    disableAppRouter\n  );\n  if (realtime) {\n    AV._config.realtime = realtime;\n  } else if (AV._sharedConfig.liveQueryRealtime) {\n    const { api, rtm } = AV._config.serverURLs;\n    AV._config.realtime = new AV._sharedConfig.liveQueryRealtime({\n      appId,\n      appKey,\n      server: {\n        api,\n        RTMRouter: rtm,\n      },\n    });\n  }\n  _initialized = true;\n};\n\n// If we're running in node.js, allow using the master key.\nif (!process.env.CLIENT_PLATFORM) {\n  AV.Cloud = AV.Cloud || {};\n  /**\n   * Switches the LeanCloud SDK to using the Master key.  The Master key grants\n   * priveleged access to the data in LeanCloud and can be used to bypass ACLs and\n   * other restrictions that are applied to the client SDKs.\n   * <p><strong><em>Available in Cloud Code and Node.js only.</em></strong>\n   * </p>\n   */\n  AV.Cloud.useMasterKey = () => {\n    AV._config.useMasterKey = true;\n  };\n}\n\n/**\n * Call this method to set production environment variable.\n * @function AV.setProduction\n * @param {Boolean} production True is production environment,and\n *  it's true by default.\n */\nAV.setProduction = production => {\n  if (!isNullOrUndefined(production)) {\n    AV._config.production = production ? 1 : 0;\n  } else {\n    // change to default value\n    AV._config.production = null;\n  }\n};\n\nAV._setServerURLs = (urls, disableAppRouter = true) => {\n  if (typeof urls !== 'string') {\n    extend(AV._config.serverURLs, urls);\n  } else {\n    AV._config.serverURLs = fillServerURLs(urls);\n  }\n  if (disableAppRouter) {\n    if (AV._appRouter) {\n      AV._appRouter.disable();\n    } else {\n      _disableAppRouter = true;\n    }\n  }\n};\n/**\n * Set server URLs for services.\n * @function AV.setServerURL\n * @since 4.3.0\n * @param {String|ServerURLs} urls URLs for services. if a string was given, it will be applied for all services.\n * You can also set them when initializing SDK with `options.serverURL`\n */\nAV.setServerURL = urls => AV._setServerURLs(urls);\nAV.setServerURLs = AV.setServerURL;\n\nAV.keepErrorRawMessage = value => {\n  AV._sharedConfig.keepErrorRawMessage = value;\n};\n\n/**\n * Set a deadline for requests to complete.\n * Note that file upload requests are not affected.\n * @function AV.setRequestTimeout\n * @since 3.6.0\n * @param {number} ms\n */\nAV.setRequestTimeout = ms => {\n  AV._config.requestTimeout = ms;\n};\n\n// backword compatible\nAV.initialize = AV.init;\n\nconst defineConfig = property =>\n  Object.defineProperty(AV, property, {\n    get() {\n      return AV._config[property];\n    },\n    set(value) {\n      AV._config[property] = value;\n    },\n  });\n\n['applicationId', 'applicationKey', 'masterKey', 'hookKey'].forEach(\n  defineConfig\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 129\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 130\n// module chunks = 0 1","const { ajax } = require('./utils');\nconst Cache = require('./cache');\n\nfunction AppRouter(AV) {\n  this.AV = AV;\n  this.lockedUntil = 0;\n  Cache.getAsync('serverURLs')\n    .then(data => {\n      if (this.disabled) return;\n      if (!data) return this.lock(0);\n      const { serverURLs, lockedUntil } = data;\n      this.AV._setServerURLs(serverURLs, false);\n      this.lockedUntil = lockedUntil;\n    })\n    .catch(() => this.lock(0));\n}\n\nAppRouter.prototype.disable = function disable() {\n  this.disabled = true;\n};\nAppRouter.prototype.lock = function lock(ttl) {\n  this.lockedUntil = Date.now() + ttl;\n};\nAppRouter.prototype.refresh = function refresh() {\n  if (this.disabled) return;\n  if (Date.now() < this.lockedUntil) return;\n  this.lock(10);\n  const url = 'https://app-router.com/2/route';\n  return ajax({\n    method: 'get',\n    url,\n    query: {\n      appId: this.AV.applicationId,\n    },\n  })\n    .then(servers => {\n      if (this.disabled) return;\n      let ttl = servers.ttl;\n      if (!ttl) throw new Error('missing ttl');\n      ttl = ttl * 1000;\n      const protocal = 'https://';\n      const serverURLs = {\n        push: protocal + servers.push_server,\n        stats: protocal + servers.stats_server,\n        engine: protocal + servers.engine_server,\n        api: protocal + servers.api_server,\n      };\n      this.AV._setServerURLs(serverURLs, false);\n      this.lock(ttl);\n      return Cache.setAsync(\n        'serverURLs',\n        {\n          serverURLs,\n          lockedUntil: this.lockedUntil,\n        },\n        ttl\n      );\n    })\n    .catch(error => {\n      // bypass all errors\n      console.warn(`refresh server URLs failed: ${error.message}`);\n      this.lock(600);\n    });\n};\n\nmodule.exports = AppRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app-router.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var eventSplitter = /\\s+/;\n  var slice = Array.prototype.slice;\n\n  /**\n   * @class\n   *\n   * <p>AV.Events is a fork of Backbone's Events module, provided for your\n   * convenience.</p>\n   *\n   * <p>A module that can be mixed in to any object in order to provide\n   * it with custom events. You may bind callback functions to an event\n   * with `on`, or remove these functions with `off`.\n   * Triggering an event fires all callbacks in the order that `on` was\n   * called.\n   *\n   * @private\n   * @example\n   * var object = {};\n   * _.extend(object, AV.Events);\n   * object.on('expand', function(){ alert('expanded'); });\n   * object.trigger('expand');</pre></p>\n   *\n   */\n  AV.Events = {\n    /**\n     * Bind one or more space separated events, `events`, to a `callback`\n     * function. Passing `\"all\"` will bind the callback to all events fired.\n     */\n    on: function(events, callback, context) {\n      var calls, event, node, tail, list;\n      if (!callback) {\n        return this;\n      }\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      event = events.shift();\n      while (event) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = { tail: tail, next: list ? list.next : node };\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Remove one or many callbacks. If `context` is null, removes all callbacks\n     * with that function. If `callback` is null, removes all callbacks for the\n     * event. If `events` is null, removes all bound callbacks for all events.\n     */\n    off: function(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) {\n        return;\n      }\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) {\n          continue;\n        }\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        node = node.next;\n        while (node !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if ((callback && cb !== callback) || (context && ctx !== context)) {\n            this.on(event, cb, ctx);\n          }\n          node = node.next;\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Trigger one or many events, firing all bound callbacks. Callbacks are\n     * passed the same arguments as `trigger` is, apart from the event name\n     * (unless you're listening on `\"all\"`, which will cause your callback to\n     * receive the true name of the event as the first argument).\n     */\n    trigger: function(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) {\n        return this;\n      }\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        if (node) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        node = all;\n        if (node) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n  };\n\n  /**\n   * @function\n   */\n  AV.Events.bind = AV.Events.on;\n\n  /**\n   * @function\n   */\n  AV.Events.unbind = AV.Events.off;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","var _ = require('underscore');\n\n/*global navigator: false */\nmodule.exports = function(AV) {\n  /**\n   * Creates a new GeoPoint with any of the following forms:<br>\n   * @example\n   * new GeoPoint(otherGeoPoint)\n   * new GeoPoint(30, 30)\n   * new GeoPoint([30, 30])\n   * new GeoPoint({latitude: 30, longitude: 30})\n   * new GeoPoint()  // defaults to (0, 0)\n   * @class\n   *\n   * <p>Represents a latitude / longitude point that may be associated\n   * with a key in a AVObject or used as a reference point for geo queries.\n   * This allows proximity-based queries on the key.</p>\n   *\n   * <p>Only one key in a class may contain a GeoPoint.</p>\n   *\n   * <p>Example:<pre>\n   *   var point = new AV.GeoPoint(30.0, -20.0);\n   *   var object = new AV.Object(\"PlaceObject\");\n   *   object.set(\"location\", point);\n   *   object.save();</pre></p>\n   */\n  AV.GeoPoint = function(arg1, arg2) {\n    if (_.isArray(arg1)) {\n      AV.GeoPoint._validate(arg1[0], arg1[1]);\n      this.latitude = arg1[0];\n      this.longitude = arg1[1];\n    } else if (_.isObject(arg1)) {\n      AV.GeoPoint._validate(arg1.latitude, arg1.longitude);\n      this.latitude = arg1.latitude;\n      this.longitude = arg1.longitude;\n    } else if (_.isNumber(arg1) && _.isNumber(arg2)) {\n      AV.GeoPoint._validate(arg1, arg2);\n      this.latitude = arg1;\n      this.longitude = arg2;\n    } else {\n      this.latitude = 0;\n      this.longitude = 0;\n    }\n\n    // Add properties so that anyone using Webkit or Mozilla will get an error\n    // if they try to set values that are out of bounds.\n    var self = this;\n    if (this.__defineGetter__ && this.__defineSetter__) {\n      // Use _latitude and _longitude to actually store the values, and add\n      // getters and setters for latitude and longitude.\n      this._latitude = this.latitude;\n      this._longitude = this.longitude;\n      this.__defineGetter__('latitude', function() {\n        return self._latitude;\n      });\n      this.__defineGetter__('longitude', function() {\n        return self._longitude;\n      });\n      this.__defineSetter__('latitude', function(val) {\n        AV.GeoPoint._validate(val, self.longitude);\n        self._latitude = val;\n      });\n      this.__defineSetter__('longitude', function(val) {\n        AV.GeoPoint._validate(self.latitude, val);\n        self._longitude = val;\n      });\n    }\n  };\n\n  /**\n   * @lends AV.GeoPoint.prototype\n   * @property {float} latitude North-south portion of the coordinate, in range\n   *   [-90, 90].  Throws an exception if set out of range in a modern browser.\n   * @property {float} longitude East-west portion of the coordinate, in range\n   *   [-180, 180].  Throws if set out of range in a modern browser.\n   */\n\n  /**\n   * Throws an exception if the given lat-long is out of bounds.\n   * @private\n   */\n  AV.GeoPoint._validate = function(latitude, longitude) {\n    if (latitude < -90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' < -90.0.');\n    }\n    if (latitude > 90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' > 90.0.');\n    }\n    if (longitude < -180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' < -180.0.');\n    }\n    if (longitude > 180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' > 180.0.');\n    }\n  };\n\n  /**\n   * Creates a GeoPoint with the user's current location, if available.\n   * @return {Promise.<AV.GeoPoint>}\n   */\n  AV.GeoPoint.current = () =>\n    new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(function(location) {\n        resolve(\n          new AV.GeoPoint({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude,\n          })\n        );\n      }, reject);\n    });\n\n  _.extend(\n    AV.GeoPoint.prototype,\n    /** @lends AV.GeoPoint.prototype */ {\n      /**\n       * Returns a JSON representation of the GeoPoint, suitable for AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        AV.GeoPoint._validate(this.latitude, this.longitude);\n        return {\n          __type: 'GeoPoint',\n          latitude: this.latitude,\n          longitude: this.longitude,\n        };\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in radians.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      radiansTo: function(point) {\n        var d2r = Math.PI / 180.0;\n        var lat1rad = this.latitude * d2r;\n        var long1rad = this.longitude * d2r;\n        var lat2rad = point.latitude * d2r;\n        var long2rad = point.longitude * d2r;\n        var deltaLat = lat1rad - lat2rad;\n        var deltaLong = long1rad - long2rad;\n        var sinDeltaLatDiv2 = Math.sin(deltaLat / 2);\n        var sinDeltaLongDiv2 = Math.sin(deltaLong / 2);\n        // Square of half the straight line chord distance between both points.\n        var a =\n          sinDeltaLatDiv2 * sinDeltaLatDiv2 +\n          Math.cos(lat1rad) *\n            Math.cos(lat2rad) *\n            sinDeltaLongDiv2 *\n            sinDeltaLongDiv2;\n        a = Math.min(1.0, a);\n        return 2 * Math.asin(Math.sqrt(a));\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in kilometers.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      kilometersTo: function(point) {\n        return this.radiansTo(point) * 6371.0;\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in miles.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      milesTo: function(point) {\n        return this.radiansTo(point) * 3958.8;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/geopoint.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var PUBLIC_KEY = '*';\n\n  /**\n   * Creates a new ACL.\n   * If no argument is given, the ACL has no permissions for anyone.\n   * If the argument is a AV.User, the ACL will have read and write\n   *   permission for only that user.\n   * If the argument is any other JSON object, that object will be interpretted\n   *   as a serialized ACL created with toJSON().\n   * @see AV.Object#setACL\n   * @class\n   *\n   * <p>An ACL, or Access Control List can be added to any\n   * <code>AV.Object</code> to restrict access to only a subset of users\n   * of your application.</p>\n   */\n  AV.ACL = function(arg1) {\n    var self = this;\n    self.permissionsById = {};\n    if (_.isObject(arg1)) {\n      if (arg1 instanceof AV.User) {\n        self.setReadAccess(arg1, true);\n        self.setWriteAccess(arg1, true);\n      } else {\n        if (_.isFunction(arg1)) {\n          throw new Error(\n            'AV.ACL() called with a function.  Did you forget ()?'\n          );\n        }\n        AV._objectEach(arg1, function(accessList, userId) {\n          if (!_.isString(userId)) {\n            throw new Error('Tried to create an ACL with an invalid userId.');\n          }\n          self.permissionsById[userId] = {};\n          AV._objectEach(accessList, function(allowed, permission) {\n            if (permission !== 'read' && permission !== 'write') {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission type.'\n              );\n            }\n            if (!_.isBoolean(allowed)) {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission value.'\n              );\n            }\n            self.permissionsById[userId][permission] = allowed;\n          });\n        });\n      }\n    }\n  };\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @return {Object}\n   */\n  AV.ACL.prototype.toJSON = function() {\n    return _.clone(this.permissionsById);\n  };\n\n  AV.ACL.prototype._setAccess = function(accessType, userId, allowed) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    if (!_.isString(userId)) {\n      throw new Error('userId must be a string.');\n    }\n    if (!_.isBoolean(allowed)) {\n      throw new Error('allowed must be either true or false.');\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      if (!allowed) {\n        // The user already doesn't have this permission, so no action needed.\n        return;\n      } else {\n        permissions = {};\n        this.permissionsById[userId] = permissions;\n      }\n    }\n\n    if (allowed) {\n      this.permissionsById[userId][accessType] = true;\n    } else {\n      delete permissions[accessType];\n      if (_.isEmpty(permissions)) {\n        delete this.permissionsById[userId];\n      }\n    }\n  };\n\n  AV.ACL.prototype._getAccess = function(accessType, userId) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      return false;\n    }\n    return permissions[accessType] ? true : false;\n  };\n\n  /**\n   * Set whether the given user is allowed to read this object.\n   * @param userId An instance of AV.User or its objectId.\n   * @param {Boolean} allowed Whether that user should have read access.\n   */\n  AV.ACL.prototype.setReadAccess = function(userId, allowed) {\n    this._setAccess('read', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to read this object.\n   * Even if this returns false, the user may still be able to access it if\n   * getPublicReadAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getReadAccess = function(userId) {\n    return this._getAccess('read', userId);\n  };\n\n  /**\n   * Set whether the given user id is allowed to write this object.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role..\n   * @param {Boolean} allowed Whether that user should have write access.\n   */\n  AV.ACL.prototype.setWriteAccess = function(userId, allowed) {\n    this._setAccess('write', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to write this object.\n   * Even if this returns false, the user may still be able to write it if\n   * getPublicWriteAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getWriteAccess = function(userId) {\n    return this._getAccess('write', userId);\n  };\n\n  /**\n   * Set whether the public is allowed to read this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicReadAccess = function(allowed) {\n    this.setReadAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to read this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicReadAccess = function() {\n    return this.getReadAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Set whether the public is allowed to write this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicWriteAccess = function(allowed) {\n    this.setWriteAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to write this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicWriteAccess = function() {\n    return this.getWriteAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to read this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has read access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has read access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleReadAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getReadAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to write this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has write access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has write access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleWriteAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getWriteAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to read this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can read this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleReadAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setReadAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to write this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can write this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleWriteAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setWriteAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/acl.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * @private\n   * @class\n   * A AV.Op is an atomic operation that can be applied to a field in a\n   * AV.Object. For example, calling <code>object.set(\"foo\", \"bar\")</code>\n   * is an example of a AV.Op.Set. Calling <code>object.unset(\"foo\")</code>\n   * is a AV.Op.Unset. These operations are stored in a AV.Object and\n   * sent to the server as part of <code>object.save()</code> operations.\n   * Instances of AV.Op should be immutable.\n   *\n   * You should not create subclasses of AV.Op or instantiate AV.Op\n   * directly.\n   */\n  AV.Op = function() {\n    this._initialize.apply(this, arguments);\n  };\n\n  _.extend(\n    AV.Op.prototype,\n    /** @lends AV.Op.prototype */ {\n      _initialize: function() {},\n    }\n  );\n\n  _.extend(AV.Op, {\n    /**\n     * To create a new Op, call AV.Op._extend();\n     * @private\n     */\n    _extend: AV._extend,\n\n    // A map of __op string to decoder function.\n    _opDecoderMap: {},\n\n    /**\n     * Registers a function to convert a json object with an __op field into an\n     * instance of a subclass of AV.Op.\n     * @private\n     */\n    _registerDecoder: function(opName, decoder) {\n      AV.Op._opDecoderMap[opName] = decoder;\n    },\n\n    /**\n     * Converts a json object into an instance of a subclass of AV.Op.\n     * @private\n     */\n    _decode: function(json) {\n      var decoder = AV.Op._opDecoderMap[json.__op];\n      if (decoder) {\n        return decoder(json);\n      } else {\n        return undefined;\n      }\n    },\n  });\n\n  /*\n   * Add a handler for Batch ops.\n   */\n  AV.Op._registerDecoder('Batch', function(json) {\n    var op = null;\n    AV._arrayEach(json.ops, function(nextOp) {\n      nextOp = AV.Op._decode(nextOp);\n      op = nextOp._mergeWithPrevious(op);\n    });\n    return op;\n  });\n\n  /**\n   * @private\n   * @class\n   * A Set operation indicates that either the field was changed using\n   * AV.Object.set, or it is a mutable container that was detected as being\n   * changed.\n   */\n  AV.Op.Set = AV.Op._extend(\n    /** @lends AV.Op.Set.prototype */ {\n      _initialize: function(value) {\n        this._value = value;\n      },\n\n      /**\n       * Returns the new value of this field after the set.\n       */\n      value: function() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return AV._encode(this.value());\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return this.value();\n      },\n    }\n  );\n\n  /**\n   * A sentinel value that is returned by AV.Op.Unset._estimate to\n   * indicate the field should be deleted. Basically, if you find _UNSET as a\n   * value in your object, you should remove that key.\n   */\n  AV.Op._UNSET = {};\n\n  /**\n   * @private\n   * @class\n   * An Unset operation indicates that this field has been deleted from the\n   * object.\n   */\n  AV.Op.Unset = AV.Op._extend(\n    /** @lends AV.Op.Unset.prototype */ {\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Delete' };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return AV.Op._UNSET;\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Delete', function(json) {\n    return new AV.Op.Unset();\n  });\n\n  /**\n   * @private\n   * @class\n   * An Increment is an atomic operation where the numeric value for the field\n   * will be increased by a given amount.\n   */\n  AV.Op.Increment = AV.Op._extend(\n    /** @lends AV.Op.Increment.prototype */ {\n      _initialize: function(amount) {\n        this._amount = amount;\n      },\n\n      /**\n       * Returns the amount to increment by.\n       * @return {Number} the amount to increment by.\n       */\n      amount: function() {\n        return this._amount;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Increment', amount: this._amount };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.amount());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() + this.amount());\n        } else if (previous instanceof AV.Op.Increment) {\n          return new AV.Op.Increment(this.amount() + previous.amount());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return this.amount();\n        }\n        return oldValue + this.amount();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Increment', function(json) {\n    return new AV.Op.Increment(json.amount);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitAnd is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitAnd = AV.Op._extend(\n    /** @lends AV.Op.BitAnd.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitAnd', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(0);\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() & this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue & this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitAnd', function(json) {\n    return new AV.Op.BitAnd(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitOr is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitOr = AV.Op._extend(\n    /** @lends AV.Op.BitOr.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitOr', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() | this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue | this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitOr', function(json) {\n    return new AV.Op.BitOr(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitXor is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitXor = AV.Op._extend(\n    /** @lends AV.Op.BitXor.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitXor', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() ^ this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue ^ this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitXor', function(json) {\n    return new AV.Op.BitXor(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * Add is an atomic operation where the given objects will be appended to the\n   * array that is stored in this field.\n   */\n  AV.Op.Add = AV.Op._extend(\n    /** @lends AV.Op.Add.prototype */ {\n      _initialize: function(objects) {\n        this._objects = objects;\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Add', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Add) {\n          return new AV.Op.Add(previous.objects().concat(this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          return oldValue.concat(this.objects());\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Add', function(json) {\n    return new AV.Op.Add(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * AddUnique is an atomic operation where the given items will be appended to\n   * the array that is stored in this field only if they were not already\n   * present in the array.\n   */\n  AV.Op.AddUnique = AV.Op._extend(\n    /** @lends AV.Op.AddUnique.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'AddUnique', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.AddUnique) {\n          return new AV.Op.AddUnique(this._estimate(previous.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          // We can't just take the _.uniq(_.union(...)) of oldValue and\n          // this.objects, because the uniqueness may not apply to oldValue\n          // (especially if the oldValue was set via .set())\n          var newValue = _.clone(oldValue);\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              var matchingObj = _.find(newValue, function(anObj) {\n                return anObj instanceof AV.Object && anObj.id === obj.id;\n              });\n              if (!matchingObj) {\n                newValue.push(obj);\n              } else {\n                var index = _.indexOf(newValue, matchingObj);\n                newValue[index] = obj;\n              }\n            } else if (!_.contains(newValue, obj)) {\n              newValue.push(obj);\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddUnique', function(json) {\n    return new AV.Op.AddUnique(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * Remove is an atomic operation where the given objects will be removed from\n   * the array that is stored in this field.\n   */\n  AV.Op.Remove = AV.Op._extend(\n    /** @lends AV.Op.Remove.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be removed from the array.\n       * @return {Array} The objects to be removed from the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Remove', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return previous;\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Remove) {\n          return new AV.Op.Remove(_.union(previous.objects(), this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return [];\n        } else {\n          var newValue = _.difference(oldValue, this.objects());\n          // If there are saved AV Objects being removed, also remove them.\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              newValue = _.reject(newValue, function(other) {\n                return other instanceof AV.Object && other.id === obj.id;\n              });\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Remove', function(json) {\n    return new AV.Op.Remove(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * A Relation operation indicates that the field is an instance of\n   * AV.Relation, and objects are being added to, or removed from, that\n   * relation.\n   */\n  AV.Op.Relation = AV.Op._extend(\n    /** @lends AV.Op.Relation.prototype */ {\n      _initialize: function(adds, removes) {\n        this._targetClassName = null;\n\n        var self = this;\n\n        var pointerToId = function(object) {\n          if (object instanceof AV.Object) {\n            if (!object.id) {\n              throw new Error(\n                \"You can't add an unsaved AV.Object to a relation.\"\n              );\n            }\n            if (!self._targetClassName) {\n              self._targetClassName = object.className;\n            }\n            if (self._targetClassName !== object.className) {\n              throw new Error(\n                'Tried to create a AV.Relation with 2 different types: ' +\n                  self._targetClassName +\n                  ' and ' +\n                  object.className +\n                  '.'\n              );\n            }\n            return object.id;\n          }\n          return object;\n        };\n\n        this.relationsToAdd = _.uniq(_.map(adds, pointerToId));\n        this.relationsToRemove = _.uniq(_.map(removes, pointerToId));\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being added to the\n       * relation.\n       * @return {Array}\n       */\n      added: function() {\n        var self = this;\n        return _.map(this.relationsToAdd, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being removed from\n       * the relation.\n       * @return {Array}\n       */\n      removed: function() {\n        var self = this;\n        return _.map(this.relationsToRemove, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        var adds = null;\n        var removes = null;\n        var self = this;\n        var idToPointer = function(id) {\n          return {\n            __type: 'Pointer',\n            className: self._targetClassName,\n            objectId: id,\n          };\n        };\n        var pointers = null;\n        if (this.relationsToAdd.length > 0) {\n          pointers = _.map(this.relationsToAdd, idToPointer);\n          adds = { __op: 'AddRelation', objects: pointers };\n        }\n\n        if (this.relationsToRemove.length > 0) {\n          pointers = _.map(this.relationsToRemove, idToPointer);\n          removes = { __op: 'RemoveRelation', objects: pointers };\n        }\n\n        if (adds && removes) {\n          return { __op: 'Batch', ops: [adds, removes] };\n        }\n\n        return adds || removes || {};\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          throw new Error(\"You can't modify a relation after deleting it.\");\n        } else if (previous instanceof AV.Op.Relation) {\n          if (\n            previous._targetClassName &&\n            previous._targetClassName !== this._targetClassName\n          ) {\n            throw new Error(\n              'Related object must be of class ' +\n                previous._targetClassName +\n                ', but ' +\n                this._targetClassName +\n                ' was passed in.'\n            );\n          }\n          var newAdd = _.union(\n            _.difference(previous.relationsToAdd, this.relationsToRemove),\n            this.relationsToAdd\n          );\n          var newRemove = _.union(\n            _.difference(previous.relationsToRemove, this.relationsToAdd),\n            this.relationsToRemove\n          );\n\n          var newRelation = new AV.Op.Relation(newAdd, newRemove);\n          newRelation._targetClassName = this._targetClassName;\n          return newRelation;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue, object, key) {\n        if (!oldValue) {\n          var relation = new AV.Relation(object, key);\n          relation.targetClassName = this._targetClassName;\n        } else if (oldValue instanceof AV.Relation) {\n          if (this._targetClassName) {\n            if (oldValue.targetClassName) {\n              if (oldValue.targetClassName !== this._targetClassName) {\n                throw new Error(\n                  'Related object must be a ' +\n                    oldValue.targetClassName +\n                    ', but a ' +\n                    this._targetClassName +\n                    ' was passed in.'\n                );\n              }\n            } else {\n              oldValue.targetClassName = this._targetClassName;\n            }\n          }\n          return oldValue;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddRelation', function(json) {\n    return new AV.Op.Relation(AV._decode(json.objects), []);\n  });\n  AV.Op._registerDecoder('RemoveRelation', function(json) {\n    return new AV.Op.Relation([], AV._decode(json.objects));\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/op.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new Relation for the given parent object and key. This\n   * constructor should rarely be used directly, but rather created by\n   * {@link AV.Object#relation}.\n   * @param {AV.Object} parent The parent of this relation.\n   * @param {String} key The key for this relation on the parent.\n   * @see AV.Object#relation\n   * @class\n   *\n   * <p>\n   * A class that is used to access all of the children of a many-to-many\n   * relationship.  Each instance of AV.Relation is associated with a\n   * particular parent object and key.\n   * </p>\n   */\n  AV.Relation = function(parent, key) {\n    if (!_.isString(key)) {\n      throw new TypeError('key must be a string');\n    }\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  };\n\n  /**\n   * Creates a query that can be used to query the parent objects in this relation.\n   * @param {String} parentClass The parent class or name.\n   * @param {String} relationKey The relation field key in parent.\n   * @param {AV.Object} child The child object.\n   * @return {AV.Query}\n   */\n  AV.Relation.reverseQuery = function(parentClass, relationKey, child) {\n    var query = new AV.Query(parentClass);\n    query.equalTo(relationKey, child._toPointer());\n    return query;\n  };\n\n  _.extend(\n    AV.Relation.prototype,\n    /** @lends AV.Relation.prototype */ {\n      /**\n       * Makes sure that this relation has the right parent and key.\n       * @private\n       */\n      _ensureParentAndKey: function(parent, key) {\n        this.parent = this.parent || parent;\n        this.key = this.key || key;\n        if (this.parent !== parent) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different Objects.'\n          );\n        }\n        if (this.key !== key) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different keys.'\n          );\n        }\n      },\n\n      /**\n       * Adds a AV.Object or an array of AV.Objects to the relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to add.\n       */\n      add: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation(objects, []);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Removes a AV.Object or an array of AV.Objects from this relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to remove.\n       */\n      remove: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation([], objects);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Returns a JSON version of the object suitable for saving to disk.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __type: 'Relation', className: this.targetClassName };\n      },\n\n      /**\n       * Returns a AV.Query that is limited to objects in this\n       * relation.\n       * @return {AV.Query}\n       */\n      query: function() {\n        var targetClass;\n        var query;\n        if (!this.targetClassName) {\n          targetClass = AV.Object._getSubclass(this.parent.className);\n          query = new AV.Query(targetClass);\n          query._defaultParams.redirectClassNameForKey = this.key;\n        } else {\n          targetClass = AV.Object._getSubclass(this.targetClassName);\n          query = new AV.Query(targetClass);\n        }\n        query._addCondition('$relatedTo', 'object', this.parent._toPointer());\n        query._addCondition('$relatedTo', 'key', this.key);\n\n        return query;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/relation.js","const _ = require('underscore');\nconst cos = require('./uploader/cos');\nconst qiniu = require('./uploader/qiniu');\nconst s3 = require('./uploader/s3');\nconst AVError = require('./error');\nconst AVRequest = require('./request')._request;\nconst { tap, transformFetchOptions } = require('./utils');\nconst debug = require('debug')('leancloud:file');\nconst parseBase64 = require('./utils/parse-base64');\n\nmodule.exports = function(AV) {\n  const hexOctet = () =>\n    Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n\n  // port from browserify path module\n  // since react-native packager won't shim node modules.\n  const extname = path => {\n    if (!_.isString(path)) return '';\n    return path.match(\n      /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/\n    )[4];\n  };\n\n  const b64Digit = number => {\n    if (number < 26) {\n      return String.fromCharCode(65 + number);\n    }\n    if (number < 52) {\n      return String.fromCharCode(97 + (number - 26));\n    }\n    if (number < 62) {\n      return String.fromCharCode(48 + (number - 52));\n    }\n    if (number === 62) {\n      return '+';\n    }\n    if (number === 63) {\n      return '/';\n    }\n    throw new Error('Tried to encode large digit ' + number + ' in base64.');\n  };\n\n  var encodeBase64 = function(array) {\n    var chunks = [];\n    chunks.length = Math.ceil(array.length / 3);\n    _.times(chunks.length, function(i) {\n      var b1 = array[i * 3];\n      var b2 = array[i * 3 + 1] || 0;\n      var b3 = array[i * 3 + 2] || 0;\n\n      var has2 = i * 3 + 1 < array.length;\n      var has3 = i * 3 + 2 < array.length;\n\n      chunks[i] = [\n        b64Digit((b1 >> 2) & 0x3f),\n        b64Digit(((b1 << 4) & 0x30) | ((b2 >> 4) & 0x0f)),\n        has2 ? b64Digit(((b2 << 2) & 0x3c) | ((b3 >> 6) & 0x03)) : '=',\n        has3 ? b64Digit(b3 & 0x3f) : '=',\n      ].join('');\n    });\n    return chunks.join('');\n  };\n\n  /**\n   * An AV.File is a local representation of a file that is saved to the AV\n   * cloud.\n   * @param name {String} The file's name. This will change to a unique value\n   *     once the file has finished saving.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. a Blob(File) selected with a file upload control.\n   *     4. a Buffer in Node.js runtime.\n   *     5. a Stream in Node.js runtime.\n   *\n   *        For example:<pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var file = new AV.File(name, file);\n   *   file.save().then(function() {\n   *     // The file has been saved to AV.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to AV.\n   *   });\n   * }</pre>\n   *\n   * @class\n   * @param [mimeType] {String} Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   */\n  AV.File = function(name, data, mimeType) {\n    this.attributes = {\n      name,\n      url: '',\n      metaData: {},\n      //  base64 String\n      base64: '',\n    };\n\n    if (_.isString(data)) {\n      throw new TypeError(\n        'Creating an AV.File from a String is not yet supported.'\n      );\n    }\n    if (_.isArray(data)) {\n      this.attributes.metaData.size = data.length;\n      data = { base64: encodeBase64(data) };\n    }\n\n    this._extName = '';\n    this._data = data;\n    this._uploadHeaders = {};\n\n    if (data && data.blob && typeof data.blob.uri === 'string') {\n      this._extName = extname(data.blob.uri);\n    }\n\n    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n      if (data.size) {\n        this.attributes.metaData.size = data.size;\n      }\n      if (data.name) {\n        this._extName = extname(data.name);\n      }\n    }\n\n\n    let owner;\n    if (data && data.owner) {\n      owner = data.owner;\n    } else if (!AV._config.disableCurrentUser) {\n      try {\n        owner = AV.User.current();\n      } catch (error) {\n        if ('SYNC_API_NOT_AVAILABLE' !== error.code) {\n          throw error;\n        }\n      }\n    }\n\n    this.attributes.metaData.owner = owner ? owner.id : 'unknown';\n\n    this.set('mime_type', mimeType);\n  };\n\n  /**\n   * Creates a fresh AV.File object with exists url for saving to AVOS Cloud.\n   * @param {String} name the file name\n   * @param {String} url the file url.\n   * @param {Object} [metaData] the file metadata object.\n   * @param {String} [type] Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @return {AV.File} the file object\n   */\n  AV.File.withURL = function(name, url, metaData, type) {\n    if (!name || !url) {\n      throw new Error('Please provide file name and url');\n    }\n    var file = new AV.File(name, null, type);\n    //copy metaData properties to file.\n    if (metaData) {\n      for (var prop in metaData) {\n        if (!file.attributes.metaData[prop])\n          file.attributes.metaData[prop] = metaData[prop];\n      }\n    }\n    file.attributes.url = url;\n    //Mark the file is from external source.\n    file.attributes.metaData.__source = 'external';\n    return file;\n  };\n\n  /**\n   * Creates a file object with exists objectId.\n   * @param {String} objectId The objectId string\n   * @return {AV.File} the file object\n   */\n  AV.File.createWithoutData = function(objectId) {\n    var file = new AV.File();\n    file.id = objectId;\n    return file;\n  };\n\n  _.extend(\n    AV.File.prototype,\n    /** @lends AV.File.prototype */ {\n      className: '_File',\n\n      _toFullJSON(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, seenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'File';\n        }\n        return json;\n      },\n\n      /**\n       * Returns a JSON version of the file with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON(key, holder, seenObjects = [this]) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Gets a Pointer referencing this file.\n       * @private\n       */\n      _toPointer() {\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Returns the ACL for this file.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       */\n      getACL() {\n        return this._acl;\n      },\n\n      /**\n       * Sets the ACL to be used for this file.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       */\n      setACL(acl) {\n        if (!(acl instanceof AV.ACL)) {\n          return new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n        this._acl = acl;\n        return this;\n      },\n\n      /**\n       * Gets the name of the file. Before save is called, this is the filename\n       * given by the user. After save is called, that name gets prefixed with a\n       * unique identifier.\n       */\n      name() {\n        return this.get('name');\n      },\n\n      /**\n       * Gets the url of the file. It is only available after you save the file or\n       * after you get the file from a AV.Object.\n       * @return {String}\n       */\n      url() {\n        return this.get('url');\n      },\n\n      /**\n       * Gets the attributs of the file object.\n       * @param {String} The attribute name which want to get.\n       * @returns {Any}\n       */\n      get(attrName) {\n        switch (attrName) {\n          case 'objectId':\n            return this.id;\n          case 'url':\n          case 'name':\n          case 'mime_type':\n          case 'metaData':\n          case 'createdAt':\n          case 'updatedAt':\n            return this.attributes[attrName];\n          default:\n            return this.attributes.metaData[attrName];\n        }\n      },\n\n      /**\n       * Set the metaData of the file object.\n       * @param {Object} Object is an key value Object for setting metaData.\n       * @param {String} attr is an optional metadata key.\n       * @param {Object} value is an optional metadata value.\n       * @returns {String|Number|Array|Object}\n       */\n      set(...args) {\n        const set = (attrName, value) => {\n          switch (attrName) {\n            case 'name':\n            case 'url':\n            case 'mime_type':\n            case 'base64':\n            case 'metaData':\n              this.attributes[attrName] = value;\n              break;\n            default:\n              // File  AVObject metaData \n              this.attributes.metaData[attrName] = value;\n              break;\n          }\n        };\n\n        switch (args.length) {\n          case 1:\n            //  Object\n            for (var k in args[0]) {\n              set(k, args[0][k]);\n            }\n            break;\n          case 2:\n            set(args[0], args[1]);\n            break;\n        }\n        return this;\n      },\n\n      /**\n       * Set a header for the upload request.\n       * For more infomation, go to https://url.leanapp.cn/avfile-upload-headers\n       *\n       * @param {String} key header key\n       * @param {String} value header value\n       * @return {AV.File} this\n       */\n      setUploadHeader(key, value) {\n        this._uploadHeaders[key] = value;\n        return this;\n      },\n\n      /**\n       * <p>Returns the file's metadata JSON object if no arguments is given.Returns the\n       * metadata value if a key is given.Set metadata value if key and value are both given.</p>\n       * <p><pre>\n       *  var metadata = file.metaData(); //Get metadata JSON object.\n       *  var size = file.metaData('size');  // Get the size metadata value.\n       *  file.metaData('format', 'jpeg'); //set metadata attribute and value.\n       *</pre></p>\n       * @return {Object} The file's metadata JSON object.\n       * @param {String} attr an optional metadata key.\n       * @param {Object} value an optional metadata value.\n       **/\n      metaData(attr, value) {\n        if (attr && value) {\n          this.attributes.metaData[attr] = value;\n          return this;\n        } else if (attr && !value) {\n          return this.attributes.metaData[attr];\n        } else {\n          return this.attributes.metaData;\n        }\n      },\n\n      /**\n       * URL\n       * @return {String} URL\n       * @param {Number} width \n       * @param {Number} heigth \n       * @param {Number} quality 1-100100\n       * @param {Number} scaleToFit true\n       * @param {String} fmt pngjpeg,gif\n       */\n\n      thumbnailURL(\n        width,\n        height,\n        quality = 100,\n        scaleToFit = true,\n        fmt = 'png'\n      ) {\n        const url = this.attributes.url;\n        if (!url) {\n          throw new Error('Invalid url.');\n        }\n        if (!width || !height || width <= 0 || height <= 0) {\n          throw new Error('Invalid width or height value.');\n        }\n        if (quality <= 0 || quality > 100) {\n          throw new Error('Invalid quality value.');\n        }\n        const mode = scaleToFit ? 2 : 1;\n        return (\n          url +\n          '?imageView/' +\n          mode +\n          '/w/' +\n          width +\n          '/h/' +\n          height +\n          '/q/' +\n          quality +\n          '/format/' +\n          fmt\n        );\n      },\n\n      /**\n       * Returns the file's size.\n       * @return {Number} The file's size in bytes.\n       **/\n      size() {\n        return this.metaData().size;\n      },\n\n      /**\n       * Returns the file's owner.\n       * @return {String} The file's owner id.\n       */\n      ownerId() {\n        return this.metaData().owner;\n      },\n\n      /**\n       * Destroy the file.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy(options) {\n        if (!this.id) {\n          return Promise.reject(new Error('The file id does not eixst.'));\n        }\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'DELETE',\n          null,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Request Qiniu upload token\n       * @param {string} type\n       * @return {Promise} Resolved with the response\n       * @private\n       */\n      _fileToken(type, authOptions) {\n        let name = this.attributes.name;\n\n        let extName = extname(name);\n        if (!extName && this._extName) {\n          name += this._extName;\n          extName = this._extName;\n        }\n        // Create 16-bits uuid as qiniu key.\n        const key =\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          extName;\n        const data = {\n          key,\n          name,\n          keep_file_name: authOptions.keepFileName,\n          ACL: this._acl,\n          mime_type: type,\n          metaData: this.attributes.metaData,\n        };\n        this._qiniu_key = key;\n        return AVRequest('fileTokens', null, null, 'POST', data, authOptions);\n      },\n\n      /**\n       * @callback UploadProgressCallback\n       * @param {XMLHttpRequestProgressEvent} event - The progress event with 'loaded' and 'total' attributes\n       */\n      /**\n       * Saves the file to the AV cloud.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {UploadProgressCallback} [options.onprogress]  Node.js  {@link UploadProgressCallback}\n       * @param {boolean} [options.keepFileName = false] \n       * @return {Promise} Promise that is resolved when the save finishes.\n       */\n      save(options = {}) {\n        if (this.id) {\n          throw new Error('File is already saved.');\n        }\n        if (!this._previousSave) {\n          if (this._data) {\n            let mimeType = this.get('mime_type');\n            this._previousSave = this._fileToken(mimeType, options).then(\n              uploadInfo => {\n                if (uploadInfo.mime_type) {\n                  mimeType = uploadInfo.mime_type;\n                  this.set('mime_type', mimeType);\n                }\n                this._token = uploadInfo.token;\n                return Promise.resolve()\n                  .then(() => {\n                    const data = this._data;\n                    if (data && data.base64) {\n                      return parseBase64(data.base64, mimeType);\n                    }\n                    if (data && data.blob) {\n                      if (!data.blob.type && mimeType) {\n                        data.blob.type = mimeType;\n                      }\n                      if (!data.blob.name) {\n                        data.blob.name = this.get('name');\n                      }\n                      return data.blob;\n                    }\n                    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n                      return data;\n                    }\n                    throw new TypeError('malformed file data');\n                  })\n                  .then(data => {\n                    const _options = _.extend({}, options);\n                    // filter out download progress events\n                    if (options.onprogress) {\n                      _options.onprogress = event => {\n                        if (event.direction === 'download') return;\n                        return options.onprogress(event);\n                      };\n                    }\n                    switch (uploadInfo.provider) {\n                      case 's3':\n                        return s3(uploadInfo, data, this, _options);\n                      case 'qcloud':\n                        return cos(uploadInfo, data, this, _options);\n                      case 'qiniu':\n                      default:\n                        return qiniu(uploadInfo, data, this, _options);\n                    }\n                  })\n                  .then(tap(() => this._callback(true)), error => {\n                    this._callback(false);\n                    throw error;\n                  });\n              }\n            );\n          } else if (\n            this.attributes.url &&\n            this.attributes.metaData.__source === 'external'\n          ) {\n            // external link file.\n            const data = {\n              name: this.attributes.name,\n              ACL: this._acl,\n              metaData: this.attributes.metaData,\n              mime_type: this.mimeType,\n              url: this.attributes.url,\n            };\n            this._previousSave = AVRequest(\n              'files',\n              this.attributes.name,\n              null,\n              'post',\n              data,\n              options\n            ).then(response => {\n              this.attributes.name = response.name;\n              this.attributes.url = response.url;\n              this.id = response.objectId;\n              if (response.size) {\n                this.attributes.metaData.size = response.size;\n              }\n              return this;\n            });\n          }\n        }\n        return this._previousSave;\n      },\n\n      _callback(success) {\n        AVRequest('fileCallback', null, null, 'post', {\n          token: this._token,\n          result: success,\n        }).catch(debug);\n        delete this._token;\n        delete this._data;\n      },\n\n      /**\n       * fetch the file from server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch(fetchOptions, options) {\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(this._finishFetch.bind(this));\n      },\n      _finishFetch(response) {\n        var value = AV.Object.prototype.parse(response);\n        value.attributes = {\n          name: value.name,\n          url: value.url,\n          mime_type: value.mime_type,\n          bucket: value.bucket,\n        };\n        value.attributes.metaData = value.metaData || {};\n        value.id = value.objectId;\n        // clean\n        delete value.objectId;\n        delete value.metaData;\n        delete value.url;\n        delete value.name;\n        delete value.mime_type;\n        delete value.bucket;\n        _.extend(this, value);\n        return this;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/file.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('cos');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  const url =\n    uploadInfo.upload_url + '?sign=' + encodeURIComponent(uploadInfo.token);\n  const fileFormData = {\n    field: 'fileContent',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      op: 'upload',\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        const error = new Error(response.status);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/cos.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('leancloud:qiniu');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  // Get the uptoken to upload files to qiniu.\n  const uptoken = uploadInfo.token;\n  const url = uploadInfo.upload_url || 'https://upload.qiniup.com';\n  const fileFormData = {\n    field: 'file',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      name: file.attributes.name,\n      key: uploadInfo.key || file._qiniu_key,\n      token: uptoken,\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        let message = response.status;\n        if (response.data) {\n          if (response.data.error) {\n            message = response.data.error;\n          } else {\n            message = JSON.stringify(response.data);\n          }\n        }\n        const error = new Error(message);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/qiniu.js","const _ = require('underscore');\nconst { ajax } = require('../utils');\n\nmodule.exports = function upload(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n\n\n  return ajax({\n    url: uploadInfo.upload_url,\n    method: 'PUT',\n    data,\n    headers: _.extend(\n      {\n        'Content-Type': file.get('mime_type'),\n        'Cache-Control': 'public, max-age=31536000',\n      },\n      file._uploadHeaders\n    ),\n    onprogress: saveOptions.onprogress,\n  }).then(() => file);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/s3.js","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/md5/md5.js\n// module id = 141\n// module chunks = 0 1","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/crypt/crypt.js\n// module id = 142\n// module chunks = 0 1","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 143\n// module chunks = 0 1","var dataURItoBlob = function(dataURI, type) {\n  var byteString;\n\n  //  base64 dataURL\n  if (dataURI.indexOf('base64') < 0) {\n    byteString = atob(dataURI);\n  } else if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    type =\n      type ||\n      dataURI\n        .split(',')[0]\n        .split(':')[1]\n        .split(';')[0];\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type });\n};\n\nmodule.exports = dataURItoBlob;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parse-base64-browser.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { _request } = require('./request');\nconst {\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n} = require('./utils');\n\nconst recursiveToPointer = value => {\n  if (_.isArray(value)) return value.map(recursiveToPointer);\n  if (isPlainObject(value)) return _.mapObject(value, recursiveToPointer);\n  if (_.isObject(value) && value._toPointer) return value._toPointer();\n  return value;\n};\n\nconst RESERVED_KEYS = ['objectId', 'createdAt', 'updatedAt'];\nconst checkReservedKey = key => {\n  if (RESERVED_KEYS.indexOf(key) !== -1) {\n    throw new Error(`key[${key}] is reserved`);\n  }\n};\n\nconst handleBatchResults = results => {\n  const firstError = _.find(results, result => result instanceof Error);\n  if (!firstError) {\n    return results;\n  }\n  const error = new AVError(firstError.code, firstError.message);\n  error.results = results;\n  throw error;\n};\n\n// Helper function to get a value from a Backbone object as a property\n// or as a function.\nfunction getValue(object, prop) {\n  if (!(object && object[prop])) {\n    return null;\n  }\n  return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n}\n\n// AV.Object is analogous to the Java AVObject.\n// It also implements the same interface as a Backbone model.\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new model with defined attributes. A client id (cid) is\n   * automatically generated and assigned for you.\n   *\n   * <p>You won't normally call this method directly.  It is recommended that\n   * you use a subclass of <code>AV.Object</code> instead, created by calling\n   * <code>extend</code>.</p>\n   *\n   * <p>However, if you don't want to use a subclass, or aren't sure which\n   * subclass is appropriate, you can use this form:<pre>\n   *     var object = new AV.Object(\"ClassName\");\n   * </pre>\n   * That is basically equivalent to:<pre>\n   *     var MyClass = AV.Object.extend(\"ClassName\");\n   *     var object = new MyClass();\n   * </pre></p>\n   *\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @see AV.Object.extend\n   *\n   * @class\n   *\n   * <p>The fundamental unit of AV data, which implements the Backbone Model\n   * interface.</p>\n   */\n  AV.Object = function(attributes, options) {\n    // Allow new AV.Object(\"ClassName\") as a shortcut to _create.\n    if (_.isString(attributes)) {\n      return AV.Object._create.apply(this, arguments);\n    }\n\n    attributes = attributes || {};\n    if (options && options.parse) {\n      attributes = this.parse(attributes);\n      attributes = this._mergeMagicFields(attributes);\n    }\n    var defaults = getValue(this, 'defaults');\n    if (defaults) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n\n    this._serverData = {}; // The last known data for this object from cloud.\n    this._opSetQueue = [{}]; // List of sets of changes to the data.\n    this._flags = {};\n    this.attributes = {}; // The best estimate of this's current data.\n\n    this._hashedJSON = {}; // Hash of values of containers at last save.\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, { silent: true });\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._hasData = true;\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  /**\n   * @lends AV.Object.prototype\n   * @property {String} id The objectId of the AV Object.\n   */\n\n  /**\n   * Saves the given list of AV.Object.\n   * If any error is encountered, stops and calls the error handler.\n   *\n   * @example\n   * AV.Object.saveAll([object1, object2, ...]).then(function(list) {\n   *   // All the objects were saved.\n   * }, function(error) {\n   *   // An error occurred while saving one of the objects.\n   * });\n   *\n   * @param {Array} list A list of <code>AV.Object</code>.\n   */\n  AV.Object.saveAll = function(list, options) {\n    return AV.Object._deepSaveAsync(list, null, options);\n  };\n\n  /**\n   * Fetch the given list of AV.Object.\n   *\n   * @param {AV.Object[]} objects A list of <code>AV.Object</code>\n   * @param {AuthOptions} options\n   * @return {Promise.<AV.Object[]>} The given list of <code>AV.Object</code>, updated\n   */\n\n  AV.Object.fetchAll = (objects, options) =>\n    Promise.resolve()\n      .then(() =>\n        _request(\n          'batch',\n          null,\n          null,\n          'POST',\n          {\n            requests: _.map(objects, object => {\n              if (!object.className)\n                throw new Error('object must have className to fetch');\n              if (!object.id) throw new Error('object must have id to fetch');\n              if (object.dirty())\n                throw new Error('object is modified but not saved');\n              return {\n                method: 'GET',\n                path: `/1.1/classes/${object.className}/${object.id}`,\n              };\n            }),\n          },\n          options\n        )\n      )\n      .then(function(response) {\n        const results = _.map(objects, function(object, i) {\n          if (response[i].success) {\n            const fetchedAttrs = object.parse(response[i].success);\n            object._cleanupUnsetKeys(fetchedAttrs);\n            object._finishFetch(fetchedAttrs);\n            return object;\n          }\n          if (response[i].success === null) {\n            return new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n          return new AVError(response[i].error.code, response[i].error.error);\n        });\n        return handleBatchResults(results);\n      });\n\n  // Attach all inheritable methods to the AV.Object prototype.\n  _.extend(\n    AV.Object.prototype,\n    AV.Events,\n    /** @lends AV.Object.prototype */ {\n      _fetchWhenSave: false,\n\n      /**\n       * Initialize is an empty function by default. Override it with your own\n       * initialization logic.\n       */\n      initialize: function() {},\n\n      /**\n       * Set whether to enable fetchWhenSave option when updating object.\n       * When set true, SDK would fetch the latest object after saving.\n       * Default is false.\n       *\n       * @deprecated use AV.Object#save with options.fetchWhenSave instead\n       * @param {boolean} enable  true to enable fetchWhenSave option.\n       */\n      fetchWhenSave: function(enable) {\n        console.warn(\n          'AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead.'\n        );\n        if (!_.isBoolean(enable)) {\n          throw new Error('Expect boolean value for fetchWhenSave');\n        }\n        this._fetchWhenSave = enable;\n      },\n\n      /**\n       * Returns the object's objectId.\n       * @return {String} the objectId.\n       */\n      getObjectId: function() {\n        return this.id;\n      },\n\n      /**\n       * Returns the object's createdAt attribute.\n       * @return {Date}\n       */\n      getCreatedAt: function() {\n        return this.createdAt;\n      },\n\n      /**\n       * Returns the object's updatedAt attribute.\n       * @return {Date}\n       */\n      getUpdatedAt: function() {\n        return this.updatedAt;\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON: function(key, holder, seenObjects = []) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Returns a JSON version of the object with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      _toFullJSON: function(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        if (_.isArray(seenObjects)) {\n          var newSeenObjects = seenObjects.concat(this);\n        }\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, newSeenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'Object';\n          if (_.isArray(seenObjects) && seenObjects.length)\n            json.__type = 'Pointer';\n          json.className = this.className;\n        }\n        return json;\n      },\n\n      /**\n       * Updates _hashedJSON to reflect the current state of this object.\n       * Adds any changed hash values to the set of pending changes.\n       * @private\n       */\n      _refreshCache: function() {\n        var self = this;\n        if (self._refreshingCache) {\n          return;\n        }\n        self._refreshingCache = true;\n        AV._objectEach(this.attributes, function(value, key) {\n          if (value instanceof AV.Object) {\n            value._refreshCache();\n          } else if (_.isObject(value)) {\n            if (self._resetCacheForKey(key)) {\n              self.set(key, new AV.Op.Set(value), { silent: true });\n            }\n          }\n        });\n        delete self._refreshingCache;\n      },\n\n      /**\n       * Returns true if this object has been modified since its last\n       * save/refresh.  If an attribute is specified, it returns true only if that\n       * particular attribute has been modified since the last save/refresh.\n       * @param {String} attr An attribute name (optional).\n       * @return {Boolean}\n       */\n      dirty: function(attr) {\n        this._refreshCache();\n\n        var currentChanges = _.last(this._opSetQueue);\n\n        if (attr) {\n          return currentChanges[attr] ? true : false;\n        }\n        if (!this.id) {\n          return true;\n        }\n        if (_.keys(currentChanges).length > 0) {\n          return true;\n        }\n        return false;\n      },\n\n      /**\n       * Returns the keys of the modified attribute since its last save/refresh.\n       * @return {String[]}\n       */\n      dirtyKeys: function() {\n        this._refreshCache();\n        var currentChanges = _.last(this._opSetQueue);\n        return _.keys(currentChanges);\n      },\n\n      /**\n       * Gets a Pointer referencing this Object.\n       * @private\n       */\n      _toPointer: function() {\n        // if (!this.id) {\n        //   throw new Error(\"Can't serialize an unsaved AV.Object\");\n        // }\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Gets the value of an attribute.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        switch (attr) {\n          case 'objectId':\n            return this.id;\n          case 'createdAt':\n          case 'updatedAt':\n            return this[attr];\n          default:\n            return this.attributes[attr];\n        }\n      },\n\n      /**\n       * Gets a relation on the given class for the attribute.\n       * @param {String} attr The attribute to get the relation for.\n       * @return {AV.Relation}\n       */\n      relation: function(attr) {\n        var value = this.get(attr);\n        if (value) {\n          if (!(value instanceof AV.Relation)) {\n            throw new Error('Called relation() on non-relation field ' + attr);\n          }\n          value._ensureParentAndKey(this, attr);\n          return value;\n        } else {\n          return new AV.Relation(this, attr);\n        }\n      },\n\n      /**\n       * Gets the HTML-escaped value of an attribute.\n       */\n      escape: function(attr) {\n        var html = this._escapedAttributes[attr];\n        if (html) {\n          return html;\n        }\n        var val = this.attributes[attr];\n        var escaped;\n        if (isNullOrUndefined(val)) {\n          escaped = '';\n        } else {\n          escaped = _.escape(val.toString());\n        }\n        this._escapedAttributes[attr] = escaped;\n        return escaped;\n      },\n\n      /**\n       * Returns <code>true</code> if the attribute contains a value that is not\n       * null or undefined.\n       * @param {String} attr The string name of the attribute.\n       * @return {Boolean}\n       */\n      has: function(attr) {\n        return !isNullOrUndefined(this.attributes[attr]);\n      },\n\n      /**\n       * Pulls \"special\" fields like objectId, createdAt, etc. out of attrs\n       * and puts them on \"this\" directly.  Removes them from attrs.\n       * @param attrs - A dictionary with the data for this AV.Object.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        // Check for changes of magic fields.\n        var model = this;\n        var specialFields = ['objectId', 'createdAt', 'updatedAt'];\n        AV._arrayEach(specialFields, function(attr) {\n          if (attrs[attr]) {\n            if (attr === 'objectId') {\n              model.id = attrs[attr];\n            } else if (\n              (attr === 'createdAt' || attr === 'updatedAt') &&\n              !_.isDate(attrs[attr])\n            ) {\n              model[attr] = AV._parseDate(attrs[attr]);\n            } else {\n              model[attr] = attrs[attr];\n            }\n            delete attrs[attr];\n          }\n        });\n        return attrs;\n      },\n\n      /**\n       * Returns the json to be sent to the server.\n       * @private\n       */\n      _startSave: function() {\n        this._opSetQueue.push({});\n      },\n\n      /**\n       * Called when a save fails because of an error. Any changes that were part\n       * of the save need to be merged with changes made after the save. This\n       * might throw an exception is you do conflicting operations. For example,\n       * if you do:\n       *   object.set(\"foo\", \"bar\");\n       *   object.set(\"invalid field name\", \"baz\");\n       *   object.save();\n       *   object.increment(\"foo\");\n       * then this will throw when the save fails and the client tries to merge\n       * \"bar\" with the +1.\n       * @private\n       */\n      _cancelSave: function() {\n        var failedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        var nextChanges = _.first(this._opSetQueue);\n        AV._objectEach(failedChanges, function(op, key) {\n          var op1 = failedChanges[key];\n          var op2 = nextChanges[key];\n          if (op1 && op2) {\n            nextChanges[key] = op2._mergeWithPrevious(op1);\n          } else if (op1) {\n            nextChanges[key] = op1;\n          }\n        });\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a save completes successfully. This merges the changes that\n       * were saved into the known server data, and overrides it with any data\n       * sent directly from the server.\n       * @private\n       */\n      _finishSave: function(serverData) {\n        // Grab a copy of any object referenced by this object. These instances\n        // may have already been fetched, and we don't want to lose their data.\n        // Note that doing it like this means we will unify separate copies of the\n        // same object, but that's a risk we have to take.\n        var fetchedObjects = {};\n        AV._traverse(this.attributes, function(object) {\n          if (object instanceof AV.Object && object.id && object._hasData) {\n            fetchedObjects[object.id] = object;\n          }\n        });\n\n        var savedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        this._applyOpSet(savedChanges, this._serverData);\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n\n          // Look for any objects that might have become unfetched and fix them\n          // by replacing their values with the previously observed values.\n          var fetched = AV._traverse(self._serverData[key], function(object) {\n            if (object instanceof AV.Object && fetchedObjects[object.id]) {\n              return fetchedObjects[object.id];\n            }\n          });\n          if (fetched) {\n            self._serverData[key] = fetched;\n          }\n        });\n        this._rebuildAllEstimatedData();\n        const opSetQueue = this._opSetQueue.map(_.clone);\n        this._refreshCache();\n        this._opSetQueue = opSetQueue;\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a fetch or login is complete to set the known server data to\n       * the given object.\n       * @private\n       */\n      _finishFetch: function(serverData, hasData) {\n        // Clear out any changes the user might have made previously.\n        this._opSetQueue = [{}];\n\n        // Bring in all the new server data.\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n        });\n\n        // Refresh the attributes.\n        this._rebuildAllEstimatedData();\n\n        // Clear out the cache of mutable containers.\n        this._refreshCache();\n        this._opSetQueue = [{}];\n\n        this._hasData = hasData;\n      },\n\n      /**\n       * Applies the set of AV.Op in opSet to the object target.\n       * @private\n       */\n      _applyOpSet: function(opSet, target) {\n        var self = this;\n        AV._objectEach(opSet, function(change, key) {\n          const [value, actualTarget, actualKey] = findValue(target, key);\n          setValue(target, key, change._estimate(value, self, key));\n          if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n            delete actualTarget[actualKey];\n          }\n        });\n      },\n\n      /**\n       * Replaces the cached value for key with the current value.\n       * Returns true if the new value is different than the old value.\n       * @private\n       */\n      _resetCacheForKey: function(key) {\n        var value = this.attributes[key];\n        if (\n          _.isObject(value) &&\n          !(value instanceof AV.Object) &&\n          !(value instanceof AV.File)\n        ) {\n          var json = JSON.stringify(recursiveToPointer(value));\n          if (this._hashedJSON[key] !== json) {\n            var wasSet = !!this._hashedJSON[key];\n            this._hashedJSON[key] = json;\n            return wasSet;\n          }\n        }\n        return false;\n      },\n\n      /**\n       * Populates attributes[key] by starting with the last known data from the\n       * server, and applying all of the local changes that have been made to that\n       * key since then.\n       * @private\n       */\n      _rebuildEstimatedDataForKey: function(key) {\n        var self = this;\n        delete this.attributes[key];\n        if (this._serverData[key]) {\n          this.attributes[key] = this._serverData[key];\n        }\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          var op = opSet[key];\n          if (op) {\n            const [value, actualTarget, actualKey, firstKey] = findValue(\n              self.attributes,\n              key\n            );\n            setValue(self.attributes, key, op._estimate(value, self, key));\n            if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n              delete actualTarget[actualKey];\n            }\n            self._resetCacheForKey(firstKey);\n          }\n        });\n      },\n\n      /**\n       * Populates attributes by starting with the last known data from the\n       * server, and applying all of the local changes that have been made since\n       * then.\n       * @private\n       */\n      _rebuildAllEstimatedData: function() {\n        var self = this;\n\n        var previousAttributes = _.clone(this.attributes);\n\n        this.attributes = _.clone(this._serverData);\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          self._applyOpSet(opSet, self.attributes);\n          AV._objectEach(opSet, function(op, key) {\n            self._resetCacheForKey(key);\n          });\n        });\n\n        // Trigger change events for anything that changed because of the fetch.\n        AV._objectEach(previousAttributes, function(oldValue, key) {\n          if (self.attributes[key] !== oldValue) {\n            self.trigger('change:' + key, self, self.attributes[key], {});\n          }\n        });\n        AV._objectEach(this.attributes, function(newValue, key) {\n          if (!_.has(previousAttributes, key)) {\n            self.trigger('change:' + key, self, newValue, {});\n          }\n        });\n      },\n\n      /**\n       * Sets a hash of model attributes on the object, firing\n       * <code>\"change\"</code> unless you choose to silence it.\n       *\n       * <p>You can call it with an object containing keys and values, or with one\n       * key and value.  For example:</p>\n       *\n       * @example\n       * gameTurn.set({\n       *   player: player1,\n       *   diceRoll: 2\n       * });\n       *\n       * game.set(\"currentPlayer\", player2);\n       *\n       * game.set(\"finished\", true);\n       *\n       * @param {String} key The key to set.\n       * @param {Any} value The value to give it.\n       * @param {Object} [options]\n       * @param {Boolean} [options.silent]\n       * @return {AV.Object} self if succeeded, throws if the value is not valid.\n       * @see AV.Object#validate\n       */\n      set: function(key, value, options) {\n        var attrs;\n        if (_.isObject(key) || isNullOrUndefined(key)) {\n          attrs = _.mapObject(key, function(v, k) {\n            checkReservedKey(k);\n            return AV._decode(v, k);\n          });\n          options = value;\n        } else {\n          attrs = {};\n          checkReservedKey(key);\n          attrs[key] = AV._decode(value, key);\n        }\n\n        // Extract attributes and options.\n        options = options || {};\n        if (!attrs) {\n          return this;\n        }\n        if (attrs instanceof AV.Object) {\n          attrs = attrs.attributes;\n        }\n\n        // If the unset option is used, every attribute should be a Unset.\n        if (options.unset) {\n          AV._objectEach(attrs, function(unused_value, key) {\n            attrs[key] = new AV.Op.Unset();\n          });\n        }\n\n        // Apply all the attributes to get the estimated values.\n        var dataToValidate = _.clone(attrs);\n        var self = this;\n        AV._objectEach(dataToValidate, function(value, key) {\n          if (value instanceof AV.Op) {\n            dataToValidate[key] = value._estimate(\n              self.attributes[key],\n              self,\n              key\n            );\n            if (dataToValidate[key] === AV.Op._UNSET) {\n              delete dataToValidate[key];\n            }\n          }\n        });\n\n        // Run validation.\n        this._validate(attrs, options);\n\n        options.changes = {};\n        var escaped = this._escapedAttributes;\n\n        // Update attributes.\n        AV._arrayEach(_.keys(attrs), function(attr) {\n          var val = attrs[attr];\n\n          // If this is a relation object we need to set the parent correctly,\n          // since the location where it was parsed does not have access to\n          // this object.\n          if (val instanceof AV.Relation) {\n            val.parent = self;\n          }\n\n          if (!(val instanceof AV.Op)) {\n            val = new AV.Op.Set(val);\n          }\n\n          // See if this change will actually have any effect.\n          var isRealChange = true;\n          if (\n            val instanceof AV.Op.Set &&\n            _.isEqual(self.attributes[attr], val.value)\n          ) {\n            isRealChange = false;\n          }\n\n          if (isRealChange) {\n            delete escaped[attr];\n            if (options.silent) {\n              self._silent[attr] = true;\n            } else {\n              options.changes[attr] = true;\n            }\n          }\n\n          var currentChanges = _.last(self._opSetQueue);\n          currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);\n          self._rebuildEstimatedDataForKey(attr);\n\n          if (isRealChange) {\n            self.changed[attr] = self.attributes[attr];\n            if (!options.silent) {\n              self._pending[attr] = true;\n            }\n          } else {\n            delete self.changed[attr];\n            delete self._pending[attr];\n          }\n        });\n\n        if (!options.silent) {\n          this.change(options);\n        }\n        return this;\n      },\n\n      /**\n       * Remove an attribute from the model, firing <code>\"change\"</code> unless\n       * you choose to silence it. This is a noop if the attribute doesn't\n       * exist.\n       * @param key {String} The key.\n       */\n      unset: function(attr, options) {\n        options = options || {};\n        options.unset = true;\n        return this.set(attr, null, options);\n      },\n\n      /**\n       * Atomically increments the value of the given attribute the next time the\n       * object is saved. If no amount is specified, 1 is used by default.\n       *\n       * @param key {String} The key.\n       * @param amount {Number} The amount to increment by.\n       */\n      increment: function(attr, amount) {\n        if (_.isUndefined(amount) || _.isNull(amount)) {\n          amount = 1;\n        }\n        return this.set(attr, new AV.Op.Increment(amount));\n      },\n\n      /**\n       * Atomically add an object to the end of the array associated with a given\n       * key.\n       * @param key {String} The key.\n       * @param item {} The item to add.\n       */\n      add: function(attr, item) {\n        return this.set(attr, new AV.Op.Add(ensureArray(item)));\n      },\n\n      /**\n       * Atomically add an object to the array associated with a given key, only\n       * if it is not already present in the array. The position of the insert is\n       * not guaranteed.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to add.\n       */\n      addUnique: function(attr, item) {\n        return this.set(attr, new AV.Op.AddUnique(ensureArray(item)));\n      },\n\n      /**\n       * Atomically remove all instances of an object from the array associated\n       * with a given key.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to remove.\n       */\n      remove: function(attr, item) {\n        return this.set(attr, new AV.Op.Remove(ensureArray(item)));\n      },\n\n      /**\n       * Atomically apply a \"bit and\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitAnd(attr, value) {\n        return this.set(attr, new AV.Op.BitAnd(value));\n      },\n\n      /**\n       * Atomically apply a \"bit or\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitOr(attr, value) {\n        return this.set(attr, new AV.Op.BitOr(value));\n      },\n\n      /**\n       * Atomically apply a \"bit xor\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitXor(attr, value) {\n        return this.set(attr, new AV.Op.BitXor(value));\n      },\n\n      /**\n       * Returns an instance of a subclass of AV.Op describing what kind of\n       * modification has been performed on this field since the last time it was\n       * saved. For example, after calling object.increment(\"x\"), calling\n       * object.op(\"x\") would return an instance of AV.Op.Increment.\n       *\n       * @param key {String} The key.\n       * @returns {AV.Op} The operation, or undefined if none.\n       */\n      op: function(attr) {\n        return _.last(this._opSetQueue)[attr];\n      },\n\n      /**\n       * Clear all attributes on the model, firing <code>\"change\"</code> unless\n       * you choose to silence it.\n       */\n      clear: function(options) {\n        options = options || {};\n        options.unset = true;\n        var keysToClear = _.extend(this.attributes, this._operations);\n        return this.set(keysToClear, options);\n      },\n\n      /**\n       * Clears any (or specific) changes to the model made since the last save.\n       * @param {string|string[]} [keys] specify keys to revert.\n       */\n      revert(keys) {\n        const lastOp = _.last(this._opSetQueue);\n        const _keys = ensureArray(keys || _.keys(lastOp));\n        _keys.forEach(key => {\n          delete lastOp[key];\n        });\n        this._rebuildAllEstimatedData();\n        return this;\n      },\n\n      /**\n       * Returns a JSON-encoded set of operations to be sent with the next save\n       * request.\n       * @private\n       */\n      _getSaveJSON: function() {\n        var json = _.clone(_.first(this._opSetQueue));\n        AV._objectEach(json, function(op, key) {\n          json[key] = op.toJSON();\n        });\n        return json;\n      },\n\n      /**\n       * Returns true if this object can be serialized for saving.\n       * @private\n       */\n      _canBeSerialized: function() {\n        return AV.Object._canBeSerializedAsValue(this.attributes);\n      },\n\n      /**\n       * Fetch the model from the server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * triggering a <code>\"change\"</code> event.\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch: function(fetchOptions = {}, options) {\n        var self = this;\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(function(response) {\n          const fetchedAttrs = self.parse(response);\n          self._cleanupUnsetKeys(\n            fetchedAttrs,\n            fetchOptions.keys\n              ? ensureArray(fetchOptions.keys)\n                  .join(',')\n                  .split(',')\n              : undefined\n          );\n          self._finishFetch(fetchedAttrs, true);\n          return self;\n        });\n      },\n\n      _cleanupUnsetKeys(fetchedAttrs, fetchedKeys = _.keys(this._serverData)) {\n        _.forEach(fetchedKeys, key => {\n          if (fetchedAttrs[key] === undefined) delete this._serverData[key];\n        });\n      },\n\n      /**\n       * Set a hash of model attributes, and save the model to the server.\n       * updatedAt will be updated when the request returns.\n       * You can either call it as:<pre>\n       *   object.save();</pre>\n       * or<pre>\n       *   object.save(null, options);</pre>\n       * or<pre>\n       *   object.save(attrs, options);</pre>\n       * or<pre>\n       *   object.save(key, value, options);</pre>\n       *\n       * @example\n       * gameTurn.save({\n       *   player: \"Jake Cutter\",\n       *   diceRoll: 2\n       * }).then(function(gameTurnAgain) {\n       *   // The save was successful.\n       * }, function(error) {\n       *   // The save failed.  Error is an instance of AVError.\n       * });\n       *\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} options.fetchWhenSave fetch and update object after save succeeded\n       * @param {AV.Query} options.query Save object only when it matches the query\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       * @see AVError\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, current, options;\n        if (_.isObject(arg1) || isNullOrUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n\n        options = _.clone(options) || {};\n        if (options.wait) {\n          current = _.clone(this.attributes);\n        }\n\n        var setOptions = _.clone(options) || {};\n        if (setOptions.wait) {\n          setOptions.silent = true;\n        }\n        if (attrs) {\n          this.set(attrs, setOptions);\n        }\n\n        var model = this;\n\n        var unsavedChildren = [];\n        var unsavedFiles = [];\n        AV.Object._findUnsavedChildren(model, unsavedChildren, unsavedFiles);\n        if (unsavedChildren.length + unsavedFiles.length > 1) {\n          return AV.Object._deepSaveAsync(this, model, options);\n        }\n\n        this._startSave();\n        this._saving = (this._saving || 0) + 1;\n\n        this._allPreviousSaves = this._allPreviousSaves || Promise.resolve();\n        this._allPreviousSaves = this._allPreviousSaves\n          .catch(e => {})\n          .then(function() {\n            var method = model.id ? 'PUT' : 'POST';\n\n            var json = model._getSaveJSON();\n            var query = {};\n\n            if (model._fetchWhenSave || options.fetchWhenSave) {\n              query['new'] = 'true';\n            }\n            // user login option\n            if (options._failOnNotExist) {\n              query.failOnNotExist = 'true';\n            }\n\n            if (options.query) {\n              var queryParams;\n              if (typeof options.query._getParams === 'function') {\n                queryParams = options.query._getParams();\n                if (queryParams) {\n                  query.where = queryParams.where;\n                }\n              }\n              if (!query.where) {\n                var error = new Error('options.query is not an AV.Query');\n                throw error;\n              }\n            }\n\n            _.extend(json, model._flags);\n\n            var route = 'classes';\n            var className = model.className;\n            if (model.className === '_User' && !model.id) {\n              // Special-case user sign-up.\n              route = 'users';\n              className = null;\n            }\n            //hook makeRequest in options.\n            var makeRequest = options._makeRequest || _request;\n            var requestPromise = makeRequest(\n              route,\n              className,\n              model.id,\n              method,\n              json,\n              options,\n              query\n            );\n\n            requestPromise = requestPromise.then(\n              function(resp) {\n                var serverAttrs = model.parse(resp);\n                if (options.wait) {\n                  serverAttrs = _.extend(attrs || {}, serverAttrs);\n                }\n                model._finishSave(serverAttrs);\n                if (options.wait) {\n                  model.set(current, setOptions);\n                }\n                return model;\n              },\n              function(error) {\n                model._cancelSave();\n                throw error;\n              }\n            );\n\n            return requestPromise;\n          });\n        return this._allPreviousSaves;\n      },\n\n      /**\n       * Destroy this model on the server if it was already persisted.\n       * Optimistically removes the model from its collection, if it has one.\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} [options.wait] wait for the server to respond\n       * before removal.\n       *\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        options = options || {};\n        var model = this;\n\n        var triggerDestroy = function() {\n          model.trigger('destroy', model, model.collection, options);\n        };\n\n        if (!this.id) {\n          return triggerDestroy();\n        }\n\n        if (!options.wait) {\n          triggerDestroy();\n        }\n\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'DELETE',\n          this._flags,\n          options\n        );\n        return request.then(function() {\n          if (options.wait) {\n            triggerDestroy();\n          }\n          return model;\n        });\n      },\n\n      /**\n       * Converts a response into the hash of attributes to be set on the model.\n       * @ignore\n       */\n      parse: function(resp) {\n        var output = _.clone(resp);\n        _(['createdAt', 'updatedAt']).each(function(key) {\n          if (output[key]) {\n            output[key] = AV._parseDate(output[key]);\n          }\n        });\n        if (output.createdAt && !output.updatedAt) {\n          output.updatedAt = output.createdAt;\n        }\n        return output;\n      },\n\n      /**\n       * Creates a new model with identical attributes to this one.\n       * @return {AV.Object}\n       */\n      clone: function() {\n        return new this.constructor(this.attributes);\n      },\n\n      /**\n       * Returns true if this object has never been saved to AV.\n       * @return {Boolean}\n       */\n      isNew: function() {\n        return !this.id;\n      },\n\n      /**\n       * Call this method to manually fire a `\"change\"` event for this model and\n       * a `\"change:attribute\"` event for each changed attribute.\n       * Calling this will cause all objects observing the model to update.\n       */\n      change: function(options) {\n        options = options || {};\n        var changing = this._changing;\n        this._changing = true;\n\n        // Silent changes become pending changes.\n        var self = this;\n        AV._objectEach(this._silent, function(attr) {\n          self._pending[attr] = true;\n        });\n\n        // Silent changes are triggered.\n        var changes = _.extend({}, options.changes, this._silent);\n        this._silent = {};\n        AV._objectEach(changes, function(unused_value, attr) {\n          self.trigger('change:' + attr, self, self.get(attr), options);\n        });\n        if (changing) {\n          return this;\n        }\n\n        // This is to get around lint not letting us make a function in a loop.\n        var deleteChanged = function(value, attr) {\n          if (!self._pending[attr] && !self._silent[attr]) {\n            delete self.changed[attr];\n          }\n        };\n\n        // Continue firing `\"change\"` events while there are pending changes.\n        while (!_.isEmpty(this._pending)) {\n          this._pending = {};\n          this.trigger('change', this, options);\n          // Pending and silent changes still remain.\n          AV._objectEach(this.changed, deleteChanged);\n          self._previousAttributes = _.clone(this.attributes);\n        }\n\n        this._changing = false;\n        return this;\n      },\n\n      /**\n       * Gets the previous value of an attribute, recorded at the time the last\n       * <code>\"change\"</code> event was fired.\n       * @param {String} attr Name of the attribute to get.\n       */\n      previous: function(attr) {\n        if (!arguments.length || !this._previousAttributes) {\n          return null;\n        }\n        return this._previousAttributes[attr];\n      },\n\n      /**\n       * Gets all of the attributes of the model at the time of the previous\n       * <code>\"change\"</code> event.\n       * @return {Object}\n       */\n      previousAttributes: function() {\n        return _.clone(this._previousAttributes);\n      },\n\n      /**\n       * Checks if the model is currently in a valid state. It's only possible to\n       * get into an *invalid* state if you're using silent changes.\n       * @return {Boolean}\n       */\n      isValid: function() {\n        try {\n          this.validate(this.attributes);\n        } catch (error) {\n          return false;\n        }\n        return true;\n      },\n\n      /**\n       * You should not call this function directly unless you subclass\n       * <code>AV.Object</code>, in which case you can override this method\n       * to provide additional validation on <code>set</code> and\n       * <code>save</code>.  Your implementation should throw an Error if\n       * the attrs is invalid\n       *\n       * @param {Object} attrs The current data to validate.\n       * @see AV.Object#set\n       */\n      validate: function(attrs) {\n        if (_.has(attrs, 'ACL') && !(attrs.ACL instanceof AV.ACL)) {\n          throw new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n      },\n\n      /**\n       * Run validation against a set of incoming attributes, returning `true`\n       * if all is well. If a specific `error` callback has been passed,\n       * call that instead of firing the general `\"error\"` event.\n       * @private\n       */\n      _validate: function(attrs, options) {\n        if (options.silent || !this.validate) {\n          return;\n        }\n        attrs = _.extend({}, this.attributes, attrs);\n        this.validate(attrs);\n      },\n\n      /**\n       * Returns the ACL for this object.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       * @see AV.Object#get\n       */\n      getACL: function() {\n        return this.get('ACL');\n      },\n\n      /**\n       * Sets the ACL to be used for this object.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       * @param {Object} options Optional Backbone-like options object to be\n       *     passed in to set.\n       * @return {AV.Object} self\n       * @see AV.Object#set\n       */\n      setACL: function(acl, options) {\n        return this.set('ACL', acl, options);\n      },\n\n      disableBeforeHook: function() {\n        this.ignoreHook('beforeSave');\n        this.ignoreHook('beforeUpdate');\n        this.ignoreHook('beforeDelete');\n      },\n\n      disableAfterHook: function() {\n        this.ignoreHook('afterSave');\n        this.ignoreHook('afterUpdate');\n        this.ignoreHook('afterDelete');\n      },\n\n      ignoreHook: function(hookName) {\n        if (\n          !_.contains(\n            [\n              'beforeSave',\n              'afterSave',\n              'beforeUpdate',\n              'afterUpdate',\n              'beforeDelete',\n              'afterDelete',\n            ],\n            hookName\n          )\n        ) {\n          throw new Error('Unsupported hookName: ' + hookName);\n        }\n\n        if (!AV.hookKey) {\n          throw new Error('ignoreHook required hookKey');\n        }\n\n        if (!this._flags.__ignore_hooks) {\n          this._flags.__ignore_hooks = [];\n        }\n\n        this._flags.__ignore_hooks.push(hookName);\n      },\n    }\n  );\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the give classname\n   * and id.\n   * @param  {String|Function} class the className or a subclass of AV.Object.\n   * @param {String} id The object id of this model.\n   * @return {AV.Object} A new subclass instance of AV.Object.\n   */\n  AV.Object.createWithoutData = (klass, id, hasData) => {\n    let _klass;\n    if (_.isString(klass)) {\n      _klass = AV.Object._getSubclass(klass);\n    } else if (klass.prototype && klass.prototype instanceof AV.Object) {\n      _klass = klass;\n    } else {\n      throw new Error('class must be a string or a subclass of AV.Object.');\n    }\n    const object = new _klass();\n    object.id = id;\n    object._hasData = hasData;\n    return object;\n  };\n  /**\n   * Delete objects in batch.\n   * @param {AV.Object[]} objects The <code>AV.Object</code> array to be deleted.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the save\n   *     completes.\n   */\n  AV.Object.destroyAll = function(objects, options = {}) {\n    if (!objects || objects.length === 0) {\n      return Promise.resolve();\n    }\n    const objectsByClassNameAndFlags = _.groupBy(objects, object =>\n      JSON.stringify({\n        className: object.className,\n        flags: object._flags,\n      })\n    );\n    const body = {\n      requests: _.map(objectsByClassNameAndFlags, objects => {\n        const ids = _.map(objects, 'id').join(',');\n        return {\n          method: 'DELETE',\n          path: `/1.1/classes/${objects[0].className}/${ids}`,\n          body: objects[0]._flags,\n        };\n      }),\n    };\n    return _request('batch', null, null, 'POST', body, options).then(\n      response => {\n        const firstError = _.find(response, result => !result.success);\n        if (firstError)\n          throw new AVError(firstError.error.code, firstError.error.error);\n        return undefined;\n      }\n    );\n  };\n\n  /**\n   * Returns the appropriate subclass for making new instances of the given\n   * className string.\n   * @private\n   */\n  AV.Object._getSubclass = function(className) {\n    if (!_.isString(className)) {\n      throw new Error('AV.Object._getSubclass requires a string argument.');\n    }\n    var ObjectClass = AV.Object._classMap[className];\n    if (!ObjectClass) {\n      ObjectClass = AV.Object.extend(className);\n      AV.Object._classMap[className] = ObjectClass;\n    }\n    return ObjectClass;\n  };\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the given classname.\n   * @private\n   */\n  AV.Object._create = function(className, attributes, options) {\n    var ObjectClass = AV.Object._getSubclass(className);\n    return new ObjectClass(attributes, options);\n  };\n\n  // Set up a map of className to class so that we can create new instances of\n  // AV Objects from JSON automatically.\n  AV.Object._classMap = {};\n\n  AV.Object._extend = AV._extend;\n\n  /**\n   * Creates a new model with defined attributes,\n   * It's the same with\n   * <pre>\n   *   new AV.Object(attributes, options);\n   *  </pre>\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @return {AV.Object}\n   * @since v0.4.4\n   * @see AV.Object\n   * @see AV.Object.extend\n   */\n  AV.Object['new'] = function(attributes, options) {\n    return new AV.Object(attributes, options);\n  };\n\n  /**\n   * Creates a new subclass of AV.Object for the given AV class name.\n   *\n   * <p>Every extension of a AV class will inherit from the most recent\n   * previous extension of that class. When a AV.Object is automatically\n   * created by parsing JSON, it will use the most recent extension of that\n   * class.</p>\n   *\n   * @example\n   * var MyClass = AV.Object.extend(\"MyClass\", {\n   *     // Instance properties\n   * }, {\n   *     // Class properties\n   * });\n   *\n   * @param {String} className The name of the AV class backing this model.\n   * @param {Object} protoProps Instance properties to add to instances of the\n   *     class returned from this method.\n   * @param {Object} classProps Class properties to add the class returned from\n   *     this method.\n   * @return {Class} A new subclass of AV.Object.\n   */\n  AV.Object.extend = function(className, protoProps, classProps) {\n    // Handle the case with only two args.\n    if (!_.isString(className)) {\n      if (className && _.has(className, 'className')) {\n        return AV.Object.extend(className.className, className, protoProps);\n      } else {\n        throw new Error(\n          \"AV.Object.extend's first argument should be the className.\"\n        );\n      }\n    }\n\n    // If someone tries to subclass \"User\", coerce it to the right type.\n    if (className === 'User') {\n      className = '_User';\n    }\n\n    var NewClassObject = null;\n    if (_.has(AV.Object._classMap, className)) {\n      var OldClassObject = AV.Object._classMap[className];\n      // This new subclass has been told to extend both from \"this\" and from\n      // OldClassObject. This is multiple inheritance, which isn't supported.\n      // For now, let's just pick one.\n      if (protoProps || classProps) {\n        NewClassObject = OldClassObject._extend(protoProps, classProps);\n      } else {\n        return OldClassObject;\n      }\n    } else {\n      protoProps = protoProps || {};\n      protoProps._className = className;\n      NewClassObject = this._extend(protoProps, classProps);\n    }\n    // Extending a subclass should reuse the classname automatically.\n    NewClassObject.extend = function(arg0) {\n      if (_.isString(arg0) || (arg0 && _.has(arg0, 'className'))) {\n        return AV.Object.extend.apply(NewClassObject, arguments);\n      }\n      var newArguments = [className].concat(_.toArray(arguments));\n      return AV.Object.extend.apply(NewClassObject, newArguments);\n    };\n    // Add the query property descriptor.\n    Object.defineProperty(\n      NewClassObject,\n      'query',\n      Object.getOwnPropertyDescriptor(AV.Object, 'query')\n    );\n    NewClassObject['new'] = function(attributes, options) {\n      return new NewClassObject(attributes, options);\n    };\n    AV.Object._classMap[className] = NewClassObject;\n    return NewClassObject;\n  };\n\n  // ES6 class syntax support\n  Object.defineProperty(AV.Object.prototype, 'className', {\n    get: function() {\n      const className =\n        this._className ||\n        this.constructor._LCClassName ||\n        this.constructor.name;\n      // If someone tries to subclass \"User\", coerce it to the right type.\n      if (className === 'User') {\n        return '_User';\n      }\n      return className;\n    },\n  });\n\n  /**\n   * Register a class.\n   * If a subclass of <code>AV.Object</code> is defined with your own implement\n   * rather then <code>AV.Object.extend</code>, the subclass must be registered.\n   * @param {Function} klass A subclass of <code>AV.Object</code>\n   * @param {String} [name] Specify the name of the class. Useful when the class might be uglified.\n   * @example\n   * class Person extend AV.Object {}\n   * AV.Object.register(Person);\n   */\n  AV.Object.register = (klass, name) => {\n    if (!(klass.prototype instanceof AV.Object)) {\n      throw new Error('registered class is not a subclass of AV.Object');\n    }\n    const className = name || klass.name;\n    if (!className.length) {\n      throw new Error('registered class must be named');\n    }\n    if (name) {\n      klass._LCClassName = name;\n    }\n    AV.Object._classMap[className] = klass;\n  };\n\n  /**\n   * Get a new Query of the current class\n   * @name query\n   * @memberof AV.Object\n   * @type AV.Query\n   * @readonly\n   * @since v3.1.0\n   * @example\n   * const Post = AV.Object.extend('Post');\n   * Post.query.equalTo('author', 'leancloud').find().then();\n   */\n  Object.defineProperty(AV.Object, 'query', {\n    get() {\n      return new AV.Query(this.prototype.className);\n    },\n  });\n\n  AV.Object._findUnsavedChildren = function(objects, children, files) {\n    AV._traverse(objects, function(object) {\n      if (object instanceof AV.Object) {\n        if (object.dirty()) {\n          children.push(object);\n        }\n        return;\n      }\n\n      if (object instanceof AV.File) {\n        if (!object.id) {\n          files.push(object);\n        }\n        return;\n      }\n    });\n  };\n\n  AV.Object._canBeSerializedAsValue = function(object) {\n    var canBeSerializedAsValue = true;\n\n    if (object instanceof AV.Object || object instanceof AV.File) {\n      canBeSerializedAsValue = !!object.id;\n    } else if (_.isArray(object)) {\n      AV._arrayEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    } else if (_.isObject(object)) {\n      AV._objectEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    }\n\n    return canBeSerializedAsValue;\n  };\n\n  AV.Object._deepSaveAsync = function(object, model, options) {\n    var unsavedChildren = [];\n    var unsavedFiles = [];\n    AV.Object._findUnsavedChildren(object, unsavedChildren, unsavedFiles);\n\n    var promise = Promise.resolve();\n    _.each(unsavedFiles, function(file) {\n      promise = promise.then(function() {\n        return file.save();\n      });\n    });\n\n    var objects = _.uniq(unsavedChildren);\n    var remaining = _.uniq(objects);\n\n    return promise\n      .then(function() {\n        return continueWhile(\n          function() {\n            return remaining.length > 0;\n          },\n          function() {\n            // Gather up all the objects that can be saved in this batch.\n            var batch = [];\n            var newRemaining = [];\n            AV._arrayEach(remaining, function(object) {\n              // Limit batches to 20 objects.\n              if (batch.length > 20) {\n                newRemaining.push(object);\n                return;\n              }\n\n              if (object._canBeSerialized()) {\n                batch.push(object);\n              } else {\n                newRemaining.push(object);\n              }\n            });\n            remaining = newRemaining;\n\n            // If we can't save any objects, there must be a circular reference.\n            if (batch.length === 0) {\n              return Promise.reject(\n                new AVError(\n                  AVError.OTHER_CAUSE,\n                  'Tried to save a batch with a cycle.'\n                )\n              );\n            }\n\n            // Reserve a spot in every object's save queue.\n            var readyToStart = Promise.resolve(\n              _.map(batch, function(object) {\n                return object._allPreviousSaves || Promise.resolve();\n              })\n            );\n\n            // Save a single batch, whether previous saves succeeded or failed.\n            const bathSavePromise = readyToStart.then(() =>\n              _request(\n                'batch',\n                null,\n                null,\n                'POST',\n                {\n                  requests: _.map(batch, function(object) {\n                    var method = object.id ? 'PUT' : 'POST';\n\n                    var json = object._getSaveJSON();\n\n                    _.extend(json, object._flags);\n\n                    var route = 'classes';\n                    var className = object.className;\n                    var path = `/${route}/${className}`;\n                    if (object.className === '_User' && !object.id) {\n                      // Special-case user sign-up.\n                      path = '/users';\n                    }\n\n                    var path = `/1.1${path}`;\n                    if (object.id) {\n                      path = path + '/' + object.id;\n                    }\n\n                    object._startSave();\n\n                    return {\n                      method: method,\n                      path: path,\n                      body: json,\n                    };\n                  }),\n                },\n                options\n              ).then(function(response) {\n                const results = _.map(batch, function(object, i) {\n                  if (response[i].success) {\n                    object._finishSave(object.parse(response[i].success));\n                    return object;\n                  }\n                  object._cancelSave();\n                  return new AVError(\n                    response[i].error.code,\n                    response[i].error.error\n                  );\n                });\n                return handleBatchResults(results);\n              })\n            );\n            AV._arrayEach(batch, function(object) {\n              object._allPreviousSaves = bathSavePromise;\n            });\n            return bathSavePromise;\n          }\n        );\n      })\n      .then(function() {\n        return object;\n      });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/object.js","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js\n// module id = 146\n// module chunks = 0 1","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js\n// module id = 147\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 148\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 149\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 150\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 151\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 152\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 153\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 154\n// module chunks = 0 1","const _ = require('underscore');\nconst AVError = require('./error');\n\nmodule.exports = function(AV) {\n  AV.Role = AV.Object.extend(\n    '_Role',\n    /** @lends AV.Role.prototype */ {\n      // Instance Methods\n\n      /**\n       * Represents a Role on the AV server. Roles represent groupings of\n       * Users for the purposes of granting permissions (e.g. specifying an ACL\n       * for an Object). Roles are specified by their sets of child users and\n       * child roles, all of which are granted any permissions that the parent\n       * role has.\n       *\n       * <p>Roles must have a name (which cannot be changed after creation of the\n       * role), and must specify an ACL.</p>\n       * An AV.Role is a local representation of a role persisted to the AV\n       * cloud.\n       * @class AV.Role\n       * @param {String} name The name of the Role to create.\n       * @param {AV.ACL} acl The ACL for this role.\n       */\n      constructor: function(name, acl) {\n        if (_.isString(name)) {\n          AV.Object.prototype.constructor.call(this, null, null);\n          this.setName(name);\n        } else {\n          AV.Object.prototype.constructor.call(this, name, acl);\n        }\n        if (acl) {\n          if (!(acl instanceof AV.ACL)) {\n            throw new TypeError('acl must be an instance of AV.ACL');\n          } else {\n            this.setACL(acl);\n          }\n        }\n      },\n\n      /**\n       * Gets the name of the role.  You can alternatively call role.get(\"name\")\n       *\n       * @return {String} the name of the role.\n       */\n      getName: function() {\n        return this.get('name');\n      },\n\n      /**\n       * Sets the name for a role. This value must be set before the role has\n       * been saved to the server, and cannot be set once the role has been\n       * saved.\n       *\n       * <p>\n       *   A role's name can only contain alphanumeric characters, _, -, and\n       *   spaces.\n       * </p>\n       *\n       * <p>This is equivalent to calling role.set(\"name\", name)</p>\n       *\n       * @param {String} name The name of the role.\n       */\n      setName: function(name, options) {\n        return this.set('name', name, options);\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Users that are direct\n       * children of this role. These users are granted any privileges that this\n       * role has been granted (e.g. read or write access through ACLs). You can\n       * add or remove users from the role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"users\")</p>\n       *\n       * @return {AV.Relation} the relation for the users belonging to this\n       *     role.\n       */\n      getUsers: function() {\n        return this.relation('users');\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Roles that are direct\n       * children of this role. These roles' users are granted any privileges that\n       * this role has been granted (e.g. read or write access through ACLs). You\n       * can add or remove child roles from this role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"roles\")</p>\n       *\n       * @return {AV.Relation} the relation for the roles belonging to this\n       *     role.\n       */\n      getRoles: function() {\n        return this.relation('roles');\n      },\n\n      /**\n       * @ignore\n       */\n      validate: function(attrs, options) {\n        if ('name' in attrs && attrs.name !== this.getName()) {\n          var newName = attrs.name;\n          if (this.id && this.id !== attrs.objectId) {\n            // Check to see if the objectId being set matches this.id.\n            // This happens during a fetch -- the id is set before calling fetch.\n            // Let the name be set in this case.\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only be set before it has been saved.\"\n            );\n          }\n          if (!_.isString(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name must be a String.\"\n            );\n          }\n          if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only contain alphanumeric characters, _,\" +\n                ' -, and spaces.'\n            );\n          }\n        }\n        if (AV.Object.prototype.validate) {\n          return AV.Object.prototype.validate.call(this, attrs, options);\n        }\n        return false;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role.js","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst AVError = require('./error');\nconst { _request: AVRequest, request } = require('./request');\n\nconst PLATFORM_ANONYMOUS = 'anonymous';\nconst PLATFORM_WEAPP = 'lc_weapp';\nconst PLATFORM_QQAPP = 'lc_qqapp';\n\nconst getMiniappLoginCode = () => {\n  if (typeof wx === 'undefined' || typeof wx.login !== 'function') {\n    throw new Error('wx.login is not a function');\n  }\n  return new Promise((resolve, reject) => {\n    wx.login({\n      success: ({ code, errMsg }) => {\n        if (code) {\n          resolve(code);\n        } else {\n          reject(new Error(errMsg));\n        }\n      },\n      fail: () => reject(new Error('login ')),\n    });\n  });\n};\n\nconst getMiniappAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  code,\n  {\n    preferUnionId,\n    unionIdPlatform = defaultUnionIdPlatform,\n    asMainAccount = true,\n  } = {}\n) =>\n  preferUnionId\n    ? {\n        platform: unionIdPlatform,\n        main_account: asMainAccount,\n        code,\n      }\n    : { code };\n\nconst mergeUnionDataIntoAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  authData,\n  unionId,\n  { unionIdPlatform = defaultUnionIdPlatform, asMainAccount = false } = {}\n) => {\n  if (typeof unionId !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionId is not a string');\n  if (typeof unionIdPlatform !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionIdPlatform is not a string');\n\n  return _.extend({}, authData, {\n    platform: unionIdPlatform,\n    unionid: unionId,\n    main_account: Boolean(asMainAccount),\n  });\n};\n\nmodule.exports = function(AV) {\n  /**\n   * @class\n   *\n   * <p>An AV.User object is a local representation of a user persisted to the\n   * LeanCloud server. This class is a subclass of an AV.Object, and retains the\n   * same functionality of an AV.Object, but also extends it with various\n   * user specific methods, like authentication, signing up, and validation of\n   * uniqueness.</p>\n   */\n  AV.User = AV.Object.extend(\n    '_User',\n    /** @lends AV.User.prototype */ {\n      // Instance Variables\n      _isCurrentUser: false,\n\n      // Instance Methods\n\n      /**\n       * Internal method to handle special fields in a _User response.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        if (attrs.sessionToken) {\n          this._sessionToken = attrs.sessionToken;\n          delete attrs.sessionToken;\n        }\n        return AV.User.__super__._mergeMagicFields.call(this, attrs);\n      },\n\n      /**\n       * Removes null values from authData (which exist temporarily for\n       * unlinking)\n       * @private\n       */\n      _cleanupAuthData: function() {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        AV._objectEach(this.get('authData'), function(value, key) {\n          if (!authData[key]) {\n            delete authData[key];\n          }\n        });\n      },\n\n      /**\n       * Synchronizes authData for all providers.\n       * @private\n       */\n      _synchronizeAllAuthData: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._synchronizeAuthData(key);\n        });\n      },\n\n      /**\n       * Synchronizes auth data for a provider (e.g. puts the access token in the\n       * right place to be used by the Facebook SDK).\n       * @private\n       */\n      _synchronizeAuthData: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[authType];\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData');\n        if (!authData || !provider) {\n          return;\n        }\n        var success = provider.restoreAuthentication(authData[authType]);\n        if (!success) {\n          this.dissociateAuthData(provider);\n        }\n      },\n\n      _handleSaveResult: function(makeCurrent) {\n        // Clean up and synchronize the authData object, removing any unset values\n        if (makeCurrent && !AV._config.disableCurrentUser) {\n          this._isCurrentUser = true;\n        }\n        this._cleanupAuthData();\n        this._synchronizeAllAuthData();\n        // Don't keep the password around.\n        delete this._serverData.password;\n        this._rebuildEstimatedDataForKey('password');\n        this._refreshCache();\n        if (\n          (makeCurrent || this.isCurrent()) &&\n          !AV._config.disableCurrentUser\n        ) {\n          // Some old version of leanengine-node-sdk will overwrite\n          // AV.User._saveCurrentUser which returns no Promise.\n          // So we need a Promise wrapper.\n          return Promise.resolve(AV.User._saveCurrentUser(this));\n        } else {\n          return Promise.resolve();\n        }\n      },\n\n      /**\n       * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n       * call linkWith on the user (even if it doesn't exist yet on the server).\n       * @private\n       */\n      _linkWith: function(provider, data, { failOnNotExist = false } = {}) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[provider];\n        } else {\n          authType = provider.getAuthType();\n        }\n        if (data) {\n          return this.save(\n            { authData: { [authType]: data } },\n            {\n              fetchWhenSave: !!this.get('authData'),\n              _failOnNotExist: failOnNotExist,\n            }\n          ).then(function(model) {\n            return model._handleSaveResult(true).then(function() {\n              return model;\n            });\n          });\n        } else {\n          return provider\n            .authenticate()\n            .then(result => this._linkWith(provider, result));\n        }\n      },\n\n      /**\n       * Associate the user with a third party authData.\n       * @since 3.3.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthData(authData, platform) {\n        return this._linkWith(platform, authData);\n      },\n\n      /**\n       * Associate the user with a third party authData and unionId.\n       * @since 3.5.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionOptions\n      ) {\n        return this._linkWith(\n          platform,\n          mergeUnionDataIntoAuthData()(authData, unionId, unionOptions)\n        );\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_QQAPP,\n            getMiniappAuthData('qq')(code, options)\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId \n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(PLATFORM_WEAPP, getMiniappAuthData()(code, options))\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User#associateWithWeapp}\n       * @return {Promise<AV.User>}\n       */\n      linkWithWeapp(options) {\n        console.warn(\n          'DEPRECATED: User#linkWithWeapp  User#associateWithWeapp '\n        );\n        return this.associateWithWeapp(options);\n      },\n\n      /**\n       *  QQ  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQAppWithUnionId(unionId, unionOptions) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_QQAPP,\n            mergeUnionDataIntoAuthData('qq')({ code }, unionId, unionOptions)\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeappWithUnionId(unionId, unionOptions) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_WEAPP,\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionOptions)\n          )\n        );\n      },\n\n      /**\n       * Unlinks a user from a service.\n       * @param {string} platform\n       * @return {Promise<AV.User>}\n       * @since 3.3.0\n       */\n      dissociateAuthData(provider) {\n        this.unset(`authData.${provider}`);\n        return this.save().then(model =>\n          model._handleSaveResult(true).then(() => model)\n        );\n      },\n\n      /**\n       * @private\n       * @deprecated\n       */\n      _unlinkFrom(provider) {\n        console.warn(\n          'DEPRECATED: User#_unlinkFrom  User#dissociateAuthData '\n        );\n        return this.dissociateAuthData(provider);\n      },\n\n      /**\n       * Checks whether a user is linked to a service.\n       * @private\n       */\n      _isLinked: function(provider) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData') || {};\n        return !!authData[authType];\n      },\n\n      /**\n       * Checks whether a user is anonymous.\n       * @since 3.9.0\n       * @return {boolean}\n       */\n      isAnonymous() {\n        return this._isLinked(PLATFORM_ANONYMOUS);\n      },\n\n      logOut: function() {\n        this._logOutWithAll();\n        this._isCurrentUser = false;\n      },\n\n      /**\n       * Deauthenticates all providers.\n       * @private\n       */\n      _logOutWithAll: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._logOutWith(key);\n        });\n      },\n\n      /**\n       * Deauthenticates a single provider (e.g. removing access tokens from the\n       * Facebook SDK).\n       * @private\n       */\n      _logOutWith: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        if (_.isString(provider)) {\n          provider = AV.User._authProviders[provider];\n        }\n        if (provider && provider.deauthenticate) {\n          provider.deauthenticate();\n        }\n      },\n\n      /**\n       * Signs up a new user. You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUp\n       */\n      signUp: function(attrs, options) {\n        var error;\n\n        var username = (attrs && attrs.username) || this.get('username');\n        if (!username || username === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty name.'\n          );\n          throw error;\n        }\n\n        var password = (attrs && attrs.password) || this.get('password');\n        if (!password || password === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty password.'\n          );\n          throw error;\n        }\n\n        return this.save(attrs, options).then(function(model) {\n          if (model.isAnonymous()) {\n            model.unset(`authData.${PLATFORM_ANONYMOUS}`);\n            model._opSetQueue = [{}];\n          }\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * Signs up a new user with mobile phone and sms code.\n       * You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(attrs, options = {}) {\n        var error;\n\n        var mobilePhoneNumber =\n          (attrs && attrs.mobilePhoneNumber) || this.get('mobilePhoneNumber');\n        if (!mobilePhoneNumber || mobilePhoneNumber === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber ' +\n              'with an empty mobilePhoneNumber.'\n          );\n          throw error;\n        }\n\n        var smsCode = (attrs && attrs.smsCode) || this.get('smsCode');\n        if (!smsCode || smsCode === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber  ' +\n              'with an empty smsCode.'\n          );\n          throw error;\n        }\n\n        options._makeRequest = function(route, className, id, method, json) {\n          return AVRequest('usersByMobilePhone', null, null, 'POST', json);\n        };\n        return this.save(attrs, options).then(function(model) {\n          delete model.attributes.smsCode;\n          delete model._serverData.smsCode;\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthData}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthData(authData, platform, options) {\n        return this._linkWith(platform, authData, options);\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthDataAndUnionId}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeapp}, except that you can set attributes before login.\n       * @since 3.7.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData()(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeappWithUnionId}, except that you can set attributes before login.\n       * @since 3.13.0\n       */\n      loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionLoginOptions),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQApp}, except that you can set attributes before login.\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData('qq')(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQAppWithUnionId}, except that you can set attributes before login.\n       * @since 4.2.0\n       */\n      loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData('qq')(\n              { code },\n              unionId,\n              unionLoginOptions\n            ),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * Logs in a AV.User. On success, this saves the session to localStorage,\n       * so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling logIn.</p>\n       *\n       * @see AV.User.logIn\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login is complete.\n       */\n      logIn: function() {\n        var model = this;\n        var request = AVRequest('login', null, null, 'POST', this.toJSON());\n        return request.then(function(resp) {\n          var serverAttrs = model.parse(resp);\n          model._finishFetch(serverAttrs);\n          return model._handleSaveResult(true).then(function() {\n            if (!serverAttrs.smsCode) delete model.attributes['smsCode'];\n            return model;\n          });\n        });\n      },\n      /**\n       * @see AV.Object#save\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, options;\n        if (_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n        options = options || {};\n\n        return AV.Object.prototype.save\n          .call(this, attrs, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Follow a user\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to follow.\n       * @param {Object} [options.attributes] key-value attributes dictionary to be used as\n       *  conditions of followerQuery/followeeQuery.\n       * @param {AuthOptions} [authOptions]\n       */\n      follow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        let attributes;\n        if (options.user) {\n          user = options.user;\n          attributes = options.attributes;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(\n          route,\n          null,\n          null,\n          'POST',\n          AV._encode(attributes),\n          authOptions\n        );\n        return request;\n      },\n\n      /**\n       * Unfollow a user.\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to unfollow.\n       * @param {AuthOptions} [authOptions]\n       */\n      unfollow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        if (options.user) {\n          user = options.user;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(route, null, null, 'DELETE', null, authOptions);\n        return request;\n      },\n\n      /**\n       *Create a follower query to query the user's followers.\n       * @since 0.3.0\n       * @see AV.User#followerQuery\n       */\n      followerQuery: function() {\n        return AV.User.followerQuery(this.id);\n      },\n\n      /**\n       *Create a followee query to query the user's followees.\n       * @since 0.3.0\n       * @see AV.User#followeeQuery\n       */\n      followeeQuery: function() {\n        return AV.User.followeeQuery(this.id);\n      },\n\n      /**\n       * @see AV.Object#fetch\n       */\n      fetch: function(fetchOptions, options) {\n        return AV.Object.prototype.fetch\n          .call(this, fetchOptions, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Update user's new password safely based on old password.\n       * @param {String} oldPassword the old password.\n       * @param {String} newPassword the new password.\n       * @param {AuthOptions} options\n       */\n      updatePassword: function(oldPassword, newPassword, options) {\n        var route = 'users/' + this.id + '/updatePassword';\n        var params = {\n          old_password: oldPassword,\n          new_password: newPassword,\n        };\n        var request = AVRequest(route, null, null, 'PUT', params, options);\n        return request;\n      },\n\n      /**\n       * Returns true if <code>current</code> would return this user.\n       * @see AV.User#current\n       */\n      isCurrent: function() {\n        return this._isCurrentUser;\n      },\n\n      /**\n       * Returns get(\"username\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getUsername: function() {\n        return this.get('username');\n      },\n\n      /**\n       * Returns get(\"mobilePhoneNumber\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getMobilePhoneNumber: function() {\n        return this.get('mobilePhoneNumber');\n      },\n\n      /**\n       * Calls set(\"mobilePhoneNumber\", phoneNumber, options) and returns the result.\n       * @param {String} mobilePhoneNumber\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setMobilePhoneNumber: function(phone, options) {\n        return this.set('mobilePhoneNumber', phone, options);\n      },\n\n      /**\n       * Calls set(\"username\", username, options) and returns the result.\n       * @param {String} username\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setUsername: function(username, options) {\n        return this.set('username', username, options);\n      },\n\n      /**\n       * Calls set(\"password\", password, options) and returns the result.\n       * @param {String} password\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setPassword: function(password, options) {\n        return this.set('password', password, options);\n      },\n\n      /**\n       * Returns get(\"email\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getEmail: function() {\n        return this.get('email');\n      },\n\n      /**\n       * Calls set(\"email\", email, options) and returns the result.\n       * @param {String} email\n       * @param {AuthOptions} options\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setEmail: function(email, options) {\n        return this.set('email', email, options);\n      },\n\n      /**\n       * Checks whether this user is the current user and has been authenticated.\n       * @deprecated  currentUser.isAuthenticated().then()\n       *  user.id === currentUser.id\n       * @return (Boolean) whether this user is the current user and is logged in.\n       */\n      authenticated: function() {\n        console.warn(\n          'DEPRECATED:  currentUser.isAuthenticated().then() user.id === currentUser.id'\n        );\n        return (\n          !!this._sessionToken &&\n          (!AV._config.disableCurrentUser &&\n            AV.User.current() &&\n            AV.User.current().id === this.id)\n        );\n      },\n\n      /**\n       *  sessionToken \n       *\n       * @since 2.0.0\n       * @return Promise.<Boolean>\n       */\n      isAuthenticated() {\n        return Promise.resolve().then(\n          () =>\n            !!this._sessionToken &&\n            AV.User._fetchUserBySessionToken(this._sessionToken).then(\n              () => true,\n              error => {\n                if (error.code === 211) {\n                  return false;\n                }\n                throw error;\n              }\n            )\n        );\n      },\n\n      /**\n       * Get sessionToken of current user.\n       * @return {String} sessionToken\n       */\n      getSessionToken() {\n        return this._sessionToken;\n      },\n\n      /**\n       * Refresh sessionToken of current user.\n       * @since 2.1.0\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.User>} user with refreshed sessionToken\n       */\n      refreshSessionToken(options) {\n        return AVRequest(\n          `users/${this.id}/refreshSessionToken`,\n          null,\n          null,\n          'PUT',\n          null,\n          options\n        ).then(response => {\n          this._finishFetch(response);\n          return this._handleSaveResult(true).then(() => this);\n        });\n      },\n\n      /**\n       * Get this user's Roles.\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.Role[]>} A promise that is fulfilled with the roles when\n       *     the query is complete.\n       */\n      getRoles(options) {\n        return AV.Relation.reverseQuery('_Role', 'users', this).find(options);\n      },\n    },\n    /** @lends AV.User */ {\n      // Class Variables\n\n      // The currently logged-in user.\n      _currentUser: null,\n\n      // Whether currentUser is known to match the serialized version on disk.\n      // This is useful for saving a localstorage check if you try to load\n      // _currentUser frequently while there is none stored.\n      _currentUserMatchesDisk: false,\n\n      // The localStorage key suffix that the current user is stored under.\n      _CURRENT_USER_KEY: 'currentUser',\n\n      // The mapping of auth provider names to actual providers\n      _authProviders: {},\n\n      // Class Methods\n\n      /**\n       * Signs up a new user with a username (or email) and password.\n       * This will create a new AV.User on the server, and also persist the\n       * session in localStorage so that you can access the user using\n       * {@link #current}.\n       *\n       * @param {String} username The username (or email) to sign up with.\n       * @param {String} password The password to sign up with.\n       * @param {Object} [attrs] Extra fields to set on the new user.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the signup completes.\n       * @see AV.User#signUp\n       */\n      signUp: function(username, password, attrs, options) {\n        attrs = attrs || {};\n        attrs.username = username;\n        attrs.password = password;\n        var user = AV.Object._create('_User');\n        return user.signUp(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a username (or email) and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} username The username (or email) to log in with.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logIn: function(username, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ username: username, password: password });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with a session token. On success, this saves the session\n       * to disk, so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * @param {String} sessionToken The sessionToken to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      become: function(sessionToken) {\n        return this._fetchUserBySessionToken(sessionToken).then(user =>\n          user._handleSaveResult(true).then(() => user)\n        );\n      },\n\n      _fetchUserBySessionToken: function(sessionToken) {\n        var user = AV.Object._create('_User');\n        return request({\n          method: 'GET',\n          path: '/users/me',\n          authOptions: {\n            sessionToken,\n          },\n        }).then(function(resp) {\n          var serverAttrs = user.parse(resp);\n          user._finishFetch(serverAttrs);\n          return user;\n        });\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and sms code sent by\n       * AV.User.requestLoginSmsCode.On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} smsCode The sms code sent by AV.User.requestLoginSmsCode\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhoneSmsCode: function(mobilePhone, smsCode) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ mobilePhoneNumber: mobilePhone, smsCode: smsCode });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a mobilePhoneNumber and smsCode.\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @param {String} mobilePhoneNumber The user's mobilePhoneNumber.\n       * @param {String} smsCode The sms code sent by AV.Cloud.requestSmsCode\n       * @param {Object} attributes  The user's other attributes such as username etc.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(\n        mobilePhoneNumber,\n        smsCode,\n        attrs,\n        options\n      ) {\n        attrs = attrs || {};\n        attrs.mobilePhoneNumber = mobilePhoneNumber;\n        attrs.smsCode = smsCode;\n        var user = AV.Object._create('_User');\n        return user.signUpOrlogInWithMobilePhone(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhone: function(mobilePhone, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({\n          mobilePhoneNumber: mobilePhone,\n          password: password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with email and password.\n       *\n       * @since 3.13.0\n       * @param {String} email The user's email.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      loginWithEmail(email, password) {\n        const user = AV.Object._create('_User');\n        user._finishFetch({\n          email,\n          password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a third party auth data(AccessToken).\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @example AV.User.loginWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       * @see {@link https://leancloud.cn/docs/js_guide.html#}\n       */\n      loginWithAuthData(authData, platform, options) {\n        return AV.User._logInWith(platform, authData, options);\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthData}\n       */\n      signUpOrlogInWithAuthData(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthData  User#loginWithAuthData '\n        );\n        return this.loginWithAuthData(...param);\n      },\n\n      /**\n       * Sign up or logs in a user with a third party authData and unionId.\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example AV.User.loginWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthDataAndUnionId}\n       * @since 3.5.0\n       */\n      signUpOrlogInWithAuthDataAndUnionId(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId  User#loginWithAuthDataAndUnionId '\n        );\n        return this.loginWithAuthDataAndUnionId(...param);\n      },\n\n      /**\n       *  session  AV.User.current() \n       * \n       *\n       * @since 2.0.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData()(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionLoginOptions),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       *  QQ  QQ  session  AV.User.current() \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData('qq')(code, options),\n            PLATFORM_QQAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData('qq')(\n              { code },\n              unionId,\n              unionLoginOptions\n            ),\n            PLATFORM_QQAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * Only use for DI in tests to produce deterministic IDs.\n       */\n      _genId() {\n        return uuid();\n      },\n\n      /**\n       * Creates an anonymous user.\n       *\n       * @since 3.9.0\n       * @return {Promise.<AV.User>}\n       */\n      loginAnonymously() {\n        return this.loginWithAuthData(\n          {\n            id: AV.User._genId(),\n          },\n          'anonymous'\n        );\n      },\n\n      associateWithAuthData(userObj, platform, authData) {\n        console.warn(\n          'DEPRECATED: User.associateWithAuthData  User#associateWithAuthData '\n        );\n        return userObj._linkWith(platform, authData);\n      },\n      /**\n       * Logs out the currently logged in user session. This will remove the\n       * session from disk, log out of linked services, and future calls to\n       * <code>current</code> will return <code>null</code>.\n       * @return {Promise}\n       */\n      logOut: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser !== null) {\n          AV.User._currentUser._logOutWithAll();\n          AV.User._currentUser._isCurrentUser = false;\n        }\n        AV.User._currentUserMatchesDisk = true;\n        AV.User._currentUser = null;\n        return AV.localStorage\n          .removeItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(() => AV._refreshSubscriptionId());\n      },\n\n      /**\n       *Create a follower query for special user to query the user's followers.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followerQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Follower');\n        query._friendshipTag = 'follower';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       *Create a followee query for special user to query the user's followees.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followeeQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Followee');\n        query._friendshipTag = 'followee';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       * Requests a password reset email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * reset their password on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     forgot their password.\n       * @return {Promise}\n       */\n      requestPasswordReset: function(email) {\n        var json = { email: email };\n        var request = AVRequest(\n          'requestPasswordReset',\n          null,\n          null,\n          'POST',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Requests a verify email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * verify their email address on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     doesn't verify their email address.\n       * @return {Promise}\n       */\n      requestEmailVerify: function(email) {\n        var json = { email: email };\n        var request = AVRequest('requestEmailVerify', null, null, 'POST', json);\n        return request;\n      },\n\n      /**\n       * Requests a verify sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * verify their mobile phone number by calling AV.User.verifyMobilePhone\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestMobilePhoneVerify: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestMobilePhoneVerify',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Requests a reset password sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * reset their account's password by calling AV.User.resetPasswordBySmsCode\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestPasswordResetBySmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestPasswordResetBySmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to reset user's account password by sms code and new password.\n       * The sms code is sent by AV.User.requestPasswordResetBySmsCode.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @param {String} password The new password.\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      resetPasswordBySmsCode: function(code, password) {\n        var json = { password: password };\n        var request = AVRequest(\n          'resetPasswordBySmsCode',\n          null,\n          code,\n          'PUT',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.User.Cloud.requestSmsCode\n       * If verify successfully,the user mobilePhoneVerified attribute will be true.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifyMobilePhone: function(code) {\n        var request = AVRequest('verifyMobilePhone', null, code, 'POST', null);\n        return request;\n      },\n\n      /**\n       * Requests a logIn sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * login by AV.User.logInWithMobilePhoneSmsCode function.\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *           user that want to login by AV.User.logInWithMobilePhoneSmsCode\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestLoginSmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestLoginSmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {Promise.<AV.User>} resolved with the currently logged in AV.User.\n       */\n      currentAsync: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        return AV.localStorage\n          .getItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(function(userData) {\n            if (!userData) {\n              return null;\n            }\n\n            // Load the user from local storage.\n            AV.User._currentUserMatchesDisk = true;\n\n            AV.User._currentUser = AV.Object._create('_User');\n            AV.User._currentUser._isCurrentUser = true;\n\n            var json = JSON.parse(userData);\n            AV.User._currentUser.id = json._id;\n            delete json._id;\n            AV.User._currentUser._sessionToken = json._sessionToken;\n            delete json._sessionToken;\n            AV.User._currentUser._finishFetch(json);\n            //AV.User._currentUser.set(json);\n\n            AV.User._currentUser._synchronizeAllAuthData();\n            AV.User._currentUser._refreshCache();\n            AV.User._currentUser._opSetQueue = [{}];\n            return AV.User._currentUser;\n          });\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {AV.User} The currently logged in AV.User.\n       */\n      current: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return null;\n        }\n\n        if (AV.localStorage.async) {\n          const error = new Error(\n            'Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.'\n          );\n          error.code = 'SYNC_API_NOT_AVAILABLE';\n          throw error;\n        }\n\n        if (AV.User._currentUser) {\n          return AV.User._currentUser;\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return AV.User._currentUser;\n        }\n\n        // Load the user from local storage.\n        AV.User._currentUserMatchesDisk = true;\n\n        var userData = AV.localStorage.getItem(\n          AV._getAVPath(AV.User._CURRENT_USER_KEY)\n        );\n        if (!userData) {\n          return null;\n        }\n        AV.User._currentUser = AV.Object._create('_User');\n        AV.User._currentUser._isCurrentUser = true;\n\n        var json = JSON.parse(userData);\n        AV.User._currentUser.id = json._id;\n        delete json._id;\n        AV.User._currentUser._sessionToken = json._sessionToken;\n        delete json._sessionToken;\n        AV.User._currentUser._finishFetch(json);\n        //AV.User._currentUser.set(json);\n\n        AV.User._currentUser._synchronizeAllAuthData();\n        AV.User._currentUser._refreshCache();\n        AV.User._currentUser._opSetQueue = [{}];\n        return AV.User._currentUser;\n      },\n\n      /**\n       * Persists a user as currentUser to localStorage, and into the singleton.\n       * @private\n       */\n      _saveCurrentUser: function(user) {\n        var promise;\n        if (AV.User._currentUser !== user) {\n          promise = AV.User.logOut();\n        } else {\n          promise = Promise.resolve();\n        }\n        return promise.then(function() {\n          user._isCurrentUser = true;\n          AV.User._currentUser = user;\n\n          var json = user._toFullJSON();\n          json._id = user.id;\n          json._sessionToken = user._sessionToken;\n          return AV.localStorage\n            .setItemAsync(\n              AV._getAVPath(AV.User._CURRENT_USER_KEY),\n              JSON.stringify(json)\n            )\n            .then(function() {\n              AV.User._currentUserMatchesDisk = true;\n              return AV._refreshSubscriptionId();\n            });\n        });\n      },\n\n      _registerAuthenticationProvider: function(provider) {\n        AV.User._authProviders[provider.getAuthType()] = provider;\n        // Synchronize the current user with the auth provider.\n        if (!AV._config.disableCurrentUser && AV.User.current()) {\n          AV.User.current()._synchronizeAuthData(provider.getAuthType());\n        }\n      },\n\n      _logInWith: function(provider, authData, options) {\n        var user = AV.Object._create('_User');\n        return user._linkWith(provider, authData, options);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 157\n// module chunks = 0 1","const _ = require('underscore');\nconst debug = require('debug')('leancloud:query');\nconst AVError = require('./error');\nconst { _request, request } = require('./request');\nconst {\n  ensureArray,\n  transformFetchOptions,\n  continueWhile,\n} = require('./utils');\n\nconst requires = (value, message) => {\n  if (value === undefined) {\n    throw new Error(message);\n  }\n};\n\n// AV.Query is a way to create a list of AV.Objects.\nmodule.exports = function(AV) {\n  /**\n   * Creates a new AV.Query for the given AV.Object subclass.\n   * @param {Class|String} objectClass An instance of a subclass of AV.Object, or a AV className string.\n   * @class\n   *\n   * <p>AV.Query defines a query that is used to fetch AV.Objects. The\n   * most common use case is finding all objects that match a query through the\n   * <code>find</code> method. For example, this sample code fetches all objects\n   * of class <code>MyClass</code>. It calls a different function depending on\n   * whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.find().then(function(results) {\n   *   // results is an array of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to retrieve a single object whose id is\n   * known, through the get method. For example, this sample code fetches an\n   * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n   * different function depending on whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.get(myId).then(function(object) {\n   *   // object is an instance of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to count the number of objects that match\n   * the query without retrieving all of those objects. For example, this\n   * sample code counts the number of objects of the class <code>MyClass</code>\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.count().then(function(number) {\n   *   // There are number instances of MyClass.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   */\n  AV.Query = function(objectClass) {\n    if (_.isString(objectClass)) {\n      objectClass = AV.Object._getSubclass(objectClass);\n    }\n\n    this.objectClass = objectClass;\n\n    this.className = objectClass.prototype.className;\n\n    this._where = {};\n    this._include = [];\n    this._select = [];\n    this._limit = -1; // negative limit means, do not send a limit\n    this._skip = 0;\n    this._defaultParams = {};\n  };\n\n  /**\n   * Constructs a AV.Query that is the OR of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.or(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an or of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to OR.\n   * @return {AV.Query} The query that is the OR of the passed in queries.\n   */\n  AV.Query.or = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._orQuery(queries);\n    return query;\n  };\n\n  /**\n   * Constructs a AV.Query that is the AND of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.and(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an 'and' of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to AND.\n   * @return {AV.Query} The query that is the AND of the passed in queries.\n   */\n  AV.Query.and = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._andQuery(queries);\n    return query;\n  };\n\n  /**\n   * Retrieves a list of AVObjects that satisfy the CQL.\n   * CQL syntax please see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   *\n   * @param {String} cql A CQL string, see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   * @param {Array} pvalues An array contains placeholder values.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is resolved with the results when\n   * the query completes.\n   */\n  AV.Query.doCloudQuery = function(cql, pvalues, options) {\n    var params = { cql: cql };\n    if (_.isArray(pvalues)) {\n      params.pvalues = pvalues;\n    } else {\n      options = pvalues;\n    }\n\n    var request = _request('cloudQuery', null, null, 'GET', params, options);\n    return request.then(function(response) {\n      //query to process results.\n      var query = new AV.Query(response.className);\n      var results = _.map(response.results, function(json) {\n        var obj = query._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(query._processResult(json), true);\n        }\n        return obj;\n      });\n      return {\n        results: results,\n        count: response.count,\n        className: response.className,\n      };\n    });\n  };\n\n  /**\n   * Return a query with conditions from json.\n   * This can be useful to send a query from server side to client side.\n   * @since 4.0.0\n   * @param {Object} json from {@link AV.Query#toJSON}\n   * @return {AV.Query}\n   */\n  AV.Query.fromJSON = ({\n    className,\n    where,\n    include,\n    select,\n    includeACL,\n    limit,\n    skip,\n    order,\n  }) => {\n    if (typeof className !== 'string') {\n      throw new TypeError('Invalid Query JSON, className must be a String.');\n    }\n    const query = new AV.Query(className);\n    _.extend(query, {\n      _where: where,\n      _include: include,\n      _select: select,\n      _includeACL: includeACL,\n      _limit: limit,\n      _skip: skip,\n      _order: order,\n    });\n    return query;\n  };\n\n  AV.Query._extend = AV._extend;\n\n  _.extend(\n    AV.Query.prototype,\n    /** @lends AV.Query.prototype */ {\n      //hook to iterate result. Added by dennis<xzhuang@avoscloud.com>.\n      _processResult: function(obj) {\n        return obj;\n      },\n\n      /**\n       * Constructs an AV.Object whose id is already known by fetching data from\n       * the server.\n       *\n       * @param {String} objectId The id of the object to be fetched.\n       * @param {AuthOptions} options\n       * @return {Promise.<AV.Object>}\n       */\n      get: function(objectId, options) {\n        if (!_.isString(objectId)) {\n          throw new Error('objectId must be a string');\n        }\n        if (objectId === '') {\n          return Promise.reject(\n            new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.')\n          );\n        }\n\n        var obj = this._newObject();\n        obj.id = objectId;\n\n        var queryJSON = this._getParams();\n        var fetchOptions = {};\n\n        if (queryJSON.keys) fetchOptions.keys = queryJSON.keys;\n        if (queryJSON.include) fetchOptions.include = queryJSON.include;\n        if (queryJSON.includeACL)\n          fetchOptions.includeACL = queryJSON.includeACL;\n\n        return _request(\n          'classes',\n          this.className,\n          objectId,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        ).then(response => {\n          if (_.isEmpty(response))\n            throw new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          obj._finishFetch(obj.parse(response), true);\n          return obj;\n        });\n      },\n\n      /**\n       * Returns a JSON representation of this query.\n       * @return {Object}\n       */\n      toJSON() {\n        const {\n          className,\n          _where: where,\n          _include: include,\n          _select: select,\n          _includeACL: includeACL,\n          _limit: limit,\n          _skip: skip,\n          _order: order,\n        } = this;\n        return {\n          className,\n          where,\n          include,\n          select,\n          includeACL,\n          limit,\n          skip,\n          order,\n        };\n      },\n\n      _getParams: function() {\n        var params = _.extend({}, this._defaultParams, {\n          where: this._where,\n        });\n\n        if (this._include.length > 0) {\n          params.include = this._include.join(',');\n        }\n        if (this._select.length > 0) {\n          params.keys = this._select.join(',');\n        }\n        if (this._includeACL !== undefined) {\n          params.returnACL = this._includeACL;\n        }\n        if (this._limit >= 0) {\n          params.limit = this._limit;\n        }\n        if (this._skip > 0) {\n          params.skip = this._skip;\n        }\n        if (this._order !== undefined) {\n          params.order = this._order;\n        }\n\n        return params;\n      },\n\n      _newObject: function(response) {\n        var obj;\n        if (response && response.className) {\n          obj = new AV.Object(response.className);\n        } else {\n          obj = new this.objectClass();\n        }\n        return obj;\n      },\n      _createRequest(\n        params = this._getParams(),\n        options,\n        path = `/classes/${this.className}`\n      ) {\n        if (encodeURIComponent(JSON.stringify(params)).length > 2000) {\n          const body = {\n            requests: [\n              {\n                method: 'GET',\n                path: `/1.1${path}`,\n                params,\n              },\n            ],\n          };\n          return request({\n            path: '/batch',\n            method: 'POST',\n            data: body,\n            authOptions: options,\n          }).then(response => {\n            const result = response[0];\n            if (result.success) {\n              return result.success;\n            }\n            const error = new Error(\n              result.error.error || 'Unknown batch error'\n            );\n            error.code = result.error.code;\n            throw error;\n          });\n        }\n        return request({\n          method: 'GET',\n          path,\n          query: params,\n          authOptions: options,\n        });\n      },\n\n      _parseResponse(response) {\n        return _.map(response.results, json => {\n          var obj = this._newObject(response);\n          if (obj._finishFetch) {\n            obj._finishFetch(this._processResult(json), true);\n          }\n          return obj;\n        });\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find(options) {\n        const request = this._createRequest(undefined, options);\n        return request.then(this._parseResponse.bind(this));\n      },\n\n      /**\n       * scan a Query. masterKey required.\n       *\n       * @since 2.1.0\n       * @param {object} [options]\n       * @param {string} [options.orderedBy] specify the key to sort\n       * @param {number} [options.batchSize] specify the batch size for each request\n       * @param {AuthOptions} [authOptions]\n       * @return {AsyncIterator.<AV.Object>}\n       * @example const scan = new AV.Query(TestClass).scan({\n       *   orderedBy: 'objectId',\n       *   batchSize: 10,\n       * }, {\n       *   useMasterKey: true,\n       * });\n       * const getTen = () => Promise.all(new Array(10).fill(0).map(() => scan.next()));\n       * getTen().then(results => {\n       *   // results are fisrt 10 instances of TestClass\n       *   return getTen();\n       * }).then(results => {\n       *   // 11 - 20\n       * });\n       */\n      scan({ orderedBy, batchSize } = {}, authOptions) {\n        const condition = this._getParams();\n        debug('scan %O', condition);\n        if (condition.order) {\n          console.warn(\n            'The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan.'\n          );\n          delete condition.order;\n        }\n        if (condition.skip) {\n          console.warn(\n            'The skip option of the query is ignored for Query#scan.'\n          );\n          delete condition.skip;\n        }\n        if (condition.limit) {\n          console.warn(\n            'The limit option of the query is ignored for Query#scan.'\n          );\n          delete condition.limit;\n        }\n        if (orderedBy) condition.scan_key = orderedBy;\n        if (batchSize) condition.limit = batchSize;\n        let promise = Promise.resolve([]);\n        let cursor;\n        let done = false;\n        return {\n          next: () => {\n            promise = promise.then(remainResults => {\n              if (done) return [];\n              if (remainResults.length > 1) return remainResults;\n              // no cursor means we have reached the end\n              // except for the first time\n              if (!cursor && remainResults.length !== 0) {\n                done = true;\n                return remainResults;\n              }\n              // when only 1 item left in queue\n              // start the next request to see if it is the last one\n              return _request(\n                'scan/classes',\n                this.className,\n                null,\n                'GET',\n                cursor ? _.extend({}, condition, { cursor }) : condition,\n                authOptions\n              )\n                .then(response => {\n                  cursor = response.cursor;\n                  return this._parseResponse(response);\n                })\n                .then(results => {\n                  if (!results.length) done = true;\n                  return remainResults.concat(results);\n                });\n            });\n            return promise\n              .then(remainResults => remainResults.shift())\n              .then(result => ({\n                value: result,\n                done,\n              }));\n          },\n        };\n      },\n\n      /**\n       * Delete objects retrieved by this query.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       */\n      destroyAll: function(options) {\n        var self = this;\n        return self.find(options).then(function(objects) {\n          return AV.Object.destroyAll(objects, options);\n        });\n      },\n\n      /**\n       * Counts the number of objects that match this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the count when\n       * the query completes.\n       */\n      count: function(options) {\n        var params = this._getParams();\n        params.limit = 0;\n        params.count = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return response.count;\n        });\n      },\n\n      /**\n       * Retrieves at most one AV.Object that satisfies this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the object when\n       * the query completes.\n       */\n      first: function(options) {\n        var self = this;\n\n        var params = this._getParams();\n        params.limit = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return _.map(response.results, function(json) {\n            var obj = self._newObject();\n            if (obj._finishFetch) {\n              obj._finishFetch(self._processResult(json), true);\n            }\n            return obj;\n          })[0];\n        });\n      },\n\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        requires(n, 'undefined is not a valid skip value');\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        requires(n, 'undefined is not a valid limit value');\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that the AV.Object must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      equalTo: function(key, value) {\n        requires(key, 'undefined is not a valid key');\n        requires(value, 'undefined is not a valid value');\n        this._where[key] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Helper for condition queries\n       * @private\n       */\n      _addCondition: function(key, condition, value) {\n        requires(key, 'undefined is not a valid condition key');\n        requires(condition, 'undefined is not a valid condition');\n        requires(value, 'undefined is not a valid condition value');\n\n        // Check if we already have a condition\n        if (!this._where[key]) {\n          this._where[key] = {};\n        }\n        this._where[key][condition] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular\n       * <strong>array</strong> key's length to be equal to the provided value.\n       * @param {String} key The array key to check.\n       * @param value The length value.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      sizeEqualTo: function(key, value) {\n        this._addCondition(key, '$size', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be not equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that must not be equalled.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notEqualTo: function(key, value) {\n        this._addCondition(key, '$ne', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThan: function(key, value) {\n        this._addCondition(key, '$lt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThan: function(key, value) {\n        this._addCondition(key, '$gt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$lte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$gte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containedIn: function(key, values) {\n        this._addCondition(key, '$in', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * not be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notContainedIn: function(key, values) {\n        this._addCondition(key, '$nin', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * contain each one of the provided list of values.\n       * @param {String} key The key to check.  This key's value must be an array.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containsAll: function(key, values) {\n        this._addCondition(key, '$all', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that contain the given key.\n       * @param {String} key The key that should exist.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      exists: function(key) {\n        this._addCondition(key, '$exists', true);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that do not contain a given key.\n       * @param {String} key The key that should not exist\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotExist: function(key) {\n        this._addCondition(key, '$exists', false);\n        return this;\n      },\n\n      /**\n       * Add a regular expression constraint for finding string values that match\n       * the provided regular expression.\n       * This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {RegExp} regex The regular expression pattern to match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matches: function(key, regex, modifiers) {\n        this._addCondition(key, '$regex', regex);\n        if (!modifiers) {\n          modifiers = '';\n        }\n        // Javascript regex options support mig as inline options but store them\n        // as properties of the object. We support mi & should migrate them to\n        // modifiers\n        if (regex.ignoreCase) {\n          modifiers += 'i';\n        }\n        if (regex.multiline) {\n          modifiers += 'm';\n        }\n\n        if (modifiers && modifiers.length) {\n          this._addCondition(key, '$options', modifiers);\n        }\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a AV.Query\n       * constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$inQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not matches a\n       * AV.Query constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$notInQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     matched.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$select', { key: queryKey, query: queryJSON });\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not match a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     excluded.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$dontSelect', {\n          key: queryKey,\n          query: queryJSON,\n        });\n        return this;\n      },\n\n      /**\n       * Add constraint that at least one of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _orQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$or = queryJSON;\n        return this;\n      },\n\n      /**\n       * Add constraint that both of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _andQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$and = queryJSON;\n        return this;\n      },\n\n      /**\n       * Converts a string into a regex that matches it.\n       * Surrounding with \\Q .. \\E does this, we just need to escape \\E's in\n       * the text separately.\n       * @private\n       */\n      _quote: function(s) {\n        return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n      },\n\n      /**\n       * Add a constraint for finding string values that contain a provided\n       * string.  This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} substring The substring that the value must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      contains: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that start with a provided\n       * string.  This query will use the backend index, so it will be fast even\n       * for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} prefix The substring that the value must start with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      startsWith: function(key, value) {\n        this._addCondition(key, '$regex', '^' + this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that end with a provided\n       * string.  This will be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} suffix The substring that the value must end with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      endsWith: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value) + '$');\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      ascending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in ascending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addAscending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',' + key;\n        else this._order = key;\n        return this;\n      },\n\n      /**\n       * Sorts the results in descending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      descending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in descending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addDescending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',-' + key;\n        else this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      near: function(key, point) {\n        if (!(point instanceof AV.GeoPoint)) {\n          // Try to cast it to a GeoPoint, so that near(\"loc\", [20,30]) works.\n          point = new AV.GeoPoint(point);\n        }\n        this._addCondition(key, '$nearSphere', point);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param maxDistance Maximum distance (in radians) of results to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinRadians: function(key, point, distance) {\n        this.near(key, point);\n        this._addCondition(key, '$maxDistance', distance);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 3958.8 miles.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in miles) of results to\n       *     return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinMiles: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 3958.8);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 6371.0 kilometers.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in kilometers) of results\n       *     to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinKilometers: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 6371.0);\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's\n       * coordinates be contained within a given rectangular geographic bounding\n       * box.\n       * @param {String} key The key to be constrained.\n       * @param {AV.GeoPoint} southwest\n       *     The lower-left inclusive corner of the box.\n       * @param {AV.GeoPoint} northeast\n       *     The upper-right inclusive corner of the box.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinGeoBox: function(key, southwest, northeast) {\n        if (!(southwest instanceof AV.GeoPoint)) {\n          southwest = new AV.GeoPoint(southwest);\n        }\n        if (!(northeast instanceof AV.GeoPoint)) {\n          northeast = new AV.GeoPoint(northeast);\n        }\n        this._addCondition(key, '$within', { $box: [southwest, northeast] });\n        return this;\n      },\n\n      /**\n       * Include nested AV.Objects for the provided key.  You can use dot\n       * notation to specify which fields in the included object are also fetch.\n       * @param {String[]} keys The name of the key to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      include: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._include = this._include.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Include the ACL.\n       * @param {Boolean} [value=true] Whether to include the ACL\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      includeACL: function(value = true) {\n        this._includeACL = value;\n        return this;\n      },\n\n      /**\n       * Restrict the fields of the returned AV.Objects to include only the\n       * provided keys.  If this is called multiple times, then all of the keys\n       * specified in each of the calls will be included.\n       * @param {String[]} keys The names of the keys to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      select: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._select = this._select.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Iterates over each result of a query, calling a callback for each one. If\n       * the callback returns a promise, the iteration will not continue until\n       * that promise has been fulfilled. If the callback returns a rejected\n       * promise, then iteration will stop with that error. The items are\n       * processed in an unspecified order. The query may not have any sort order,\n       * and may not use limit or skip.\n       * @param callback {Function} Callback that will be called with each result\n       *     of the query.\n       * @return {Promise} A promise that will be fulfilled once the\n       *     iteration has completed.\n       */\n      each: function(callback, options = {}) {\n        if (this._order || this._skip || this._limit >= 0) {\n          var error = new Error(\n            'Cannot iterate on a query with sort, skip, or limit.'\n          );\n          return Promise.reject(error);\n        }\n\n        var query = new AV.Query(this.objectClass);\n        // We can override the batch size from the options.\n        // This is undocumented, but useful for testing.\n        query._limit = options.batchSize || 100;\n        query._where = _.clone(this._where);\n        query._include = _.clone(this._include);\n\n        query.ascending('objectId');\n\n        var finished = false;\n        return continueWhile(\n          function() {\n            return !finished;\n          },\n          function() {\n            return query.find(options).then(function(results) {\n              var callbacksDone = Promise.resolve();\n              _.each(results, function(result) {\n                callbacksDone = callbacksDone.then(function() {\n                  return callback(result);\n                });\n              });\n\n              return callbacksDone.then(function() {\n                if (results.length >= query._limit) {\n                  query.greaterThan('objectId', results[results.length - 1].id);\n                } else {\n                  finished = true;\n                }\n              });\n            });\n          }\n        );\n      },\n\n      /**\n       * Subscribe the changes of this query.\n       *\n       * LiveQuery is not included in the default bundle: {@link https://url.leanapp.cn/enable-live-query}.\n       *\n       * @since 3.0.0\n       * @return {AV.LiveQuery} An eventemitter which can be used to get LiveQuery updates;\n       */\n      subscribe(options) {\n        return AV.LiveQuery.init(this, options);\n      },\n    }\n  );\n\n  AV.FriendShipQuery = AV.Query._extend({\n    _newObject: function() {\n      const UserClass = AV.Object._getSubclass('_User');\n      return new UserClass();\n    },\n    _processResult: function(json) {\n      if (json && json[this._friendshipTag]) {\n        var user = json[this._friendshipTag];\n        if (user.__type === 'Pointer' && user.className === '_User') {\n          delete user.__type;\n          delete user.className;\n        }\n        return user;\n      } else {\n        return null;\n      }\n    },\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/query.js","const _ = require('underscore');\nconst EventEmitter = require('eventemitter3');\nconst { inherits } = require('./utils');\nconst { request } = require('./request');\n\nconst subscribe = (queryJSON, subscriptionId) =>\n  request({\n    method: 'POST',\n    path: '/LiveQuery/subscribe',\n    data: {\n      query: queryJSON,\n      id: subscriptionId,\n    },\n  });\n\nmodule.exports = AV => {\n  const requireRealtime = () => {\n    if (!AV._config.realtime) {\n      throw new Error(\n        'LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query'\n      );\n    }\n  };\n  /**\n   * @class\n   * A LiveQuery, created by {@link AV.Query#subscribe} is an EventEmitter notifies changes of the Query.\n   * @since 3.0.0\n   */\n  AV.LiveQuery = inherits(\n    EventEmitter,\n    /** @lends AV.LiveQuery.prototype */ {\n      constructor(id, client, queryJSON, subscriptionId) {\n        EventEmitter.apply(this);\n        this.id = id;\n        this._client = client;\n        this._client.register(this);\n        this._queryJSON = queryJSON;\n        this._subscriptionId = subscriptionId;\n        this._onMessage = this._dispatch.bind(this);\n        this._onReconnect = () => {\n          subscribe(this._queryJSON, this._subscriptionId).catch(error =>\n            console.error(`LiveQuery resubscribe error: ${error.message}`)\n          );\n        };\n        client.on('message', this._onMessage);\n        client.on('reconnect', this._onReconnect);\n      },\n      _dispatch(message) {\n        message.forEach(({ op, object, query_id: queryId, updatedKeys }) => {\n          if (queryId !== this.id) return;\n          const target = AV.parseJSON(\n            _.extend(\n              {\n                __type: object.className === '_File' ? 'File' : 'Object',\n              },\n              object\n            )\n          );\n          if (updatedKeys) {\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is updated.\n             * @event AV.LiveQuery#update\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which doesn't fulfill the Query is updated and now it fulfills the Query.\n             * @event AV.LiveQuery#enter\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which fulfills the Query is updated and now it doesn't fulfill the Query.\n             * @event AV.LiveQuery#leave\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            this.emit(op, target, updatedKeys);\n          } else {\n            /**\n             * A new AV.Object which fulfills the Query you subscribe is created.\n             * @event AV.LiveQuery#create\n             * @param {AV.Object|AV.File} target updated object\n             */\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is deleted.\n             * @event AV.LiveQuery#delete\n             * @param {AV.Object|AV.File} target updated object\n             */\n            this.emit(op, target);\n          }\n        });\n      },\n      /**\n       * unsubscribe the query\n       *\n       * @return {Promise}\n       */\n      unsubscribe() {\n        const client = this._client;\n        client.off('message', this._onMessage);\n        client.off('reconnect', this._onReconnect);\n        client.deregister(this);\n        return request({\n          method: 'POST',\n          path: '/LiveQuery/unsubscribe',\n          data: {\n            id: client.id,\n            query_id: this.id,\n          },\n        });\n      },\n    },\n    /** @lends AV.LiveQuery */\n    {\n      init(\n        query,\n        {\n          subscriptionId: userDefinedSubscriptionId = AV._getSubscriptionId(),\n        } = {}\n      ) {\n        requireRealtime();\n        if (!(query instanceof AV.Query))\n          throw new TypeError('LiveQuery must be inited with a Query');\n        return Promise.resolve(userDefinedSubscriptionId).then(subscriptionId =>\n          AV._config.realtime\n            .createLiveQueryClient(subscriptionId)\n            .then(liveQueryClient => {\n              const { where, keys, returnACL } = query._getParams();\n              const queryJSON = {\n                where,\n                keys,\n                returnACL,\n                className: query.className,\n              };\n              const promise = subscribe(queryJSON, subscriptionId)\n                .then(\n                  ({ query_id: queryId }) =>\n                    new AV.LiveQuery(\n                      queryId,\n                      liveQueryClient,\n                      queryJSON,\n                      subscriptionId\n                    )\n                )\n                .finally(() => {\n                  liveQueryClient.deregister(promise);\n                });\n              liveQueryClient.register(promise);\n              return promise;\n            })\n        );\n      },\n      /**\n       * Pause the LiveQuery connection. This is useful to deactivate the SDK when the app is swtiched to background.\n       * @static\n       * @return void\n       */\n      pause() {\n        requireRealtime();\n        return AV._config.realtime.pause();\n      },\n      /**\n       * Resume the LiveQuery connection. All subscriptions will be restored after reconnection.\n       * @static\n       * @return void\n       */\n      resume() {\n        requireRealtime();\n        return AV._config.realtime.resume();\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/live-query.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 160\n// module chunks = 0 1","const _ = require('underscore');\nconst { tap } = require('./utils');\n\nmodule.exports = AV => {\n  /**\n   * @class\n   * @example\n   * AV.Captcha.request().then(captcha => {\n   *   captcha.bind({\n   *     textInput: 'code', // the id for textInput\n   *     image: 'captcha',\n   *     verifyButton: 'verify',\n   *   }, {\n   *     success: (validateCode) => {}, // next step\n   *     error: (error) => {}, // present error.message to user\n   *   });\n   * });\n   */\n  AV.Captcha = function Captcha(options, authOptions) {\n    this._options = options;\n    this._authOptions = authOptions;\n    /**\n     * The image url of the captcha\n     * @type string\n     */\n    this.url = undefined;\n    /**\n     * The captchaToken of the captcha.\n     * @type string\n     */\n    this.captchaToken = undefined;\n    /**\n     * The validateToken of the captcha.\n     * @type string\n     */\n    this.validateToken = undefined;\n  };\n\n  /**\n   * Refresh the captcha\n   * @return {Promise.<string>} a new capcha url\n   */\n  AV.Captcha.prototype.refresh = function refresh() {\n    return AV.Cloud._requestCaptcha(this._options, this._authOptions).then(\n      ({ captchaToken, url }) => {\n        _.extend(this, { captchaToken, url });\n        return url;\n      }\n    );\n  };\n\n  /**\n   * Verify the captcha\n   * @param {String} code The code from user input\n   * @return {Promise.<string>} validateToken if the code is valid\n   */\n  AV.Captcha.prototype.verify = function verify(code) {\n    return AV.Cloud.verifyCaptcha(code, this.captchaToken).then(\n      tap(validateToken => (this.validateToken = validateToken))\n    );\n  };\n\n  if (process.env.CLIENT_PLATFORM === 'Browser') {\n    /**\n     * Bind the captcha to HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     * @param [elements]\n     * @param {String|HTMLInputElement} [elements.textInput] An input element typed text, or the id for the element.\n     * @param {String|HTMLImageElement} [elements.image] An image element, or the id for the element.\n     * @param {String|HTMLElement} [elements.verifyButton] A button element, or the id for the element.\n     * @param [callbacks]\n     * @param {Function} [callbacks.success] Success callback will be called if the code is verified. The param `validateCode` can be used for further SMS request.\n     * @param {Function} [callbacks.error] Error callback will be called if something goes wrong, detailed in param `error.message`.\n     */\n    AV.Captcha.prototype.bind = function bind(\n      { textInput, image, verifyButton },\n      { success, error }\n    ) {\n      if (typeof textInput === 'string') {\n        textInput = document.getElementById(textInput);\n        if (!textInput)\n          throw new Error(`textInput with id ${textInput} not found`);\n      }\n      if (typeof image === 'string') {\n        image = document.getElementById(image);\n        if (!image) throw new Error(`image with id ${image} not found`);\n      }\n      if (typeof verifyButton === 'string') {\n        verifyButton = document.getElementById(verifyButton);\n        if (!verifyButton)\n          throw new Error(`verifyButton with id ${verifyButton} not found`);\n      }\n\n      this.__refresh = () =>\n        this.refresh()\n          .then(url => {\n            image.src = url;\n            if (textInput) {\n              textInput.value = '';\n              textInput.focus();\n            }\n          })\n          .catch(err => console.warn(`refresh captcha fail: ${err.message}`));\n      if (image) {\n        this.__image = image;\n        image.src = this.url;\n        image.addEventListener('click', this.__refresh);\n      }\n\n      this.__verify = () => {\n        const code = textInput.value;\n        this.verify(code)\n          .catch(err => {\n            this.__refresh();\n            throw err;\n          })\n          .then(success, error)\n          .catch(err => console.warn(`verify captcha fail: ${err.message}`));\n      };\n      if (textInput && verifyButton) {\n        this.__verifyButton = verifyButton;\n        verifyButton.addEventListener('click', this.__verify);\n      }\n    };\n\n    /**\n     * unbind the captcha from HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     */\n    AV.Captcha.prototype.unbind = function unbind() {\n      if (this.__image)\n        this.__image.removeEventListener('click', this.__refresh);\n      if (this.__verifyButton)\n        this.__verifyButton.removeEventListener('click', this.__verify);\n    };\n  }\n\n  /**\n   * Request a captcha\n   * @param [options]\n   * @param {Number} [options.width] width(px) of the captcha, ranged 60-200\n   * @param {Number} [options.height] height(px) of the captcha, ranged 30-100\n   * @param {Number} [options.size=4] length of the captcha, ranged 3-6. MasterKey required.\n   * @param {Number} [options.ttl=60] time to live(s), ranged 10-180. MasterKey required.\n   * @return {Promise.<AV.Captcha>}\n   */\n  AV.Captcha.request = (options, authOptions) => {\n    const captcha = new AV.Captcha(options, authOptions);\n    return captcha.refresh().then(() => captcha);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/captcha.js","const _ = require('underscore');\nconst { _request, request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   * Contains functions for calling and declaring\n   * <p><strong><em>\n   *   Some functions are only available from Cloud Code.\n   * </em></strong></p>\n   *\n   * @namespace\n   * @borrows AV.Captcha.request as requestCaptcha\n   */\n  AV.Cloud = AV.Cloud || {};\n\n  _.extend(\n    AV.Cloud,\n    /** @lends AV.Cloud */ {\n      /**\n       * Makes a call to a cloud function.\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      run(name, data, options) {\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/functions/${name}`,\n          data: AV._encode(data, null, true),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Makes a call to a cloud function, you can send {AV.Object} as param or a field of param; the response\n       * from server will also be parsed as an {AV.Object}, array of {AV.Object}, or object includes {AV.Object}\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result of the function.\n       */\n      rpc(name, data, options) {\n        if (_.isArray(data)) {\n          return Promise.reject(\n            new Error(\n              \"Can't pass Array as the param of rpc function in JavaScript SDK.\"\n            )\n          );\n        }\n\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/call/${name}`,\n          data: AV._encodeObjectOrArray(data),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Make a call to request server date time.\n       * @return {Promise.<Date>} A promise that will be resolved with the result\n       * of the function.\n       * @since 0.5.9\n       */\n      getServerDate() {\n        return _request('date', null, null, 'GET').then(function(resp) {\n          return AV._decode(resp);\n        });\n      },\n\n      /**\n       * Makes a call to request a sms code for operation verification.\n       * @param {String|Object} data The mobile phone number string or a JSON\n       *    object that contains mobilePhoneNumber,template,sign,op,ttl,name etc.\n       * @param {String} data.mobilePhoneNumber\n       * @param {String} [data.template] sms template name\n       * @param {String} [data.sign] sms signature name\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise} A promise that will be resolved if the request succeed\n       */\n      requestSmsCode(data, options = {}) {\n        if (_.isString(data)) {\n          data = { mobilePhoneNumber: data };\n        }\n        if (!data.mobilePhoneNumber) {\n          throw new Error('Missing mobilePhoneNumber.');\n        }\n        if (options.validateToken) {\n          data = _.extend({}, data, {\n            validate_token: options.validateToken,\n          });\n        }\n        return _request('requestSmsCode', null, null, 'POST', data, options);\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.Cloud.requestSmsCode\n       * @param {String} code The sms code sent by AV.Cloud.requestSmsCode\n       * @param {phone} phone The mobile phoner number(optional).\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifySmsCode(code, phone) {\n        if (!code) throw new Error('Missing sms code.');\n        var params = {};\n        if (_.isString(phone)) {\n          params['mobilePhoneNumber'] = phone;\n        }\n\n        return _request('verifySmsCode', code, null, 'POST', params);\n      },\n\n      _requestCaptcha(options, authOptions) {\n        return _request(\n          'requestCaptcha',\n          null,\n          null,\n          'GET',\n          options,\n          authOptions\n        ).then(({ captcha_url: url, captcha_token: captchaToken }) => ({\n          captchaToken,\n          url,\n        }));\n      },\n\n      /**\n       * Request a captcha.\n       */\n      requestCaptcha: AV.Captcha.request,\n\n      /**\n       * Verify captcha code. This is the low-level API for captcha.\n       * Checkout {@link AV.Captcha} for high abstract APIs.\n       * @param {String} code the code from user input\n       * @param {String} captchaToken captchaToken returned by {@link AV.Cloud.requestCaptcha}\n       * @return {Promise.<String>} validateToken if the code is valid\n       */\n      verifyCaptcha(code, captchaToken) {\n        return _request('verifyCaptcha', null, null, 'POST', {\n          captcha_code: code,\n          captcha_token: captchaToken,\n        }).then(({ validate_token: validateToken }) => validateToken);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloudfunction.js","const request = require('./request').request;\n\nmodule.exports = function(AV) {\n  AV.Installation = AV.Object.extend('_Installation');\n\n  /**\n   * @namespace\n   */\n  AV.Push = AV.Push || {};\n\n  /**\n   * Sends a push notification.\n   * @param {Object} data The data of the push notification.\n   * @param {String[]} [data.channels] An Array of channels to push to.\n   * @param {Date} [data.push_time] A Date object for when to send the push.\n   * @param {Date} [data.expiration_time]  A Date object for when to expire\n   *         the push.\n   * @param {Number} [data.expiration_interval] The seconds from now to expire the push.\n   * @param {Number} [data.flow_control] The clients to notify per second\n   * @param {AV.Query} [data.where] An AV.Query over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {String} [data.cql] A CQL statement over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {Object} data.data The data to send as part of the push.\n             More details:  https://url.leanapp.cn/pushData\n   * @param {AuthOptions} [options]\n   * @return {Promise}\n   */\n  AV.Push.send = function(data, options) {\n    if (data.where) {\n      data.where = data.where._getParams().where;\n    }\n\n    if (data.where && data.cql) {\n      throw new Error(\"Both where and cql can't be set\");\n    }\n\n    if (data.push_time) {\n      data.push_time = data.push_time.toJSON();\n    }\n\n    if (data.expiration_time) {\n      data.expiration_time = data.expiration_time.toJSON();\n    }\n\n    if (data.expiration_time && data.expiration_time_interval) {\n      throw new Error(\n        \"Both expiration_time and expiration_time_interval can't be set\"\n      );\n    }\n\n    return request({\n      service: 'push',\n      method: 'POST',\n      path: '/push',\n      data,\n      authOptions: options,\n    });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/push.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\nconst { getSessionToken } = require('./utils');\n\nmodule.exports = function(AV) {\n  const getUser = (options = {}) => {\n    const sessionToken = getSessionToken(options);\n    if (sessionToken) {\n      return AV.User._fetchUserBySessionToken(getSessionToken(options));\n    }\n    return AV.User.currentAsync();\n  };\n\n  const getUserPointer = options =>\n    getUser(options).then(currUser =>\n      AV.Object.createWithoutData('_User', currUser.id)._toPointer()\n    );\n\n  /**\n   * Contains functions to deal with Status in LeanCloud.\n   * @class\n   */\n  AV.Status = function(imageUrl, message) {\n    this.data = {};\n    this.inboxType = 'default';\n    this.query = null;\n    if (imageUrl && typeof imageUrl === 'object') {\n      this.data = imageUrl;\n    } else {\n      if (imageUrl) {\n        this.data.image = imageUrl;\n      }\n      if (message) {\n        this.data.message = message;\n      }\n    }\n    return this;\n  };\n\n  _.extend(\n    AV.Status.prototype,\n    /** @lends AV.Status.prototype */ {\n      /**\n       * Gets the value of an attribute in status data.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        return this.data[attr];\n      },\n      /**\n       * Sets a hash of model attributes on the status data.\n       * @param {String} key The key to set.\n       * @param {} value The value to give it.\n       */\n      set: function(key, value) {\n        this.data[key] = value;\n        return this;\n      },\n      /**\n       * Destroy this status,then it will not be avaiable in other user's inboxes.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        if (!this.id)\n          return Promise.reject(new Error('The status id is not exists.'));\n        var request = AVRequest('statuses', null, this.id, 'DELETE', options);\n        return request;\n      },\n      /**\n       * Cast the AV.Status object to an AV.Object pointer.\n       * @return {AV.Object} A AV.Object pointer.\n       */\n      toObject: function() {\n        if (!this.id) return null;\n        return AV.Object.createWithoutData('_Status', this.id);\n      },\n      _getDataJSON: function() {\n        var json = _.clone(this.data);\n        return AV._encode(json);\n      },\n      /**\n       * Send a status by a AV.Query object.\n       * @since 0.3.0\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the send\n       *     completes.\n       * @example\n       *     // send a status to male users\n       *     var status = new AVStatus('image url', 'a message');\n       *     status.query = new AV.Query('_User');\n       *     status.query.equalTo('gender', 'male');\n       *     status.send().then(function(){\n       *              //send status successfully.\n       *      }, function(err){\n       *             //an error threw.\n       *             console.dir(err);\n       *      });\n       */\n      send: function(options = {}) {\n        if (!getSessionToken(options) && !AV.User.current()) {\n          throw new Error('Please signin an user.');\n        }\n        if (!this.query) {\n          return AV.Status.sendStatusToFollowers(this, options);\n        }\n\n        return getUserPointer(options)\n          .then(currUser => {\n            var query = this.query._getParams();\n            query.className = this.query.className;\n            var data = {};\n            data.query = query;\n            this.data = this.data || {};\n            this.data.source = this.data.source || currUser;\n            data.data = this._getDataJSON();\n            data.inboxType = this.inboxType || 'default';\n\n            return AVRequest('statuses', null, null, 'POST', data, options);\n          })\n          .then(response => {\n            this.id = response.objectId;\n            this.createdAt = AV._parseDate(response.createdAt);\n            return this;\n          });\n      },\n\n      _finishFetch: function(serverData) {\n        this.id = serverData.objectId;\n        this.createdAt = AV._parseDate(serverData.createdAt);\n        this.updatedAt = AV._parseDate(serverData.updatedAt);\n        this.messageId = serverData.messageId;\n        delete serverData.messageId;\n        delete serverData.objectId;\n        delete serverData.createdAt;\n        delete serverData.updatedAt;\n        this.data = AV._decode(serverData);\n      },\n    }\n  );\n\n  /**\n   * Send a status to current signined user's followers.\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendStatusToFollowers(status).then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendStatusToFollowers = function(status, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_Follower';\n      query.keys = 'follower';\n      query.where = { user: currUser };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = status.inboxType || 'default';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * <p>Send  a status from current signined user to other user's private status inbox.</p>\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {String} target The target user or user's objectId.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     // send a private status to user '52e84e47e4b0f8de283b079b'\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendPrivateStatus(status, '52e84e47e4b0f8de283b079b').then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendPrivateStatus = function(status, target, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    if (!target) {\n      throw new Error('Invalid target user.');\n    }\n    var userObjectId = _.isString(target) ? target : target.id;\n    if (!userObjectId) {\n      throw new Error('Invalid target user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_User';\n      query.where = { objectId: userObjectId };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = 'private';\n      status.inboxType = 'private';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * Count unread statuses in someone's inbox.\n   * @since 0.3.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the count\n   *     completes.\n   * @example\n   *  AV.Status.countUnreadStatuses(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.countUnreadStatuses = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/count',\n        null,\n        null,\n        'GET',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * reset unread statuses count in someone's inbox.\n   * @since 2.1.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the reset\n   *     completes.\n   * @example\n   *  AV.Status.resetUnreadCount(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.resetUnreadCount = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/resetUnreadCount',\n        null,\n        null,\n        'POST',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * Create a status query to find someone's published statuses.\n   * @since 0.3.0\n   * @param {AV.User} source The status source, typically the publisher.\n   * @return {AV.Query} The query object for status.\n   * @example\n   *   //Find current user's published statuses.\n   *   var query = AV.Status.statusQuery(AV.User.current());\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.statusQuery = function(source) {\n    var query = new AV.Query('_Status');\n    if (source) {\n      query.equalTo('source', source);\n    }\n    return query;\n  };\n\n  /**\n   * <p>AV.InboxQuery defines a query that is used to fetch somebody's inbox statuses.</p>\n   * @class\n   */\n  AV.InboxQuery = AV.Query._extend(\n    /** @lends AV.InboxQuery.prototype */ {\n      _objectClass: AV.Status,\n      _sinceId: 0,\n      _maxId: 0,\n      _inboxType: 'default',\n      _owner: null,\n      _newObject: function() {\n        return new AV.Status();\n      },\n      _createRequest: function(params, options) {\n        return AV.InboxQuery.__super__._createRequest.call(\n          this,\n          params,\n          options,\n          '/subscribe/statuses'\n        );\n      },\n\n      /**\n       * Sets the messageId of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is zero.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      sinceId: function(id) {\n        this._sinceId = id;\n        return this;\n      },\n      /**\n       * Sets the maximal messageId of results\n       * This is useful for pagination.\n       * Default is zero that is no limition.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      maxId: function(id) {\n        this._maxId = id;\n        return this;\n      },\n      /**\n       * Sets the owner of the querying inbox.\n       * @param {AV.User} owner The inbox owner.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      owner: function(owner) {\n        this._owner = owner;\n        return this;\n      },\n      /**\n       * Sets the querying inbox type.default is 'default'.\n       * @param {Object} type The inbox type.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      inboxType: function(type) {\n        this._inboxType = type;\n        return this;\n      },\n      _getParams: function() {\n        var params = AV.InboxQuery.__super__._getParams.call(this);\n        params.owner = AV._encode(this._owner);\n        params.inboxType = AV._encode(this._inboxType);\n        params.sinceId = AV._encode(this._sinceId);\n        params.maxId = AV._encode(this._maxId);\n        return params;\n      },\n    }\n  );\n\n  /**\n   * Create a inbox status query to find someone's inbox statuses.\n   * @since 0.3.0\n   * @param {AV.User} owner The inbox's owner\n   * @param {String} inboxType The inbox type,'default' by default.\n   * @return {AV.InboxQuery} The inbox query object.\n   * @see AV.InboxQuery\n   * @example\n   *   //Find current user's default inbox statuses.\n   *   var query = AV.Status.inboxQuery(AV.User.current());\n   *   //find the statuses after the last message id\n   *   query.sinceId(lastMessageId);\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.inboxQuery = function(owner, inboxType) {\n    var query = new AV.InboxQuery(AV.Status);\n    if (owner) {\n      query._owner = owner;\n    }\n    if (inboxType) {\n      query._inboxType = inboxType;\n    }\n    return query;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/status.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\n\nmodule.exports = function(AV) {\n  /**\n   * A builder to generate sort string for app searching.For example:\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var builder = new AV.SearchSortBuilder();\n   *   builder.ascending('key1').descending('key2','max');\n   *   var query = new AV.SearchQuery('Player');\n   *   query.sortBy(builder);\n   *   query.find().then();\n   */\n  AV.SearchSortBuilder = function() {\n    this._sortFields = [];\n  };\n\n  _.extend(\n    AV.SearchSortBuilder.prototype,\n    /** @lends AV.SearchSortBuilder.prototype */ {\n      _addField: function(key, order, mode, missing) {\n        var field = {};\n        field[key] = {\n          order: order || 'asc',\n          mode: mode || 'avg',\n          missing: '_' + (missing || 'last'),\n        };\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      ascending: function(key, mode, missing) {\n        return this._addField(key, 'asc', mode, missing);\n      },\n\n      /**\n       * Sorts the results in descending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      descending: function(key, mode, missing) {\n        return this._addField(key, 'desc', mode, missing);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Object} options The other options such as mode,order, unit etc.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      whereNear: function(key, point, options) {\n        options = options || {};\n        var field = {};\n        var geo = {\n          lat: point.latitude,\n          lon: point.longitude,\n        };\n        var m = {\n          order: options.order || 'asc',\n          mode: options.mode || 'avg',\n          unit: options.unit || 'km',\n        };\n        m[key] = geo;\n        field['_geo_distance'] = m;\n\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Build a sort string by configuration.\n       * @return {String} the sort string.\n       */\n      build: function() {\n        return JSON.stringify(AV._encode(this._sortFields));\n      },\n    }\n  );\n\n  /**\n   * App searching query.Use just like AV.Query:\n   *\n   * Visit <a href='https://leancloud.cn/docs/app_search_guide.html'>App Searching Guide</a>\n   * for more details.\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var query = new AV.SearchQuery('Player');\n   *   query.queryString('*');\n   *   query.find().then(function(results) {\n   *     console.log('Found %d objects', query.hits());\n   *     //Process results\n   *   });\n   */\n  AV.SearchQuery = AV.Query._extend(\n    /** @lends AV.SearchQuery.prototype */ {\n      _sid: null,\n      _hits: 0,\n      _queryString: null,\n      _highlights: null,\n      _sortBuilder: null,\n      _createRequest: function(params, options) {\n        return AVRequest(\n          'search/select',\n          null,\n          null,\n          'GET',\n          params || this._getParams(),\n          options\n        );\n      },\n\n      /**\n       * Sets the sid of app searching query.Default is null.\n       * @param {String} sid  Scroll id for searching.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      sid: function(sid) {\n        this._sid = sid;\n        return this;\n      },\n\n      /**\n       * Sets the query string of app searching.\n       * @param {String} q  The query string.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      queryString: function(q) {\n        this._queryString = q;\n        return this;\n      },\n\n      /**\n       * Sets the highlight fields. Such as\n       * <pre><code>\n       *   query.highlights('title');\n       *   //or pass an array.\n       *   query.highlights(['title', 'content'])\n       * </code></pre>\n       * @param {String|String[]} highlights a list of fields.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      highlights: function(highlights) {\n        var objects;\n        if (highlights && _.isString(highlights)) {\n          objects = arguments;\n        } else {\n          objects = highlights;\n        }\n        this._highlights = objects;\n        return this;\n      },\n\n      /**\n       * Sets the sort builder for this query.\n       * @see AV.SearchSortBuilder\n       * @param { AV.SearchSortBuilder} builder The sort builder.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       *\n       */\n      sortBy: function(builder) {\n        this._sortBuilder = builder;\n        return this;\n      },\n\n      /**\n       * Returns the number of objects that match this query.\n       * @return {Number}\n       */\n      hits: function() {\n        if (!this._hits) {\n          this._hits = 0;\n        }\n        return this._hits;\n      },\n\n      _processResult: function(json) {\n        delete json['className'];\n        delete json['_app_url'];\n        delete json['_deeplink'];\n        return json;\n      },\n\n      /**\n       * Returns true when there are more documents can be retrieved by this\n       * query instance, you can call find function to get more results.\n       * @see AV.SearchQuery#find\n       * @return {Boolean}\n       */\n      hasMore: function() {\n        return !this._hitEnd;\n      },\n\n      /**\n       * Reset current query instance state(such as sid, hits etc) except params\n       * for a new searching. After resetting, hasMore() will return true.\n       */\n      reset: function() {\n        this._hitEnd = false;\n        this._sid = null;\n        this._hits = 0;\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       * Either options.success or options.error is called when the find\n       * completes.\n       *\n       * @see AV.Query#find\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find: function() {\n        var self = this;\n\n        var request = this._createRequest();\n\n        return request.then(function(response) {\n          //update sid for next querying.\n          if (response.sid) {\n            self._oldSid = self._sid;\n            self._sid = response.sid;\n          } else {\n            self._sid = null;\n            self._hitEnd = true;\n          }\n          self._hits = response.hits || 0;\n\n          return _.map(response.results, function(json) {\n            if (json.className) {\n              response.className = json.className;\n            }\n            var obj = self._newObject(response);\n            obj.appURL = json['_app_url'];\n            obj._finishFetch(self._processResult(json), true);\n            return obj;\n          });\n        });\n      },\n\n      _getParams: function() {\n        var params = AV.SearchQuery.__super__._getParams.call(this);\n        delete params.where;\n        if (this.className) {\n          params.clazz = this.className;\n        }\n        if (this._sid) {\n          params.sid = this._sid;\n        }\n        if (!this._queryString) {\n          throw new Error('Please set query string.');\n        } else {\n          params.q = this._queryString;\n        }\n        if (this._highlights) {\n          params.highlights = this._highlights.join(',');\n        }\n        if (this._sortBuilder && params.order) {\n          throw new Error('sort and order can not be set at same time.');\n        }\n        if (this._sortBuilder) {\n          params.sort = this._sortBuilder.build();\n        }\n\n        return params;\n      },\n    }\n  );\n};\n\n/**\n * Sorts the results in ascending order by the given key.\n *\n * @method AV.SearchQuery#ascending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in ascending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addAscending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Sorts the results in descending order by the given key.\n *\n * @method AV.SearchQuery#descending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in descending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addDescending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Include nested AV.Objects for the provided key.  You can use dot\n * notation to specify which fields in the included object are also fetch.\n * @method AV.SearchQuery#include\n * @param {String[]} keys The name of the key to include.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the number of results to skip before returning any results.\n * This is useful for pagination.\n * Default is to skip zero results.\n * @method AV.SearchQuery#skip\n * @param {Number} n the number of results to skip.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the limit of the number of results to return. The default limit is\n * 100, with a maximum of 1000 results being returned at a time.\n * @method AV.SearchQuery#limit\n * @param {Number} n the number of results to limit to.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/search.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   *  LeanCloud\n   *  <a href='/docs/leaninsight_guide.html'></a>\n   * <p><strong><em>\n   *   \n   * </em></strong></p>\n   * @namespace\n   */\n  AV.Insight = AV.Insight || {};\n\n  _.extend(\n    AV.Insight,\n    /** @lends AV.Insight */ {\n      /**\n       *  Insight  Job id id \n       * AV.Insight.JobQuery \n       * @param {Object} jobConfig  JSON <code><pre>\n       *                   { \"sql\" : \"select count(*) as c,gender from _User group by gender\",\n       *                     \"saveAs\": {\n       *                         \"className\" : \"UserGender\",\n       *                         \"limit\": 1\n       *                      }\n       *                   }\n       *                  </pre></code>\n       *               sql  SQL  saveAs limit  1000\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      startJob: function(jobConfig, options) {\n        if (!jobConfig || !jobConfig.sql) {\n          throw new Error('Please provide the sql to run the job.');\n        }\n        var data = {\n          jobConfig: jobConfig,\n          appId: AV.applicationId,\n        };\n        return request({\n          path: '/bigquery/jobs',\n          method: 'POST',\n          data: AV._encode(data, null, true),\n          authOptions: options,\n          signKey: false,\n        }).then(resp => AV._decode(resp).id);\n      },\n\n      /**\n       *  Insight \n       *  <p><strong><em>\n       *     \n       *  </em></strong></p>\n       * @param {String} event \n       * @param {Function}  (err, id) err \n       *                   id  id id AV.Insight.JobQuery \n       *\n       */\n      on: function(event, cb) {},\n    }\n  );\n\n  /**\n   *  Insight \n   * @class\n   * @param {String} id  id\n   * @since 0.5.5\n   */\n  AV.Insight.JobQuery = function(id, className) {\n    if (!id) {\n      throw new Error('Please provide the job id.');\n    }\n    this.id = id;\n    this.className = className;\n    this._skip = 0;\n    this._limit = 100;\n  };\n\n  _.extend(\n    AV.Insight.JobQuery.prototype,\n    /** @lends AV.Insight.JobQuery.prototype */ {\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       *  JSON  status  totalCount \n       * results previewCount \n       * startTimeendTime \n       *\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       *\n       */\n      find: function(options) {\n        var params = {\n          skip: this._skip,\n          limit: this._limit,\n        };\n\n        return request({\n          path: `/bigquery/jobs/${this.id}`,\n          method: 'GET',\n          query: params,\n          authOptions: options,\n          signKey: false,\n        }).then(function(response) {\n          if (response.error) {\n            return Promise.reject(new AVError(response.code, response.error));\n          }\n          return Promise.resolve(response);\n        });\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/insight.js","const _ = require('underscore');\nconst { _request } = require('./request');\nconst AV = require('./av');\n\nconst serializeMessage = message => {\n  if (typeof message === 'string') {\n    return message;\n  }\n  if (typeof message.getPayload === 'function') {\n    return JSON.stringify(message.getPayload());\n  }\n  return JSON.stringify(message);\n};\n\n/**\n * <p>An AV.Conversation is a local representation of a LeanCloud realtime's\n * conversation. This class is a subclass of AV.Object, and retains the\n * same functionality of an AV.Object, but also extends it with various\n * conversation specific methods, like get members, creators of this conversation.\n * </p>\n *\n * @class AV.Conversation\n * @param {String} name The name of the Role to create.\n * @param {Object} [options]\n * @param {Boolean} [options.isSystem] Set this conversation as system conversation.\n * @param {Boolean} [options.isTransient] Set this conversation as transient conversation.\n */\nmodule.exports = AV.Object.extend(\n  '_Conversation',\n  /** @lends AV.Conversation.prototype */ {\n    constructor(name, options = {}) {\n      AV.Object.prototype.constructor.call(this, null, null);\n      this.set('name', name);\n      if (options.isSystem !== undefined) {\n        this.set('sys', options.isSystem ? true : false);\n      }\n      if (options.isTransient !== undefined) {\n        this.set('tr', options.isTransient ? true : false);\n      }\n    },\n    /**\n     * Get current conversation's creator.\n     *\n     * @return {String}\n     */\n    getCreator() {\n      return this.get('c');\n    },\n\n    /**\n     * Get the last message's time.\n     *\n     * @return {Date}\n     */\n    getLastMessageAt() {\n      return this.get('lm');\n    },\n\n    /**\n     * Get this conversation's members\n     *\n     * @return {String[]}\n     */\n    getMembers() {\n      return this.get('m');\n    },\n\n    /**\n     * Add a member to this conversation\n     *\n     * @param {String} member\n     */\n    addMember(member) {\n      return this.add('m', member);\n    },\n\n    /**\n     * Get this conversation's members who set this conversation as muted.\n     *\n     * @return {String[]}\n     */\n    getMutedMembers() {\n      return this.get('mu');\n    },\n\n    /**\n     * Get this conversation's name field.\n     *\n     * @return String\n     */\n    getName() {\n      return this.get('name');\n    },\n\n    /**\n     * Returns true if this conversation is transient conversation.\n     *\n     * @return {Boolean}\n     */\n    isTransient() {\n      return this.get('tr');\n    },\n\n    /**\n     * Returns true if this conversation is system conversation.\n     *\n     * @return {Boolean}\n     */\n    isSystem() {\n      return this.get('sys');\n    },\n\n    /**\n     * Send realtime message to this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}\n     * @param {Object} [options]\n     * @param {Boolean} [options.transient] Whether send this message as transient message or not.\n     * @param {String[]} [options.toClients] Ids of clients to send to. This option can be used only in system conversation.\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    send(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        transient: false,\n        message: serializeMessage(message),\n      };\n      if (options.toClients !== undefined) {\n        data.to_peers = options.toClients;\n      }\n      if (options.transient !== undefined) {\n        data.transient = options.transient ? true : false;\n      }\n      if (options.pushData !== undefined) {\n        data.push_data = options.pushData;\n      }\n      return _request('rtm', 'messages', null, 'POST', data, authOptions);\n    },\n\n    /**\n     * Send realtime broadcast message to all clients, via this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}.\n     * @param {Object} [options]\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }.\n     * @param {Object} [options.validTill] The message will valid till this time.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    broadcast(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        message: serializeMessage(message),\n      };\n      if (options.pushData !== undefined) {\n        data.push = options.pushData;\n      }\n      if (options.validTill !== undefined) {\n        let ts = options.validTill;\n        if (_.isDate(ts)) {\n          ts = ts.getTime();\n        }\n        options.valid_till = ts;\n      }\n      return _request('rtm', 'broadcast', null, 'POST', data, authOptions);\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/conversation.js","const _ = require('underscore');\nconst { request } = require('./request');\nconst { ensureArray, parseDate } = require('./utils');\nconst AV = require('./av');\n\n/**\n * The version change interval for Leaderboard\n * @enum\n */\nAV.LeaderboardVersionChangeInterval = {\n  NEVER: 'never',\n  DAY: 'day',\n  WEEK: 'week',\n  MONTH: 'month',\n};\n\n/**\n * The order of the leaderboard results\n * @enum\n */\nAV.LeaderboardOrder = {\n  ASCENDING: 'ascending',\n  DESCENDING: 'descending',\n};\n\n/**\n * The update strategy for Leaderboard\n * @enum\n */\nAV.LeaderboardUpdateStrategy = {\n  /** Only keep the best statistic. If the leaderboard is in descending order, the best statistic is the highest one. */\n  BETTER: 'better',\n  /** Keep the last updated statistic */\n  LAST: 'last',\n  /** Keep the sum of all updated statistics */\n  SUM: 'sum',\n};\n\n/**\n * @typedef {Object} Ranking\n * @property {number} rank Starts at 0\n * @property {number} value the statistic value of this ranking\n * @property {AV.User} user The user of this ranking\n * @property {Statistic[]} [includedStatistics] Other statistics of the user, specified by the `includeStatistic` option of `AV.Leaderboard.getResults()`\n */\n\n/**\n * @typedef {Object} LeaderboardArchive\n * @property {string} statisticName\n * @property {number} version version of the leaderboard\n * @property {string} status\n * @property {string} url URL for the downloadable archive\n * @property {Date} activatedAt time when this version became active\n * @property {Date} deactivatedAt time when this version was deactivated by a version incrementing\n */\n\n/**\n * @class\n */\nfunction Statistic({ name, value, version }) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {number}\n   */\n  this.value = value;\n  /**\n   * @type {number?}\n   */\n  this.version = version;\n}\n\nconst parseStatisticData = statisticData => {\n  const { statisticName: name, statisticValue: value, version } = AV._decode(\n    statisticData\n  );\n  return new Statistic({ name, value, version });\n};\n\n/**\n * @class\n */\nAV.Leaderboard = function Leaderboard(statisticName) {\n  /**\n   * @type {string}\n   */\n  this.statisticName = statisticName;\n  /**\n   * @type {AV.LeaderboardOrder}\n   */\n  this.order = undefined;\n  /**\n   * @type {AV.LeaderboardUpdateStrategy}\n   */\n  this.updateStrategy = undefined;\n  /**\n   * @type {AV.LeaderboardVersionChangeInterval}\n   */\n  this.versionChangeInterval = undefined;\n  /**\n   * @type {number}\n   */\n  this.version = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.nextResetAt = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.createdAt = undefined;\n};\nconst Leaderboard = AV.Leaderboard;\n\n/**\n * Create an instance of Leaderboard for the give statistic name.\n * @param {string} statisticName\n * @return {AV.Leaderboard}\n */\nAV.Leaderboard.createWithoutData = statisticName =>\n  new Leaderboard(statisticName);\n/**\n * (masterKey required) Create a new Leaderboard.\n * @param {Object} options\n * @param {string} options.statisticName\n * @param {AV.LeaderboardOrder} options.order\n * @param {AV.LeaderboardVersionChangeInterval} [options.versionChangeInterval] default to WEEK\n * @param {AV.LeaderboardUpdateStrategy} [options.updateStrategy] default to BETTER\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.createLeaderboard = (\n  { statisticName, order, versionChangeInterval, updateStrategy },\n  authOptions\n) =>\n  request({\n    method: 'POST',\n    path: '/leaderboard/leaderboards',\n    data: {\n      statisticName,\n      order,\n      versionChangeInterval,\n      updateStrategy,\n    },\n    authOptions,\n  }).then(data => {\n    const leaderboard = new Leaderboard(statisticName);\n    return leaderboard._finishFetch(data);\n  });\n/**\n * Get the Leaderboard with the specified statistic name.\n * @param {string} statisticName\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.getLeaderboard = (statisticName, authOptions) =>\n  Leaderboard.createWithoutData(statisticName).fetch(authOptions);\n/**\n * Get Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} [options]\n * @param {string[]} [options.statisticNames] Specify the statisticNames. If not set, all statistics of the user will be fetched.\n * @param {AuthOptions} [authOptions]\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.getStatistics = (user, { statisticNames } = {}, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'GET',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: statisticNames\n          ? ensureArray(statisticNames).join(',')\n          : undefined,\n      },\n      authOptions,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Update Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to update.\n * @param {AuthOptions} [options] AuthOptions plus:\n * @param {boolean} [options.overwrite] Wethere to overwrite these statistics disregarding the updateStrategy of there leaderboards\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.updateStatistics = (user, statistics, options = {}) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    const data = _.map(statistics, (value, key) => ({\n      statisticName: key,\n      statisticValue: value,\n    }));\n    const { overwrite } = options;\n    return request({\n      method: 'POST',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        overwrite: overwrite ? 1 : undefined,\n      },\n      data,\n      authOptions: options,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Delete Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to delete.\n * @param {AuthOptions} [options]\n * @return {Promise<void>}\n */\nAV.Leaderboard.deleteStatistics = (user, statisticNames, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'DELETE',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: ensureArray(statisticNames).join(','),\n      },\n      authOptions,\n    }).then(() => undefined);\n  });\n\n_.extend(\n  Leaderboard.prototype,\n  /** @lends AV.Leaderboard.prototype */ {\n    _finishFetch(data) {\n      _.forEach(data, (value, key) => {\n        if (key === 'updatedAt' || key === 'objectId') return;\n        if (key === 'expiredAt') {\n          key = 'nextResetAt';\n        }\n        if (key === 'createdAt') {\n          value = parseDate(value);\n        }\n        if (value && value.__type === 'Date') {\n          value = parseDate(value.iso);\n        }\n        this[key] = value;\n      });\n      return this;\n    },\n    /**\n     * Fetch data from the srever.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    fetch(authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * Counts the number of users participated in this leaderboard\n     * @param {Object} [options]\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<number>}\n     */\n    count({ version } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks`,\n        query: {\n          count: 1,\n          limit: 0,\n          version,\n        },\n        authOptions,\n      }).then(({ count }) => count);\n    },\n    _getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      },\n      authOptions,\n      userId\n    ) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks${\n          userId ? `/${userId}` : ''\n        }`,\n        query: {\n          skip,\n          limit,\n          selectUserKeys:\n            _.union(\n              ensureArray(selectUserKeys),\n              ensureArray(includeUserKeys)\n            ).join(',') || undefined,\n          includeUser: includeUserKeys\n            ? ensureArray(includeUserKeys).join(',')\n            : undefined,\n          includeStatistics: includeStatistics\n            ? ensureArray(includeStatistics).join(',')\n            : undefined,\n          version,\n        },\n        authOptions,\n      }).then(({ results: rankings }) =>\n        rankings.map(rankingData => {\n          const {\n            user,\n            statisticValue: value,\n            rank,\n            statistics = [],\n          } = AV._decode(rankingData);\n          return {\n            user,\n            value,\n            rank,\n            includedStatistics: statistics.map(parseStatisticData),\n          };\n        })\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = {},\n      authOptions\n    ) {\n      return this._getResults(\n        {\n          skip,\n          limit,\n          selectUserKeys,\n          includeUserKeys,\n          includeStatistics,\n          version,\n        },\n        authOptions\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard, centered on the specified user.\n     * @param {AV.User} user The specified AV.User pointer.\n     * @param {Object} [options]\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResultsAroundUser(user, options = {}, authOptions) {\n      // getResultsAroundUser(options, authOptions)\n      if (user && typeof user.id !== 'string') {\n        return this.getResultsAroundUser(undefined, user, options);\n      }\n      const {\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = options;\n      return this._getResults(\n        { limit, selectUserKeys, includeUserKeys, includeStatistics, version },\n        authOptions,\n        user ? user.id : 'self'\n      );\n    },\n    _update(data, authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        data,\n        authOptions,\n      }).then(result => this._finishFetch(result));\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardVersionChangeInterval} versionChangeInterval\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateVersionChangeInterval(versionChangeInterval, authOptions) {\n      return this._update({ versionChangeInterval }, authOptions);\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardUpdateStrategy} updateStrategy\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateUpdateStrategy(updateStrategy, authOptions) {\n      return this._update({ updateStrategy }, authOptions);\n    },\n    /**\n     * (masterKey required) Reset the Leaderboard. The version of the Leaderboard will be incremented by 1.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    reset(authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}/incrementVersion`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * (masterKey required) Delete the Leaderboard and its all archived versions.\n     * @param {AuthOptions} [authOptions]\n     * @return {void}\n     */\n    destroy(authOptions) {\n      return AV.request({\n        method: 'DELETE',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(() => undefined);\n    },\n    /**\n     * (masterKey required) Get archived versions.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<LeaderboardArchive[]>}\n     */\n    getArchives({ skip, limit } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/archives`,\n        query: {\n          skip,\n          limit,\n        },\n        authOptions,\n      }).then(({ results }) =>\n        results.map(({ version, status, url, activatedAt, deactivatedAt }) => ({\n          statisticName: this.statisticName,\n          version,\n          status,\n          url,\n          activatedAt: parseDate(activatedAt.iso),\n          deactivatedAt: parseDate(deactivatedAt.iso),\n        }))\n      );\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/leaderboard.js","const adapters = require('@leancloud/platform-adapters-node');\nconst getUA = require('../ua');\nconst comments = (process.env.CLIENT_PLATFORM\n  ? [process.env.CLIENT_PLATFORM]\n  : []\n).concat(require('../ua/comments'));\n\nmodule.exports = AV => {\n  AV.setAdapters(adapters);\n  AV._sharedConfig.userAgent = getUA(comments);\n  return AV;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/use-adapters.js","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"miniprogram-api-typings\");\nexports.storage = {\n    getItem: function (key) {\n        return wx.getStorageSync(key);\n    },\n    setItem: function (key, value) {\n        return wx.setStorageSync(key, value);\n    },\n    removeItem: function (key) {\n        return this.setItem(key, \"\");\n    },\n    clear: function () {\n        return wx.clearStorageSync();\n    }\n};\nvar event_target_shim_1 = require(\"event-target-shim\");\nvar EVENTS = [\"open\", \"error\", \"message\", \"close\"];\nvar WS = /** @class */ (function (_super) {\n    __extends(WS, _super);\n    function WS(url, protocol) {\n        var _this = this;\n        if (!url) {\n            throw new TypeError(\"Failed to construct 'WebSocket': url required\");\n        }\n        if (protocol &&\n            !(wx.canIUse && wx.canIUse(\"connectSocket.object.protocols\"))) {\n            throw new Error(\"subprotocol not supported in weapp\");\n        }\n        _this = _super.call(this) || this;\n        _this._url = url;\n        _this._protocol = protocol;\n        _this._readyState = WS.CONNECTING;\n        var errorHandler = function (event) {\n            _this._readyState = WS.CLOSED;\n            _this.dispatchEvent({\n                type: \"error\",\n                message: event.errMsg\n            });\n        };\n        var socketTask = wx.connectSocket({\n            url: url,\n            protocols: _this._protocol === undefined || Array.isArray(_this._protocol)\n                ? _this._protocol\n                : [_this._protocol],\n            fail: function (error) { return setTimeout(function () { return errorHandler(error); }, 0); }\n        });\n        _this._socketTask = socketTask;\n        socketTask.onOpen(function (event) {\n            _this._readyState = WS.OPEN;\n            _this.dispatchEvent({\n                type: \"open\"\n            });\n        });\n        socketTask.onError(errorHandler);\n        socketTask.onMessage(function (event) {\n            var data = event.data;\n            _this.dispatchEvent({\n                data: data,\n                type: \"message\"\n            });\n        });\n        socketTask.onClose(function (event) {\n            _this._readyState = WS.CLOSED;\n            var code = event.code, reason = event.reason;\n            _this.dispatchEvent({\n                code: code,\n                reason: reason,\n                type: \"close\"\n            });\n        });\n        return _this;\n    }\n    Object.defineProperty(WS.prototype, \"url\", {\n        get: function () {\n            return this._url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"protocol\", {\n        get: function () {\n            return this._protocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WS.prototype, \"readyState\", {\n        get: function () {\n            return this._readyState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WS.prototype.close = function () {\n        if (this.readyState === WS.CLOSED)\n            return;\n        if (this.readyState === WS.CONNECTING) {\n            console.warn(\"close WebSocket which is connecting might not work\");\n        }\n        this._socketTask.close({});\n    };\n    WS.prototype.send = function (data) {\n        if (this.readyState !== WS.OPEN) {\n            throw new Error(\"INVALID_STATE_ERR\");\n        }\n        if (!(typeof data === \"string\" || data instanceof ArrayBuffer)) {\n            throw new TypeError(\"only String/ArrayBuffer supported\");\n        }\n        this._socketTask.send({\n            data: data\n        });\n    };\n    WS.CONNECTING = 0;\n    WS.OPEN = 1;\n    WS.CLOSING = 2;\n    WS.CLOSED = 3;\n    return WS;\n}(event_target_shim_1.EventTarget(EVENTS)));\nexports.WebSocket = WS;\nexports.request = function (url, _a) {\n    var _b = _a === void 0 ? {} : _a, method = _b.method, data = _b.data, headers = _b.headers;\n    return new Promise(function (resolve, reject) {\n        return wx.request({\n            url: url,\n            method: method,\n            data: data,\n            header: headers,\n            responseType: \"text\",\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n    });\n};\nexports.upload = function (url, file, _a) {\n    var _b = _a === void 0 ? {} : _a, headers = _b.headers, data = _b.data, onprogress = _b.onprogress;\n    if (!(file && file.data && file.data.uri)) {\n        return Promise.reject(new TypeError(\"File data must be an object like { uri: localPath }.\"));\n    }\n    return new Promise(function (resolve, reject) {\n        var _a;\n        var task = wx.uploadFile({\n            url: url,\n            header: headers,\n            filePath: file.data.uri,\n            name: file.field,\n            formData: data,\n            success: function (response) {\n                var status = response.statusCode, data = response.data, rest = __rest(response, [\"statusCode\", \"data\"]);\n                resolve(__assign(__assign({}, rest), { data: typeof data === \"string\" ? JSON.parse(data) : data, status: status, ok: !(status >= 400) }));\n            },\n            fail: function (response) {\n                reject(new Error(response.errMsg));\n            }\n        });\n        (_a = task === null || task === void 0 ? void 0 : task.onProgressUpdate) === null || _a === void 0 ? void 0 : _a.call(task, function (_a) {\n            var progress = _a.progress, totalBytesSent = _a.totalBytesSent, totalBytesExpectedToSend = _a.totalBytesExpectedToSend;\n            return onprogress === null || onprogress === void 0 ? void 0 : onprogress({\n                percent: progress,\n                loaded: totalBytesSent,\n                total: totalBytesExpectedToSend\n            });\n        });\n    });\n};\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@leancloud/platform-adapters-weapp/lib/index.js\n// module id = 170\n// module chunks = 0 1","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-target-shim/dist/event-target-shim.js","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/map.js\n// module id = 173\n// module chunks = 0 1","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/map.js\n// module id = 174\n// module chunks = 0 1","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.map.js\n// module id = 175\n// module chunks = 0 1","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-strong.js\n// module id = 176\n// module chunks = 0 1","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-species-create.js\n// module id = 177\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-species-constructor.js\n// module id = 178\n// module chunks = 0 1","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.to-json.js\n// module id = 179\n// module chunks = 0 1","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-to-json.js\n// module id = 180\n// module chunks = 0 1","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-from-iterable.js\n// module id = 181\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.of.js\n// module id = 182\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.map.from.js\n// module id = 183\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/create.js\n// module id = 184\n// module chunks = 0 1","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/create.js\n// module id = 185\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.create.js\n// module id = 186\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/set-prototype-of.js\n// module id = 187\n// module chunks = 0 1","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/set-prototype-of.js\n// module id = 188\n// module chunks = 0 1","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.set-prototype-of.js\n// module id = 189\n// module chunks = 0 1","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-proto.js\n// module id = 190\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/weak-map\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/weak-map.js\n// module id = 191\n// module chunks = 0 1","require('../modules/es6.object.to-string');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es7.weak-map.of');\nrequire('../modules/es7.weak-map.from');\nmodule.exports = require('../modules/_core').WeakMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/weak-map.js\n// module id = 192\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.weak-map.js\n// module id = 193\n// module chunks = 0 1","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = 194\n// module chunks = 0 1","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_collection-weak.js\n// module id = 195\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.weak-map.of.js\n// module id = 196\n// module chunks = 0 1","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.weak-map.from.js\n// module id = 197\n// module chunks = 0 1","module.exports = [];\n\n\n\n// WEBPACK FOOTER //\n// ./src/ua/comments-browser.js"],"sourceRoot":""}