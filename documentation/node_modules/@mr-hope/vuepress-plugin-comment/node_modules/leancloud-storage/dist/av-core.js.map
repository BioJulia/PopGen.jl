{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 56c86da3c877a4c599dd","webpack:///./node_modules/underscore/underscore.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./src/utils/index.js","webpack:///./src/request.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./src/error.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./src/av.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./src/adapter.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/uuid/v4.js","webpack:///./src/version.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./src/localstorage.js","webpack:///./src/cache.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/charenc/charenc.js","webpack:///./src/entry/core.js","webpack:///./src/index.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_user-agent.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/ms/index.js","webpack:///./src/ua/index.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/promise-timeout/index.js","webpack:///./src/init.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/app-router.js","webpack:///./src/event.js","webpack:///./src/geopoint.js","webpack:///./src/acl.js","webpack:///./src/op.js","webpack:///./src/relation.js","webpack:///./src/file.js","webpack:///./src/uploader/cos.js","webpack:///./src/uploader/qiniu.js","webpack:///./src/uploader/s3.js","webpack:///./node_modules/md5/md5.js","webpack:///./node_modules/crypt/crypt.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./src/utils/parse-base64-browser.js","webpack:///./src/object.js","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/role.js","webpack:///./src/user.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./src/query.js","webpack:///./src/live-query.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./src/captcha.js","webpack:///./src/cloudfunction.js","webpack:///./src/push.js","webpack:///./src/status.js","webpack:///./src/search.js","webpack:///./src/insight.js","webpack:///./src/conversation.js","webpack:///./src/leaderboard.js"],"names":["_","require","timeout","debug","debugRequest","debugRequestError","getAdapter","requestsCount","ajax","method","url","query","data","headers","time","onprogress","queryString","map","value","key","undefined","v","encodeURIComponent","filter","qs","join","count","request","promise","then","response","status","text","header","ok","error","Error","catch","enabled","statusCode","responseText","isNullOrUndefined","isNull","x","isUndefined","ensureArray","isArray","target","transformFetchOptions","keys","include","includeACL","fetchOptions","returnACL","getSessionToken","authOptions","sessionToken","user","tap","interceptor","EmptyConstructor","inherits","parent","protoProps","staticProps","child","hasOwnProperty","constructor","apply","arguments","extend","prototype","__super__","parseDate","Date","iso8601","setValue","segs","split","lastSeg","pop","currentTarget","forEach","seg","findValue","firstSeg","i","length","isPlainObject","isObject","obj","Object","continueWhile","predicate","asyncFunction","resolve","module","exports","md5","AV","sign","isMasterKey","now","getTime","signature","setAppKey","signKey","applicationKey","setHeaders","applicationId","useMasterKey","_config","masterKey","console","warn","hookKey","production","String","process","_sharedConfig","userAgent","disableCurrentUser","User","currentAsync","currentUser","_sessionToken","createApiUrl","service","version","path","apiURL","serverURLs","charAt","_appRouter","refresh","requestTimeout","errorJSON","code","message","JSON","parse","e","rawMessage","keepErrorRawMessage","err","_request","route","className","objectId","_fetchWhenSave","_where","toLowerCase","AVError","OTHER_CAUSE","INTERNAL_SERVER_ERROR","CONNECTION_FAILED","OBJECT_NOT_FOUND","INVALID_QUERY","INVALID_CLASS_NAME","MISSING_OBJECT_ID","INVALID_KEY_NAME","INVALID_POINTER","INVALID_JSON","COMMAND_UNAVAILABLE","NOT_INITIALIZED","INCORRECT_TYPE","INVALID_CHANNEL_NAME","PUSH_MISCONFIGURED","OBJECT_TOO_LARGE","OPERATION_FORBIDDEN","CACHE_MISS","INVALID_NESTED_KEY","INVALID_FILE_NAME","INVALID_ACL","TIMEOUT","INVALID_EMAIL_ADDRESS","MISSING_CONTENT_TYPE","MISSING_CONTENT_LENGTH","INVALID_CONTENT_LENGTH","FILE_TOO_LARGE","FILE_SAVE_ERROR","FILE_DELETE_ERROR","DUPLICATE_VALUE","INVALID_ROLE_NAME","EXCEEDED_QUOTA","SCRIPT_FAILED","VALIDATION_ERROR","INVALID_IMAGE_DATA","UNSAVED_FILE_ERROR","INVALID_PUSH_TIME_ERROR","USERNAME_MISSING","PASSWORD_MISSING","USERNAME_TAKEN","EMAIL_TAKEN","EMAIL_MISSING","EMAIL_NOT_FOUND","SESSION_MISSING","MUST_CREATE_USER_THROUGH_SIGNUP","ACCOUNT_ALREADY_LINKED","LINKED_ID_MISSING","INVALID_LINKED_SESSION","UNSUPPORTED_SERVICE","X_DOMAIN_REQUEST","uuid","getUA","setAdapters","global","realtime","liveQueryRealtime","_getAVPath","isString","substring","_installationId","_getInstallationId","localStorage","getItemAsync","setItemAsync","_subscriptionId","_refreshSubscriptionId","subscriptionId","_getSubscriptionId","_parseDate","_extend","classProps","_encode","seenObjects","disallowObjects","full","_hasData","_toPointer","_toFullJSON","concat","ACL","toJSON","isDate","__type","iso","GeoPoint","isRegExp","source","Relation","Op","File","id","mapObject","k","_decode","__op","pointer","_create","clone","_finishFetch","object","latitude","longitude","relation","targetClassName","file","name","parseJSON","stringify","_encodeObjectOrArray","encodeAVObject","_arrayEach","each","_traverse","func","seen","indexOf","push","attributes","index","newChild","_each","_objectEach","callback","enable","namespaces","disable","adapters","adapter","newAdapters","syncApiNames","async","apiName","storage","removeAsync","removeItemAsync","bind","getCacheData","cacheData","expired","expiredAt","getAsync","cache","setAsync","ttl","Promise","Cache","Conversation","comments","ua","AppRouter","isEmpty","isCNApp","appId","slice","fillServerURLs","stats","engine","api","rtm","getDefaultServerURLs","domain","_disableAppRouter","_initialized","init","options","appKey","serverURL","TypeError","setProduction","disableAppRouter","_setServerURLs","server","RTMRouter","Cloud","urls","setServerURL","setServerURLs","setRequestTimeout","ms","initialize","defineConfig","property","get","set","lockedUntil","disabled","lock","servers","protocal","push_server","stats_server","engine_server","api_server","eventSplitter","Array","Events","on","events","context","calls","event","node","tail","list","_callbacks","shift","next","off","cb","ctx","trigger","args","all","rest","call","unbind","arg1","arg2","_validate","isNumber","self","__defineGetter__","__defineSetter__","_latitude","_longitude","val","current","reject","navigator","geolocation","getCurrentPosition","location","coords","radiansTo","point","d2r","Math","PI","lat1rad","long1rad","lat2rad","long2rad","deltaLat","deltaLong","sinDeltaLatDiv2","sin","sinDeltaLongDiv2","a","cos","min","asin","sqrt","kilometersTo","milesTo","PUBLIC_KEY","permissionsById","setReadAccess","setWriteAccess","isFunction","accessList","userId","allowed","permission","isBoolean","_setAccess","accessType","Role","getName","permissions","_getAccess","getReadAccess","getWriteAccess","setPublicReadAccess","getPublicReadAccess","setPublicWriteAccess","getPublicWriteAccess","getRoleReadAccess","role","getRoleWriteAccess","setRoleReadAccess","setRoleWriteAccess","_initialize","_opDecoderMap","_registerDecoder","opName","decoder","json","op","ops","nextOp","_mergeWithPrevious","Set","_value","previous","_estimate","oldValue","_UNSET","Unset","Increment","amount","_amount","BitAnd","BitOr","BitXor","Add","objects","_objects","AddUnique","uniq","newValue","matchingObj","find","anObj","contains","Remove","union","difference","other","adds","removes","_targetClassName","pointerToId","relationsToAdd","relationsToRemove","added","removed","idToPointer","pointers","newAdd","newRemove","newRelation","reverseQuery","parentClass","relationKey","Query","equalTo","_ensureParentAndKey","add","change","remove","targetClass","_getSubclass","_defaultParams","redirectClassNameForKey","_addCondition","qiniu","s3","AVRequest","parseBase64","hexOctet","floor","random","toString","extname","match","b64Digit","number","fromCharCode","encodeBase64","array","chunks","ceil","times","b1","b2","b3","has2","has3","mimeType","metaData","base64","size","_extName","_data","_uploadHeaders","blob","uri","Blob","owner","withURL","type","prop","__source","createWithoutData","_operations","has","toFullJSON","holder","getACL","_acl","setACL","acl","attrName","setUploadHeader","attr","thumbnailURL","width","height","quality","scaleToFit","fmt","mode","ownerId","destroy","_fileToken","extName","keep_file_name","keepFileName","mime_type","_qiniu_key","save","_previousSave","uploadInfo","_token","token","_options","direction","provider","_callback","success","result","fetch","bucket","saveOptions","_bucket","upload_url","fileFormData","field","upload","uptoken","dataURItoBlob","dataURI","byteString","atob","unescape","ia","Uint8Array","charCodeAt","recursiveToPointer","RESERVED_KEYS","checkReservedKey","handleBatchResults","firstError","results","getValue","_mergeMagicFields","defaults","collection","_serverData","_opSetQueue","_flags","_hashedJSON","_escapedAttributes","cid","uniqueId","changed","_silent","_pending","silent","_previousAttributes","saveAll","_deepSaveAsync","fetchAll","requests","dirty","fetchedAttrs","_cleanupUnsetKeys","fetchWhenSave","getObjectId","getCreatedAt","createdAt","getUpdatedAt","updatedAt","newSeenObjects","_refreshCache","_refreshingCache","_resetCacheForKey","currentChanges","last","dirtyKeys","escape","html","escaped","attrs","model","specialFields","_startSave","_cancelSave","failedChanges","first","nextChanges","op1","op2","_saving","_finishSave","serverData","fetchedObjects","savedChanges","_applyOpSet","fetched","_rebuildAllEstimatedData","opSetQueue","hasData","opSet","actualTarget","actualKey","wasSet","_rebuildEstimatedDataForKey","firstKey","previousAttributes","unset","unused_value","dataToValidate","changes","isRealChange","isEqual","increment","item","addUnique","bitAnd","bitOr","bitXor","clear","keysToClear","revert","lastOp","_keys","_getSaveJSON","_canBeSerialized","_canBeSerializedAsValue","fetchedKeys","arg3","wait","setOptions","unsavedChildren","unsavedFiles","_findUnsavedChildren","_allPreviousSaves","_failOnNotExist","failOnNotExist","queryParams","_getParams","where","makeRequest","_makeRequest","requestPromise","resp","serverAttrs","triggerDestroy","output","isNew","changing","_changing","deleteChanged","isValid","validate","disableBeforeHook","ignoreHook","disableAfterHook","hookName","__ignore_hooks","klass","_klass","destroyAll","objectsByClassNameAndFlags","groupBy","flags","body","ids","ObjectClass","_classMap","NewClassObject","OldClassObject","_className","arg0","newArguments","toArray","defineProperty","_LCClassName","register","children","files","canBeSerializedAsValue","remaining","batch","newRemaining","readyToStart","bathSavePromise","setName","getUsers","getRoles","newName","test","PLATFORM_ANONYMOUS","PLATFORM_WEAPP","PLATFORM_QQAPP","getMiniappLoginCode","wx","login","errMsg","fail","getMiniappAuthData","defaultUnionIdPlatform","preferUnionId","unionIdPlatform","asMainAccount","platform","main_account","mergeUnionDataIntoAuthData","authData","unionId","unionid","Boolean","_isCurrentUser","_cleanupAuthData","isCurrent","_synchronizeAllAuthData","_synchronizeAuthData","authType","_authProviders","getAuthType","restoreAuthentication","dissociateAuthData","_handleSaveResult","makeCurrent","password","_saveCurrentUser","_linkWith","authenticate","associateWithAuthData","associateWithAuthDataAndUnionId","unionOptions","associateWithQQApp","associateWithWeapp","linkWithWeapp","associateWithQQAppWithUnionId","associateWithWeappWithUnionId","_unlinkFrom","_isLinked","isAnonymous","logOut","_logOutWithAll","_logOutWith","deauthenticate","signUp","username","signUpOrlogInWithMobilePhone","mobilePhoneNumber","smsCode","loginWithAuthData","loginWithAuthDataAndUnionId","unionLoginOptions","loginWithWeapp","loginWithWeappWithUnionId","loginWithQQApp","loginWithQQAppWithUnionId","logIn","follow","userObjectId","unfollow","followerQuery","followeeQuery","updatePassword","oldPassword","newPassword","params","old_password","new_password","getUsername","getMobilePhoneNumber","setMobilePhoneNumber","phone","setUsername","setPassword","getEmail","setEmail","email","authenticated","isAuthenticated","_fetchUserBySessionToken","refreshSessionToken","_currentUser","_currentUserMatchesDisk","_CURRENT_USER_KEY","become","logInWithMobilePhoneSmsCode","mobilePhone","logInWithMobilePhone","loginWithEmail","_logInWith","signUpOrlogInWithAuthData","signUpOrlogInWithAuthDataAndUnionId","_genId","loginAnonymously","userObj","FriendShipQuery","_friendshipTag","requestPasswordReset","requestEmailVerify","requestMobilePhoneVerify","validateToken","validate_token","requestPasswordResetBySmsCode","resetPasswordBySmsCode","verifyMobilePhone","requestLoginSmsCode","userData","_id","getItem","_registerAuthenticationProvider","requires","objectClass","_include","_select","_limit","_skip","or","queries","q","_orQuery","and","_andQuery","doCloudQuery","cql","pvalues","_newObject","_processResult","fromJSON","select","limit","skip","order","_includeACL","_order","queryJSON","_createRequest","_parseResponse","scan","orderedBy","batchSize","condition","scan_key","cursor","done","remainResults","n","sizeEqualTo","notEqualTo","lessThan","greaterThan","lessThanOrEqualTo","greaterThanOrEqualTo","containedIn","values","notContainedIn","containsAll","exists","doesNotExist","matches","regex","modifiers","ignoreCase","multiline","matchesQuery","doesNotMatchQuery","matchesKeyInQuery","queryKey","doesNotMatchKeyInQuery","$or","$and","_quote","s","replace","startsWith","endsWith","ascending","addAscending","descending","addDescending","near","withinRadians","distance","withinMiles","withinKilometers","withinGeoBox","southwest","northeast","$box","finished","callbacksDone","subscribe","LiveQuery","UserClass","EventEmitter","requireRealtime","client","_client","_queryJSON","_onMessage","_dispatch","_onReconnect","queryId","query_id","updatedKeys","emit","unsubscribe","deregister","userDefinedSubscriptionId","createLiveQueryClient","liveQueryClient","finally","pause","resume","Captcha","_authOptions","captchaToken","_requestCaptcha","verify","verifyCaptcha","textInput","image","verifyButton","document","getElementById","__refresh","src","focus","__image","addEventListener","__verify","__verifyButton","removeEventListener","captcha","run","rpc","getServerDate","requestSmsCode","verifySmsCode","captcha_url","captcha_token","requestCaptcha","captcha_code","Installation","Push","send","push_time","expiration_time","expiration_time_interval","getUser","getUserPointer","currUser","Status","imageUrl","inboxType","toObject","_getDataJSON","sendStatusToFollowers","messageId","sendPrivateStatus","countUnreadStatuses","resetUnreadCount","statusQuery","InboxQuery","_objectClass","_sinceId","_maxId","_inboxType","_owner","sinceId","maxId","inboxQuery","SearchSortBuilder","_sortFields","_addField","missing","whereNear","geo","lat","lon","m","unit","build","SearchQuery","_sid","_hits","_queryString","_highlights","_sortBuilder","sid","highlights","sortBy","builder","hits","hasMore","_hitEnd","reset","_oldSid","appURL","clazz","sort","Insight","startJob","jobConfig","sql","JobQuery","serializeMessage","getPayload","isSystem","isTransient","getCreator","getLastMessageAt","getMembers","addMember","member","getMutedMembers","fromClient","from_peer","conv_id","transient","toClients","to_peers","pushData","push_data","broadcast","validTill","ts","valid_till","LeaderboardVersionChangeInterval","NEVER","DAY","WEEK","MONTH","LeaderboardOrder","ASCENDING","DESCENDING","LeaderboardUpdateStrategy","BETTER","LAST","SUM","Statistic","parseStatisticData","statisticData","statisticName","statisticValue","Leaderboard","updateStrategy","versionChangeInterval","nextResetAt","createLeaderboard","leaderboard","getLeaderboard","getStatistics","statisticNames","statistics","updateStatistics","overwrite","deleteStatistics","_getResults","selectUserKeys","includeUserKeys","includeStatistics","includeUser","rankings","rankingData","rank","includedStatistics","getResults","getResultsAroundUser","_update","updateVersionChangeInterval","updateUpdateStrategy","getArchives","activatedAt","deactivatedAt"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;A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;;;AAGAC,WAASnR,MAAMmR;AARN,CAAX;;AAWA;;;;;;AAMAnL,GAAG0G,WAAH,GAAiBA,WAAjB;;AAEA7G,OAAOC,OAAP,GAAiBE,EAAjB,C;;;;;;;;AC/Xa;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG,iBAAiB;AACpB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG,gBAAgB;AACnB;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,GAAU;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AClLA;;;;;;;ACAA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;ACNA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;ACJA,IAAMn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AAO,CAAC,EAAY;AAClC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,iBAAiB,mBAAO,CAAC,EAAgB;AACzC,YAAY,mBAAO,CAAC,EAAW;AAC/B,yBAAyB,mBAAO,CAAC,EAAwB;AACzD,WAAW,mBAAO,CAAC,EAAS;AAC5B,gBAAgB,mBAAO,CAAC,EAAc;AACtC,iCAAiC,mBAAO,CAAC,EAA2B;AACpE,cAAc,mBAAO,CAAC,EAAY;AAClC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,qBAAqB,mBAAO,CAAC,EAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,CAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,EAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,EAAsB;AAC9B,mBAAO,CAAC,EAAgB;AACxB,UAAU,mBAAO,CAAC,CAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,EAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC7RD;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA,UAAU,mBAAO,CAAC,EAAQ;AAC1B,WAAW,mBAAO,CAAC,EAAc;AACjC,kBAAkB,mBAAO,CAAC,EAAkB;AAC5C,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAA4B;AACpD;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA,eAAe,mBAAO,CAAC,CAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA,aAAa,mBAAO,CAAC,CAAW;AAChC,gBAAgB,mBAAO,CAAC,EAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,EAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACpEA,aAAa,mBAAO,CAAC,CAAW;AAChC;;AAEA;;;;;;;ACHA,WAAW,mBAAO,CAAC,EAAS;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACNa;AACb,aAAa,mBAAO,CAAC,CAAW;AAChC,WAAW,mBAAO,CAAC,CAAS;AAC5B,SAAS,mBAAO,CAAC,CAAc;AAC/B,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,cAAc,mBAAO,CAAC,CAAQ;;AAE9B;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;ACbA,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACrBA;AACa;AACb,cAAc,mBAAO,CAAC,EAAW;AACjC,WAAW,mBAAO,CAAC,CAAS;AAC5B,aAAa,mBAAO,CAAC,CAAW;AAChC,yBAAyB,mBAAO,CAAC,EAAwB;AACzD,qBAAqB,mBAAO,CAAC,EAAoB;;AAEjD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBU;AACb;AACA,cAAc,mBAAO,CAAC,EAAW;AACjC,2BAA2B,mBAAO,CAAC,EAA2B;AAC9D,cAAc,mBAAO,CAAC,EAAY;;AAElC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;ACXH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA,WAAW,mBAAO,CAAC,CAAqB;AACxC,uCAAuC,4BAA4B;AACnE,yCAAyC;AACzC;AACA;;;;;;;ACJA,mBAAO,CAAC,GAA+B;AACvC,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,eAAe,mBAAO,CAAC,EAAc;AACrC,YAAY,mBAAO,CAAC,EAAgB;;AAEpC,mBAAO,CAAC,EAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mBAAO,CAAC,GAAI;AACrC;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,cAAc;AAC3B;AACA;;AAEA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA,gBAAgB;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yEAAyE,aAAa;AACtF;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;;AAEA;AACA,OAAO,EAAE;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACvPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACjKA,IAAM6B,UAAU/H,mBAAOA,CAAC,EAAR,CAAhB;AACA,IAAM2M,QAAQ,SAARA,KAAQ,GAAmB;AAAA,MAAlBgG,QAAkB,uEAAP,EAAO;;AAC/B,MAAIC,2BAAyB7K,OAA7B;AACA,MAAI4K,SAASrN,MAAb,EAAqB;AACnBsN,iBAAWD,SAASnR,IAAT,CAAc,IAAd,CAAX;AACD;AACD,SAAOoR,EAAP;AACD,CAND;AAOA7M,OAAOC,OAAP,GAAiB2G,KAAjB,C;;;;;;ACRA,kBAAkB,YAAY,mBAAO,CAAC,GAA4C,sB;;;;;;ACAlF,mBAAO,CAAC,GAA2C;AACnD,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,eAAe,mBAAO,CAAC,EAAc;AACrC,sBAAsB,mBAAO,CAAC,EAAe;;AAE7C,mBAAO,CAAC,EAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;ACRD,kBAAkB,YAAY,mBAAO,CAAC,GAAoC,sB;;;;;;ACA1E,mBAAO,CAAC,EAAmC;AAC3C,mBAAO,CAAC,EAAgC;AACxC,iBAAiB,mBAAO,CAAC,EAAwB;;;;;;;ACFjD,kBAAkB,YAAY,mBAAO,CAAC,GAA2B,sB;;;;;;ACAjE,mBAAO,CAAC,GAA0B;AAClC,mBAAO,CAAC,EAAoC;AAC5C,mBAAO,CAAC,GAAyC;AACjD,mBAAO,CAAC,GAAqC;AAC7C,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;;ACJjC;AACb;AACA,aAAa,mBAAO,CAAC,CAAW;AAChC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAa;AACpC,WAAW,mBAAO,CAAC,GAAS;AAC5B,aAAa,mBAAO,CAAC,EAAU;AAC/B,aAAa,mBAAO,CAAC,EAAW;AAChC,qBAAqB,mBAAO,CAAC,EAAsB;AACnD,UAAU,mBAAO,CAAC,EAAQ;AAC1B,UAAU,mBAAO,CAAC,CAAQ;AAC1B,aAAa,mBAAO,CAAC,EAAY;AACjC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,eAAe,mBAAO,CAAC,GAAc;AACrC,cAAc,mBAAO,CAAC,GAAa;AACnC,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,kBAAkB,mBAAO,CAAC,EAAiB;AAC3C,iBAAiB,mBAAO,CAAC,EAAkB;AAC3C,cAAc,mBAAO,CAAC,EAAkB;AACxC,cAAc,mBAAO,CAAC,GAAoB;AAC1C,YAAY,mBAAO,CAAC,EAAgB;AACpC,YAAY,mBAAO,CAAC,EAAgB;AACpC,UAAU,mBAAO,CAAC,CAAc;AAChC,YAAY,mBAAO,CAAC,EAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,EAAgB;AAC1B,EAAE,mBAAO,CAAC,EAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,EAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,EAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrPA,WAAW,mBAAO,CAAC,EAAQ;AAC3B,eAAe,mBAAO,CAAC,EAAc;AACrC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,cAAc,mBAAO,CAAC,CAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,EAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA,cAAc,mBAAO,CAAC,EAAgB;AACtC,WAAW,mBAAO,CAAC,EAAgB;AACnC,UAAU,mBAAO,CAAC,EAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACdA;AACA,UAAU,mBAAO,CAAC,EAAQ;AAC1B;AACA;AACA;;;;;;;ACJA;AACA,gBAAgB,mBAAO,CAAC,EAAe;AACvC,WAAW,mBAAO,CAAC,EAAgB;AACnC,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;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ALE,CAJC;AAWVhgB,gBAAYijB,YAAYjjB;AAXd,GAAL,EAYJc,IAZI,CAYC;AAAA,WAAMoO,IAAN;AAAA,GAZD,CAAP;AAaD,CAnBD,C;;;;;;ACHA;AACA,cAAc,mBAAO,CAAC,GAAO;AAC7B,aAAa,mBAAO,CAAC,EAAS;AAC9B,iBAAiB,mBAAO,CAAC,GAAW;AACpC,YAAY,mBAAO,CAAC,EAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;AC/JD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA,KAAK;;AAEL;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA,KAAK;;AAEL;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AA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,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;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","file":"av-core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AV\"] = factory();\n\telse\n\t\troot[\"AV\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 72);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 56c86da3c877a4c599dd","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/underscore/underscore.js\n// module id = 0\n// module chunks = 0 1","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 1\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 2\n// module chunks = 0 1","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 3\n// module chunks = 0 1","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 4\n// module chunks = 0 1","const _ = require('underscore');\nconst { timeout } = require('promise-timeout');\nconst debug = require('debug');\nconst debugRequest = debug('leancloud:request');\nconst debugRequestError = debug('leancloud:request:error');\nconst { getAdapter } = require('../adapter');\n\nlet requestsCount = 0;\n\nconst ajax = ({\n  method,\n  url,\n  query,\n  data,\n  headers = {},\n  timeout: time,\n  onprogress,\n}) => {\n  if (query) {\n    const queryString = Object.keys(query)\n      .map(key => {\n        const value = query[key];\n        if (value === undefined) return undefined;\n        const v = typeof value === 'object' ? JSON.stringify(value) : value;\n        return `${encodeURIComponent(key)}=${encodeURIComponent(v)}`;\n      })\n      .filter(qs => qs)\n      .join('&');\n    url = `${url}?${queryString}`;\n  }\n\n  const count = requestsCount++;\n  debugRequest(\n    'request(%d) %s %s %o %o %o',\n    count,\n    method,\n    url,\n    query,\n    data,\n    headers\n  );\n\n  const request = getAdapter('request');\n  const promise = request(url, { method, headers, data, onprogress })\n    .then(response => {\n      debugRequest(\n        'response(%d) %d %O %o',\n        count,\n        response.status,\n        response.data || response.text,\n        response.header\n      );\n      if (response.ok === false) {\n        const error = new Error();\n        error.response = response;\n        throw error;\n      }\n      return response.data;\n    })\n    .catch(error => {\n      if (error.response) {\n        if (!debug.enabled('leancloud:request')) {\n          debugRequestError(\n            'request(%d) %s %s %o %o %o',\n            count,\n            method,\n            url,\n            query,\n            data,\n            headers\n          );\n        }\n        debugRequestError(\n          'response(%d) %d %O %o',\n          count,\n          error.response.status,\n          error.response.data || error.response.text,\n          error.response.header\n        );\n        error.statusCode = error.response.status;\n        error.responseText = error.response.text;\n        error.response = error.response.data;\n      }\n      throw error;\n    });\n  return time ? timeout(promise, time) : promise;\n};\n\n// Helper function to check null or undefined.\nconst isNullOrUndefined = x => _.isNull(x) || _.isUndefined(x);\n\nconst ensureArray = target => {\n  if (_.isArray(target)) {\n    return target;\n  }\n  if (target === undefined || target === null) {\n    return [];\n  }\n  return [target];\n};\n\nconst transformFetchOptions = ({ keys, include, includeACL } = {}) => {\n  const fetchOptions = {};\n  if (keys) {\n    fetchOptions.keys = ensureArray(keys).join(',');\n  }\n  if (include) {\n    fetchOptions.include = ensureArray(include).join(',');\n  }\n  if (includeACL) {\n    fetchOptions.returnACL = includeACL;\n  }\n  return fetchOptions;\n};\n\nconst getSessionToken = authOptions => {\n  if (authOptions.sessionToken) {\n    return authOptions.sessionToken;\n  }\n  if (\n    authOptions.user &&\n    typeof authOptions.user.getSessionToken === 'function'\n  ) {\n    return authOptions.user.getSessionToken();\n  }\n};\n\nconst tap = interceptor => value => (interceptor(value), value);\n\n// Shared empty constructor function to aid in prototype-chain creation.\nconst EmptyConstructor = function() {};\n\n// Helper function to correctly set up the prototype chain, for subclasses.\n// Similar to `goog.inherits`, but uses a hash of prototype properties and\n// class properties to be extended.\nconst inherits = function inherits(parent, protoProps, staticProps) {\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    /** @ignore */\n    child = function() {\n      parent.apply(this, arguments);\n    };\n  }\n\n  // Inherit class (static) properties from parent.\n  _.extend(child, parent);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function.\n  EmptyConstructor.prototype = parent.prototype;\n  child.prototype = new EmptyConstructor();\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) {\n    _.extend(child.prototype, protoProps);\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  if (staticProps) {\n    _.extend(child, staticProps);\n  }\n\n  // Correctly set child's `prototype.constructor`.\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is\n  // needed later.\n  child.__super__ = parent.prototype;\n\n  return child;\n};\n\nconst parseDate = iso8601 => new Date(iso8601);\n\nconst setValue = (target, key, value) => {\n  // '.' is not allowed in Class keys, escaping is not in concern now.\n  const segs = key.split('.');\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  segs.forEach(seg => {\n    if (currentTarget[seg] === undefined) currentTarget[seg] = {};\n    currentTarget = currentTarget[seg];\n  });\n  currentTarget[lastSeg] = value;\n  return target;\n};\n\nconst findValue = (target, key) => {\n  const segs = key.split('.');\n  const firstSeg = segs[0];\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  for (let i = 0; i < segs.length; i++) {\n    currentTarget = currentTarget[segs[i]];\n    if (currentTarget === undefined) {\n      return [undefined, undefined, lastSeg];\n    }\n  }\n  const value = currentTarget[lastSeg];\n  return [value, currentTarget, lastSeg, firstSeg];\n};\n\nconst isPlainObject = obj =>\n  _.isObject(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\nconst continueWhile = function(predicate, asyncFunction) {\n  if (predicate()) {\n    return asyncFunction().then(function() {\n      return continueWhile(predicate, asyncFunction);\n    });\n  }\n  return Promise.resolve();\n};\n\nmodule.exports = {\n  ajax,\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  getSessionToken,\n  tap,\n  inherits,\n  parseDate,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","const _ = require('underscore');\nconst md5 = require('md5');\nconst { extend } = require('underscore');\nconst AV = require('./av');\nconst { getSessionToken, ajax } = require('./utils');\n\n//  X-LC-Sign \nconst sign = (key, isMasterKey) => {\n  const now = new Date().getTime();\n  const signature = md5(now + key);\n  if (isMasterKey) {\n    return `${signature},${now},master`;\n  }\n  return `${signature},${now}`;\n};\n\nconst setAppKey = (headers, signKey) => {\n  if (signKey) {\n    headers['X-LC-Sign'] = sign(AV.applicationKey);\n  } else {\n    headers['X-LC-Key'] = AV.applicationKey;\n  }\n};\n\nconst setHeaders = (authOptions = {}, signKey) => {\n  const headers = {\n    'X-LC-Id': AV.applicationId,\n    'Content-Type': 'application/json;charset=UTF-8',\n  };\n  let useMasterKey = false;\n  if (typeof authOptions.useMasterKey === 'boolean') {\n    useMasterKey = authOptions.useMasterKey;\n  } else if (typeof AV._config.useMasterKey === 'boolean') {\n    useMasterKey = AV._config.useMasterKey;\n  }\n  if (useMasterKey) {\n    if (AV.masterKey) {\n      if (signKey) {\n        headers['X-LC-Sign'] = sign(AV.masterKey, true);\n      } else {\n        headers['X-LC-Key'] = `${AV.masterKey},master`;\n      }\n    } else {\n      console.warn('masterKey is not set, fall back to use appKey');\n      setAppKey(headers, signKey);\n    }\n  } else {\n    setAppKey(headers, signKey);\n  }\n  if (AV.hookKey) {\n    headers['X-LC-Hook-Key'] = AV.hookKey;\n  }\n  if (AV._config.production !== null) {\n    headers['X-LC-Prod'] = String(AV._config.production);\n  }\n  headers[!process.env.CLIENT_PLATFORM ? 'User-Agent' : 'X-LC-UA'] =\n    AV._sharedConfig.userAgent;\n\n  return Promise.resolve().then(() => {\n    // Pass the session token\n    const sessionToken = getSessionToken(authOptions);\n    if (sessionToken) {\n      headers['X-LC-Session'] = sessionToken;\n    } else if (!AV._config.disableCurrentUser) {\n      return AV.User.currentAsync().then(currentUser => {\n        if (currentUser && currentUser._sessionToken) {\n          headers['X-LC-Session'] = currentUser._sessionToken;\n        }\n        return headers;\n      });\n    }\n    return headers;\n  });\n};\n\nconst createApiUrl = ({\n  service = 'api',\n  version = '1.1',\n  path,\n  // query, // don't care\n  // method, // don't care\n  // data, // don't care\n}) => {\n  let apiURL = AV._config.serverURLs[service];\n\n  if (!apiURL) throw new Error(`undefined server URL for ${service}`);\n\n  if (apiURL.charAt(apiURL.length - 1) !== '/') {\n    apiURL += '/';\n  }\n  apiURL += version;\n  if (path) {\n    apiURL += path;\n  }\n\n  return apiURL;\n};\n\n/**\n * Low level REST API client. Call REST endpoints with authorization headers.\n * @function AV.request\n * @since 3.0.0\n * @param {Object} options\n * @param {String} options.method HTTP method\n * @param {String} options.path endpoint path, e.g. `/classes/Test/55759577e4b029ae6015ac20`\n * @param {Object} [options.query] query string dict\n * @param {Object} [options.data] HTTP body\n * @param {AuthOptions} [options.authOptions]\n * @param {String} [options.service = 'api']\n * @param {String} [options.version = '1.1']\n */\nconst request = ({\n  service,\n  version,\n  method,\n  path,\n  query,\n  data,\n  authOptions,\n  signKey = true,\n}) => {\n  if (!(AV.applicationId && (AV.applicationKey || AV.masterKey))) {\n    throw new Error('Not initialized');\n  }\n  if (AV._appRouter) {\n    AV._appRouter.refresh();\n  }\n  const { requestTimeout: timeout } = AV._config;\n  const url = createApiUrl({ service, path, version });\n  return setHeaders(authOptions, signKey).then(headers =>\n    ajax({ method, url, query, data, headers, timeout }).catch(error => {\n      let errorJSON = {\n        code: error.code || -1,\n        error: error.message || error.responseText,\n      };\n      if (error.response && error.response.code) {\n        errorJSON = error.response;\n      } else if (error.responseText) {\n        try {\n          errorJSON = JSON.parse(error.responseText);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n        }\n      }\n      errorJSON.rawMessage = errorJSON.rawMessage || errorJSON.error;\n      if (!AV._sharedConfig.keepErrorRawMessage) {\n        errorJSON.error += ` [${error.statusCode || 'N/A'} ${method} ${url}]`;\n      }\n      // Transform the error into an instance of AVError by trying to parse\n      // the error string as JSON.\n      const err = new Error(errorJSON.error);\n      delete errorJSON.error;\n      throw _.extend(err, errorJSON);\n    })\n  );\n};\n\n// lagecy request\nconst _request = (\n  route,\n  className,\n  objectId,\n  method,\n  data,\n  authOptions,\n  query\n) => {\n  let path = '';\n  if (route) path += `/${route}`;\n  if (className) path += `/${className}`;\n  if (objectId) path += `/${objectId}`;\n  // for migeration\n  if (data && data._fetchWhenSave)\n    throw new Error('_fetchWhenSave should be in the query');\n  if (data && data._where) throw new Error('_where should be in the query');\n  if (method && method.toLowerCase() === 'get') {\n    query = extend({}, query, data);\n    data = null;\n  }\n  return request({\n    method,\n    path,\n    query,\n    data,\n    authOptions,\n  });\n};\n\nAV.request = request;\n\nmodule.exports = {\n  _request,\n  request,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 7\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = 8\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 9\n// module chunks = 0 1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 10\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 11\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 12\n// module chunks = 0 1","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 13\n// module chunks = 0 1","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 14\n// module chunks = 0 1","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 15\n// module chunks = 0 1","const _ = require('underscore');\n\n/**\n * @class AV.Error\n */\n\nfunction AVError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n_.extend(\n  AVError,\n  /** @lends AV.Error */ {\n    /**\n     * Error code indicating some error other than those enumerated here.\n     * @constant\n     */\n    OTHER_CAUSE: -1,\n\n    /**\n     * Error code indicating that something has gone wrong with the server.\n     * If you get this error code, it is AV's fault. Contact us at\n     * https://avoscloud.com/help\n     * @constant\n     */\n    INTERNAL_SERVER_ERROR: 1,\n\n    /**\n     * Error code indicating the connection to the AV servers failed.\n     * @constant\n     */\n    CONNECTION_FAILED: 100,\n\n    /**\n     * Error code indicating the specified object doesn't exist.\n     * @constant\n     */\n    OBJECT_NOT_FOUND: 101,\n\n    /**\n     * Error code indicating you tried to query with a datatype that doesn't\n     * support it, like exact matching an array or object.\n     * @constant\n     */\n    INVALID_QUERY: 102,\n\n    /**\n     * Error code indicating a missing or invalid classname. Classnames are\n     * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n     * only valid characters.\n     * @constant\n     */\n    INVALID_CLASS_NAME: 103,\n\n    /**\n     * Error code indicating an unspecified object id.\n     * @constant\n     */\n    MISSING_OBJECT_ID: 104,\n\n    /**\n     * Error code indicating an invalid key name. Keys are case-sensitive. They\n     * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n     * @constant\n     */\n    INVALID_KEY_NAME: 105,\n\n    /**\n     * Error code indicating a malformed pointer. You should not see this unless\n     * you have been mucking about changing internal AV code.\n     * @constant\n     */\n    INVALID_POINTER: 106,\n\n    /**\n     * Error code indicating that badly formed JSON was received upstream. This\n     * either indicates you have done something unusual with modifying how\n     * things encode to JSON, or the network is failing badly.\n     * @constant\n     */\n    INVALID_JSON: 107,\n\n    /**\n     * Error code indicating that the feature you tried to access is only\n     * available internally for testing purposes.\n     * @constant\n     */\n    COMMAND_UNAVAILABLE: 108,\n\n    /**\n     * You must call AV.initialize before using the AV library.\n     * @constant\n     */\n    NOT_INITIALIZED: 109,\n\n    /**\n     * Error code indicating that a field was set to an inconsistent type.\n     * @constant\n     */\n    INCORRECT_TYPE: 111,\n\n    /**\n     * Error code indicating an invalid channel name. A channel name is either\n     * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n     * characters.\n     * @constant\n     */\n    INVALID_CHANNEL_NAME: 112,\n\n    /**\n     * Error code indicating that push is misconfigured.\n     * @constant\n     */\n    PUSH_MISCONFIGURED: 115,\n\n    /**\n     * Error code indicating that the object is too large.\n     * @constant\n     */\n    OBJECT_TOO_LARGE: 116,\n\n    /**\n     * Error code indicating that the operation isn't allowed for clients.\n     * @constant\n     */\n    OPERATION_FORBIDDEN: 119,\n\n    /**\n     * Error code indicating the result was not found in the cache.\n     * @constant\n     */\n    CACHE_MISS: 120,\n\n    /**\n     * Error code indicating that an invalid key was used in a nested\n     * JSONObject.\n     * @constant\n     */\n    INVALID_NESTED_KEY: 121,\n\n    /**\n     * Error code indicating that an invalid filename was used for AVFile.\n     * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n     * and 128 characters.\n     * @constant\n     */\n    INVALID_FILE_NAME: 122,\n\n    /**\n     * Error code indicating an invalid ACL was provided.\n     * @constant\n     */\n    INVALID_ACL: 123,\n\n    /**\n     * Error code indicating that the request timed out on the server. Typically\n     * this indicates that the request is too expensive to run.\n     * @constant\n     */\n    TIMEOUT: 124,\n\n    /**\n     * Error code indicating that the email address was invalid.\n     * @constant\n     */\n    INVALID_EMAIL_ADDRESS: 125,\n\n    /**\n     * Error code indicating a missing content type.\n     * @constant\n     */\n    MISSING_CONTENT_TYPE: 126,\n\n    /**\n     * Error code indicating a missing content length.\n     * @constant\n     */\n    MISSING_CONTENT_LENGTH: 127,\n\n    /**\n     * Error code indicating an invalid content length.\n     * @constant\n     */\n    INVALID_CONTENT_LENGTH: 128,\n\n    /**\n     * Error code indicating a file that was too large.\n     * @constant\n     */\n    FILE_TOO_LARGE: 129,\n\n    /**\n     * Error code indicating an error saving a file.\n     * @constant\n     */\n    FILE_SAVE_ERROR: 130,\n\n    /**\n     * Error code indicating an error deleting a file.\n     * @constant\n     */\n    FILE_DELETE_ERROR: 153,\n\n    /**\n     * Error code indicating that a unique field was given a value that is\n     * already taken.\n     * @constant\n     */\n    DUPLICATE_VALUE: 137,\n\n    /**\n     * Error code indicating that a role's name is invalid.\n     * @constant\n     */\n    INVALID_ROLE_NAME: 139,\n\n    /**\n     * Error code indicating that an application quota was exceeded.  Upgrade to\n     * resolve.\n     * @constant\n     */\n    EXCEEDED_QUOTA: 140,\n\n    /**\n     * Error code indicating that a Cloud Code script failed.\n     * @constant\n     */\n    SCRIPT_FAILED: 141,\n\n    /**\n     * Error code indicating that a Cloud Code validation failed.\n     * @constant\n     */\n    VALIDATION_ERROR: 142,\n\n    /**\n     * Error code indicating that invalid image data was provided.\n     * @constant\n     */\n    INVALID_IMAGE_DATA: 150,\n\n    /**\n     * Error code indicating an unsaved file.\n     * @constant\n     */\n    UNSAVED_FILE_ERROR: 151,\n\n    /**\n     * Error code indicating an invalid push time.\n     */\n    INVALID_PUSH_TIME_ERROR: 152,\n\n    /**\n     * Error code indicating that the username is missing or empty.\n     * @constant\n     */\n    USERNAME_MISSING: 200,\n\n    /**\n     * Error code indicating that the password is missing or empty.\n     * @constant\n     */\n    PASSWORD_MISSING: 201,\n\n    /**\n     * Error code indicating that the username has already been taken.\n     * @constant\n     */\n    USERNAME_TAKEN: 202,\n\n    /**\n     * Error code indicating that the email has already been taken.\n     * @constant\n     */\n    EMAIL_TAKEN: 203,\n\n    /**\n     * Error code indicating that the email is missing, but must be specified.\n     * @constant\n     */\n    EMAIL_MISSING: 204,\n\n    /**\n     * Error code indicating that a user with the specified email was not found.\n     * @constant\n     */\n    EMAIL_NOT_FOUND: 205,\n\n    /**\n     * Error code indicating that a user object without a valid session could\n     * not be altered.\n     * @constant\n     */\n    SESSION_MISSING: 206,\n\n    /**\n     * Error code indicating that a user can only be created through signup.\n     * @constant\n     */\n    MUST_CREATE_USER_THROUGH_SIGNUP: 207,\n\n    /**\n     * Error code indicating that an an account being linked is already linked\n     * to another user.\n     * @constant\n     */\n    ACCOUNT_ALREADY_LINKED: 208,\n\n    /**\n     * Error code indicating that a user cannot be linked to an account because\n     * that account's id could not be found.\n     * @constant\n     */\n    LINKED_ID_MISSING: 250,\n\n    /**\n     * Error code indicating that a user with a linked (e.g. Facebook) account\n     * has an invalid session.\n     * @constant\n     */\n    INVALID_LINKED_SESSION: 251,\n\n    /**\n     * Error code indicating that a service being linked (e.g. Facebook or\n     * Twitter) is unsupported.\n     * @constant\n     */\n    UNSUPPORTED_SERVICE: 252,\n    /**\n     * Error code indicating a real error code is unavailable because\n     * we had to use an XDomainRequest object to allow CORS requests in\n     * Internet Explorer, which strips the body from HTTP responses that have\n     * a non-2XX status code.\n     * @constant\n     */\n    X_DOMAIN_REQUEST: 602,\n  }\n);\n\nmodule.exports = AVError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/error.js","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 17\n// module chunks = 0 1","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst debug = require('debug');\nconst getUA = require('./ua');\nconst { inherits, parseDate } = require('./utils');\nconst { setAdapters } = require('./adapter');\n\nconst AV = global.AV || {};\n\n// All internal configuration items\nAV._config = {\n  serverURLs: {},\n  useMasterKey: false,\n  production: null,\n  realtime: null,\n  requestTimeout: null,\n};\n\n// configs shared by all AV instances\nAV._sharedConfig = {\n  userAgent: getUA(),\n  liveQueryRealtime: null,\n};\n\n/**\n * Contains all AV API classes and functions.\n * @namespace AV\n */\n\n/**\n * Returns prefix for localStorage keys used by this instance of AV.\n * @param {String} path The relative suffix to append to it.\n *     null or undefined is treated as the empty string.\n * @return {String} The full key name.\n * @private\n */\nAV._getAVPath = function(path) {\n  if (!AV.applicationId) {\n    throw new Error('You need to call AV.initialize before using AV.');\n  }\n  if (!path) {\n    path = '';\n  }\n  if (!_.isString(path)) {\n    throw new Error(\"Tried to get a localStorage path that wasn't a String.\");\n  }\n  if (path[0] === '/') {\n    path = path.substring(1);\n  }\n  return 'AV/' + AV.applicationId + '/' + path;\n};\n\n/**\n * Returns the unique string for this app on this machine.\n * Gets reset when localStorage is cleared.\n * @private\n */\nAV._installationId = null;\nAV._getInstallationId = () => {\n  // See if it's cached in RAM.\n  if (AV._installationId) {\n    return Promise.resolve(AV._installationId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('installationId');\n  return AV.localStorage.getItemAsync(path).then(_installationId => {\n    AV._installationId = _installationId;\n    if (!AV._installationId) {\n      // It wasn't in localStorage, so create a new one.\n      AV._installationId = _installationId = uuid();\n      return AV.localStorage\n        .setItemAsync(path, _installationId)\n        .then(() => _installationId);\n    }\n    return _installationId;\n  });\n};\n\nAV._subscriptionId = null;\nAV._refreshSubscriptionId = (path = AV._getAVPath('subscriptionId')) => {\n  const subscriptionId = (AV._subscriptionId = uuid());\n  return AV.localStorage\n    .setItemAsync(path, subscriptionId)\n    .then(() => subscriptionId);\n};\nAV._getSubscriptionId = () => {\n  // See if it's cached in RAM.\n  if (AV._subscriptionId) {\n    return Promise.resolve(AV._subscriptionId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('subscriptionId');\n  return AV.localStorage.getItemAsync(path).then(_subscriptionId => {\n    AV._subscriptionId = _subscriptionId;\n    if (!AV._subscriptionId) {\n      // It wasn't in localStorage, so create a new one.\n      _subscriptionId = AV._refreshSubscriptionId(path);\n    }\n    return _subscriptionId;\n  });\n};\n\nAV._parseDate = parseDate;\n\n// A self-propagating extend function.\nAV._extend = function(protoProps, classProps) {\n  var child = inherits(this, protoProps, classProps);\n  child.extend = this.extend;\n  return child;\n};\n\n/**\n * Converts a value in a AV Object into the appropriate representation.\n * This is the JS equivalent of Java's AV.maybeReferenceAndEncode(Object)\n * if seenObjects is falsey. Otherwise any AV.Objects not in\n * seenObjects will be fully embedded rather than encoded\n * as a pointer.  This array will be used to prevent going into an infinite\n * loop because we have circular references.  If <seenObjects>\n * is set, then none of the AV Objects that are serialized can be dirty.\n * @private\n */\nAV._encode = function(value, seenObjects, disallowObjects, full = true) {\n  if (value instanceof AV.Object) {\n    if (disallowObjects) {\n      throw new Error('AV.Objects not allowed here');\n    }\n    if (!seenObjects || _.include(seenObjects, value) || !value._hasData) {\n      return value._toPointer();\n    }\n    return value._toFullJSON(seenObjects.concat(value), full);\n  }\n  if (value instanceof AV.ACL) {\n    return value.toJSON();\n  }\n  if (_.isDate(value)) {\n    return full ? { __type: 'Date', iso: value.toJSON() } : value.toJSON();\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value.toJSON();\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(x) {\n      return AV._encode(x, seenObjects, disallowObjects, full);\n    });\n  }\n  if (_.isRegExp(value)) {\n    return value.source;\n  }\n  if (value instanceof AV.Relation) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.Op) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.File) {\n    if (!value.url() && !value.id) {\n      throw new Error('Tried to save an object containing an unsaved file.');\n    }\n    return value._toFullJSON(seenObjects, full);\n  }\n  if (_.isObject(value)) {\n    return _.mapObject(value, (v, k) =>\n      AV._encode(v, seenObjects, disallowObjects, full)\n    );\n  }\n  return value;\n};\n\n/**\n * The inverse function of AV._encode.\n * @private\n */\nAV._decode = function(value, key) {\n  if (!_.isObject(value) || _.isDate(value)) {\n    return value;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, v => AV._decode(v));\n  }\n  if (value instanceof AV.Object) {\n    return value;\n  }\n  if (value instanceof AV.File) {\n    return value;\n  }\n  if (value instanceof AV.Op) {\n    return value;\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value;\n  }\n  if (value instanceof AV.ACL) {\n    return value;\n  }\n  if (key === 'ACL') {\n    return new AV.ACL(value);\n  }\n  if (value.__op) {\n    return AV.Op._decode(value);\n  }\n  var className;\n  if (value.__type === 'Pointer') {\n    className = value.className;\n    var pointer = AV.Object._create(className);\n    if (Object.keys(value).length > 3) {\n      const v = _.clone(value);\n      delete v.__type;\n      delete v.className;\n      pointer._finishFetch(v, true);\n    } else {\n      pointer._finishFetch({ objectId: value.objectId }, false);\n    }\n    return pointer;\n  }\n  if (value.__type === 'Object') {\n    // It's an Object included in a query result.\n    className = value.className;\n    const v = _.clone(value);\n    delete v.__type;\n    delete v.className;\n    var object = AV.Object._create(className);\n    object._finishFetch(v, true);\n    return object;\n  }\n  if (value.__type === 'Date') {\n    return AV._parseDate(value.iso);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new AV.GeoPoint({\n      latitude: value.latitude,\n      longitude: value.longitude,\n    });\n  }\n  if (value.__type === 'Relation') {\n    if (!key) throw new Error('key missing decoding a Relation');\n    var relation = new AV.Relation(null, key);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'File') {\n    var file = new AV.File(value.name);\n    const v = _.clone(value);\n    delete v.__type;\n    file._finishFetch(v);\n    return file;\n  }\n  return _.mapObject(value, AV._decode);\n};\n\n/**\n * The inverse function of {@link AV.Object#toFullJSON}.\n * @since 3.0.0\n * @method\n * @param {Object}\n * return {AV.Object|AV.File|any}\n */\nAV.parseJSON = AV._decode;\n\n/**\n * Similar to JSON.parse, except that AV internal types will be used if possible.\n * Inverse to {@link AV.stringify}\n * @since 3.14.0\n * @param {string} text the string to parse.\n * @return {AV.Object|AV.File|any}\n */\nAV.parse = text => AV.parseJSON(JSON.parse(text));\n/**\n * Serialize a target containing AV.Object, similar to JSON.stringify.\n * Inverse to {@link AV.parse}\n * @since 3.14.0\n * @return {string}\n */\nAV.stringify = target => JSON.stringify(AV._encode(target, [], false, true));\n\nAV._encodeObjectOrArray = function(value) {\n  var encodeAVObject = function(object) {\n    if (object && object._toFullJSON) {\n      object = object._toFullJSON([]);\n    }\n\n    return _.mapObject(object, function(value) {\n      return AV._encode(value, []);\n    });\n  };\n\n  if (_.isArray(value)) {\n    return value.map(function(object) {\n      return encodeAVObject(object);\n    });\n  } else {\n    return encodeAVObject(value);\n  }\n};\n\nAV._arrayEach = _.each;\n\n/**\n * Does a deep traversal of every item in object, calling func on every one.\n * @param {Object} object The object or array to traverse deeply.\n * @param {Function} func The function to call for every item. It will\n *     be passed the item as an argument. If it returns a truthy value, that\n *     value will replace the item in its parent container.\n * @returns {} the result of calling func on the top-level object itself.\n * @private\n */\nAV._traverse = function(object, func, seen) {\n  if (object instanceof AV.Object) {\n    seen = seen || [];\n    if (_.indexOf(seen, object) >= 0) {\n      // We've already visited this object in this call.\n      return;\n    }\n    seen.push(object);\n    AV._traverse(object.attributes, func, seen);\n    return func(object);\n  }\n  if (object instanceof AV.Relation || object instanceof AV.File) {\n    // Nothing needs to be done, but we don't want to recurse into the\n    // object's parent infinitely, so we catch this case.\n    return func(object);\n  }\n  if (_.isArray(object)) {\n    _.each(object, function(child, index) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[index] = newChild;\n      }\n    });\n    return func(object);\n  }\n  if (_.isObject(object)) {\n    AV._each(object, function(child, key) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[key] = newChild;\n      }\n    });\n    return func(object);\n  }\n  return func(object);\n};\n\n/**\n * This is like _.each, except:\n * * it doesn't work for so-called array-like objects,\n * * it does work for dictionaries with a \"length\" attribute.\n * @private\n */\nAV._objectEach = AV._each = function(obj, callback) {\n  if (_.isObject(obj)) {\n    _.each(_.keys(obj), function(key) {\n      callback(obj[key], key);\n    });\n  } else {\n    _.each(obj, callback);\n  }\n};\n\n/**\n * @namespace\n * @since 3.14.0\n */\nAV.debug = {\n  /**\n   * Enable debug\n   */\n  enable: (namespaces = 'leancloud*') => debug.enable(namespaces),\n  /**\n   * Disable debug\n   */\n  disable: debug.disable,\n};\n\n/**\n * Specify Adapters\n * @since 4.4.0\n * @function\n * @param {Adapters} newAdapters See {@link https://url.leanapp.cn/adapter-type-definitions @leancloud/adapter-types} for detailed definitions.\n */\nAV.setAdapters = setAdapters;\n\nmodule.exports = AV;\n\n\n\n// WEBPACK FOOTER //\n// ./src/av.js","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/browser.js\n// module id = 19\n// module chunks = 0 1","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 20\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 21\n// module chunks = 0 1","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 22\n// module chunks = 0 1","const _ = require('underscore');\nconst adapters = {};\n\nconst getAdapter = name => {\n  const adapter = adapters[name];\n  if (adapter === undefined) {\n    throw new Error(`${name} adapter is not configured`);\n  }\n  return adapter;\n};\nconst setAdapters = newAdapters => {\n  _.extend(adapters, newAdapters);\n};\n\nmodule.exports = {\n  getAdapter,\n  setAdapters,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapter.js","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 24\n// module chunks = 0 1","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 25\n// module chunks = 0 1","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 26\n// module chunks = 0 1","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 27\n// module chunks = 0 1","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 28\n// module chunks = 0 1","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 29\n// module chunks = 0 1","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 30\n// module chunks = 0 1","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 31\n// module chunks = 0 1","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 32\n// module chunks = 0 1","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 33\n// module chunks = 0 1","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 34\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 35\n// module chunks = 0 1","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 36\n// module chunks = 0 1","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 37\n// module chunks = 0 1","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 38\n// module chunks = 0 1","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 39\n// module chunks = 0 1","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 40\n// module chunks = 0 1","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 41\n// module chunks = 0 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 42\n// module chunks = 0 1","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 43\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 44\n// module chunks = 0 1","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 45\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 47\n// module chunks = 0 1","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 48\n// module chunks = 0 1","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 49\n// module chunks = 0 1","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 50\n// module chunks = 0 1","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 51\n// module chunks = 0 1","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 52\n// module chunks = 0 1","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 53\n// module chunks = 0 1","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 54\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 55\n// module chunks = 0 1","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 56\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 57\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 58\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 59\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 60\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 61\n// module chunks = 0 1","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 62\n// module chunks = 0 1","module.exports = '4.5.3';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 64\n// module chunks = 0 1","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 65\n// module chunks = 0 1","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 66\n// module chunks = 0 1","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 67\n// module chunks = 0 1","var { getAdapter } = require('./adapter');\n\nvar syncApiNames = ['getItem', 'setItem', 'removeItem', 'clear'];\n\nconst localStorage = {\n  get async() {\n    return getAdapter('storage').async;\n  },\n};\n\n// wrap sync apis with async ones.\nsyncApiNames.forEach(function(apiName) {\n  localStorage[apiName + 'Async'] = function() {\n    const storage = getAdapter('storage');\n    return Promise.resolve(storage[apiName].apply(storage, arguments));\n  };\n\n  localStorage[apiName] = function() {\n    const storage = getAdapter('storage');\n    if (!storage.async) {\n      return storage[apiName].apply(storage, arguments);\n    }\n    const error = new Error(\n      'Synchronous API [' + apiName + '] is not available in this runtime.'\n    );\n    error.code = 'SYNC_API_NOT_AVAILABLE';\n    throw error;\n  };\n});\n\nmodule.exports = localStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/localstorage.js","const storage = require('./localstorage');\nconst AV = require('./av');\n\nconst removeAsync = (exports.removeAsync = storage.removeItemAsync.bind(\n  storage\n));\n\nconst getCacheData = (cacheData, key) => {\n  try {\n    cacheData = JSON.parse(cacheData);\n  } catch (e) {\n    return null;\n  }\n  if (cacheData) {\n    const expired = cacheData.expiredAt && cacheData.expiredAt < Date.now();\n    if (!expired) {\n      return cacheData.value;\n    }\n    return removeAsync(key).then(() => null);\n  }\n  return null;\n};\n\nexports.getAsync = key => {\n  key = `AV/${AV.applicationId}/${key}`;\n  return storage.getItemAsync(key).then(cache => getCacheData(cache, key));\n};\n\nexports.setAsync = (key, value, ttl) => {\n  const cache = { value };\n  if (typeof ttl === 'number') {\n    cache.expiredAt = Date.now() + ttl;\n  }\n  return storage.setItemAsync(\n    `AV/${AV.applicationId}/${key}`,\n    JSON.stringify(cache)\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 70\n// module chunks = 0 1","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/charenc/charenc.js\n// module id = 71\n// module chunks = 0 1","module.exports = require('../index');\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/core.js","/*!\n * LeanCloud JavaScript SDK\n * https://leancloud.cn\n *\n * Copyright 2016 LeanCloud.cn, Inc.\n * The LeanCloud JavaScript SDK is freely distributable under the MIT license.\n */\nconst _ = require('underscore');\n\nconst AV = require('./av');\n\nAV._ = _;\nAV.version = require('./version');\nAV.Promise = Promise;\nAV.localStorage = require('./localstorage');\nAV.Cache = require('./cache');\nAV.Error = require('./error');\n\nrequire('./init');\nrequire('./event')(AV);\nrequire('./geopoint')(AV);\nrequire('./acl')(AV);\nrequire('./op')(AV);\nrequire('./relation')(AV);\nrequire('./file')(AV);\nrequire('./object')(AV);\nrequire('./role')(AV);\nrequire('./user')(AV);\nrequire('./query')(AV);\nrequire('./live-query')(AV);\nrequire('./captcha')(AV);\nrequire('./cloudfunction')(AV);\nrequire('./push')(AV);\nrequire('./status')(AV);\nrequire('./search')(AV);\nrequire('./insight')(AV);\n\nAV.Conversation = require('./conversation');\nrequire('./leaderboard');\nmodule.exports = AV;\n\n/**\n * Options to controll the authentication for an operation\n * @typedef {Object} AuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 74\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 75\n// module chunks = 0 1","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 76\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 77\n// module chunks = 0 1","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 78\n// module chunks = 0 1","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 79\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 80\n// module chunks = 0 1","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 81\n// module chunks = 0 1","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 82\n// module chunks = 0 1","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 83\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 84\n// module chunks = 0 1","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 85\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 86\n// module chunks = 0 1","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 87\n// module chunks = 0 1","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 88\n// module chunks = 0 1","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 89\n// module chunks = 0 1","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 90\n// module chunks = 0 1","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_user-agent.js\n// module id = 91\n// module chunks = 0 1","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 92\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 93\n// module chunks = 0 1","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 94\n// module chunks = 0 1","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 95\n// module chunks = 0 1","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 96\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 97\n// module chunks = 0 1","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = 98\n// module chunks = 0 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 99\n// module chunks = 0 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 100\n// module chunks = 0 1","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 101\n// module chunks = 0 1","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 102\n// module chunks = 0 1","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/common.js\n// module id = 103\n// module chunks = 0 1","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ms/index.js\n// module id = 104\n// module chunks = 0 1","const version = require('../version');\nconst getUA = (comments = []) => {\n  let ua = `LeanCloud-JS-SDK/${version}`;\n  if (comments.length) {\n    ua += ` (${comments.join('; ')})`;\n  }\n  return ua;\n};\nmodule.exports = getUA;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ua/index.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\n// module id = 106\n// module chunks = 0 1","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-prototype-of.js\n// module id = 107\n// module chunks = 0 1","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 108\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 109\n// module chunks = 0 1","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 110\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 111\n// module chunks = 0 1","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 112\n// module chunks = 0 1","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 113\n// module chunks = 0 1","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 114\n// module chunks = 0 1","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 115\n// module chunks = 0 1","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 116\n// module chunks = 0 1","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 117\n// module chunks = 0 1","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 118\n// module chunks = 0 1","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 119\n// module chunks = 0 1","// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/promise-timeout/index.js\n// module id = 120\n// module chunks = 0 1","const AV = require('./av');\nconst AppRouter = require('./app-router');\nconst { isNullOrUndefined } = require('./utils');\nconst { extend, isObject, isEmpty } = require('underscore');\n\nconst isCNApp = appId => appId.slice(-9) !== '-MdYXbMMI';\n\nconst fillServerURLs = url => ({\n  push: url,\n  stats: url,\n  engine: url,\n  api: url,\n  rtm: url,\n});\n\nfunction getDefaultServerURLs(appId) {\n  if (isCNApp(appId)) {\n    return {};\n  }\n  const id = appId.slice(0, 8).toLowerCase();\n  const domain = 'lncldglobal.com';\n  return {\n    push: `https://${id}.push.${domain}`,\n    stats: `https://${id}.stats.${domain}`,\n    engine: `https://${id}.engine.${domain}`,\n    api: `https://${id}.api.${domain}`,\n    rtm: `https://${id}.rtm.${domain}`,\n  };\n}\n\nlet _disableAppRouter = false;\nlet _initialized = false;\n\n/**\n * URLs for services\n * @typedef {Object} ServerURLs\n * @property {String} [api] serverURL for API service\n * @property {String} [engine] serverURL for engine service\n * @property {String} [stats] serverURL for stats service\n * @property {String} [push] serverURL for push service\n * @property {String} [rtm] serverURL for LiveQuery service\n */\n\n/**\n * Call this method first to set up your authentication tokens for AV.\n * You can get your app keys from the LeanCloud dashboard on http://leancloud.cn .\n * @function AV.init\n * @param {Object} options\n * @param {String} options.appId application id\n * @param {String} options.appKey application key\n * @param {String} [options.masterKey] application master key\n * @param {Boolean} [options.production]\n * @param {String|ServerURLs} [options.serverURL] URLs for services. if a string was given, it will be applied for all services.\n * @param {Boolean} [options.disableCurrentUser]\n */\nAV.init = function init(options, ...params) {\n  if (!isObject(options)) {\n    return AV.init({\n      appId: options,\n      appKey: params[0],\n      masterKey: params[1],\n    });\n  }\n  const {\n    appId,\n    appKey,\n    masterKey,\n    hookKey,\n    serverURL,\n    serverURLs = serverURL,\n    disableCurrentUser,\n    production,\n    realtime,\n  } = options;\n  if (_initialized)\n    console.warn(\n      'Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations.'\n    );\n  if (!appId) throw new TypeError('appId must be a string');\n  if (!appKey) throw new TypeError('appKey must be a string');\n  if (process.env.CLIENT_PLATFORM && masterKey)\n    console.warn('MasterKey is not supposed to be used at client side.');\n  if (isCNApp(appId)) {\n    if (!serverURLs && isEmpty(AV._config.serverURLs)) {\n      throw new TypeError(\n        `serverURL option is required for apps from CN region`\n      );\n    }\n  }\n  if (appId !== AV._config.applicationId) {\n    // overwrite all keys when reinitializing as a new app\n    AV._config.masterKey = masterKey;\n    AV._config.hookKey = hookKey;\n  } else {\n    if (masterKey) AV._config.masterKey = masterKey;\n    if (hookKey) AV._config.hookKey = hookKey;\n  }\n  AV._config.applicationId = appId;\n  AV._config.applicationKey = appKey;\n  AV.setProduction(production);\n  if (typeof disableCurrentUser !== 'undefined')\n    AV._config.disableCurrentUser = disableCurrentUser;\n  const disableAppRouter =\n    _disableAppRouter || typeof serverURLs !== 'undefined';\n  if (!disableAppRouter) {\n    AV._appRouter = new AppRouter(AV);\n  }\n  AV._setServerURLs(\n    extend(\n      {},\n      getDefaultServerURLs(appId),\n      AV._config.serverURLs,\n      typeof serverURLs === 'string' ? fillServerURLs(serverURLs) : serverURLs\n    ),\n    disableAppRouter\n  );\n  if (realtime) {\n    AV._config.realtime = realtime;\n  } else if (AV._sharedConfig.liveQueryRealtime) {\n    const { api, rtm } = AV._config.serverURLs;\n    AV._config.realtime = new AV._sharedConfig.liveQueryRealtime({\n      appId,\n      appKey,\n      server: {\n        api,\n        RTMRouter: rtm,\n      },\n    });\n  }\n  _initialized = true;\n};\n\n// If we're running in node.js, allow using the master key.\nif (!process.env.CLIENT_PLATFORM) {\n  AV.Cloud = AV.Cloud || {};\n  /**\n   * Switches the LeanCloud SDK to using the Master key.  The Master key grants\n   * priveleged access to the data in LeanCloud and can be used to bypass ACLs and\n   * other restrictions that are applied to the client SDKs.\n   * <p><strong><em>Available in Cloud Code and Node.js only.</em></strong>\n   * </p>\n   */\n  AV.Cloud.useMasterKey = () => {\n    AV._config.useMasterKey = true;\n  };\n}\n\n/**\n * Call this method to set production environment variable.\n * @function AV.setProduction\n * @param {Boolean} production True is production environment,and\n *  it's true by default.\n */\nAV.setProduction = production => {\n  if (!isNullOrUndefined(production)) {\n    AV._config.production = production ? 1 : 0;\n  } else {\n    // change to default value\n    AV._config.production = null;\n  }\n};\n\nAV._setServerURLs = (urls, disableAppRouter = true) => {\n  if (typeof urls !== 'string') {\n    extend(AV._config.serverURLs, urls);\n  } else {\n    AV._config.serverURLs = fillServerURLs(urls);\n  }\n  if (disableAppRouter) {\n    if (AV._appRouter) {\n      AV._appRouter.disable();\n    } else {\n      _disableAppRouter = true;\n    }\n  }\n};\n/**\n * Set server URLs for services.\n * @function AV.setServerURL\n * @since 4.3.0\n * @param {String|ServerURLs} urls URLs for services. if a string was given, it will be applied for all services.\n * You can also set them when initializing SDK with `options.serverURL`\n */\nAV.setServerURL = urls => AV._setServerURLs(urls);\nAV.setServerURLs = AV.setServerURL;\n\nAV.keepErrorRawMessage = value => {\n  AV._sharedConfig.keepErrorRawMessage = value;\n};\n\n/**\n * Set a deadline for requests to complete.\n * Note that file upload requests are not affected.\n * @function AV.setRequestTimeout\n * @since 3.6.0\n * @param {number} ms\n */\nAV.setRequestTimeout = ms => {\n  AV._config.requestTimeout = ms;\n};\n\n// backword compatible\nAV.initialize = AV.init;\n\nconst defineConfig = property =>\n  Object.defineProperty(AV, property, {\n    get() {\n      return AV._config[property];\n    },\n    set(value) {\n      AV._config[property] = value;\n    },\n  });\n\n['applicationId', 'applicationKey', 'masterKey', 'hookKey'].forEach(\n  defineConfig\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 122\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 123\n// module chunks = 0 1","const { ajax } = require('./utils');\nconst Cache = require('./cache');\n\nfunction AppRouter(AV) {\n  this.AV = AV;\n  this.lockedUntil = 0;\n  Cache.getAsync('serverURLs')\n    .then(data => {\n      if (this.disabled) return;\n      if (!data) return this.lock(0);\n      const { serverURLs, lockedUntil } = data;\n      this.AV._setServerURLs(serverURLs, false);\n      this.lockedUntil = lockedUntil;\n    })\n    .catch(() => this.lock(0));\n}\n\nAppRouter.prototype.disable = function disable() {\n  this.disabled = true;\n};\nAppRouter.prototype.lock = function lock(ttl) {\n  this.lockedUntil = Date.now() + ttl;\n};\nAppRouter.prototype.refresh = function refresh() {\n  if (this.disabled) return;\n  if (Date.now() < this.lockedUntil) return;\n  this.lock(10);\n  const url = 'https://app-router.com/2/route';\n  return ajax({\n    method: 'get',\n    url,\n    query: {\n      appId: this.AV.applicationId,\n    },\n  })\n    .then(servers => {\n      if (this.disabled) return;\n      let ttl = servers.ttl;\n      if (!ttl) throw new Error('missing ttl');\n      ttl = ttl * 1000;\n      const protocal = 'https://';\n      const serverURLs = {\n        push: protocal + servers.push_server,\n        stats: protocal + servers.stats_server,\n        engine: protocal + servers.engine_server,\n        api: protocal + servers.api_server,\n      };\n      this.AV._setServerURLs(serverURLs, false);\n      this.lock(ttl);\n      return Cache.setAsync(\n        'serverURLs',\n        {\n          serverURLs,\n          lockedUntil: this.lockedUntil,\n        },\n        ttl\n      );\n    })\n    .catch(error => {\n      // bypass all errors\n      console.warn(`refresh server URLs failed: ${error.message}`);\n      this.lock(600);\n    });\n};\n\nmodule.exports = AppRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app-router.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var eventSplitter = /\\s+/;\n  var slice = Array.prototype.slice;\n\n  /**\n   * @class\n   *\n   * <p>AV.Events is a fork of Backbone's Events module, provided for your\n   * convenience.</p>\n   *\n   * <p>A module that can be mixed in to any object in order to provide\n   * it with custom events. You may bind callback functions to an event\n   * with `on`, or remove these functions with `off`.\n   * Triggering an event fires all callbacks in the order that `on` was\n   * called.\n   *\n   * @private\n   * @example\n   * var object = {};\n   * _.extend(object, AV.Events);\n   * object.on('expand', function(){ alert('expanded'); });\n   * object.trigger('expand');</pre></p>\n   *\n   */\n  AV.Events = {\n    /**\n     * Bind one or more space separated events, `events`, to a `callback`\n     * function. Passing `\"all\"` will bind the callback to all events fired.\n     */\n    on: function(events, callback, context) {\n      var calls, event, node, tail, list;\n      if (!callback) {\n        return this;\n      }\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      event = events.shift();\n      while (event) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = { tail: tail, next: list ? list.next : node };\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Remove one or many callbacks. If `context` is null, removes all callbacks\n     * with that function. If `callback` is null, removes all callbacks for the\n     * event. If `events` is null, removes all bound callbacks for all events.\n     */\n    off: function(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) {\n        return;\n      }\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) {\n          continue;\n        }\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        node = node.next;\n        while (node !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if ((callback && cb !== callback) || (context && ctx !== context)) {\n            this.on(event, cb, ctx);\n          }\n          node = node.next;\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Trigger one or many events, firing all bound callbacks. Callbacks are\n     * passed the same arguments as `trigger` is, apart from the event name\n     * (unless you're listening on `\"all\"`, which will cause your callback to\n     * receive the true name of the event as the first argument).\n     */\n    trigger: function(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) {\n        return this;\n      }\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        if (node) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        node = all;\n        if (node) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n  };\n\n  /**\n   * @function\n   */\n  AV.Events.bind = AV.Events.on;\n\n  /**\n   * @function\n   */\n  AV.Events.unbind = AV.Events.off;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","var _ = require('underscore');\n\n/*global navigator: false */\nmodule.exports = function(AV) {\n  /**\n   * Creates a new GeoPoint with any of the following forms:<br>\n   * @example\n   * new GeoPoint(otherGeoPoint)\n   * new GeoPoint(30, 30)\n   * new GeoPoint([30, 30])\n   * new GeoPoint({latitude: 30, longitude: 30})\n   * new GeoPoint()  // defaults to (0, 0)\n   * @class\n   *\n   * <p>Represents a latitude / longitude point that may be associated\n   * with a key in a AVObject or used as a reference point for geo queries.\n   * This allows proximity-based queries on the key.</p>\n   *\n   * <p>Only one key in a class may contain a GeoPoint.</p>\n   *\n   * <p>Example:<pre>\n   *   var point = new AV.GeoPoint(30.0, -20.0);\n   *   var object = new AV.Object(\"PlaceObject\");\n   *   object.set(\"location\", point);\n   *   object.save();</pre></p>\n   */\n  AV.GeoPoint = function(arg1, arg2) {\n    if (_.isArray(arg1)) {\n      AV.GeoPoint._validate(arg1[0], arg1[1]);\n      this.latitude = arg1[0];\n      this.longitude = arg1[1];\n    } else if (_.isObject(arg1)) {\n      AV.GeoPoint._validate(arg1.latitude, arg1.longitude);\n      this.latitude = arg1.latitude;\n      this.longitude = arg1.longitude;\n    } else if (_.isNumber(arg1) && _.isNumber(arg2)) {\n      AV.GeoPoint._validate(arg1, arg2);\n      this.latitude = arg1;\n      this.longitude = arg2;\n    } else {\n      this.latitude = 0;\n      this.longitude = 0;\n    }\n\n    // Add properties so that anyone using Webkit or Mozilla will get an error\n    // if they try to set values that are out of bounds.\n    var self = this;\n    if (this.__defineGetter__ && this.__defineSetter__) {\n      // Use _latitude and _longitude to actually store the values, and add\n      // getters and setters for latitude and longitude.\n      this._latitude = this.latitude;\n      this._longitude = this.longitude;\n      this.__defineGetter__('latitude', function() {\n        return self._latitude;\n      });\n      this.__defineGetter__('longitude', function() {\n        return self._longitude;\n      });\n      this.__defineSetter__('latitude', function(val) {\n        AV.GeoPoint._validate(val, self.longitude);\n        self._latitude = val;\n      });\n      this.__defineSetter__('longitude', function(val) {\n        AV.GeoPoint._validate(self.latitude, val);\n        self._longitude = val;\n      });\n    }\n  };\n\n  /**\n   * @lends AV.GeoPoint.prototype\n   * @property {float} latitude North-south portion of the coordinate, in range\n   *   [-90, 90].  Throws an exception if set out of range in a modern browser.\n   * @property {float} longitude East-west portion of the coordinate, in range\n   *   [-180, 180].  Throws if set out of range in a modern browser.\n   */\n\n  /**\n   * Throws an exception if the given lat-long is out of bounds.\n   * @private\n   */\n  AV.GeoPoint._validate = function(latitude, longitude) {\n    if (latitude < -90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' < -90.0.');\n    }\n    if (latitude > 90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' > 90.0.');\n    }\n    if (longitude < -180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' < -180.0.');\n    }\n    if (longitude > 180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' > 180.0.');\n    }\n  };\n\n  /**\n   * Creates a GeoPoint with the user's current location, if available.\n   * @return {Promise.<AV.GeoPoint>}\n   */\n  AV.GeoPoint.current = () =>\n    new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(function(location) {\n        resolve(\n          new AV.GeoPoint({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude,\n          })\n        );\n      }, reject);\n    });\n\n  _.extend(\n    AV.GeoPoint.prototype,\n    /** @lends AV.GeoPoint.prototype */ {\n      /**\n       * Returns a JSON representation of the GeoPoint, suitable for AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        AV.GeoPoint._validate(this.latitude, this.longitude);\n        return {\n          __type: 'GeoPoint',\n          latitude: this.latitude,\n          longitude: this.longitude,\n        };\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in radians.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      radiansTo: function(point) {\n        var d2r = Math.PI / 180.0;\n        var lat1rad = this.latitude * d2r;\n        var long1rad = this.longitude * d2r;\n        var lat2rad = point.latitude * d2r;\n        var long2rad = point.longitude * d2r;\n        var deltaLat = lat1rad - lat2rad;\n        var deltaLong = long1rad - long2rad;\n        var sinDeltaLatDiv2 = Math.sin(deltaLat / 2);\n        var sinDeltaLongDiv2 = Math.sin(deltaLong / 2);\n        // Square of half the straight line chord distance between both points.\n        var a =\n          sinDeltaLatDiv2 * sinDeltaLatDiv2 +\n          Math.cos(lat1rad) *\n            Math.cos(lat2rad) *\n            sinDeltaLongDiv2 *\n            sinDeltaLongDiv2;\n        a = Math.min(1.0, a);\n        return 2 * Math.asin(Math.sqrt(a));\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in kilometers.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      kilometersTo: function(point) {\n        return this.radiansTo(point) * 6371.0;\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in miles.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      milesTo: function(point) {\n        return this.radiansTo(point) * 3958.8;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/geopoint.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var PUBLIC_KEY = '*';\n\n  /**\n   * Creates a new ACL.\n   * If no argument is given, the ACL has no permissions for anyone.\n   * If the argument is a AV.User, the ACL will have read and write\n   *   permission for only that user.\n   * If the argument is any other JSON object, that object will be interpretted\n   *   as a serialized ACL created with toJSON().\n   * @see AV.Object#setACL\n   * @class\n   *\n   * <p>An ACL, or Access Control List can be added to any\n   * <code>AV.Object</code> to restrict access to only a subset of users\n   * of your application.</p>\n   */\n  AV.ACL = function(arg1) {\n    var self = this;\n    self.permissionsById = {};\n    if (_.isObject(arg1)) {\n      if (arg1 instanceof AV.User) {\n        self.setReadAccess(arg1, true);\n        self.setWriteAccess(arg1, true);\n      } else {\n        if (_.isFunction(arg1)) {\n          throw new Error(\n            'AV.ACL() called with a function.  Did you forget ()?'\n          );\n        }\n        AV._objectEach(arg1, function(accessList, userId) {\n          if (!_.isString(userId)) {\n            throw new Error('Tried to create an ACL with an invalid userId.');\n          }\n          self.permissionsById[userId] = {};\n          AV._objectEach(accessList, function(allowed, permission) {\n            if (permission !== 'read' && permission !== 'write') {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission type.'\n              );\n            }\n            if (!_.isBoolean(allowed)) {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission value.'\n              );\n            }\n            self.permissionsById[userId][permission] = allowed;\n          });\n        });\n      }\n    }\n  };\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @return {Object}\n   */\n  AV.ACL.prototype.toJSON = function() {\n    return _.clone(this.permissionsById);\n  };\n\n  AV.ACL.prototype._setAccess = function(accessType, userId, allowed) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    if (!_.isString(userId)) {\n      throw new Error('userId must be a string.');\n    }\n    if (!_.isBoolean(allowed)) {\n      throw new Error('allowed must be either true or false.');\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      if (!allowed) {\n        // The user already doesn't have this permission, so no action needed.\n        return;\n      } else {\n        permissions = {};\n        this.permissionsById[userId] = permissions;\n      }\n    }\n\n    if (allowed) {\n      this.permissionsById[userId][accessType] = true;\n    } else {\n      delete permissions[accessType];\n      if (_.isEmpty(permissions)) {\n        delete this.permissionsById[userId];\n      }\n    }\n  };\n\n  AV.ACL.prototype._getAccess = function(accessType, userId) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      return false;\n    }\n    return permissions[accessType] ? true : false;\n  };\n\n  /**\n   * Set whether the given user is allowed to read this object.\n   * @param userId An instance of AV.User or its objectId.\n   * @param {Boolean} allowed Whether that user should have read access.\n   */\n  AV.ACL.prototype.setReadAccess = function(userId, allowed) {\n    this._setAccess('read', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to read this object.\n   * Even if this returns false, the user may still be able to access it if\n   * getPublicReadAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getReadAccess = function(userId) {\n    return this._getAccess('read', userId);\n  };\n\n  /**\n   * Set whether the given user id is allowed to write this object.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role..\n   * @param {Boolean} allowed Whether that user should have write access.\n   */\n  AV.ACL.prototype.setWriteAccess = function(userId, allowed) {\n    this._setAccess('write', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to write this object.\n   * Even if this returns false, the user may still be able to write it if\n   * getPublicWriteAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getWriteAccess = function(userId) {\n    return this._getAccess('write', userId);\n  };\n\n  /**\n   * Set whether the public is allowed to read this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicReadAccess = function(allowed) {\n    this.setReadAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to read this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicReadAccess = function() {\n    return this.getReadAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Set whether the public is allowed to write this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicWriteAccess = function(allowed) {\n    this.setWriteAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to write this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicWriteAccess = function() {\n    return this.getWriteAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to read this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has read access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has read access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleReadAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getReadAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to write this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has write access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has write access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleWriteAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getWriteAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to read this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can read this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleReadAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setReadAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to write this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can write this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleWriteAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setWriteAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/acl.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * @private\n   * @class\n   * A AV.Op is an atomic operation that can be applied to a field in a\n   * AV.Object. For example, calling <code>object.set(\"foo\", \"bar\")</code>\n   * is an example of a AV.Op.Set. Calling <code>object.unset(\"foo\")</code>\n   * is a AV.Op.Unset. These operations are stored in a AV.Object and\n   * sent to the server as part of <code>object.save()</code> operations.\n   * Instances of AV.Op should be immutable.\n   *\n   * You should not create subclasses of AV.Op or instantiate AV.Op\n   * directly.\n   */\n  AV.Op = function() {\n    this._initialize.apply(this, arguments);\n  };\n\n  _.extend(\n    AV.Op.prototype,\n    /** @lends AV.Op.prototype */ {\n      _initialize: function() {},\n    }\n  );\n\n  _.extend(AV.Op, {\n    /**\n     * To create a new Op, call AV.Op._extend();\n     * @private\n     */\n    _extend: AV._extend,\n\n    // A map of __op string to decoder function.\n    _opDecoderMap: {},\n\n    /**\n     * Registers a function to convert a json object with an __op field into an\n     * instance of a subclass of AV.Op.\n     * @private\n     */\n    _registerDecoder: function(opName, decoder) {\n      AV.Op._opDecoderMap[opName] = decoder;\n    },\n\n    /**\n     * Converts a json object into an instance of a subclass of AV.Op.\n     * @private\n     */\n    _decode: function(json) {\n      var decoder = AV.Op._opDecoderMap[json.__op];\n      if (decoder) {\n        return decoder(json);\n      } else {\n        return undefined;\n      }\n    },\n  });\n\n  /*\n   * Add a handler for Batch ops.\n   */\n  AV.Op._registerDecoder('Batch', function(json) {\n    var op = null;\n    AV._arrayEach(json.ops, function(nextOp) {\n      nextOp = AV.Op._decode(nextOp);\n      op = nextOp._mergeWithPrevious(op);\n    });\n    return op;\n  });\n\n  /**\n   * @private\n   * @class\n   * A Set operation indicates that either the field was changed using\n   * AV.Object.set, or it is a mutable container that was detected as being\n   * changed.\n   */\n  AV.Op.Set = AV.Op._extend(\n    /** @lends AV.Op.Set.prototype */ {\n      _initialize: function(value) {\n        this._value = value;\n      },\n\n      /**\n       * Returns the new value of this field after the set.\n       */\n      value: function() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return AV._encode(this.value());\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return this.value();\n      },\n    }\n  );\n\n  /**\n   * A sentinel value that is returned by AV.Op.Unset._estimate to\n   * indicate the field should be deleted. Basically, if you find _UNSET as a\n   * value in your object, you should remove that key.\n   */\n  AV.Op._UNSET = {};\n\n  /**\n   * @private\n   * @class\n   * An Unset operation indicates that this field has been deleted from the\n   * object.\n   */\n  AV.Op.Unset = AV.Op._extend(\n    /** @lends AV.Op.Unset.prototype */ {\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Delete' };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return AV.Op._UNSET;\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Delete', function(json) {\n    return new AV.Op.Unset();\n  });\n\n  /**\n   * @private\n   * @class\n   * An Increment is an atomic operation where the numeric value for the field\n   * will be increased by a given amount.\n   */\n  AV.Op.Increment = AV.Op._extend(\n    /** @lends AV.Op.Increment.prototype */ {\n      _initialize: function(amount) {\n        this._amount = amount;\n      },\n\n      /**\n       * Returns the amount to increment by.\n       * @return {Number} the amount to increment by.\n       */\n      amount: function() {\n        return this._amount;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Increment', amount: this._amount };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.amount());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() + this.amount());\n        } else if (previous instanceof AV.Op.Increment) {\n          return new AV.Op.Increment(this.amount() + previous.amount());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return this.amount();\n        }\n        return oldValue + this.amount();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Increment', function(json) {\n    return new AV.Op.Increment(json.amount);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitAnd is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitAnd = AV.Op._extend(\n    /** @lends AV.Op.BitAnd.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitAnd', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(0);\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() & this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue & this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitAnd', function(json) {\n    return new AV.Op.BitAnd(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitOr is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitOr = AV.Op._extend(\n    /** @lends AV.Op.BitOr.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitOr', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() | this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue | this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitOr', function(json) {\n    return new AV.Op.BitOr(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitXor is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitXor = AV.Op._extend(\n    /** @lends AV.Op.BitXor.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitXor', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() ^ this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue ^ this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitXor', function(json) {\n    return new AV.Op.BitXor(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * Add is an atomic operation where the given objects will be appended to the\n   * array that is stored in this field.\n   */\n  AV.Op.Add = AV.Op._extend(\n    /** @lends AV.Op.Add.prototype */ {\n      _initialize: function(objects) {\n        this._objects = objects;\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Add', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Add) {\n          return new AV.Op.Add(previous.objects().concat(this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          return oldValue.concat(this.objects());\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Add', function(json) {\n    return new AV.Op.Add(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * AddUnique is an atomic operation where the given items will be appended to\n   * the array that is stored in this field only if they were not already\n   * present in the array.\n   */\n  AV.Op.AddUnique = AV.Op._extend(\n    /** @lends AV.Op.AddUnique.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'AddUnique', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.AddUnique) {\n          return new AV.Op.AddUnique(this._estimate(previous.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          // We can't just take the _.uniq(_.union(...)) of oldValue and\n          // this.objects, because the uniqueness may not apply to oldValue\n          // (especially if the oldValue was set via .set())\n          var newValue = _.clone(oldValue);\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              var matchingObj = _.find(newValue, function(anObj) {\n                return anObj instanceof AV.Object && anObj.id === obj.id;\n              });\n              if (!matchingObj) {\n                newValue.push(obj);\n              } else {\n                var index = _.indexOf(newValue, matchingObj);\n                newValue[index] = obj;\n              }\n            } else if (!_.contains(newValue, obj)) {\n              newValue.push(obj);\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddUnique', function(json) {\n    return new AV.Op.AddUnique(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * Remove is an atomic operation where the given objects will be removed from\n   * the array that is stored in this field.\n   */\n  AV.Op.Remove = AV.Op._extend(\n    /** @lends AV.Op.Remove.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be removed from the array.\n       * @return {Array} The objects to be removed from the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Remove', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return previous;\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Remove) {\n          return new AV.Op.Remove(_.union(previous.objects(), this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return [];\n        } else {\n          var newValue = _.difference(oldValue, this.objects());\n          // If there are saved AV Objects being removed, also remove them.\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              newValue = _.reject(newValue, function(other) {\n                return other instanceof AV.Object && other.id === obj.id;\n              });\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Remove', function(json) {\n    return new AV.Op.Remove(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * A Relation operation indicates that the field is an instance of\n   * AV.Relation, and objects are being added to, or removed from, that\n   * relation.\n   */\n  AV.Op.Relation = AV.Op._extend(\n    /** @lends AV.Op.Relation.prototype */ {\n      _initialize: function(adds, removes) {\n        this._targetClassName = null;\n\n        var self = this;\n\n        var pointerToId = function(object) {\n          if (object instanceof AV.Object) {\n            if (!object.id) {\n              throw new Error(\n                \"You can't add an unsaved AV.Object to a relation.\"\n              );\n            }\n            if (!self._targetClassName) {\n              self._targetClassName = object.className;\n            }\n            if (self._targetClassName !== object.className) {\n              throw new Error(\n                'Tried to create a AV.Relation with 2 different types: ' +\n                  self._targetClassName +\n                  ' and ' +\n                  object.className +\n                  '.'\n              );\n            }\n            return object.id;\n          }\n          return object;\n        };\n\n        this.relationsToAdd = _.uniq(_.map(adds, pointerToId));\n        this.relationsToRemove = _.uniq(_.map(removes, pointerToId));\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being added to the\n       * relation.\n       * @return {Array}\n       */\n      added: function() {\n        var self = this;\n        return _.map(this.relationsToAdd, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being removed from\n       * the relation.\n       * @return {Array}\n       */\n      removed: function() {\n        var self = this;\n        return _.map(this.relationsToRemove, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        var adds = null;\n        var removes = null;\n        var self = this;\n        var idToPointer = function(id) {\n          return {\n            __type: 'Pointer',\n            className: self._targetClassName,\n            objectId: id,\n          };\n        };\n        var pointers = null;\n        if (this.relationsToAdd.length > 0) {\n          pointers = _.map(this.relationsToAdd, idToPointer);\n          adds = { __op: 'AddRelation', objects: pointers };\n        }\n\n        if (this.relationsToRemove.length > 0) {\n          pointers = _.map(this.relationsToRemove, idToPointer);\n          removes = { __op: 'RemoveRelation', objects: pointers };\n        }\n\n        if (adds && removes) {\n          return { __op: 'Batch', ops: [adds, removes] };\n        }\n\n        return adds || removes || {};\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          throw new Error(\"You can't modify a relation after deleting it.\");\n        } else if (previous instanceof AV.Op.Relation) {\n          if (\n            previous._targetClassName &&\n            previous._targetClassName !== this._targetClassName\n          ) {\n            throw new Error(\n              'Related object must be of class ' +\n                previous._targetClassName +\n                ', but ' +\n                this._targetClassName +\n                ' was passed in.'\n            );\n          }\n          var newAdd = _.union(\n            _.difference(previous.relationsToAdd, this.relationsToRemove),\n            this.relationsToAdd\n          );\n          var newRemove = _.union(\n            _.difference(previous.relationsToRemove, this.relationsToAdd),\n            this.relationsToRemove\n          );\n\n          var newRelation = new AV.Op.Relation(newAdd, newRemove);\n          newRelation._targetClassName = this._targetClassName;\n          return newRelation;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue, object, key) {\n        if (!oldValue) {\n          var relation = new AV.Relation(object, key);\n          relation.targetClassName = this._targetClassName;\n        } else if (oldValue instanceof AV.Relation) {\n          if (this._targetClassName) {\n            if (oldValue.targetClassName) {\n              if (oldValue.targetClassName !== this._targetClassName) {\n                throw new Error(\n                  'Related object must be a ' +\n                    oldValue.targetClassName +\n                    ', but a ' +\n                    this._targetClassName +\n                    ' was passed in.'\n                );\n              }\n            } else {\n              oldValue.targetClassName = this._targetClassName;\n            }\n          }\n          return oldValue;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddRelation', function(json) {\n    return new AV.Op.Relation(AV._decode(json.objects), []);\n  });\n  AV.Op._registerDecoder('RemoveRelation', function(json) {\n    return new AV.Op.Relation([], AV._decode(json.objects));\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/op.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new Relation for the given parent object and key. This\n   * constructor should rarely be used directly, but rather created by\n   * {@link AV.Object#relation}.\n   * @param {AV.Object} parent The parent of this relation.\n   * @param {String} key The key for this relation on the parent.\n   * @see AV.Object#relation\n   * @class\n   *\n   * <p>\n   * A class that is used to access all of the children of a many-to-many\n   * relationship.  Each instance of AV.Relation is associated with a\n   * particular parent object and key.\n   * </p>\n   */\n  AV.Relation = function(parent, key) {\n    if (!_.isString(key)) {\n      throw new TypeError('key must be a string');\n    }\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  };\n\n  /**\n   * Creates a query that can be used to query the parent objects in this relation.\n   * @param {String} parentClass The parent class or name.\n   * @param {String} relationKey The relation field key in parent.\n   * @param {AV.Object} child The child object.\n   * @return {AV.Query}\n   */\n  AV.Relation.reverseQuery = function(parentClass, relationKey, child) {\n    var query = new AV.Query(parentClass);\n    query.equalTo(relationKey, child._toPointer());\n    return query;\n  };\n\n  _.extend(\n    AV.Relation.prototype,\n    /** @lends AV.Relation.prototype */ {\n      /**\n       * Makes sure that this relation has the right parent and key.\n       * @private\n       */\n      _ensureParentAndKey: function(parent, key) {\n        this.parent = this.parent || parent;\n        this.key = this.key || key;\n        if (this.parent !== parent) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different Objects.'\n          );\n        }\n        if (this.key !== key) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different keys.'\n          );\n        }\n      },\n\n      /**\n       * Adds a AV.Object or an array of AV.Objects to the relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to add.\n       */\n      add: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation(objects, []);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Removes a AV.Object or an array of AV.Objects from this relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to remove.\n       */\n      remove: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation([], objects);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Returns a JSON version of the object suitable for saving to disk.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __type: 'Relation', className: this.targetClassName };\n      },\n\n      /**\n       * Returns a AV.Query that is limited to objects in this\n       * relation.\n       * @return {AV.Query}\n       */\n      query: function() {\n        var targetClass;\n        var query;\n        if (!this.targetClassName) {\n          targetClass = AV.Object._getSubclass(this.parent.className);\n          query = new AV.Query(targetClass);\n          query._defaultParams.redirectClassNameForKey = this.key;\n        } else {\n          targetClass = AV.Object._getSubclass(this.targetClassName);\n          query = new AV.Query(targetClass);\n        }\n        query._addCondition('$relatedTo', 'object', this.parent._toPointer());\n        query._addCondition('$relatedTo', 'key', this.key);\n\n        return query;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/relation.js","const _ = require('underscore');\nconst cos = require('./uploader/cos');\nconst qiniu = require('./uploader/qiniu');\nconst s3 = require('./uploader/s3');\nconst AVError = require('./error');\nconst AVRequest = require('./request')._request;\nconst { tap, transformFetchOptions } = require('./utils');\nconst debug = require('debug')('leancloud:file');\nconst parseBase64 = require('./utils/parse-base64');\n\nmodule.exports = function(AV) {\n  const hexOctet = () =>\n    Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n\n  // port from browserify path module\n  // since react-native packager won't shim node modules.\n  const extname = path => {\n    if (!_.isString(path)) return '';\n    return path.match(\n      /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/\n    )[4];\n  };\n\n  const b64Digit = number => {\n    if (number < 26) {\n      return String.fromCharCode(65 + number);\n    }\n    if (number < 52) {\n      return String.fromCharCode(97 + (number - 26));\n    }\n    if (number < 62) {\n      return String.fromCharCode(48 + (number - 52));\n    }\n    if (number === 62) {\n      return '+';\n    }\n    if (number === 63) {\n      return '/';\n    }\n    throw new Error('Tried to encode large digit ' + number + ' in base64.');\n  };\n\n  var encodeBase64 = function(array) {\n    var chunks = [];\n    chunks.length = Math.ceil(array.length / 3);\n    _.times(chunks.length, function(i) {\n      var b1 = array[i * 3];\n      var b2 = array[i * 3 + 1] || 0;\n      var b3 = array[i * 3 + 2] || 0;\n\n      var has2 = i * 3 + 1 < array.length;\n      var has3 = i * 3 + 2 < array.length;\n\n      chunks[i] = [\n        b64Digit((b1 >> 2) & 0x3f),\n        b64Digit(((b1 << 4) & 0x30) | ((b2 >> 4) & 0x0f)),\n        has2 ? b64Digit(((b2 << 2) & 0x3c) | ((b3 >> 6) & 0x03)) : '=',\n        has3 ? b64Digit(b3 & 0x3f) : '=',\n      ].join('');\n    });\n    return chunks.join('');\n  };\n\n  /**\n   * An AV.File is a local representation of a file that is saved to the AV\n   * cloud.\n   * @param name {String} The file's name. This will change to a unique value\n   *     once the file has finished saving.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. a Blob(File) selected with a file upload control.\n   *     4. a Buffer in Node.js runtime.\n   *     5. a Stream in Node.js runtime.\n   *\n   *        For example:<pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var file = new AV.File(name, file);\n   *   file.save().then(function() {\n   *     // The file has been saved to AV.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to AV.\n   *   });\n   * }</pre>\n   *\n   * @class\n   * @param [mimeType] {String} Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   */\n  AV.File = function(name, data, mimeType) {\n    this.attributes = {\n      name,\n      url: '',\n      metaData: {},\n      //  base64 String\n      base64: '',\n    };\n\n    if (_.isString(data)) {\n      throw new TypeError(\n        'Creating an AV.File from a String is not yet supported.'\n      );\n    }\n    if (_.isArray(data)) {\n      this.attributes.metaData.size = data.length;\n      data = { base64: encodeBase64(data) };\n    }\n\n    this._extName = '';\n    this._data = data;\n    this._uploadHeaders = {};\n\n    if (data && data.blob && typeof data.blob.uri === 'string') {\n      this._extName = extname(data.blob.uri);\n    }\n\n    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n      if (data.size) {\n        this.attributes.metaData.size = data.size;\n      }\n      if (data.name) {\n        this._extName = extname(data.name);\n      }\n    }\n\n\n    let owner;\n    if (data && data.owner) {\n      owner = data.owner;\n    } else if (!AV._config.disableCurrentUser) {\n      try {\n        owner = AV.User.current();\n      } catch (error) {\n        if ('SYNC_API_NOT_AVAILABLE' !== error.code) {\n          throw error;\n        }\n      }\n    }\n\n    this.attributes.metaData.owner = owner ? owner.id : 'unknown';\n\n    this.set('mime_type', mimeType);\n  };\n\n  /**\n   * Creates a fresh AV.File object with exists url for saving to AVOS Cloud.\n   * @param {String} name the file name\n   * @param {String} url the file url.\n   * @param {Object} [metaData] the file metadata object.\n   * @param {String} [type] Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @return {AV.File} the file object\n   */\n  AV.File.withURL = function(name, url, metaData, type) {\n    if (!name || !url) {\n      throw new Error('Please provide file name and url');\n    }\n    var file = new AV.File(name, null, type);\n    //copy metaData properties to file.\n    if (metaData) {\n      for (var prop in metaData) {\n        if (!file.attributes.metaData[prop])\n          file.attributes.metaData[prop] = metaData[prop];\n      }\n    }\n    file.attributes.url = url;\n    //Mark the file is from external source.\n    file.attributes.metaData.__source = 'external';\n    return file;\n  };\n\n  /**\n   * Creates a file object with exists objectId.\n   * @param {String} objectId The objectId string\n   * @return {AV.File} the file object\n   */\n  AV.File.createWithoutData = function(objectId) {\n    var file = new AV.File();\n    file.id = objectId;\n    return file;\n  };\n\n  _.extend(\n    AV.File.prototype,\n    /** @lends AV.File.prototype */ {\n      className: '_File',\n\n      _toFullJSON(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, seenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'File';\n        }\n        return json;\n      },\n\n      /**\n       * Returns a JSON version of the file with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON(key, holder, seenObjects = [this]) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Gets a Pointer referencing this file.\n       * @private\n       */\n      _toPointer() {\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Returns the ACL for this file.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       */\n      getACL() {\n        return this._acl;\n      },\n\n      /**\n       * Sets the ACL to be used for this file.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       */\n      setACL(acl) {\n        if (!(acl instanceof AV.ACL)) {\n          return new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n        this._acl = acl;\n        return this;\n      },\n\n      /**\n       * Gets the name of the file. Before save is called, this is the filename\n       * given by the user. After save is called, that name gets prefixed with a\n       * unique identifier.\n       */\n      name() {\n        return this.get('name');\n      },\n\n      /**\n       * Gets the url of the file. It is only available after you save the file or\n       * after you get the file from a AV.Object.\n       * @return {String}\n       */\n      url() {\n        return this.get('url');\n      },\n\n      /**\n       * Gets the attributs of the file object.\n       * @param {String} The attribute name which want to get.\n       * @returns {Any}\n       */\n      get(attrName) {\n        switch (attrName) {\n          case 'objectId':\n            return this.id;\n          case 'url':\n          case 'name':\n          case 'mime_type':\n          case 'metaData':\n          case 'createdAt':\n          case 'updatedAt':\n            return this.attributes[attrName];\n          default:\n            return this.attributes.metaData[attrName];\n        }\n      },\n\n      /**\n       * Set the metaData of the file object.\n       * @param {Object} Object is an key value Object for setting metaData.\n       * @param {String} attr is an optional metadata key.\n       * @param {Object} value is an optional metadata value.\n       * @returns {String|Number|Array|Object}\n       */\n      set(...args) {\n        const set = (attrName, value) => {\n          switch (attrName) {\n            case 'name':\n            case 'url':\n            case 'mime_type':\n            case 'base64':\n            case 'metaData':\n              this.attributes[attrName] = value;\n              break;\n            default:\n              // File  AVObject metaData \n              this.attributes.metaData[attrName] = value;\n              break;\n          }\n        };\n\n        switch (args.length) {\n          case 1:\n            //  Object\n            for (var k in args[0]) {\n              set(k, args[0][k]);\n            }\n            break;\n          case 2:\n            set(args[0], args[1]);\n            break;\n        }\n        return this;\n      },\n\n      /**\n       * Set a header for the upload request.\n       * For more infomation, go to https://url.leanapp.cn/avfile-upload-headers\n       *\n       * @param {String} key header key\n       * @param {String} value header value\n       * @return {AV.File} this\n       */\n      setUploadHeader(key, value) {\n        this._uploadHeaders[key] = value;\n        return this;\n      },\n\n      /**\n       * <p>Returns the file's metadata JSON object if no arguments is given.Returns the\n       * metadata value if a key is given.Set metadata value if key and value are both given.</p>\n       * <p><pre>\n       *  var metadata = file.metaData(); //Get metadata JSON object.\n       *  var size = file.metaData('size');  // Get the size metadata value.\n       *  file.metaData('format', 'jpeg'); //set metadata attribute and value.\n       *</pre></p>\n       * @return {Object} The file's metadata JSON object.\n       * @param {String} attr an optional metadata key.\n       * @param {Object} value an optional metadata value.\n       **/\n      metaData(attr, value) {\n        if (attr && value) {\n          this.attributes.metaData[attr] = value;\n          return this;\n        } else if (attr && !value) {\n          return this.attributes.metaData[attr];\n        } else {\n          return this.attributes.metaData;\n        }\n      },\n\n      /**\n       * URL\n       * @return {String} URL\n       * @param {Number} width \n       * @param {Number} heigth \n       * @param {Number} quality 1-100100\n       * @param {Number} scaleToFit true\n       * @param {String} fmt pngjpeg,gif\n       */\n\n      thumbnailURL(\n        width,\n        height,\n        quality = 100,\n        scaleToFit = true,\n        fmt = 'png'\n      ) {\n        const url = this.attributes.url;\n        if (!url) {\n          throw new Error('Invalid url.');\n        }\n        if (!width || !height || width <= 0 || height <= 0) {\n          throw new Error('Invalid width or height value.');\n        }\n        if (quality <= 0 || quality > 100) {\n          throw new Error('Invalid quality value.');\n        }\n        const mode = scaleToFit ? 2 : 1;\n        return (\n          url +\n          '?imageView/' +\n          mode +\n          '/w/' +\n          width +\n          '/h/' +\n          height +\n          '/q/' +\n          quality +\n          '/format/' +\n          fmt\n        );\n      },\n\n      /**\n       * Returns the file's size.\n       * @return {Number} The file's size in bytes.\n       **/\n      size() {\n        return this.metaData().size;\n      },\n\n      /**\n       * Returns the file's owner.\n       * @return {String} The file's owner id.\n       */\n      ownerId() {\n        return this.metaData().owner;\n      },\n\n      /**\n       * Destroy the file.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy(options) {\n        if (!this.id) {\n          return Promise.reject(new Error('The file id does not eixst.'));\n        }\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'DELETE',\n          null,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Request Qiniu upload token\n       * @param {string} type\n       * @return {Promise} Resolved with the response\n       * @private\n       */\n      _fileToken(type, authOptions) {\n        let name = this.attributes.name;\n\n        let extName = extname(name);\n        if (!extName && this._extName) {\n          name += this._extName;\n          extName = this._extName;\n        }\n        // Create 16-bits uuid as qiniu key.\n        const key =\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          hexOctet() +\n          extName;\n        const data = {\n          key,\n          name,\n          keep_file_name: authOptions.keepFileName,\n          ACL: this._acl,\n          mime_type: type,\n          metaData: this.attributes.metaData,\n        };\n        this._qiniu_key = key;\n        return AVRequest('fileTokens', null, null, 'POST', data, authOptions);\n      },\n\n      /**\n       * @callback UploadProgressCallback\n       * @param {XMLHttpRequestProgressEvent} event - The progress event with 'loaded' and 'total' attributes\n       */\n      /**\n       * Saves the file to the AV cloud.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {UploadProgressCallback} [options.onprogress]  Node.js  {@link UploadProgressCallback}\n       * @param {boolean} [options.keepFileName = false] \n       * @return {Promise} Promise that is resolved when the save finishes.\n       */\n      save(options = {}) {\n        if (this.id) {\n          throw new Error('File is already saved.');\n        }\n        if (!this._previousSave) {\n          if (this._data) {\n            let mimeType = this.get('mime_type');\n            this._previousSave = this._fileToken(mimeType, options).then(\n              uploadInfo => {\n                if (uploadInfo.mime_type) {\n                  mimeType = uploadInfo.mime_type;\n                  this.set('mime_type', mimeType);\n                }\n                this._token = uploadInfo.token;\n                return Promise.resolve()\n                  .then(() => {\n                    const data = this._data;\n                    if (data && data.base64) {\n                      return parseBase64(data.base64, mimeType);\n                    }\n                    if (data && data.blob) {\n                      if (!data.blob.type && mimeType) {\n                        data.blob.type = mimeType;\n                      }\n                      if (!data.blob.name) {\n                        data.blob.name = this.get('name');\n                      }\n                      return data.blob;\n                    }\n                    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n                      return data;\n                    }\n                    throw new TypeError('malformed file data');\n                  })\n                  .then(data => {\n                    const _options = _.extend({}, options);\n                    // filter out download progress events\n                    if (options.onprogress) {\n                      _options.onprogress = event => {\n                        if (event.direction === 'download') return;\n                        return options.onprogress(event);\n                      };\n                    }\n                    switch (uploadInfo.provider) {\n                      case 's3':\n                        return s3(uploadInfo, data, this, _options);\n                      case 'qcloud':\n                        return cos(uploadInfo, data, this, _options);\n                      case 'qiniu':\n                      default:\n                        return qiniu(uploadInfo, data, this, _options);\n                    }\n                  })\n                  .then(tap(() => this._callback(true)), error => {\n                    this._callback(false);\n                    throw error;\n                  });\n              }\n            );\n          } else if (\n            this.attributes.url &&\n            this.attributes.metaData.__source === 'external'\n          ) {\n            // external link file.\n            const data = {\n              name: this.attributes.name,\n              ACL: this._acl,\n              metaData: this.attributes.metaData,\n              mime_type: this.mimeType,\n              url: this.attributes.url,\n            };\n            this._previousSave = AVRequest(\n              'files',\n              this.attributes.name,\n              null,\n              'post',\n              data,\n              options\n            ).then(response => {\n              this.attributes.name = response.name;\n              this.attributes.url = response.url;\n              this.id = response.objectId;\n              if (response.size) {\n                this.attributes.metaData.size = response.size;\n              }\n              return this;\n            });\n          }\n        }\n        return this._previousSave;\n      },\n\n      _callback(success) {\n        AVRequest('fileCallback', null, null, 'post', {\n          token: this._token,\n          result: success,\n        }).catch(debug);\n        delete this._token;\n        delete this._data;\n      },\n\n      /**\n       * fetch the file from server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch(fetchOptions, options) {\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(this._finishFetch.bind(this));\n      },\n      _finishFetch(response) {\n        var value = AV.Object.prototype.parse(response);\n        value.attributes = {\n          name: value.name,\n          url: value.url,\n          mime_type: value.mime_type,\n          bucket: value.bucket,\n        };\n        value.attributes.metaData = value.metaData || {};\n        value.id = value.objectId;\n        // clean\n        delete value.objectId;\n        delete value.metaData;\n        delete value.url;\n        delete value.name;\n        delete value.mime_type;\n        delete value.bucket;\n        _.extend(this, value);\n        return this;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/file.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('cos');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  const url =\n    uploadInfo.upload_url + '?sign=' + encodeURIComponent(uploadInfo.token);\n  const fileFormData = {\n    field: 'fileContent',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      op: 'upload',\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        const error = new Error(response.status);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/cos.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('leancloud:qiniu');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n  // Get the uptoken to upload files to qiniu.\n  const uptoken = uploadInfo.token;\n  const url = uploadInfo.upload_url || 'https://upload.qiniup.com';\n  const fileFormData = {\n    field: 'file',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      name: file.attributes.name,\n      key: uploadInfo.key || file._qiniu_key,\n      token: uptoken,\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        let message = response.status;\n        if (response.data) {\n          if (response.data.error) {\n            message = response.data.error;\n          } else {\n            message = JSON.stringify(response.data);\n          }\n        }\n        const error = new Error(message);\n        error.response = response;\n        throw error;\n      }\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/qiniu.js","const _ = require('underscore');\nconst { ajax } = require('../utils');\n\nmodule.exports = function upload(uploadInfo, data, file, saveOptions = {}) {\n  file.attributes.url = uploadInfo.url;\n  file._bucket = uploadInfo.bucket;\n  file.id = uploadInfo.objectId;\n\n\n  return ajax({\n    url: uploadInfo.upload_url,\n    method: 'PUT',\n    data,\n    headers: _.extend(\n      {\n        'Content-Type': file.get('mime_type'),\n        'Cache-Control': 'public, max-age=31536000',\n      },\n      file._uploadHeaders\n    ),\n    onprogress: saveOptions.onprogress,\n  }).then(() => file);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/s3.js","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/md5/md5.js\n// module id = 134\n// module chunks = 0 1","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/crypt/crypt.js\n// module id = 135\n// module chunks = 0 1","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 136\n// module chunks = 0 1","var dataURItoBlob = function(dataURI, type) {\n  var byteString;\n\n  //  base64 dataURL\n  if (dataURI.indexOf('base64') < 0) {\n    byteString = atob(dataURI);\n  } else if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    type =\n      type ||\n      dataURI\n        .split(',')[0]\n        .split(':')[1]\n        .split(';')[0];\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type });\n};\n\nmodule.exports = dataURItoBlob;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parse-base64-browser.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { _request } = require('./request');\nconst {\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n} = require('./utils');\n\nconst recursiveToPointer = value => {\n  if (_.isArray(value)) return value.map(recursiveToPointer);\n  if (isPlainObject(value)) return _.mapObject(value, recursiveToPointer);\n  if (_.isObject(value) && value._toPointer) return value._toPointer();\n  return value;\n};\n\nconst RESERVED_KEYS = ['objectId', 'createdAt', 'updatedAt'];\nconst checkReservedKey = key => {\n  if (RESERVED_KEYS.indexOf(key) !== -1) {\n    throw new Error(`key[${key}] is reserved`);\n  }\n};\n\nconst handleBatchResults = results => {\n  const firstError = _.find(results, result => result instanceof Error);\n  if (!firstError) {\n    return results;\n  }\n  const error = new AVError(firstError.code, firstError.message);\n  error.results = results;\n  throw error;\n};\n\n// Helper function to get a value from a Backbone object as a property\n// or as a function.\nfunction getValue(object, prop) {\n  if (!(object && object[prop])) {\n    return null;\n  }\n  return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n}\n\n// AV.Object is analogous to the Java AVObject.\n// It also implements the same interface as a Backbone model.\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new model with defined attributes. A client id (cid) is\n   * automatically generated and assigned for you.\n   *\n   * <p>You won't normally call this method directly.  It is recommended that\n   * you use a subclass of <code>AV.Object</code> instead, created by calling\n   * <code>extend</code>.</p>\n   *\n   * <p>However, if you don't want to use a subclass, or aren't sure which\n   * subclass is appropriate, you can use this form:<pre>\n   *     var object = new AV.Object(\"ClassName\");\n   * </pre>\n   * That is basically equivalent to:<pre>\n   *     var MyClass = AV.Object.extend(\"ClassName\");\n   *     var object = new MyClass();\n   * </pre></p>\n   *\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @see AV.Object.extend\n   *\n   * @class\n   *\n   * <p>The fundamental unit of AV data, which implements the Backbone Model\n   * interface.</p>\n   */\n  AV.Object = function(attributes, options) {\n    // Allow new AV.Object(\"ClassName\") as a shortcut to _create.\n    if (_.isString(attributes)) {\n      return AV.Object._create.apply(this, arguments);\n    }\n\n    attributes = attributes || {};\n    if (options && options.parse) {\n      attributes = this.parse(attributes);\n      attributes = this._mergeMagicFields(attributes);\n    }\n    var defaults = getValue(this, 'defaults');\n    if (defaults) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n\n    this._serverData = {}; // The last known data for this object from cloud.\n    this._opSetQueue = [{}]; // List of sets of changes to the data.\n    this._flags = {};\n    this.attributes = {}; // The best estimate of this's current data.\n\n    this._hashedJSON = {}; // Hash of values of containers at last save.\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, { silent: true });\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._hasData = true;\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  /**\n   * @lends AV.Object.prototype\n   * @property {String} id The objectId of the AV Object.\n   */\n\n  /**\n   * Saves the given list of AV.Object.\n   * If any error is encountered, stops and calls the error handler.\n   *\n   * @example\n   * AV.Object.saveAll([object1, object2, ...]).then(function(list) {\n   *   // All the objects were saved.\n   * }, function(error) {\n   *   // An error occurred while saving one of the objects.\n   * });\n   *\n   * @param {Array} list A list of <code>AV.Object</code>.\n   */\n  AV.Object.saveAll = function(list, options) {\n    return AV.Object._deepSaveAsync(list, null, options);\n  };\n\n  /**\n   * Fetch the given list of AV.Object.\n   *\n   * @param {AV.Object[]} objects A list of <code>AV.Object</code>\n   * @param {AuthOptions} options\n   * @return {Promise.<AV.Object[]>} The given list of <code>AV.Object</code>, updated\n   */\n\n  AV.Object.fetchAll = (objects, options) =>\n    Promise.resolve()\n      .then(() =>\n        _request(\n          'batch',\n          null,\n          null,\n          'POST',\n          {\n            requests: _.map(objects, object => {\n              if (!object.className)\n                throw new Error('object must have className to fetch');\n              if (!object.id) throw new Error('object must have id to fetch');\n              if (object.dirty())\n                throw new Error('object is modified but not saved');\n              return {\n                method: 'GET',\n                path: `/1.1/classes/${object.className}/${object.id}`,\n              };\n            }),\n          },\n          options\n        )\n      )\n      .then(function(response) {\n        const results = _.map(objects, function(object, i) {\n          if (response[i].success) {\n            const fetchedAttrs = object.parse(response[i].success);\n            object._cleanupUnsetKeys(fetchedAttrs);\n            object._finishFetch(fetchedAttrs);\n            return object;\n          }\n          if (response[i].success === null) {\n            return new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n          return new AVError(response[i].error.code, response[i].error.error);\n        });\n        return handleBatchResults(results);\n      });\n\n  // Attach all inheritable methods to the AV.Object prototype.\n  _.extend(\n    AV.Object.prototype,\n    AV.Events,\n    /** @lends AV.Object.prototype */ {\n      _fetchWhenSave: false,\n\n      /**\n       * Initialize is an empty function by default. Override it with your own\n       * initialization logic.\n       */\n      initialize: function() {},\n\n      /**\n       * Set whether to enable fetchWhenSave option when updating object.\n       * When set true, SDK would fetch the latest object after saving.\n       * Default is false.\n       *\n       * @deprecated use AV.Object#save with options.fetchWhenSave instead\n       * @param {boolean} enable  true to enable fetchWhenSave option.\n       */\n      fetchWhenSave: function(enable) {\n        console.warn(\n          'AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead.'\n        );\n        if (!_.isBoolean(enable)) {\n          throw new Error('Expect boolean value for fetchWhenSave');\n        }\n        this._fetchWhenSave = enable;\n      },\n\n      /**\n       * Returns the object's objectId.\n       * @return {String} the objectId.\n       */\n      getObjectId: function() {\n        return this.id;\n      },\n\n      /**\n       * Returns the object's createdAt attribute.\n       * @return {Date}\n       */\n      getCreatedAt: function() {\n        return this.createdAt;\n      },\n\n      /**\n       * Returns the object's updatedAt attribute.\n       * @return {Date}\n       */\n      getUpdatedAt: function() {\n        return this.updatedAt;\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON: function(key, holder, seenObjects = []) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Returns a JSON version of the object with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      _toFullJSON: function(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        if (_.isArray(seenObjects)) {\n          var newSeenObjects = seenObjects.concat(this);\n        }\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, newSeenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        _(['createdAt', 'updatedAt']).each(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'Object';\n          if (_.isArray(seenObjects) && seenObjects.length)\n            json.__type = 'Pointer';\n          json.className = this.className;\n        }\n        return json;\n      },\n\n      /**\n       * Updates _hashedJSON to reflect the current state of this object.\n       * Adds any changed hash values to the set of pending changes.\n       * @private\n       */\n      _refreshCache: function() {\n        var self = this;\n        if (self._refreshingCache) {\n          return;\n        }\n        self._refreshingCache = true;\n        AV._objectEach(this.attributes, function(value, key) {\n          if (value instanceof AV.Object) {\n            value._refreshCache();\n          } else if (_.isObject(value)) {\n            if (self._resetCacheForKey(key)) {\n              self.set(key, new AV.Op.Set(value), { silent: true });\n            }\n          }\n        });\n        delete self._refreshingCache;\n      },\n\n      /**\n       * Returns true if this object has been modified since its last\n       * save/refresh.  If an attribute is specified, it returns true only if that\n       * particular attribute has been modified since the last save/refresh.\n       * @param {String} attr An attribute name (optional).\n       * @return {Boolean}\n       */\n      dirty: function(attr) {\n        this._refreshCache();\n\n        var currentChanges = _.last(this._opSetQueue);\n\n        if (attr) {\n          return currentChanges[attr] ? true : false;\n        }\n        if (!this.id) {\n          return true;\n        }\n        if (_.keys(currentChanges).length > 0) {\n          return true;\n        }\n        return false;\n      },\n\n      /**\n       * Returns the keys of the modified attribute since its last save/refresh.\n       * @return {String[]}\n       */\n      dirtyKeys: function() {\n        this._refreshCache();\n        var currentChanges = _.last(this._opSetQueue);\n        return _.keys(currentChanges);\n      },\n\n      /**\n       * Gets a Pointer referencing this Object.\n       * @private\n       */\n      _toPointer: function() {\n        // if (!this.id) {\n        //   throw new Error(\"Can't serialize an unsaved AV.Object\");\n        // }\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Gets the value of an attribute.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        switch (attr) {\n          case 'objectId':\n            return this.id;\n          case 'createdAt':\n          case 'updatedAt':\n            return this[attr];\n          default:\n            return this.attributes[attr];\n        }\n      },\n\n      /**\n       * Gets a relation on the given class for the attribute.\n       * @param {String} attr The attribute to get the relation for.\n       * @return {AV.Relation}\n       */\n      relation: function(attr) {\n        var value = this.get(attr);\n        if (value) {\n          if (!(value instanceof AV.Relation)) {\n            throw new Error('Called relation() on non-relation field ' + attr);\n          }\n          value._ensureParentAndKey(this, attr);\n          return value;\n        } else {\n          return new AV.Relation(this, attr);\n        }\n      },\n\n      /**\n       * Gets the HTML-escaped value of an attribute.\n       */\n      escape: function(attr) {\n        var html = this._escapedAttributes[attr];\n        if (html) {\n          return html;\n        }\n        var val = this.attributes[attr];\n        var escaped;\n        if (isNullOrUndefined(val)) {\n          escaped = '';\n        } else {\n          escaped = _.escape(val.toString());\n        }\n        this._escapedAttributes[attr] = escaped;\n        return escaped;\n      },\n\n      /**\n       * Returns <code>true</code> if the attribute contains a value that is not\n       * null or undefined.\n       * @param {String} attr The string name of the attribute.\n       * @return {Boolean}\n       */\n      has: function(attr) {\n        return !isNullOrUndefined(this.attributes[attr]);\n      },\n\n      /**\n       * Pulls \"special\" fields like objectId, createdAt, etc. out of attrs\n       * and puts them on \"this\" directly.  Removes them from attrs.\n       * @param attrs - A dictionary with the data for this AV.Object.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        // Check for changes of magic fields.\n        var model = this;\n        var specialFields = ['objectId', 'createdAt', 'updatedAt'];\n        AV._arrayEach(specialFields, function(attr) {\n          if (attrs[attr]) {\n            if (attr === 'objectId') {\n              model.id = attrs[attr];\n            } else if (\n              (attr === 'createdAt' || attr === 'updatedAt') &&\n              !_.isDate(attrs[attr])\n            ) {\n              model[attr] = AV._parseDate(attrs[attr]);\n            } else {\n              model[attr] = attrs[attr];\n            }\n            delete attrs[attr];\n          }\n        });\n        return attrs;\n      },\n\n      /**\n       * Returns the json to be sent to the server.\n       * @private\n       */\n      _startSave: function() {\n        this._opSetQueue.push({});\n      },\n\n      /**\n       * Called when a save fails because of an error. Any changes that were part\n       * of the save need to be merged with changes made after the save. This\n       * might throw an exception is you do conflicting operations. For example,\n       * if you do:\n       *   object.set(\"foo\", \"bar\");\n       *   object.set(\"invalid field name\", \"baz\");\n       *   object.save();\n       *   object.increment(\"foo\");\n       * then this will throw when the save fails and the client tries to merge\n       * \"bar\" with the +1.\n       * @private\n       */\n      _cancelSave: function() {\n        var failedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        var nextChanges = _.first(this._opSetQueue);\n        AV._objectEach(failedChanges, function(op, key) {\n          var op1 = failedChanges[key];\n          var op2 = nextChanges[key];\n          if (op1 && op2) {\n            nextChanges[key] = op2._mergeWithPrevious(op1);\n          } else if (op1) {\n            nextChanges[key] = op1;\n          }\n        });\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a save completes successfully. This merges the changes that\n       * were saved into the known server data, and overrides it with any data\n       * sent directly from the server.\n       * @private\n       */\n      _finishSave: function(serverData) {\n        // Grab a copy of any object referenced by this object. These instances\n        // may have already been fetched, and we don't want to lose their data.\n        // Note that doing it like this means we will unify separate copies of the\n        // same object, but that's a risk we have to take.\n        var fetchedObjects = {};\n        AV._traverse(this.attributes, function(object) {\n          if (object instanceof AV.Object && object.id && object._hasData) {\n            fetchedObjects[object.id] = object;\n          }\n        });\n\n        var savedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        this._applyOpSet(savedChanges, this._serverData);\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n\n          // Look for any objects that might have become unfetched and fix them\n          // by replacing their values with the previously observed values.\n          var fetched = AV._traverse(self._serverData[key], function(object) {\n            if (object instanceof AV.Object && fetchedObjects[object.id]) {\n              return fetchedObjects[object.id];\n            }\n          });\n          if (fetched) {\n            self._serverData[key] = fetched;\n          }\n        });\n        this._rebuildAllEstimatedData();\n        const opSetQueue = this._opSetQueue.map(_.clone);\n        this._refreshCache();\n        this._opSetQueue = opSetQueue;\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a fetch or login is complete to set the known server data to\n       * the given object.\n       * @private\n       */\n      _finishFetch: function(serverData, hasData) {\n        // Clear out any changes the user might have made previously.\n        this._opSetQueue = [{}];\n\n        // Bring in all the new server data.\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n        });\n\n        // Refresh the attributes.\n        this._rebuildAllEstimatedData();\n\n        // Clear out the cache of mutable containers.\n        this._refreshCache();\n        this._opSetQueue = [{}];\n\n        this._hasData = hasData;\n      },\n\n      /**\n       * Applies the set of AV.Op in opSet to the object target.\n       * @private\n       */\n      _applyOpSet: function(opSet, target) {\n        var self = this;\n        AV._objectEach(opSet, function(change, key) {\n          const [value, actualTarget, actualKey] = findValue(target, key);\n          setValue(target, key, change._estimate(value, self, key));\n          if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n            delete actualTarget[actualKey];\n          }\n        });\n      },\n\n      /**\n       * Replaces the cached value for key with the current value.\n       * Returns true if the new value is different than the old value.\n       * @private\n       */\n      _resetCacheForKey: function(key) {\n        var value = this.attributes[key];\n        if (\n          _.isObject(value) &&\n          !(value instanceof AV.Object) &&\n          !(value instanceof AV.File)\n        ) {\n          var json = JSON.stringify(recursiveToPointer(value));\n          if (this._hashedJSON[key] !== json) {\n            var wasSet = !!this._hashedJSON[key];\n            this._hashedJSON[key] = json;\n            return wasSet;\n          }\n        }\n        return false;\n      },\n\n      /**\n       * Populates attributes[key] by starting with the last known data from the\n       * server, and applying all of the local changes that have been made to that\n       * key since then.\n       * @private\n       */\n      _rebuildEstimatedDataForKey: function(key) {\n        var self = this;\n        delete this.attributes[key];\n        if (this._serverData[key]) {\n          this.attributes[key] = this._serverData[key];\n        }\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          var op = opSet[key];\n          if (op) {\n            const [value, actualTarget, actualKey, firstKey] = findValue(\n              self.attributes,\n              key\n            );\n            setValue(self.attributes, key, op._estimate(value, self, key));\n            if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n              delete actualTarget[actualKey];\n            }\n            self._resetCacheForKey(firstKey);\n          }\n        });\n      },\n\n      /**\n       * Populates attributes by starting with the last known data from the\n       * server, and applying all of the local changes that have been made since\n       * then.\n       * @private\n       */\n      _rebuildAllEstimatedData: function() {\n        var self = this;\n\n        var previousAttributes = _.clone(this.attributes);\n\n        this.attributes = _.clone(this._serverData);\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          self._applyOpSet(opSet, self.attributes);\n          AV._objectEach(opSet, function(op, key) {\n            self._resetCacheForKey(key);\n          });\n        });\n\n        // Trigger change events for anything that changed because of the fetch.\n        AV._objectEach(previousAttributes, function(oldValue, key) {\n          if (self.attributes[key] !== oldValue) {\n            self.trigger('change:' + key, self, self.attributes[key], {});\n          }\n        });\n        AV._objectEach(this.attributes, function(newValue, key) {\n          if (!_.has(previousAttributes, key)) {\n            self.trigger('change:' + key, self, newValue, {});\n          }\n        });\n      },\n\n      /**\n       * Sets a hash of model attributes on the object, firing\n       * <code>\"change\"</code> unless you choose to silence it.\n       *\n       * <p>You can call it with an object containing keys and values, or with one\n       * key and value.  For example:</p>\n       *\n       * @example\n       * gameTurn.set({\n       *   player: player1,\n       *   diceRoll: 2\n       * });\n       *\n       * game.set(\"currentPlayer\", player2);\n       *\n       * game.set(\"finished\", true);\n       *\n       * @param {String} key The key to set.\n       * @param {Any} value The value to give it.\n       * @param {Object} [options]\n       * @param {Boolean} [options.silent]\n       * @return {AV.Object} self if succeeded, throws if the value is not valid.\n       * @see AV.Object#validate\n       */\n      set: function(key, value, options) {\n        var attrs;\n        if (_.isObject(key) || isNullOrUndefined(key)) {\n          attrs = _.mapObject(key, function(v, k) {\n            checkReservedKey(k);\n            return AV._decode(v, k);\n          });\n          options = value;\n        } else {\n          attrs = {};\n          checkReservedKey(key);\n          attrs[key] = AV._decode(value, key);\n        }\n\n        // Extract attributes and options.\n        options = options || {};\n        if (!attrs) {\n          return this;\n        }\n        if (attrs instanceof AV.Object) {\n          attrs = attrs.attributes;\n        }\n\n        // If the unset option is used, every attribute should be a Unset.\n        if (options.unset) {\n          AV._objectEach(attrs, function(unused_value, key) {\n            attrs[key] = new AV.Op.Unset();\n          });\n        }\n\n        // Apply all the attributes to get the estimated values.\n        var dataToValidate = _.clone(attrs);\n        var self = this;\n        AV._objectEach(dataToValidate, function(value, key) {\n          if (value instanceof AV.Op) {\n            dataToValidate[key] = value._estimate(\n              self.attributes[key],\n              self,\n              key\n            );\n            if (dataToValidate[key] === AV.Op._UNSET) {\n              delete dataToValidate[key];\n            }\n          }\n        });\n\n        // Run validation.\n        this._validate(attrs, options);\n\n        options.changes = {};\n        var escaped = this._escapedAttributes;\n\n        // Update attributes.\n        AV._arrayEach(_.keys(attrs), function(attr) {\n          var val = attrs[attr];\n\n          // If this is a relation object we need to set the parent correctly,\n          // since the location where it was parsed does not have access to\n          // this object.\n          if (val instanceof AV.Relation) {\n            val.parent = self;\n          }\n\n          if (!(val instanceof AV.Op)) {\n            val = new AV.Op.Set(val);\n          }\n\n          // See if this change will actually have any effect.\n          var isRealChange = true;\n          if (\n            val instanceof AV.Op.Set &&\n            _.isEqual(self.attributes[attr], val.value)\n          ) {\n            isRealChange = false;\n          }\n\n          if (isRealChange) {\n            delete escaped[attr];\n            if (options.silent) {\n              self._silent[attr] = true;\n            } else {\n              options.changes[attr] = true;\n            }\n          }\n\n          var currentChanges = _.last(self._opSetQueue);\n          currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);\n          self._rebuildEstimatedDataForKey(attr);\n\n          if (isRealChange) {\n            self.changed[attr] = self.attributes[attr];\n            if (!options.silent) {\n              self._pending[attr] = true;\n            }\n          } else {\n            delete self.changed[attr];\n            delete self._pending[attr];\n          }\n        });\n\n        if (!options.silent) {\n          this.change(options);\n        }\n        return this;\n      },\n\n      /**\n       * Remove an attribute from the model, firing <code>\"change\"</code> unless\n       * you choose to silence it. This is a noop if the attribute doesn't\n       * exist.\n       * @param key {String} The key.\n       */\n      unset: function(attr, options) {\n        options = options || {};\n        options.unset = true;\n        return this.set(attr, null, options);\n      },\n\n      /**\n       * Atomically increments the value of the given attribute the next time the\n       * object is saved. If no amount is specified, 1 is used by default.\n       *\n       * @param key {String} The key.\n       * @param amount {Number} The amount to increment by.\n       */\n      increment: function(attr, amount) {\n        if (_.isUndefined(amount) || _.isNull(amount)) {\n          amount = 1;\n        }\n        return this.set(attr, new AV.Op.Increment(amount));\n      },\n\n      /**\n       * Atomically add an object to the end of the array associated with a given\n       * key.\n       * @param key {String} The key.\n       * @param item {} The item to add.\n       */\n      add: function(attr, item) {\n        return this.set(attr, new AV.Op.Add(ensureArray(item)));\n      },\n\n      /**\n       * Atomically add an object to the array associated with a given key, only\n       * if it is not already present in the array. The position of the insert is\n       * not guaranteed.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to add.\n       */\n      addUnique: function(attr, item) {\n        return this.set(attr, new AV.Op.AddUnique(ensureArray(item)));\n      },\n\n      /**\n       * Atomically remove all instances of an object from the array associated\n       * with a given key.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to remove.\n       */\n      remove: function(attr, item) {\n        return this.set(attr, new AV.Op.Remove(ensureArray(item)));\n      },\n\n      /**\n       * Atomically apply a \"bit and\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitAnd(attr, value) {\n        return this.set(attr, new AV.Op.BitAnd(value));\n      },\n\n      /**\n       * Atomically apply a \"bit or\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitOr(attr, value) {\n        return this.set(attr, new AV.Op.BitOr(value));\n      },\n\n      /**\n       * Atomically apply a \"bit xor\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitXor(attr, value) {\n        return this.set(attr, new AV.Op.BitXor(value));\n      },\n\n      /**\n       * Returns an instance of a subclass of AV.Op describing what kind of\n       * modification has been performed on this field since the last time it was\n       * saved. For example, after calling object.increment(\"x\"), calling\n       * object.op(\"x\") would return an instance of AV.Op.Increment.\n       *\n       * @param key {String} The key.\n       * @returns {AV.Op} The operation, or undefined if none.\n       */\n      op: function(attr) {\n        return _.last(this._opSetQueue)[attr];\n      },\n\n      /**\n       * Clear all attributes on the model, firing <code>\"change\"</code> unless\n       * you choose to silence it.\n       */\n      clear: function(options) {\n        options = options || {};\n        options.unset = true;\n        var keysToClear = _.extend(this.attributes, this._operations);\n        return this.set(keysToClear, options);\n      },\n\n      /**\n       * Clears any (or specific) changes to the model made since the last save.\n       * @param {string|string[]} [keys] specify keys to revert.\n       */\n      revert(keys) {\n        const lastOp = _.last(this._opSetQueue);\n        const _keys = ensureArray(keys || _.keys(lastOp));\n        _keys.forEach(key => {\n          delete lastOp[key];\n        });\n        this._rebuildAllEstimatedData();\n        return this;\n      },\n\n      /**\n       * Returns a JSON-encoded set of operations to be sent with the next save\n       * request.\n       * @private\n       */\n      _getSaveJSON: function() {\n        var json = _.clone(_.first(this._opSetQueue));\n        AV._objectEach(json, function(op, key) {\n          json[key] = op.toJSON();\n        });\n        return json;\n      },\n\n      /**\n       * Returns true if this object can be serialized for saving.\n       * @private\n       */\n      _canBeSerialized: function() {\n        return AV.Object._canBeSerializedAsValue(this.attributes);\n      },\n\n      /**\n       * Fetch the model from the server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * triggering a <code>\"change\"</code> event.\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch: function(fetchOptions = {}, options) {\n        var self = this;\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(function(response) {\n          const fetchedAttrs = self.parse(response);\n          self._cleanupUnsetKeys(\n            fetchedAttrs,\n            fetchOptions.keys\n              ? ensureArray(fetchOptions.keys)\n                  .join(',')\n                  .split(',')\n              : undefined\n          );\n          self._finishFetch(fetchedAttrs, true);\n          return self;\n        });\n      },\n\n      _cleanupUnsetKeys(fetchedAttrs, fetchedKeys = _.keys(this._serverData)) {\n        _.forEach(fetchedKeys, key => {\n          if (fetchedAttrs[key] === undefined) delete this._serverData[key];\n        });\n      },\n\n      /**\n       * Set a hash of model attributes, and save the model to the server.\n       * updatedAt will be updated when the request returns.\n       * You can either call it as:<pre>\n       *   object.save();</pre>\n       * or<pre>\n       *   object.save(null, options);</pre>\n       * or<pre>\n       *   object.save(attrs, options);</pre>\n       * or<pre>\n       *   object.save(key, value, options);</pre>\n       *\n       * @example\n       * gameTurn.save({\n       *   player: \"Jake Cutter\",\n       *   diceRoll: 2\n       * }).then(function(gameTurnAgain) {\n       *   // The save was successful.\n       * }, function(error) {\n       *   // The save failed.  Error is an instance of AVError.\n       * });\n       *\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} options.fetchWhenSave fetch and update object after save succeeded\n       * @param {AV.Query} options.query Save object only when it matches the query\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       * @see AVError\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, current, options;\n        if (_.isObject(arg1) || isNullOrUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n\n        options = _.clone(options) || {};\n        if (options.wait) {\n          current = _.clone(this.attributes);\n        }\n\n        var setOptions = _.clone(options) || {};\n        if (setOptions.wait) {\n          setOptions.silent = true;\n        }\n        if (attrs) {\n          this.set(attrs, setOptions);\n        }\n\n        var model = this;\n\n        var unsavedChildren = [];\n        var unsavedFiles = [];\n        AV.Object._findUnsavedChildren(model, unsavedChildren, unsavedFiles);\n        if (unsavedChildren.length + unsavedFiles.length > 1) {\n          return AV.Object._deepSaveAsync(this, model, options);\n        }\n\n        this._startSave();\n        this._saving = (this._saving || 0) + 1;\n\n        this._allPreviousSaves = this._allPreviousSaves || Promise.resolve();\n        this._allPreviousSaves = this._allPreviousSaves\n          .catch(e => {})\n          .then(function() {\n            var method = model.id ? 'PUT' : 'POST';\n\n            var json = model._getSaveJSON();\n            var query = {};\n\n            if (model._fetchWhenSave || options.fetchWhenSave) {\n              query['new'] = 'true';\n            }\n            // user login option\n            if (options._failOnNotExist) {\n              query.failOnNotExist = 'true';\n            }\n\n            if (options.query) {\n              var queryParams;\n              if (typeof options.query._getParams === 'function') {\n                queryParams = options.query._getParams();\n                if (queryParams) {\n                  query.where = queryParams.where;\n                }\n              }\n              if (!query.where) {\n                var error = new Error('options.query is not an AV.Query');\n                throw error;\n              }\n            }\n\n            _.extend(json, model._flags);\n\n            var route = 'classes';\n            var className = model.className;\n            if (model.className === '_User' && !model.id) {\n              // Special-case user sign-up.\n              route = 'users';\n              className = null;\n            }\n            //hook makeRequest in options.\n            var makeRequest = options._makeRequest || _request;\n            var requestPromise = makeRequest(\n              route,\n              className,\n              model.id,\n              method,\n              json,\n              options,\n              query\n            );\n\n            requestPromise = requestPromise.then(\n              function(resp) {\n                var serverAttrs = model.parse(resp);\n                if (options.wait) {\n                  serverAttrs = _.extend(attrs || {}, serverAttrs);\n                }\n                model._finishSave(serverAttrs);\n                if (options.wait) {\n                  model.set(current, setOptions);\n                }\n                return model;\n              },\n              function(error) {\n                model._cancelSave();\n                throw error;\n              }\n            );\n\n            return requestPromise;\n          });\n        return this._allPreviousSaves;\n      },\n\n      /**\n       * Destroy this model on the server if it was already persisted.\n       * Optimistically removes the model from its collection, if it has one.\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} [options.wait] wait for the server to respond\n       * before removal.\n       *\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        options = options || {};\n        var model = this;\n\n        var triggerDestroy = function() {\n          model.trigger('destroy', model, model.collection, options);\n        };\n\n        if (!this.id) {\n          return triggerDestroy();\n        }\n\n        if (!options.wait) {\n          triggerDestroy();\n        }\n\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'DELETE',\n          this._flags,\n          options\n        );\n        return request.then(function() {\n          if (options.wait) {\n            triggerDestroy();\n          }\n          return model;\n        });\n      },\n\n      /**\n       * Converts a response into the hash of attributes to be set on the model.\n       * @ignore\n       */\n      parse: function(resp) {\n        var output = _.clone(resp);\n        _(['createdAt', 'updatedAt']).each(function(key) {\n          if (output[key]) {\n            output[key] = AV._parseDate(output[key]);\n          }\n        });\n        if (output.createdAt && !output.updatedAt) {\n          output.updatedAt = output.createdAt;\n        }\n        return output;\n      },\n\n      /**\n       * Creates a new model with identical attributes to this one.\n       * @return {AV.Object}\n       */\n      clone: function() {\n        return new this.constructor(this.attributes);\n      },\n\n      /**\n       * Returns true if this object has never been saved to AV.\n       * @return {Boolean}\n       */\n      isNew: function() {\n        return !this.id;\n      },\n\n      /**\n       * Call this method to manually fire a `\"change\"` event for this model and\n       * a `\"change:attribute\"` event for each changed attribute.\n       * Calling this will cause all objects observing the model to update.\n       */\n      change: function(options) {\n        options = options || {};\n        var changing = this._changing;\n        this._changing = true;\n\n        // Silent changes become pending changes.\n        var self = this;\n        AV._objectEach(this._silent, function(attr) {\n          self._pending[attr] = true;\n        });\n\n        // Silent changes are triggered.\n        var changes = _.extend({}, options.changes, this._silent);\n        this._silent = {};\n        AV._objectEach(changes, function(unused_value, attr) {\n          self.trigger('change:' + attr, self, self.get(attr), options);\n        });\n        if (changing) {\n          return this;\n        }\n\n        // This is to get around lint not letting us make a function in a loop.\n        var deleteChanged = function(value, attr) {\n          if (!self._pending[attr] && !self._silent[attr]) {\n            delete self.changed[attr];\n          }\n        };\n\n        // Continue firing `\"change\"` events while there are pending changes.\n        while (!_.isEmpty(this._pending)) {\n          this._pending = {};\n          this.trigger('change', this, options);\n          // Pending and silent changes still remain.\n          AV._objectEach(this.changed, deleteChanged);\n          self._previousAttributes = _.clone(this.attributes);\n        }\n\n        this._changing = false;\n        return this;\n      },\n\n      /**\n       * Gets the previous value of an attribute, recorded at the time the last\n       * <code>\"change\"</code> event was fired.\n       * @param {String} attr Name of the attribute to get.\n       */\n      previous: function(attr) {\n        if (!arguments.length || !this._previousAttributes) {\n          return null;\n        }\n        return this._previousAttributes[attr];\n      },\n\n      /**\n       * Gets all of the attributes of the model at the time of the previous\n       * <code>\"change\"</code> event.\n       * @return {Object}\n       */\n      previousAttributes: function() {\n        return _.clone(this._previousAttributes);\n      },\n\n      /**\n       * Checks if the model is currently in a valid state. It's only possible to\n       * get into an *invalid* state if you're using silent changes.\n       * @return {Boolean}\n       */\n      isValid: function() {\n        try {\n          this.validate(this.attributes);\n        } catch (error) {\n          return false;\n        }\n        return true;\n      },\n\n      /**\n       * You should not call this function directly unless you subclass\n       * <code>AV.Object</code>, in which case you can override this method\n       * to provide additional validation on <code>set</code> and\n       * <code>save</code>.  Your implementation should throw an Error if\n       * the attrs is invalid\n       *\n       * @param {Object} attrs The current data to validate.\n       * @see AV.Object#set\n       */\n      validate: function(attrs) {\n        if (_.has(attrs, 'ACL') && !(attrs.ACL instanceof AV.ACL)) {\n          throw new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n      },\n\n      /**\n       * Run validation against a set of incoming attributes, returning `true`\n       * if all is well. If a specific `error` callback has been passed,\n       * call that instead of firing the general `\"error\"` event.\n       * @private\n       */\n      _validate: function(attrs, options) {\n        if (options.silent || !this.validate) {\n          return;\n        }\n        attrs = _.extend({}, this.attributes, attrs);\n        this.validate(attrs);\n      },\n\n      /**\n       * Returns the ACL for this object.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       * @see AV.Object#get\n       */\n      getACL: function() {\n        return this.get('ACL');\n      },\n\n      /**\n       * Sets the ACL to be used for this object.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       * @param {Object} options Optional Backbone-like options object to be\n       *     passed in to set.\n       * @return {AV.Object} self\n       * @see AV.Object#set\n       */\n      setACL: function(acl, options) {\n        return this.set('ACL', acl, options);\n      },\n\n      disableBeforeHook: function() {\n        this.ignoreHook('beforeSave');\n        this.ignoreHook('beforeUpdate');\n        this.ignoreHook('beforeDelete');\n      },\n\n      disableAfterHook: function() {\n        this.ignoreHook('afterSave');\n        this.ignoreHook('afterUpdate');\n        this.ignoreHook('afterDelete');\n      },\n\n      ignoreHook: function(hookName) {\n        if (\n          !_.contains(\n            [\n              'beforeSave',\n              'afterSave',\n              'beforeUpdate',\n              'afterUpdate',\n              'beforeDelete',\n              'afterDelete',\n            ],\n            hookName\n          )\n        ) {\n          throw new Error('Unsupported hookName: ' + hookName);\n        }\n\n        if (!AV.hookKey) {\n          throw new Error('ignoreHook required hookKey');\n        }\n\n        if (!this._flags.__ignore_hooks) {\n          this._flags.__ignore_hooks = [];\n        }\n\n        this._flags.__ignore_hooks.push(hookName);\n      },\n    }\n  );\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the give classname\n   * and id.\n   * @param  {String|Function} class the className or a subclass of AV.Object.\n   * @param {String} id The object id of this model.\n   * @return {AV.Object} A new subclass instance of AV.Object.\n   */\n  AV.Object.createWithoutData = (klass, id, hasData) => {\n    let _klass;\n    if (_.isString(klass)) {\n      _klass = AV.Object._getSubclass(klass);\n    } else if (klass.prototype && klass.prototype instanceof AV.Object) {\n      _klass = klass;\n    } else {\n      throw new Error('class must be a string or a subclass of AV.Object.');\n    }\n    const object = new _klass();\n    object.id = id;\n    object._hasData = hasData;\n    return object;\n  };\n  /**\n   * Delete objects in batch.\n   * @param {AV.Object[]} objects The <code>AV.Object</code> array to be deleted.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the save\n   *     completes.\n   */\n  AV.Object.destroyAll = function(objects, options = {}) {\n    if (!objects || objects.length === 0) {\n      return Promise.resolve();\n    }\n    const objectsByClassNameAndFlags = _.groupBy(objects, object =>\n      JSON.stringify({\n        className: object.className,\n        flags: object._flags,\n      })\n    );\n    const body = {\n      requests: _.map(objectsByClassNameAndFlags, objects => {\n        const ids = _.map(objects, 'id').join(',');\n        return {\n          method: 'DELETE',\n          path: `/1.1/classes/${objects[0].className}/${ids}`,\n          body: objects[0]._flags,\n        };\n      }),\n    };\n    return _request('batch', null, null, 'POST', body, options).then(\n      response => {\n        const firstError = _.find(response, result => !result.success);\n        if (firstError)\n          throw new AVError(firstError.error.code, firstError.error.error);\n        return undefined;\n      }\n    );\n  };\n\n  /**\n   * Returns the appropriate subclass for making new instances of the given\n   * className string.\n   * @private\n   */\n  AV.Object._getSubclass = function(className) {\n    if (!_.isString(className)) {\n      throw new Error('AV.Object._getSubclass requires a string argument.');\n    }\n    var ObjectClass = AV.Object._classMap[className];\n    if (!ObjectClass) {\n      ObjectClass = AV.Object.extend(className);\n      AV.Object._classMap[className] = ObjectClass;\n    }\n    return ObjectClass;\n  };\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the given classname.\n   * @private\n   */\n  AV.Object._create = function(className, attributes, options) {\n    var ObjectClass = AV.Object._getSubclass(className);\n    return new ObjectClass(attributes, options);\n  };\n\n  // Set up a map of className to class so that we can create new instances of\n  // AV Objects from JSON automatically.\n  AV.Object._classMap = {};\n\n  AV.Object._extend = AV._extend;\n\n  /**\n   * Creates a new model with defined attributes,\n   * It's the same with\n   * <pre>\n   *   new AV.Object(attributes, options);\n   *  </pre>\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @return {AV.Object}\n   * @since v0.4.4\n   * @see AV.Object\n   * @see AV.Object.extend\n   */\n  AV.Object['new'] = function(attributes, options) {\n    return new AV.Object(attributes, options);\n  };\n\n  /**\n   * Creates a new subclass of AV.Object for the given AV class name.\n   *\n   * <p>Every extension of a AV class will inherit from the most recent\n   * previous extension of that class. When a AV.Object is automatically\n   * created by parsing JSON, it will use the most recent extension of that\n   * class.</p>\n   *\n   * @example\n   * var MyClass = AV.Object.extend(\"MyClass\", {\n   *     // Instance properties\n   * }, {\n   *     // Class properties\n   * });\n   *\n   * @param {String} className The name of the AV class backing this model.\n   * @param {Object} protoProps Instance properties to add to instances of the\n   *     class returned from this method.\n   * @param {Object} classProps Class properties to add the class returned from\n   *     this method.\n   * @return {Class} A new subclass of AV.Object.\n   */\n  AV.Object.extend = function(className, protoProps, classProps) {\n    // Handle the case with only two args.\n    if (!_.isString(className)) {\n      if (className && _.has(className, 'className')) {\n        return AV.Object.extend(className.className, className, protoProps);\n      } else {\n        throw new Error(\n          \"AV.Object.extend's first argument should be the className.\"\n        );\n      }\n    }\n\n    // If someone tries to subclass \"User\", coerce it to the right type.\n    if (className === 'User') {\n      className = '_User';\n    }\n\n    var NewClassObject = null;\n    if (_.has(AV.Object._classMap, className)) {\n      var OldClassObject = AV.Object._classMap[className];\n      // This new subclass has been told to extend both from \"this\" and from\n      // OldClassObject. This is multiple inheritance, which isn't supported.\n      // For now, let's just pick one.\n      if (protoProps || classProps) {\n        NewClassObject = OldClassObject._extend(protoProps, classProps);\n      } else {\n        return OldClassObject;\n      }\n    } else {\n      protoProps = protoProps || {};\n      protoProps._className = className;\n      NewClassObject = this._extend(protoProps, classProps);\n    }\n    // Extending a subclass should reuse the classname automatically.\n    NewClassObject.extend = function(arg0) {\n      if (_.isString(arg0) || (arg0 && _.has(arg0, 'className'))) {\n        return AV.Object.extend.apply(NewClassObject, arguments);\n      }\n      var newArguments = [className].concat(_.toArray(arguments));\n      return AV.Object.extend.apply(NewClassObject, newArguments);\n    };\n    // Add the query property descriptor.\n    Object.defineProperty(\n      NewClassObject,\n      'query',\n      Object.getOwnPropertyDescriptor(AV.Object, 'query')\n    );\n    NewClassObject['new'] = function(attributes, options) {\n      return new NewClassObject(attributes, options);\n    };\n    AV.Object._classMap[className] = NewClassObject;\n    return NewClassObject;\n  };\n\n  // ES6 class syntax support\n  Object.defineProperty(AV.Object.prototype, 'className', {\n    get: function() {\n      const className =\n        this._className ||\n        this.constructor._LCClassName ||\n        this.constructor.name;\n      // If someone tries to subclass \"User\", coerce it to the right type.\n      if (className === 'User') {\n        return '_User';\n      }\n      return className;\n    },\n  });\n\n  /**\n   * Register a class.\n   * If a subclass of <code>AV.Object</code> is defined with your own implement\n   * rather then <code>AV.Object.extend</code>, the subclass must be registered.\n   * @param {Function} klass A subclass of <code>AV.Object</code>\n   * @param {String} [name] Specify the name of the class. Useful when the class might be uglified.\n   * @example\n   * class Person extend AV.Object {}\n   * AV.Object.register(Person);\n   */\n  AV.Object.register = (klass, name) => {\n    if (!(klass.prototype instanceof AV.Object)) {\n      throw new Error('registered class is not a subclass of AV.Object');\n    }\n    const className = name || klass.name;\n    if (!className.length) {\n      throw new Error('registered class must be named');\n    }\n    if (name) {\n      klass._LCClassName = name;\n    }\n    AV.Object._classMap[className] = klass;\n  };\n\n  /**\n   * Get a new Query of the current class\n   * @name query\n   * @memberof AV.Object\n   * @type AV.Query\n   * @readonly\n   * @since v3.1.0\n   * @example\n   * const Post = AV.Object.extend('Post');\n   * Post.query.equalTo('author', 'leancloud').find().then();\n   */\n  Object.defineProperty(AV.Object, 'query', {\n    get() {\n      return new AV.Query(this.prototype.className);\n    },\n  });\n\n  AV.Object._findUnsavedChildren = function(objects, children, files) {\n    AV._traverse(objects, function(object) {\n      if (object instanceof AV.Object) {\n        if (object.dirty()) {\n          children.push(object);\n        }\n        return;\n      }\n\n      if (object instanceof AV.File) {\n        if (!object.id) {\n          files.push(object);\n        }\n        return;\n      }\n    });\n  };\n\n  AV.Object._canBeSerializedAsValue = function(object) {\n    var canBeSerializedAsValue = true;\n\n    if (object instanceof AV.Object || object instanceof AV.File) {\n      canBeSerializedAsValue = !!object.id;\n    } else if (_.isArray(object)) {\n      AV._arrayEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    } else if (_.isObject(object)) {\n      AV._objectEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    }\n\n    return canBeSerializedAsValue;\n  };\n\n  AV.Object._deepSaveAsync = function(object, model, options) {\n    var unsavedChildren = [];\n    var unsavedFiles = [];\n    AV.Object._findUnsavedChildren(object, unsavedChildren, unsavedFiles);\n\n    var promise = Promise.resolve();\n    _.each(unsavedFiles, function(file) {\n      promise = promise.then(function() {\n        return file.save();\n      });\n    });\n\n    var objects = _.uniq(unsavedChildren);\n    var remaining = _.uniq(objects);\n\n    return promise\n      .then(function() {\n        return continueWhile(\n          function() {\n            return remaining.length > 0;\n          },\n          function() {\n            // Gather up all the objects that can be saved in this batch.\n            var batch = [];\n            var newRemaining = [];\n            AV._arrayEach(remaining, function(object) {\n              // Limit batches to 20 objects.\n              if (batch.length > 20) {\n                newRemaining.push(object);\n                return;\n              }\n\n              if (object._canBeSerialized()) {\n                batch.push(object);\n              } else {\n                newRemaining.push(object);\n              }\n            });\n            remaining = newRemaining;\n\n            // If we can't save any objects, there must be a circular reference.\n            if (batch.length === 0) {\n              return Promise.reject(\n                new AVError(\n                  AVError.OTHER_CAUSE,\n                  'Tried to save a batch with a cycle.'\n                )\n              );\n            }\n\n            // Reserve a spot in every object's save queue.\n            var readyToStart = Promise.resolve(\n              _.map(batch, function(object) {\n                return object._allPreviousSaves || Promise.resolve();\n              })\n            );\n\n            // Save a single batch, whether previous saves succeeded or failed.\n            const bathSavePromise = readyToStart.then(() =>\n              _request(\n                'batch',\n                null,\n                null,\n                'POST',\n                {\n                  requests: _.map(batch, function(object) {\n                    var method = object.id ? 'PUT' : 'POST';\n\n                    var json = object._getSaveJSON();\n\n                    _.extend(json, object._flags);\n\n                    var route = 'classes';\n                    var className = object.className;\n                    var path = `/${route}/${className}`;\n                    if (object.className === '_User' && !object.id) {\n                      // Special-case user sign-up.\n                      path = '/users';\n                    }\n\n                    var path = `/1.1${path}`;\n                    if (object.id) {\n                      path = path + '/' + object.id;\n                    }\n\n                    object._startSave();\n\n                    return {\n                      method: method,\n                      path: path,\n                      body: json,\n                    };\n                  }),\n                },\n                options\n              ).then(function(response) {\n                const results = _.map(batch, function(object, i) {\n                  if (response[i].success) {\n                    object._finishSave(object.parse(response[i].success));\n                    return object;\n                  }\n                  object._cancelSave();\n                  return new AVError(\n                    response[i].error.code,\n                    response[i].error.error\n                  );\n                });\n                return handleBatchResults(results);\n              })\n            );\n            AV._arrayEach(batch, function(object) {\n              object._allPreviousSaves = bathSavePromise;\n            });\n            return bathSavePromise;\n          }\n        );\n      })\n      .then(function() {\n        return object;\n      });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/object.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\n// module id = 139\n// module chunks = 0 1","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js\n// module id = 140\n// module chunks = 0 1","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js\n// module id = 141\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 142\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 143\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 144\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 145\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 146\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 147\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 148\n// module chunks = 0 1","const _ = require('underscore');\nconst AVError = require('./error');\n\nmodule.exports = function(AV) {\n  AV.Role = AV.Object.extend(\n    '_Role',\n    /** @lends AV.Role.prototype */ {\n      // Instance Methods\n\n      /**\n       * Represents a Role on the AV server. Roles represent groupings of\n       * Users for the purposes of granting permissions (e.g. specifying an ACL\n       * for an Object). Roles are specified by their sets of child users and\n       * child roles, all of which are granted any permissions that the parent\n       * role has.\n       *\n       * <p>Roles must have a name (which cannot be changed after creation of the\n       * role), and must specify an ACL.</p>\n       * An AV.Role is a local representation of a role persisted to the AV\n       * cloud.\n       * @class AV.Role\n       * @param {String} name The name of the Role to create.\n       * @param {AV.ACL} acl The ACL for this role.\n       */\n      constructor: function(name, acl) {\n        if (_.isString(name)) {\n          AV.Object.prototype.constructor.call(this, null, null);\n          this.setName(name);\n        } else {\n          AV.Object.prototype.constructor.call(this, name, acl);\n        }\n        if (acl) {\n          if (!(acl instanceof AV.ACL)) {\n            throw new TypeError('acl must be an instance of AV.ACL');\n          } else {\n            this.setACL(acl);\n          }\n        }\n      },\n\n      /**\n       * Gets the name of the role.  You can alternatively call role.get(\"name\")\n       *\n       * @return {String} the name of the role.\n       */\n      getName: function() {\n        return this.get('name');\n      },\n\n      /**\n       * Sets the name for a role. This value must be set before the role has\n       * been saved to the server, and cannot be set once the role has been\n       * saved.\n       *\n       * <p>\n       *   A role's name can only contain alphanumeric characters, _, -, and\n       *   spaces.\n       * </p>\n       *\n       * <p>This is equivalent to calling role.set(\"name\", name)</p>\n       *\n       * @param {String} name The name of the role.\n       */\n      setName: function(name, options) {\n        return this.set('name', name, options);\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Users that are direct\n       * children of this role. These users are granted any privileges that this\n       * role has been granted (e.g. read or write access through ACLs). You can\n       * add or remove users from the role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"users\")</p>\n       *\n       * @return {AV.Relation} the relation for the users belonging to this\n       *     role.\n       */\n      getUsers: function() {\n        return this.relation('users');\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Roles that are direct\n       * children of this role. These roles' users are granted any privileges that\n       * this role has been granted (e.g. read or write access through ACLs). You\n       * can add or remove child roles from this role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"roles\")</p>\n       *\n       * @return {AV.Relation} the relation for the roles belonging to this\n       *     role.\n       */\n      getRoles: function() {\n        return this.relation('roles');\n      },\n\n      /**\n       * @ignore\n       */\n      validate: function(attrs, options) {\n        if ('name' in attrs && attrs.name !== this.getName()) {\n          var newName = attrs.name;\n          if (this.id && this.id !== attrs.objectId) {\n            // Check to see if the objectId being set matches this.id.\n            // This happens during a fetch -- the id is set before calling fetch.\n            // Let the name be set in this case.\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only be set before it has been saved.\"\n            );\n          }\n          if (!_.isString(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name must be a String.\"\n            );\n          }\n          if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only contain alphanumeric characters, _,\" +\n                ' -, and spaces.'\n            );\n          }\n        }\n        if (AV.Object.prototype.validate) {\n          return AV.Object.prototype.validate.call(this, attrs, options);\n        }\n        return false;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role.js","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst AVError = require('./error');\nconst { _request: AVRequest, request } = require('./request');\n\nconst PLATFORM_ANONYMOUS = 'anonymous';\nconst PLATFORM_WEAPP = 'lc_weapp';\nconst PLATFORM_QQAPP = 'lc_qqapp';\n\nconst getMiniappLoginCode = () => {\n  if (typeof wx === 'undefined' || typeof wx.login !== 'function') {\n    throw new Error('wx.login is not a function');\n  }\n  return new Promise((resolve, reject) => {\n    wx.login({\n      success: ({ code, errMsg }) => {\n        if (code) {\n          resolve(code);\n        } else {\n          reject(new Error(errMsg));\n        }\n      },\n      fail: () => reject(new Error('login ')),\n    });\n  });\n};\n\nconst getMiniappAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  code,\n  {\n    preferUnionId,\n    unionIdPlatform = defaultUnionIdPlatform,\n    asMainAccount = true,\n  } = {}\n) =>\n  preferUnionId\n    ? {\n        platform: unionIdPlatform,\n        main_account: asMainAccount,\n        code,\n      }\n    : { code };\n\nconst mergeUnionDataIntoAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  authData,\n  unionId,\n  { unionIdPlatform = defaultUnionIdPlatform, asMainAccount = false } = {}\n) => {\n  if (typeof unionId !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionId is not a string');\n  if (typeof unionIdPlatform !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionIdPlatform is not a string');\n\n  return _.extend({}, authData, {\n    platform: unionIdPlatform,\n    unionid: unionId,\n    main_account: Boolean(asMainAccount),\n  });\n};\n\nmodule.exports = function(AV) {\n  /**\n   * @class\n   *\n   * <p>An AV.User object is a local representation of a user persisted to the\n   * LeanCloud server. This class is a subclass of an AV.Object, and retains the\n   * same functionality of an AV.Object, but also extends it with various\n   * user specific methods, like authentication, signing up, and validation of\n   * uniqueness.</p>\n   */\n  AV.User = AV.Object.extend(\n    '_User',\n    /** @lends AV.User.prototype */ {\n      // Instance Variables\n      _isCurrentUser: false,\n\n      // Instance Methods\n\n      /**\n       * Internal method to handle special fields in a _User response.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        if (attrs.sessionToken) {\n          this._sessionToken = attrs.sessionToken;\n          delete attrs.sessionToken;\n        }\n        return AV.User.__super__._mergeMagicFields.call(this, attrs);\n      },\n\n      /**\n       * Removes null values from authData (which exist temporarily for\n       * unlinking)\n       * @private\n       */\n      _cleanupAuthData: function() {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        AV._objectEach(this.get('authData'), function(value, key) {\n          if (!authData[key]) {\n            delete authData[key];\n          }\n        });\n      },\n\n      /**\n       * Synchronizes authData for all providers.\n       * @private\n       */\n      _synchronizeAllAuthData: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._synchronizeAuthData(key);\n        });\n      },\n\n      /**\n       * Synchronizes auth data for a provider (e.g. puts the access token in the\n       * right place to be used by the Facebook SDK).\n       * @private\n       */\n      _synchronizeAuthData: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[authType];\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData');\n        if (!authData || !provider) {\n          return;\n        }\n        var success = provider.restoreAuthentication(authData[authType]);\n        if (!success) {\n          this.dissociateAuthData(provider);\n        }\n      },\n\n      _handleSaveResult: function(makeCurrent) {\n        // Clean up and synchronize the authData object, removing any unset values\n        if (makeCurrent && !AV._config.disableCurrentUser) {\n          this._isCurrentUser = true;\n        }\n        this._cleanupAuthData();\n        this._synchronizeAllAuthData();\n        // Don't keep the password around.\n        delete this._serverData.password;\n        this._rebuildEstimatedDataForKey('password');\n        this._refreshCache();\n        if (\n          (makeCurrent || this.isCurrent()) &&\n          !AV._config.disableCurrentUser\n        ) {\n          // Some old version of leanengine-node-sdk will overwrite\n          // AV.User._saveCurrentUser which returns no Promise.\n          // So we need a Promise wrapper.\n          return Promise.resolve(AV.User._saveCurrentUser(this));\n        } else {\n          return Promise.resolve();\n        }\n      },\n\n      /**\n       * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n       * call linkWith on the user (even if it doesn't exist yet on the server).\n       * @private\n       */\n      _linkWith: function(provider, data, { failOnNotExist = false } = {}) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[provider];\n        } else {\n          authType = provider.getAuthType();\n        }\n        if (data) {\n          return this.save(\n            { authData: { [authType]: data } },\n            {\n              fetchWhenSave: !!this.get('authData'),\n              _failOnNotExist: failOnNotExist,\n            }\n          ).then(function(model) {\n            return model._handleSaveResult(true).then(function() {\n              return model;\n            });\n          });\n        } else {\n          return provider\n            .authenticate()\n            .then(result => this._linkWith(provider, result));\n        }\n      },\n\n      /**\n       * Associate the user with a third party authData.\n       * @since 3.3.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthData(authData, platform) {\n        return this._linkWith(platform, authData);\n      },\n\n      /**\n       * Associate the user with a third party authData and unionId.\n       * @since 3.5.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionOptions\n      ) {\n        return this._linkWith(\n          platform,\n          mergeUnionDataIntoAuthData()(authData, unionId, unionOptions)\n        );\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_QQAPP,\n            getMiniappAuthData('qq')(code, options)\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId \n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(PLATFORM_WEAPP, getMiniappAuthData()(code, options))\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User#associateWithWeapp}\n       * @return {Promise<AV.User>}\n       */\n      linkWithWeapp(options) {\n        console.warn(\n          'DEPRECATED: User#linkWithWeapp  User#associateWithWeapp '\n        );\n        return this.associateWithWeapp(options);\n      },\n\n      /**\n       *  QQ  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQAppWithUnionId(unionId, unionOptions) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_QQAPP,\n            mergeUnionDataIntoAuthData('qq')({ code }, unionId, unionOptions)\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeappWithUnionId(unionId, unionOptions) {\n        return getMiniappLoginCode().then(code =>\n          this._linkWith(\n            PLATFORM_WEAPP,\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionOptions)\n          )\n        );\n      },\n\n      /**\n       * Unlinks a user from a service.\n       * @param {string} platform\n       * @return {Promise<AV.User>}\n       * @since 3.3.0\n       */\n      dissociateAuthData(provider) {\n        this.unset(`authData.${provider}`);\n        return this.save().then(model =>\n          model._handleSaveResult(true).then(() => model)\n        );\n      },\n\n      /**\n       * @private\n       * @deprecated\n       */\n      _unlinkFrom(provider) {\n        console.warn(\n          'DEPRECATED: User#_unlinkFrom  User#dissociateAuthData '\n        );\n        return this.dissociateAuthData(provider);\n      },\n\n      /**\n       * Checks whether a user is linked to a service.\n       * @private\n       */\n      _isLinked: function(provider) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData') || {};\n        return !!authData[authType];\n      },\n\n      /**\n       * Checks whether a user is anonymous.\n       * @since 3.9.0\n       * @return {boolean}\n       */\n      isAnonymous() {\n        return this._isLinked(PLATFORM_ANONYMOUS);\n      },\n\n      logOut: function() {\n        this._logOutWithAll();\n        this._isCurrentUser = false;\n      },\n\n      /**\n       * Deauthenticates all providers.\n       * @private\n       */\n      _logOutWithAll: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._logOutWith(key);\n        });\n      },\n\n      /**\n       * Deauthenticates a single provider (e.g. removing access tokens from the\n       * Facebook SDK).\n       * @private\n       */\n      _logOutWith: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        if (_.isString(provider)) {\n          provider = AV.User._authProviders[provider];\n        }\n        if (provider && provider.deauthenticate) {\n          provider.deauthenticate();\n        }\n      },\n\n      /**\n       * Signs up a new user. You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUp\n       */\n      signUp: function(attrs, options) {\n        var error;\n\n        var username = (attrs && attrs.username) || this.get('username');\n        if (!username || username === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty name.'\n          );\n          throw error;\n        }\n\n        var password = (attrs && attrs.password) || this.get('password');\n        if (!password || password === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty password.'\n          );\n          throw error;\n        }\n\n        return this.save(attrs, options).then(function(model) {\n          if (model.isAnonymous()) {\n            model.unset(`authData.${PLATFORM_ANONYMOUS}`);\n            model._opSetQueue = [{}];\n          }\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * Signs up a new user with mobile phone and sms code.\n       * You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(attrs, options = {}) {\n        var error;\n\n        var mobilePhoneNumber =\n          (attrs && attrs.mobilePhoneNumber) || this.get('mobilePhoneNumber');\n        if (!mobilePhoneNumber || mobilePhoneNumber === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber ' +\n              'with an empty mobilePhoneNumber.'\n          );\n          throw error;\n        }\n\n        var smsCode = (attrs && attrs.smsCode) || this.get('smsCode');\n        if (!smsCode || smsCode === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber  ' +\n              'with an empty smsCode.'\n          );\n          throw error;\n        }\n\n        options._makeRequest = function(route, className, id, method, json) {\n          return AVRequest('usersByMobilePhone', null, null, 'POST', json);\n        };\n        return this.save(attrs, options).then(function(model) {\n          delete model.attributes.smsCode;\n          delete model._serverData.smsCode;\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthData}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthData(authData, platform, options) {\n        return this._linkWith(platform, authData, options);\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthDataAndUnionId}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeapp}, except that you can set attributes before login.\n       * @since 3.7.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData()(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeappWithUnionId}, except that you can set attributes before login.\n       * @since 3.13.0\n       */\n      loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionLoginOptions),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQApp}, except that you can set attributes before login.\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData('qq')(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQAppWithUnionId}, except that you can set attributes before login.\n       * @since 4.2.0\n       */\n      loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData('qq')(\n              { code },\n              unionId,\n              unionLoginOptions\n            ),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * Logs in a AV.User. On success, this saves the session to localStorage,\n       * so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling logIn.</p>\n       *\n       * @see AV.User.logIn\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login is complete.\n       */\n      logIn: function() {\n        var model = this;\n        var request = AVRequest('login', null, null, 'POST', this.toJSON());\n        return request.then(function(resp) {\n          var serverAttrs = model.parse(resp);\n          model._finishFetch(serverAttrs);\n          return model._handleSaveResult(true).then(function() {\n            if (!serverAttrs.smsCode) delete model.attributes['smsCode'];\n            return model;\n          });\n        });\n      },\n      /**\n       * @see AV.Object#save\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, options;\n        if (_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n        options = options || {};\n\n        return AV.Object.prototype.save\n          .call(this, attrs, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Follow a user\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to follow.\n       * @param {Object} [options.attributes] key-value attributes dictionary to be used as\n       *  conditions of followerQuery/followeeQuery.\n       * @param {AuthOptions} [authOptions]\n       */\n      follow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        let attributes;\n        if (options.user) {\n          user = options.user;\n          attributes = options.attributes;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(\n          route,\n          null,\n          null,\n          'POST',\n          AV._encode(attributes),\n          authOptions\n        );\n        return request;\n      },\n\n      /**\n       * Unfollow a user.\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to unfollow.\n       * @param {AuthOptions} [authOptions]\n       */\n      unfollow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        if (options.user) {\n          user = options.user;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(route, null, null, 'DELETE', null, authOptions);\n        return request;\n      },\n\n      /**\n       *Create a follower query to query the user's followers.\n       * @since 0.3.0\n       * @see AV.User#followerQuery\n       */\n      followerQuery: function() {\n        return AV.User.followerQuery(this.id);\n      },\n\n      /**\n       *Create a followee query to query the user's followees.\n       * @since 0.3.0\n       * @see AV.User#followeeQuery\n       */\n      followeeQuery: function() {\n        return AV.User.followeeQuery(this.id);\n      },\n\n      /**\n       * @see AV.Object#fetch\n       */\n      fetch: function(fetchOptions, options) {\n        return AV.Object.prototype.fetch\n          .call(this, fetchOptions, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Update user's new password safely based on old password.\n       * @param {String} oldPassword the old password.\n       * @param {String} newPassword the new password.\n       * @param {AuthOptions} options\n       */\n      updatePassword: function(oldPassword, newPassword, options) {\n        var route = 'users/' + this.id + '/updatePassword';\n        var params = {\n          old_password: oldPassword,\n          new_password: newPassword,\n        };\n        var request = AVRequest(route, null, null, 'PUT', params, options);\n        return request;\n      },\n\n      /**\n       * Returns true if <code>current</code> would return this user.\n       * @see AV.User#current\n       */\n      isCurrent: function() {\n        return this._isCurrentUser;\n      },\n\n      /**\n       * Returns get(\"username\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getUsername: function() {\n        return this.get('username');\n      },\n\n      /**\n       * Returns get(\"mobilePhoneNumber\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getMobilePhoneNumber: function() {\n        return this.get('mobilePhoneNumber');\n      },\n\n      /**\n       * Calls set(\"mobilePhoneNumber\", phoneNumber, options) and returns the result.\n       * @param {String} mobilePhoneNumber\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setMobilePhoneNumber: function(phone, options) {\n        return this.set('mobilePhoneNumber', phone, options);\n      },\n\n      /**\n       * Calls set(\"username\", username, options) and returns the result.\n       * @param {String} username\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setUsername: function(username, options) {\n        return this.set('username', username, options);\n      },\n\n      /**\n       * Calls set(\"password\", password, options) and returns the result.\n       * @param {String} password\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setPassword: function(password, options) {\n        return this.set('password', password, options);\n      },\n\n      /**\n       * Returns get(\"email\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getEmail: function() {\n        return this.get('email');\n      },\n\n      /**\n       * Calls set(\"email\", email, options) and returns the result.\n       * @param {String} email\n       * @param {AuthOptions} options\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setEmail: function(email, options) {\n        return this.set('email', email, options);\n      },\n\n      /**\n       * Checks whether this user is the current user and has been authenticated.\n       * @deprecated  currentUser.isAuthenticated().then()\n       *  user.id === currentUser.id\n       * @return (Boolean) whether this user is the current user and is logged in.\n       */\n      authenticated: function() {\n        console.warn(\n          'DEPRECATED:  currentUser.isAuthenticated().then() user.id === currentUser.id'\n        );\n        return (\n          !!this._sessionToken &&\n          (!AV._config.disableCurrentUser &&\n            AV.User.current() &&\n            AV.User.current().id === this.id)\n        );\n      },\n\n      /**\n       *  sessionToken \n       *\n       * @since 2.0.0\n       * @return Promise.<Boolean>\n       */\n      isAuthenticated() {\n        return Promise.resolve().then(\n          () =>\n            !!this._sessionToken &&\n            AV.User._fetchUserBySessionToken(this._sessionToken).then(\n              () => true,\n              error => {\n                if (error.code === 211) {\n                  return false;\n                }\n                throw error;\n              }\n            )\n        );\n      },\n\n      /**\n       * Get sessionToken of current user.\n       * @return {String} sessionToken\n       */\n      getSessionToken() {\n        return this._sessionToken;\n      },\n\n      /**\n       * Refresh sessionToken of current user.\n       * @since 2.1.0\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.User>} user with refreshed sessionToken\n       */\n      refreshSessionToken(options) {\n        return AVRequest(\n          `users/${this.id}/refreshSessionToken`,\n          null,\n          null,\n          'PUT',\n          null,\n          options\n        ).then(response => {\n          this._finishFetch(response);\n          return this._handleSaveResult(true).then(() => this);\n        });\n      },\n\n      /**\n       * Get this user's Roles.\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.Role[]>} A promise that is fulfilled with the roles when\n       *     the query is complete.\n       */\n      getRoles(options) {\n        return AV.Relation.reverseQuery('_Role', 'users', this).find(options);\n      },\n    },\n    /** @lends AV.User */ {\n      // Class Variables\n\n      // The currently logged-in user.\n      _currentUser: null,\n\n      // Whether currentUser is known to match the serialized version on disk.\n      // This is useful for saving a localstorage check if you try to load\n      // _currentUser frequently while there is none stored.\n      _currentUserMatchesDisk: false,\n\n      // The localStorage key suffix that the current user is stored under.\n      _CURRENT_USER_KEY: 'currentUser',\n\n      // The mapping of auth provider names to actual providers\n      _authProviders: {},\n\n      // Class Methods\n\n      /**\n       * Signs up a new user with a username (or email) and password.\n       * This will create a new AV.User on the server, and also persist the\n       * session in localStorage so that you can access the user using\n       * {@link #current}.\n       *\n       * @param {String} username The username (or email) to sign up with.\n       * @param {String} password The password to sign up with.\n       * @param {Object} [attrs] Extra fields to set on the new user.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the signup completes.\n       * @see AV.User#signUp\n       */\n      signUp: function(username, password, attrs, options) {\n        attrs = attrs || {};\n        attrs.username = username;\n        attrs.password = password;\n        var user = AV.Object._create('_User');\n        return user.signUp(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a username (or email) and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} username The username (or email) to log in with.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logIn: function(username, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ username: username, password: password });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with a session token. On success, this saves the session\n       * to disk, so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * @param {String} sessionToken The sessionToken to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      become: function(sessionToken) {\n        return this._fetchUserBySessionToken(sessionToken).then(user =>\n          user._handleSaveResult(true).then(() => user)\n        );\n      },\n\n      _fetchUserBySessionToken: function(sessionToken) {\n        var user = AV.Object._create('_User');\n        return request({\n          method: 'GET',\n          path: '/users/me',\n          authOptions: {\n            sessionToken,\n          },\n        }).then(function(resp) {\n          var serverAttrs = user.parse(resp);\n          user._finishFetch(serverAttrs);\n          return user;\n        });\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and sms code sent by\n       * AV.User.requestLoginSmsCode.On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} smsCode The sms code sent by AV.User.requestLoginSmsCode\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhoneSmsCode: function(mobilePhone, smsCode) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ mobilePhoneNumber: mobilePhone, smsCode: smsCode });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a mobilePhoneNumber and smsCode.\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @param {String} mobilePhoneNumber The user's mobilePhoneNumber.\n       * @param {String} smsCode The sms code sent by AV.Cloud.requestSmsCode\n       * @param {Object} attributes  The user's other attributes such as username etc.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(\n        mobilePhoneNumber,\n        smsCode,\n        attrs,\n        options\n      ) {\n        attrs = attrs || {};\n        attrs.mobilePhoneNumber = mobilePhoneNumber;\n        attrs.smsCode = smsCode;\n        var user = AV.Object._create('_User');\n        return user.signUpOrlogInWithMobilePhone(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhone: function(mobilePhone, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({\n          mobilePhoneNumber: mobilePhone,\n          password: password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with email and password.\n       *\n       * @since 3.13.0\n       * @param {String} email The user's email.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      loginWithEmail(email, password) {\n        const user = AV.Object._create('_User');\n        user._finishFetch({\n          email,\n          password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Sign up or logs in a user with a third party auth data(AccessToken).\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @example AV.User.loginWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       * @see {@link https://leancloud.cn/docs/js_guide.html#}\n       */\n      loginWithAuthData(authData, platform, options) {\n        return AV.User._logInWith(platform, authData, options);\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthData}\n       */\n      signUpOrlogInWithAuthData(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthData  User#loginWithAuthData '\n        );\n        return this.loginWithAuthData(...param);\n      },\n\n      /**\n       * Sign up or logs in a user with a third party authData and unionId.\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example AV.User.loginWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthDataAndUnionId}\n       * @since 3.5.0\n       */\n      signUpOrlogInWithAuthDataAndUnionId(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId  User#loginWithAuthDataAndUnionId '\n        );\n        return this.loginWithAuthDataAndUnionId(...param);\n      },\n\n      /**\n       *  session  AV.User.current() \n       * \n       *\n       * @since 2.0.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithWeapp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData()(code, options),\n            PLATFORM_WEAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @since 3.13.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithWeappWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData()({ code }, unionId, unionLoginOptions),\n            PLATFORM_WEAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       *  QQ  QQ  session  AV.User.current() \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = false] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQApp(options) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            getMiniappAuthData('qq')(code, options),\n            PLATFORM_QQAPP,\n            options\n          )\n        );\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @since 4.2.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithQQAppWithUnionId(unionId, unionLoginOptions) {\n        return getMiniappLoginCode().then(code =>\n          this.loginWithAuthData(\n            mergeUnionDataIntoAuthData('qq')(\n              { code },\n              unionId,\n              unionLoginOptions\n            ),\n            PLATFORM_QQAPP,\n            unionLoginOptions\n          )\n        );\n      },\n\n      /**\n       * Only use for DI in tests to produce deterministic IDs.\n       */\n      _genId() {\n        return uuid();\n      },\n\n      /**\n       * Creates an anonymous user.\n       *\n       * @since 3.9.0\n       * @return {Promise.<AV.User>}\n       */\n      loginAnonymously() {\n        return this.loginWithAuthData(\n          {\n            id: AV.User._genId(),\n          },\n          'anonymous'\n        );\n      },\n\n      associateWithAuthData(userObj, platform, authData) {\n        console.warn(\n          'DEPRECATED: User.associateWithAuthData  User#associateWithAuthData '\n        );\n        return userObj._linkWith(platform, authData);\n      },\n      /**\n       * Logs out the currently logged in user session. This will remove the\n       * session from disk, log out of linked services, and future calls to\n       * <code>current</code> will return <code>null</code>.\n       * @return {Promise}\n       */\n      logOut: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser !== null) {\n          AV.User._currentUser._logOutWithAll();\n          AV.User._currentUser._isCurrentUser = false;\n        }\n        AV.User._currentUserMatchesDisk = true;\n        AV.User._currentUser = null;\n        return AV.localStorage\n          .removeItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(() => AV._refreshSubscriptionId());\n      },\n\n      /**\n       *Create a follower query for special user to query the user's followers.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followerQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Follower');\n        query._friendshipTag = 'follower';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       *Create a followee query for special user to query the user's followees.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followeeQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Followee');\n        query._friendshipTag = 'followee';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       * Requests a password reset email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * reset their password on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     forgot their password.\n       * @return {Promise}\n       */\n      requestPasswordReset: function(email) {\n        var json = { email: email };\n        var request = AVRequest(\n          'requestPasswordReset',\n          null,\n          null,\n          'POST',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Requests a verify email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * verify their email address on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     doesn't verify their email address.\n       * @return {Promise}\n       */\n      requestEmailVerify: function(email) {\n        var json = { email: email };\n        var request = AVRequest('requestEmailVerify', null, null, 'POST', json);\n        return request;\n      },\n\n      /**\n       * Requests a verify sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * verify their mobile phone number by calling AV.User.verifyMobilePhone\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestMobilePhoneVerify: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestMobilePhoneVerify',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Requests a reset password sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * reset their account's password by calling AV.User.resetPasswordBySmsCode\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestPasswordResetBySmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestPasswordResetBySmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to reset user's account password by sms code and new password.\n       * The sms code is sent by AV.User.requestPasswordResetBySmsCode.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @param {String} password The new password.\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      resetPasswordBySmsCode: function(code, password) {\n        var json = { password: password };\n        var request = AVRequest(\n          'resetPasswordBySmsCode',\n          null,\n          code,\n          'PUT',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.User.Cloud.requestSmsCode\n       * If verify successfully,the user mobilePhoneVerified attribute will be true.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifyMobilePhone: function(code) {\n        var request = AVRequest('verifyMobilePhone', null, code, 'POST', null);\n        return request;\n      },\n\n      /**\n       * Requests a logIn sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * login by AV.User.logInWithMobilePhoneSmsCode function.\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *           user that want to login by AV.User.logInWithMobilePhoneSmsCode\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise}\n       */\n      requestLoginSmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestLoginSmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {Promise.<AV.User>} resolved with the currently logged in AV.User.\n       */\n      currentAsync: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        return AV.localStorage\n          .getItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(function(userData) {\n            if (!userData) {\n              return null;\n            }\n\n            // Load the user from local storage.\n            AV.User._currentUserMatchesDisk = true;\n\n            AV.User._currentUser = AV.Object._create('_User');\n            AV.User._currentUser._isCurrentUser = true;\n\n            var json = JSON.parse(userData);\n            AV.User._currentUser.id = json._id;\n            delete json._id;\n            AV.User._currentUser._sessionToken = json._sessionToken;\n            delete json._sessionToken;\n            AV.User._currentUser._finishFetch(json);\n            //AV.User._currentUser.set(json);\n\n            AV.User._currentUser._synchronizeAllAuthData();\n            AV.User._currentUser._refreshCache();\n            AV.User._currentUser._opSetQueue = [{}];\n            return AV.User._currentUser;\n          });\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {AV.User} The currently logged in AV.User.\n       */\n      current: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return null;\n        }\n\n        if (AV.localStorage.async) {\n          const error = new Error(\n            'Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.'\n          );\n          error.code = 'SYNC_API_NOT_AVAILABLE';\n          throw error;\n        }\n\n        if (AV.User._currentUser) {\n          return AV.User._currentUser;\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return AV.User._currentUser;\n        }\n\n        // Load the user from local storage.\n        AV.User._currentUserMatchesDisk = true;\n\n        var userData = AV.localStorage.getItem(\n          AV._getAVPath(AV.User._CURRENT_USER_KEY)\n        );\n        if (!userData) {\n          return null;\n        }\n        AV.User._currentUser = AV.Object._create('_User');\n        AV.User._currentUser._isCurrentUser = true;\n\n        var json = JSON.parse(userData);\n        AV.User._currentUser.id = json._id;\n        delete json._id;\n        AV.User._currentUser._sessionToken = json._sessionToken;\n        delete json._sessionToken;\n        AV.User._currentUser._finishFetch(json);\n        //AV.User._currentUser.set(json);\n\n        AV.User._currentUser._synchronizeAllAuthData();\n        AV.User._currentUser._refreshCache();\n        AV.User._currentUser._opSetQueue = [{}];\n        return AV.User._currentUser;\n      },\n\n      /**\n       * Persists a user as currentUser to localStorage, and into the singleton.\n       * @private\n       */\n      _saveCurrentUser: function(user) {\n        var promise;\n        if (AV.User._currentUser !== user) {\n          promise = AV.User.logOut();\n        } else {\n          promise = Promise.resolve();\n        }\n        return promise.then(function() {\n          user._isCurrentUser = true;\n          AV.User._currentUser = user;\n\n          var json = user._toFullJSON();\n          json._id = user.id;\n          json._sessionToken = user._sessionToken;\n          return AV.localStorage\n            .setItemAsync(\n              AV._getAVPath(AV.User._CURRENT_USER_KEY),\n              JSON.stringify(json)\n            )\n            .then(function() {\n              AV.User._currentUserMatchesDisk = true;\n              return AV._refreshSubscriptionId();\n            });\n        });\n      },\n\n      _registerAuthenticationProvider: function(provider) {\n        AV.User._authProviders[provider.getAuthType()] = provider;\n        // Synchronize the current user with the auth provider.\n        if (!AV._config.disableCurrentUser && AV.User.current()) {\n          AV.User.current()._synchronizeAuthData(provider.getAuthType());\n        }\n      },\n\n      _logInWith: function(provider, authData, options) {\n        var user = AV.Object._create('_User');\n        return user._linkWith(provider, authData, options);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 151\n// module chunks = 0 1","const _ = require('underscore');\nconst debug = require('debug')('leancloud:query');\nconst AVError = require('./error');\nconst { _request, request } = require('./request');\nconst {\n  ensureArray,\n  transformFetchOptions,\n  continueWhile,\n} = require('./utils');\n\nconst requires = (value, message) => {\n  if (value === undefined) {\n    throw new Error(message);\n  }\n};\n\n// AV.Query is a way to create a list of AV.Objects.\nmodule.exports = function(AV) {\n  /**\n   * Creates a new AV.Query for the given AV.Object subclass.\n   * @param {Class|String} objectClass An instance of a subclass of AV.Object, or a AV className string.\n   * @class\n   *\n   * <p>AV.Query defines a query that is used to fetch AV.Objects. The\n   * most common use case is finding all objects that match a query through the\n   * <code>find</code> method. For example, this sample code fetches all objects\n   * of class <code>MyClass</code>. It calls a different function depending on\n   * whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.find().then(function(results) {\n   *   // results is an array of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to retrieve a single object whose id is\n   * known, through the get method. For example, this sample code fetches an\n   * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n   * different function depending on whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.get(myId).then(function(object) {\n   *   // object is an instance of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to count the number of objects that match\n   * the query without retrieving all of those objects. For example, this\n   * sample code counts the number of objects of the class <code>MyClass</code>\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.count().then(function(number) {\n   *   // There are number instances of MyClass.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   */\n  AV.Query = function(objectClass) {\n    if (_.isString(objectClass)) {\n      objectClass = AV.Object._getSubclass(objectClass);\n    }\n\n    this.objectClass = objectClass;\n\n    this.className = objectClass.prototype.className;\n\n    this._where = {};\n    this._include = [];\n    this._select = [];\n    this._limit = -1; // negative limit means, do not send a limit\n    this._skip = 0;\n    this._defaultParams = {};\n  };\n\n  /**\n   * Constructs a AV.Query that is the OR of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.or(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an or of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to OR.\n   * @return {AV.Query} The query that is the OR of the passed in queries.\n   */\n  AV.Query.or = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._orQuery(queries);\n    return query;\n  };\n\n  /**\n   * Constructs a AV.Query that is the AND of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.and(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an 'and' of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to AND.\n   * @return {AV.Query} The query that is the AND of the passed in queries.\n   */\n  AV.Query.and = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._andQuery(queries);\n    return query;\n  };\n\n  /**\n   * Retrieves a list of AVObjects that satisfy the CQL.\n   * CQL syntax please see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   *\n   * @param {String} cql A CQL string, see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   * @param {Array} pvalues An array contains placeholder values.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is resolved with the results when\n   * the query completes.\n   */\n  AV.Query.doCloudQuery = function(cql, pvalues, options) {\n    var params = { cql: cql };\n    if (_.isArray(pvalues)) {\n      params.pvalues = pvalues;\n    } else {\n      options = pvalues;\n    }\n\n    var request = _request('cloudQuery', null, null, 'GET', params, options);\n    return request.then(function(response) {\n      //query to process results.\n      var query = new AV.Query(response.className);\n      var results = _.map(response.results, function(json) {\n        var obj = query._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(query._processResult(json), true);\n        }\n        return obj;\n      });\n      return {\n        results: results,\n        count: response.count,\n        className: response.className,\n      };\n    });\n  };\n\n  /**\n   * Return a query with conditions from json.\n   * This can be useful to send a query from server side to client side.\n   * @since 4.0.0\n   * @param {Object} json from {@link AV.Query#toJSON}\n   * @return {AV.Query}\n   */\n  AV.Query.fromJSON = ({\n    className,\n    where,\n    include,\n    select,\n    includeACL,\n    limit,\n    skip,\n    order,\n  }) => {\n    if (typeof className !== 'string') {\n      throw new TypeError('Invalid Query JSON, className must be a String.');\n    }\n    const query = new AV.Query(className);\n    _.extend(query, {\n      _where: where,\n      _include: include,\n      _select: select,\n      _includeACL: includeACL,\n      _limit: limit,\n      _skip: skip,\n      _order: order,\n    });\n    return query;\n  };\n\n  AV.Query._extend = AV._extend;\n\n  _.extend(\n    AV.Query.prototype,\n    /** @lends AV.Query.prototype */ {\n      //hook to iterate result. Added by dennis<xzhuang@avoscloud.com>.\n      _processResult: function(obj) {\n        return obj;\n      },\n\n      /**\n       * Constructs an AV.Object whose id is already known by fetching data from\n       * the server.\n       *\n       * @param {String} objectId The id of the object to be fetched.\n       * @param {AuthOptions} options\n       * @return {Promise.<AV.Object>}\n       */\n      get: function(objectId, options) {\n        if (!_.isString(objectId)) {\n          throw new Error('objectId must be a string');\n        }\n        if (objectId === '') {\n          return Promise.reject(\n            new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.')\n          );\n        }\n\n        var obj = this._newObject();\n        obj.id = objectId;\n\n        var queryJSON = this._getParams();\n        var fetchOptions = {};\n\n        if (queryJSON.keys) fetchOptions.keys = queryJSON.keys;\n        if (queryJSON.include) fetchOptions.include = queryJSON.include;\n        if (queryJSON.includeACL)\n          fetchOptions.includeACL = queryJSON.includeACL;\n\n        return _request(\n          'classes',\n          this.className,\n          objectId,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        ).then(response => {\n          if (_.isEmpty(response))\n            throw new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          obj._finishFetch(obj.parse(response), true);\n          return obj;\n        });\n      },\n\n      /**\n       * Returns a JSON representation of this query.\n       * @return {Object}\n       */\n      toJSON() {\n        const {\n          className,\n          _where: where,\n          _include: include,\n          _select: select,\n          _includeACL: includeACL,\n          _limit: limit,\n          _skip: skip,\n          _order: order,\n        } = this;\n        return {\n          className,\n          where,\n          include,\n          select,\n          includeACL,\n          limit,\n          skip,\n          order,\n        };\n      },\n\n      _getParams: function() {\n        var params = _.extend({}, this._defaultParams, {\n          where: this._where,\n        });\n\n        if (this._include.length > 0) {\n          params.include = this._include.join(',');\n        }\n        if (this._select.length > 0) {\n          params.keys = this._select.join(',');\n        }\n        if (this._includeACL !== undefined) {\n          params.returnACL = this._includeACL;\n        }\n        if (this._limit >= 0) {\n          params.limit = this._limit;\n        }\n        if (this._skip > 0) {\n          params.skip = this._skip;\n        }\n        if (this._order !== undefined) {\n          params.order = this._order;\n        }\n\n        return params;\n      },\n\n      _newObject: function(response) {\n        var obj;\n        if (response && response.className) {\n          obj = new AV.Object(response.className);\n        } else {\n          obj = new this.objectClass();\n        }\n        return obj;\n      },\n      _createRequest(\n        params = this._getParams(),\n        options,\n        path = `/classes/${this.className}`\n      ) {\n        if (encodeURIComponent(JSON.stringify(params)).length > 2000) {\n          const body = {\n            requests: [\n              {\n                method: 'GET',\n                path: `/1.1${path}`,\n                params,\n              },\n            ],\n          };\n          return request({\n            path: '/batch',\n            method: 'POST',\n            data: body,\n            authOptions: options,\n          }).then(response => {\n            const result = response[0];\n            if (result.success) {\n              return result.success;\n            }\n            const error = new Error(\n              result.error.error || 'Unknown batch error'\n            );\n            error.code = result.error.code;\n            throw error;\n          });\n        }\n        return request({\n          method: 'GET',\n          path,\n          query: params,\n          authOptions: options,\n        });\n      },\n\n      _parseResponse(response) {\n        return _.map(response.results, json => {\n          var obj = this._newObject(response);\n          if (obj._finishFetch) {\n            obj._finishFetch(this._processResult(json), true);\n          }\n          return obj;\n        });\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find(options) {\n        const request = this._createRequest(undefined, options);\n        return request.then(this._parseResponse.bind(this));\n      },\n\n      /**\n       * scan a Query. masterKey required.\n       *\n       * @since 2.1.0\n       * @param {object} [options]\n       * @param {string} [options.orderedBy] specify the key to sort\n       * @param {number} [options.batchSize] specify the batch size for each request\n       * @param {AuthOptions} [authOptions]\n       * @return {AsyncIterator.<AV.Object>}\n       * @example const scan = new AV.Query(TestClass).scan({\n       *   orderedBy: 'objectId',\n       *   batchSize: 10,\n       * }, {\n       *   useMasterKey: true,\n       * });\n       * const getTen = () => Promise.all(new Array(10).fill(0).map(() => scan.next()));\n       * getTen().then(results => {\n       *   // results are fisrt 10 instances of TestClass\n       *   return getTen();\n       * }).then(results => {\n       *   // 11 - 20\n       * });\n       */\n      scan({ orderedBy, batchSize } = {}, authOptions) {\n        const condition = this._getParams();\n        debug('scan %O', condition);\n        if (condition.order) {\n          console.warn(\n            'The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan.'\n          );\n          delete condition.order;\n        }\n        if (condition.skip) {\n          console.warn(\n            'The skip option of the query is ignored for Query#scan.'\n          );\n          delete condition.skip;\n        }\n        if (condition.limit) {\n          console.warn(\n            'The limit option of the query is ignored for Query#scan.'\n          );\n          delete condition.limit;\n        }\n        if (orderedBy) condition.scan_key = orderedBy;\n        if (batchSize) condition.limit = batchSize;\n        let promise = Promise.resolve([]);\n        let cursor;\n        let done = false;\n        return {\n          next: () => {\n            promise = promise.then(remainResults => {\n              if (done) return [];\n              if (remainResults.length > 1) return remainResults;\n              // no cursor means we have reached the end\n              // except for the first time\n              if (!cursor && remainResults.length !== 0) {\n                done = true;\n                return remainResults;\n              }\n              // when only 1 item left in queue\n              // start the next request to see if it is the last one\n              return _request(\n                'scan/classes',\n                this.className,\n                null,\n                'GET',\n                cursor ? _.extend({}, condition, { cursor }) : condition,\n                authOptions\n              )\n                .then(response => {\n                  cursor = response.cursor;\n                  return this._parseResponse(response);\n                })\n                .then(results => {\n                  if (!results.length) done = true;\n                  return remainResults.concat(results);\n                });\n            });\n            return promise\n              .then(remainResults => remainResults.shift())\n              .then(result => ({\n                value: result,\n                done,\n              }));\n          },\n        };\n      },\n\n      /**\n       * Delete objects retrieved by this query.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       */\n      destroyAll: function(options) {\n        var self = this;\n        return self.find(options).then(function(objects) {\n          return AV.Object.destroyAll(objects, options);\n        });\n      },\n\n      /**\n       * Counts the number of objects that match this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the count when\n       * the query completes.\n       */\n      count: function(options) {\n        var params = this._getParams();\n        params.limit = 0;\n        params.count = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return response.count;\n        });\n      },\n\n      /**\n       * Retrieves at most one AV.Object that satisfies this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the object when\n       * the query completes.\n       */\n      first: function(options) {\n        var self = this;\n\n        var params = this._getParams();\n        params.limit = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return _.map(response.results, function(json) {\n            var obj = self._newObject();\n            if (obj._finishFetch) {\n              obj._finishFetch(self._processResult(json), true);\n            }\n            return obj;\n          })[0];\n        });\n      },\n\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        requires(n, 'undefined is not a valid skip value');\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        requires(n, 'undefined is not a valid limit value');\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that the AV.Object must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      equalTo: function(key, value) {\n        requires(key, 'undefined is not a valid key');\n        requires(value, 'undefined is not a valid value');\n        this._where[key] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Helper for condition queries\n       * @private\n       */\n      _addCondition: function(key, condition, value) {\n        requires(key, 'undefined is not a valid condition key');\n        requires(condition, 'undefined is not a valid condition');\n        requires(value, 'undefined is not a valid condition value');\n\n        // Check if we already have a condition\n        if (!this._where[key]) {\n          this._where[key] = {};\n        }\n        this._where[key][condition] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular\n       * <strong>array</strong> key's length to be equal to the provided value.\n       * @param {String} key The array key to check.\n       * @param value The length value.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      sizeEqualTo: function(key, value) {\n        this._addCondition(key, '$size', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be not equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that must not be equalled.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notEqualTo: function(key, value) {\n        this._addCondition(key, '$ne', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThan: function(key, value) {\n        this._addCondition(key, '$lt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThan: function(key, value) {\n        this._addCondition(key, '$gt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$lte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$gte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containedIn: function(key, values) {\n        this._addCondition(key, '$in', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * not be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notContainedIn: function(key, values) {\n        this._addCondition(key, '$nin', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * contain each one of the provided list of values.\n       * @param {String} key The key to check.  This key's value must be an array.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containsAll: function(key, values) {\n        this._addCondition(key, '$all', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that contain the given key.\n       * @param {String} key The key that should exist.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      exists: function(key) {\n        this._addCondition(key, '$exists', true);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that do not contain a given key.\n       * @param {String} key The key that should not exist\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotExist: function(key) {\n        this._addCondition(key, '$exists', false);\n        return this;\n      },\n\n      /**\n       * Add a regular expression constraint for finding string values that match\n       * the provided regular expression.\n       * This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {RegExp} regex The regular expression pattern to match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matches: function(key, regex, modifiers) {\n        this._addCondition(key, '$regex', regex);\n        if (!modifiers) {\n          modifiers = '';\n        }\n        // Javascript regex options support mig as inline options but store them\n        // as properties of the object. We support mi & should migrate them to\n        // modifiers\n        if (regex.ignoreCase) {\n          modifiers += 'i';\n        }\n        if (regex.multiline) {\n          modifiers += 'm';\n        }\n\n        if (modifiers && modifiers.length) {\n          this._addCondition(key, '$options', modifiers);\n        }\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a AV.Query\n       * constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$inQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not matches a\n       * AV.Query constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$notInQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     matched.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$select', { key: queryKey, query: queryJSON });\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not match a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     excluded.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$dontSelect', {\n          key: queryKey,\n          query: queryJSON,\n        });\n        return this;\n      },\n\n      /**\n       * Add constraint that at least one of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _orQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$or = queryJSON;\n        return this;\n      },\n\n      /**\n       * Add constraint that both of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _andQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$and = queryJSON;\n        return this;\n      },\n\n      /**\n       * Converts a string into a regex that matches it.\n       * Surrounding with \\Q .. \\E does this, we just need to escape \\E's in\n       * the text separately.\n       * @private\n       */\n      _quote: function(s) {\n        return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n      },\n\n      /**\n       * Add a constraint for finding string values that contain a provided\n       * string.  This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} substring The substring that the value must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      contains: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that start with a provided\n       * string.  This query will use the backend index, so it will be fast even\n       * for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} prefix The substring that the value must start with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      startsWith: function(key, value) {\n        this._addCondition(key, '$regex', '^' + this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that end with a provided\n       * string.  This will be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} suffix The substring that the value must end with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      endsWith: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value) + '$');\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      ascending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in ascending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addAscending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',' + key;\n        else this._order = key;\n        return this;\n      },\n\n      /**\n       * Sorts the results in descending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      descending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in descending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addDescending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',-' + key;\n        else this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      near: function(key, point) {\n        if (!(point instanceof AV.GeoPoint)) {\n          // Try to cast it to a GeoPoint, so that near(\"loc\", [20,30]) works.\n          point = new AV.GeoPoint(point);\n        }\n        this._addCondition(key, '$nearSphere', point);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param maxDistance Maximum distance (in radians) of results to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinRadians: function(key, point, distance) {\n        this.near(key, point);\n        this._addCondition(key, '$maxDistance', distance);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 3958.8 miles.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in miles) of results to\n       *     return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinMiles: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 3958.8);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 6371.0 kilometers.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in kilometers) of results\n       *     to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinKilometers: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 6371.0);\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's\n       * coordinates be contained within a given rectangular geographic bounding\n       * box.\n       * @param {String} key The key to be constrained.\n       * @param {AV.GeoPoint} southwest\n       *     The lower-left inclusive corner of the box.\n       * @param {AV.GeoPoint} northeast\n       *     The upper-right inclusive corner of the box.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinGeoBox: function(key, southwest, northeast) {\n        if (!(southwest instanceof AV.GeoPoint)) {\n          southwest = new AV.GeoPoint(southwest);\n        }\n        if (!(northeast instanceof AV.GeoPoint)) {\n          northeast = new AV.GeoPoint(northeast);\n        }\n        this._addCondition(key, '$within', { $box: [southwest, northeast] });\n        return this;\n      },\n\n      /**\n       * Include nested AV.Objects for the provided key.  You can use dot\n       * notation to specify which fields in the included object are also fetch.\n       * @param {String[]} keys The name of the key to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      include: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._include = this._include.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Include the ACL.\n       * @param {Boolean} [value=true] Whether to include the ACL\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      includeACL: function(value = true) {\n        this._includeACL = value;\n        return this;\n      },\n\n      /**\n       * Restrict the fields of the returned AV.Objects to include only the\n       * provided keys.  If this is called multiple times, then all of the keys\n       * specified in each of the calls will be included.\n       * @param {String[]} keys The names of the keys to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      select: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._select = this._select.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Iterates over each result of a query, calling a callback for each one. If\n       * the callback returns a promise, the iteration will not continue until\n       * that promise has been fulfilled. If the callback returns a rejected\n       * promise, then iteration will stop with that error. The items are\n       * processed in an unspecified order. The query may not have any sort order,\n       * and may not use limit or skip.\n       * @param callback {Function} Callback that will be called with each result\n       *     of the query.\n       * @return {Promise} A promise that will be fulfilled once the\n       *     iteration has completed.\n       */\n      each: function(callback, options = {}) {\n        if (this._order || this._skip || this._limit >= 0) {\n          var error = new Error(\n            'Cannot iterate on a query with sort, skip, or limit.'\n          );\n          return Promise.reject(error);\n        }\n\n        var query = new AV.Query(this.objectClass);\n        // We can override the batch size from the options.\n        // This is undocumented, but useful for testing.\n        query._limit = options.batchSize || 100;\n        query._where = _.clone(this._where);\n        query._include = _.clone(this._include);\n\n        query.ascending('objectId');\n\n        var finished = false;\n        return continueWhile(\n          function() {\n            return !finished;\n          },\n          function() {\n            return query.find(options).then(function(results) {\n              var callbacksDone = Promise.resolve();\n              _.each(results, function(result) {\n                callbacksDone = callbacksDone.then(function() {\n                  return callback(result);\n                });\n              });\n\n              return callbacksDone.then(function() {\n                if (results.length >= query._limit) {\n                  query.greaterThan('objectId', results[results.length - 1].id);\n                } else {\n                  finished = true;\n                }\n              });\n            });\n          }\n        );\n      },\n\n      /**\n       * Subscribe the changes of this query.\n       *\n       * LiveQuery is not included in the default bundle: {@link https://url.leanapp.cn/enable-live-query}.\n       *\n       * @since 3.0.0\n       * @return {AV.LiveQuery} An eventemitter which can be used to get LiveQuery updates;\n       */\n      subscribe(options) {\n        return AV.LiveQuery.init(this, options);\n      },\n    }\n  );\n\n  AV.FriendShipQuery = AV.Query._extend({\n    _newObject: function() {\n      const UserClass = AV.Object._getSubclass('_User');\n      return new UserClass();\n    },\n    _processResult: function(json) {\n      if (json && json[this._friendshipTag]) {\n        var user = json[this._friendshipTag];\n        if (user.__type === 'Pointer' && user.className === '_User') {\n          delete user.__type;\n          delete user.className;\n        }\n        return user;\n      } else {\n        return null;\n      }\n    },\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/query.js","const _ = require('underscore');\nconst EventEmitter = require('eventemitter3');\nconst { inherits } = require('./utils');\nconst { request } = require('./request');\n\nconst subscribe = (queryJSON, subscriptionId) =>\n  request({\n    method: 'POST',\n    path: '/LiveQuery/subscribe',\n    data: {\n      query: queryJSON,\n      id: subscriptionId,\n    },\n  });\n\nmodule.exports = AV => {\n  const requireRealtime = () => {\n    if (!AV._config.realtime) {\n      throw new Error(\n        'LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query'\n      );\n    }\n  };\n  /**\n   * @class\n   * A LiveQuery, created by {@link AV.Query#subscribe} is an EventEmitter notifies changes of the Query.\n   * @since 3.0.0\n   */\n  AV.LiveQuery = inherits(\n    EventEmitter,\n    /** @lends AV.LiveQuery.prototype */ {\n      constructor(id, client, queryJSON, subscriptionId) {\n        EventEmitter.apply(this);\n        this.id = id;\n        this._client = client;\n        this._client.register(this);\n        this._queryJSON = queryJSON;\n        this._subscriptionId = subscriptionId;\n        this._onMessage = this._dispatch.bind(this);\n        this._onReconnect = () => {\n          subscribe(this._queryJSON, this._subscriptionId).catch(error =>\n            console.error(`LiveQuery resubscribe error: ${error.message}`)\n          );\n        };\n        client.on('message', this._onMessage);\n        client.on('reconnect', this._onReconnect);\n      },\n      _dispatch(message) {\n        message.forEach(({ op, object, query_id: queryId, updatedKeys }) => {\n          if (queryId !== this.id) return;\n          const target = AV.parseJSON(\n            _.extend(\n              {\n                __type: object.className === '_File' ? 'File' : 'Object',\n              },\n              object\n            )\n          );\n          if (updatedKeys) {\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is updated.\n             * @event AV.LiveQuery#update\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which doesn't fulfill the Query is updated and now it fulfills the Query.\n             * @event AV.LiveQuery#enter\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which fulfills the Query is updated and now it doesn't fulfill the Query.\n             * @event AV.LiveQuery#leave\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            this.emit(op, target, updatedKeys);\n          } else {\n            /**\n             * A new AV.Object which fulfills the Query you subscribe is created.\n             * @event AV.LiveQuery#create\n             * @param {AV.Object|AV.File} target updated object\n             */\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is deleted.\n             * @event AV.LiveQuery#delete\n             * @param {AV.Object|AV.File} target updated object\n             */\n            this.emit(op, target);\n          }\n        });\n      },\n      /**\n       * unsubscribe the query\n       *\n       * @return {Promise}\n       */\n      unsubscribe() {\n        const client = this._client;\n        client.off('message', this._onMessage);\n        client.off('reconnect', this._onReconnect);\n        client.deregister(this);\n        return request({\n          method: 'POST',\n          path: '/LiveQuery/unsubscribe',\n          data: {\n            id: client.id,\n            query_id: this.id,\n          },\n        });\n      },\n    },\n    /** @lends AV.LiveQuery */\n    {\n      init(\n        query,\n        {\n          subscriptionId: userDefinedSubscriptionId = AV._getSubscriptionId(),\n        } = {}\n      ) {\n        requireRealtime();\n        if (!(query instanceof AV.Query))\n          throw new TypeError('LiveQuery must be inited with a Query');\n        return Promise.resolve(userDefinedSubscriptionId).then(subscriptionId =>\n          AV._config.realtime\n            .createLiveQueryClient(subscriptionId)\n            .then(liveQueryClient => {\n              const { where, keys, returnACL } = query._getParams();\n              const queryJSON = {\n                where,\n                keys,\n                returnACL,\n                className: query.className,\n              };\n              const promise = subscribe(queryJSON, subscriptionId)\n                .then(\n                  ({ query_id: queryId }) =>\n                    new AV.LiveQuery(\n                      queryId,\n                      liveQueryClient,\n                      queryJSON,\n                      subscriptionId\n                    )\n                )\n                .finally(() => {\n                  liveQueryClient.deregister(promise);\n                });\n              liveQueryClient.register(promise);\n              return promise;\n            })\n        );\n      },\n      /**\n       * Pause the LiveQuery connection. This is useful to deactivate the SDK when the app is swtiched to background.\n       * @static\n       * @return void\n       */\n      pause() {\n        requireRealtime();\n        return AV._config.realtime.pause();\n      },\n      /**\n       * Resume the LiveQuery connection. All subscriptions will be restored after reconnection.\n       * @static\n       * @return void\n       */\n      resume() {\n        requireRealtime();\n        return AV._config.realtime.resume();\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/live-query.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 154\n// module chunks = 0 1","const _ = require('underscore');\nconst { tap } = require('./utils');\n\nmodule.exports = AV => {\n  /**\n   * @class\n   * @example\n   * AV.Captcha.request().then(captcha => {\n   *   captcha.bind({\n   *     textInput: 'code', // the id for textInput\n   *     image: 'captcha',\n   *     verifyButton: 'verify',\n   *   }, {\n   *     success: (validateCode) => {}, // next step\n   *     error: (error) => {}, // present error.message to user\n   *   });\n   * });\n   */\n  AV.Captcha = function Captcha(options, authOptions) {\n    this._options = options;\n    this._authOptions = authOptions;\n    /**\n     * The image url of the captcha\n     * @type string\n     */\n    this.url = undefined;\n    /**\n     * The captchaToken of the captcha.\n     * @type string\n     */\n    this.captchaToken = undefined;\n    /**\n     * The validateToken of the captcha.\n     * @type string\n     */\n    this.validateToken = undefined;\n  };\n\n  /**\n   * Refresh the captcha\n   * @return {Promise.<string>} a new capcha url\n   */\n  AV.Captcha.prototype.refresh = function refresh() {\n    return AV.Cloud._requestCaptcha(this._options, this._authOptions).then(\n      ({ captchaToken, url }) => {\n        _.extend(this, { captchaToken, url });\n        return url;\n      }\n    );\n  };\n\n  /**\n   * Verify the captcha\n   * @param {String} code The code from user input\n   * @return {Promise.<string>} validateToken if the code is valid\n   */\n  AV.Captcha.prototype.verify = function verify(code) {\n    return AV.Cloud.verifyCaptcha(code, this.captchaToken).then(\n      tap(validateToken => (this.validateToken = validateToken))\n    );\n  };\n\n  if (process.env.CLIENT_PLATFORM === 'Browser') {\n    /**\n     * Bind the captcha to HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     * @param [elements]\n     * @param {String|HTMLInputElement} [elements.textInput] An input element typed text, or the id for the element.\n     * @param {String|HTMLImageElement} [elements.image] An image element, or the id for the element.\n     * @param {String|HTMLElement} [elements.verifyButton] A button element, or the id for the element.\n     * @param [callbacks]\n     * @param {Function} [callbacks.success] Success callback will be called if the code is verified. The param `validateCode` can be used for further SMS request.\n     * @param {Function} [callbacks.error] Error callback will be called if something goes wrong, detailed in param `error.message`.\n     */\n    AV.Captcha.prototype.bind = function bind(\n      { textInput, image, verifyButton },\n      { success, error }\n    ) {\n      if (typeof textInput === 'string') {\n        textInput = document.getElementById(textInput);\n        if (!textInput)\n          throw new Error(`textInput with id ${textInput} not found`);\n      }\n      if (typeof image === 'string') {\n        image = document.getElementById(image);\n        if (!image) throw new Error(`image with id ${image} not found`);\n      }\n      if (typeof verifyButton === 'string') {\n        verifyButton = document.getElementById(verifyButton);\n        if (!verifyButton)\n          throw new Error(`verifyButton with id ${verifyButton} not found`);\n      }\n\n      this.__refresh = () =>\n        this.refresh()\n          .then(url => {\n            image.src = url;\n            if (textInput) {\n              textInput.value = '';\n              textInput.focus();\n            }\n          })\n          .catch(err => console.warn(`refresh captcha fail: ${err.message}`));\n      if (image) {\n        this.__image = image;\n        image.src = this.url;\n        image.addEventListener('click', this.__refresh);\n      }\n\n      this.__verify = () => {\n        const code = textInput.value;\n        this.verify(code)\n          .catch(err => {\n            this.__refresh();\n            throw err;\n          })\n          .then(success, error)\n          .catch(err => console.warn(`verify captcha fail: ${err.message}`));\n      };\n      if (textInput && verifyButton) {\n        this.__verifyButton = verifyButton;\n        verifyButton.addEventListener('click', this.__verify);\n      }\n    };\n\n    /**\n     * unbind the captcha from HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     */\n    AV.Captcha.prototype.unbind = function unbind() {\n      if (this.__image)\n        this.__image.removeEventListener('click', this.__refresh);\n      if (this.__verifyButton)\n        this.__verifyButton.removeEventListener('click', this.__verify);\n    };\n  }\n\n  /**\n   * Request a captcha\n   * @param [options]\n   * @param {Number} [options.width] width(px) of the captcha, ranged 60-200\n   * @param {Number} [options.height] height(px) of the captcha, ranged 30-100\n   * @param {Number} [options.size=4] length of the captcha, ranged 3-6. MasterKey required.\n   * @param {Number} [options.ttl=60] time to live(s), ranged 10-180. MasterKey required.\n   * @return {Promise.<AV.Captcha>}\n   */\n  AV.Captcha.request = (options, authOptions) => {\n    const captcha = new AV.Captcha(options, authOptions);\n    return captcha.refresh().then(() => captcha);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/captcha.js","const _ = require('underscore');\nconst { _request, request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   * Contains functions for calling and declaring\n   * <p><strong><em>\n   *   Some functions are only available from Cloud Code.\n   * </em></strong></p>\n   *\n   * @namespace\n   * @borrows AV.Captcha.request as requestCaptcha\n   */\n  AV.Cloud = AV.Cloud || {};\n\n  _.extend(\n    AV.Cloud,\n    /** @lends AV.Cloud */ {\n      /**\n       * Makes a call to a cloud function.\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      run(name, data, options) {\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/functions/${name}`,\n          data: AV._encode(data, null, true),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Makes a call to a cloud function, you can send {AV.Object} as param or a field of param; the response\n       * from server will also be parsed as an {AV.Object}, array of {AV.Object}, or object includes {AV.Object}\n       * @param {String} name The function name.\n       * @param {Object} data The parameters to send to the cloud function.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that will be resolved with the result of the function.\n       */\n      rpc(name, data, options) {\n        if (_.isArray(data)) {\n          return Promise.reject(\n            new Error(\n              \"Can't pass Array as the param of rpc function in JavaScript SDK.\"\n            )\n          );\n        }\n\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/call/${name}`,\n          data: AV._encodeObjectOrArray(data),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Make a call to request server date time.\n       * @return {Promise.<Date>} A promise that will be resolved with the result\n       * of the function.\n       * @since 0.5.9\n       */\n      getServerDate() {\n        return _request('date', null, null, 'GET').then(function(resp) {\n          return AV._decode(resp);\n        });\n      },\n\n      /**\n       * Makes a call to request a sms code for operation verification.\n       * @param {String|Object} data The mobile phone number string or a JSON\n       *    object that contains mobilePhoneNumber,template,sign,op,ttl,name etc.\n       * @param {String} data.mobilePhoneNumber\n       * @param {String} [data.template] sms template name\n       * @param {String} [data.sign] sms signature name\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {String} [options.validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n       * @return {Promise} A promise that will be resolved if the request succeed\n       */\n      requestSmsCode(data, options = {}) {\n        if (_.isString(data)) {\n          data = { mobilePhoneNumber: data };\n        }\n        if (!data.mobilePhoneNumber) {\n          throw new Error('Missing mobilePhoneNumber.');\n        }\n        if (options.validateToken) {\n          data = _.extend({}, data, {\n            validate_token: options.validateToken,\n          });\n        }\n        return _request('requestSmsCode', null, null, 'POST', data, options);\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.Cloud.requestSmsCode\n       * @param {String} code The sms code sent by AV.Cloud.requestSmsCode\n       * @param {phone} phone The mobile phoner number(optional).\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifySmsCode(code, phone) {\n        if (!code) throw new Error('Missing sms code.');\n        var params = {};\n        if (_.isString(phone)) {\n          params['mobilePhoneNumber'] = phone;\n        }\n\n        return _request('verifySmsCode', code, null, 'POST', params);\n      },\n\n      _requestCaptcha(options, authOptions) {\n        return _request(\n          'requestCaptcha',\n          null,\n          null,\n          'GET',\n          options,\n          authOptions\n        ).then(({ captcha_url: url, captcha_token: captchaToken }) => ({\n          captchaToken,\n          url,\n        }));\n      },\n\n      /**\n       * Request a captcha.\n       */\n      requestCaptcha: AV.Captcha.request,\n\n      /**\n       * Verify captcha code. This is the low-level API for captcha.\n       * Checkout {@link AV.Captcha} for high abstract APIs.\n       * @param {String} code the code from user input\n       * @param {String} captchaToken captchaToken returned by {@link AV.Cloud.requestCaptcha}\n       * @return {Promise.<String>} validateToken if the code is valid\n       */\n      verifyCaptcha(code, captchaToken) {\n        return _request('verifyCaptcha', null, null, 'POST', {\n          captcha_code: code,\n          captcha_token: captchaToken,\n        }).then(({ validate_token: validateToken }) => validateToken);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloudfunction.js","const request = require('./request').request;\n\nmodule.exports = function(AV) {\n  AV.Installation = AV.Object.extend('_Installation');\n\n  /**\n   * @namespace\n   */\n  AV.Push = AV.Push || {};\n\n  /**\n   * Sends a push notification.\n   * @param {Object} data The data of the push notification.\n   * @param {String[]} [data.channels] An Array of channels to push to.\n   * @param {Date} [data.push_time] A Date object for when to send the push.\n   * @param {Date} [data.expiration_time]  A Date object for when to expire\n   *         the push.\n   * @param {Number} [data.expiration_interval] The seconds from now to expire the push.\n   * @param {Number} [data.flow_control] The clients to notify per second\n   * @param {AV.Query} [data.where] An AV.Query over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {String} [data.cql] A CQL statement over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {Object} data.data The data to send as part of the push.\n             More details:  https://url.leanapp.cn/pushData\n   * @param {AuthOptions} [options]\n   * @return {Promise}\n   */\n  AV.Push.send = function(data, options) {\n    if (data.where) {\n      data.where = data.where._getParams().where;\n    }\n\n    if (data.where && data.cql) {\n      throw new Error(\"Both where and cql can't be set\");\n    }\n\n    if (data.push_time) {\n      data.push_time = data.push_time.toJSON();\n    }\n\n    if (data.expiration_time) {\n      data.expiration_time = data.expiration_time.toJSON();\n    }\n\n    if (data.expiration_time && data.expiration_time_interval) {\n      throw new Error(\n        \"Both expiration_time and expiration_time_interval can't be set\"\n      );\n    }\n\n    return request({\n      service: 'push',\n      method: 'POST',\n      path: '/push',\n      data,\n      authOptions: options,\n    });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/push.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\nconst { getSessionToken } = require('./utils');\n\nmodule.exports = function(AV) {\n  const getUser = (options = {}) => {\n    const sessionToken = getSessionToken(options);\n    if (sessionToken) {\n      return AV.User._fetchUserBySessionToken(getSessionToken(options));\n    }\n    return AV.User.currentAsync();\n  };\n\n  const getUserPointer = options =>\n    getUser(options).then(currUser =>\n      AV.Object.createWithoutData('_User', currUser.id)._toPointer()\n    );\n\n  /**\n   * Contains functions to deal with Status in LeanCloud.\n   * @class\n   */\n  AV.Status = function(imageUrl, message) {\n    this.data = {};\n    this.inboxType = 'default';\n    this.query = null;\n    if (imageUrl && typeof imageUrl === 'object') {\n      this.data = imageUrl;\n    } else {\n      if (imageUrl) {\n        this.data.image = imageUrl;\n      }\n      if (message) {\n        this.data.message = message;\n      }\n    }\n    return this;\n  };\n\n  _.extend(\n    AV.Status.prototype,\n    /** @lends AV.Status.prototype */ {\n      /**\n       * Gets the value of an attribute in status data.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        return this.data[attr];\n      },\n      /**\n       * Sets a hash of model attributes on the status data.\n       * @param {String} key The key to set.\n       * @param {} value The value to give it.\n       */\n      set: function(key, value) {\n        this.data[key] = value;\n        return this;\n      },\n      /**\n       * Destroy this status,then it will not be avaiable in other user's inboxes.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        if (!this.id)\n          return Promise.reject(new Error('The status id is not exists.'));\n        var request = AVRequest('statuses', null, this.id, 'DELETE', options);\n        return request;\n      },\n      /**\n       * Cast the AV.Status object to an AV.Object pointer.\n       * @return {AV.Object} A AV.Object pointer.\n       */\n      toObject: function() {\n        if (!this.id) return null;\n        return AV.Object.createWithoutData('_Status', this.id);\n      },\n      _getDataJSON: function() {\n        var json = _.clone(this.data);\n        return AV._encode(json);\n      },\n      /**\n       * Send a status by a AV.Query object.\n       * @since 0.3.0\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the send\n       *     completes.\n       * @example\n       *     // send a status to male users\n       *     var status = new AVStatus('image url', 'a message');\n       *     status.query = new AV.Query('_User');\n       *     status.query.equalTo('gender', 'male');\n       *     status.send().then(function(){\n       *              //send status successfully.\n       *      }, function(err){\n       *             //an error threw.\n       *             console.dir(err);\n       *      });\n       */\n      send: function(options = {}) {\n        if (!getSessionToken(options) && !AV.User.current()) {\n          throw new Error('Please signin an user.');\n        }\n        if (!this.query) {\n          return AV.Status.sendStatusToFollowers(this, options);\n        }\n\n        return getUserPointer(options)\n          .then(currUser => {\n            var query = this.query._getParams();\n            query.className = this.query.className;\n            var data = {};\n            data.query = query;\n            this.data = this.data || {};\n            this.data.source = this.data.source || currUser;\n            data.data = this._getDataJSON();\n            data.inboxType = this.inboxType || 'default';\n\n            return AVRequest('statuses', null, null, 'POST', data, options);\n          })\n          .then(response => {\n            this.id = response.objectId;\n            this.createdAt = AV._parseDate(response.createdAt);\n            return this;\n          });\n      },\n\n      _finishFetch: function(serverData) {\n        this.id = serverData.objectId;\n        this.createdAt = AV._parseDate(serverData.createdAt);\n        this.updatedAt = AV._parseDate(serverData.updatedAt);\n        this.messageId = serverData.messageId;\n        delete serverData.messageId;\n        delete serverData.objectId;\n        delete serverData.createdAt;\n        delete serverData.updatedAt;\n        this.data = AV._decode(serverData);\n      },\n    }\n  );\n\n  /**\n   * Send a status to current signined user's followers.\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendStatusToFollowers(status).then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendStatusToFollowers = function(status, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_Follower';\n      query.keys = 'follower';\n      query.where = { user: currUser };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = status.inboxType || 'default';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * <p>Send  a status from current signined user to other user's private status inbox.</p>\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {String} target The target user or user's objectId.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     // send a private status to user '52e84e47e4b0f8de283b079b'\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendPrivateStatus(status, '52e84e47e4b0f8de283b079b').then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendPrivateStatus = function(status, target, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    if (!target) {\n      throw new Error('Invalid target user.');\n    }\n    var userObjectId = _.isString(target) ? target : target.id;\n    if (!userObjectId) {\n      throw new Error('Invalid target user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_User';\n      query.where = { objectId: userObjectId };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = 'private';\n      status.inboxType = 'private';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * Count unread statuses in someone's inbox.\n   * @since 0.3.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the count\n   *     completes.\n   * @example\n   *  AV.Status.countUnreadStatuses(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.countUnreadStatuses = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/count',\n        null,\n        null,\n        'GET',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * reset unread statuses count in someone's inbox.\n   * @since 2.1.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the reset\n   *     completes.\n   * @example\n   *  AV.Status.resetUnreadCount(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.resetUnreadCount = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/resetUnreadCount',\n        null,\n        null,\n        'POST',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * Create a status query to find someone's published statuses.\n   * @since 0.3.0\n   * @param {AV.User} source The status source, typically the publisher.\n   * @return {AV.Query} The query object for status.\n   * @example\n   *   //Find current user's published statuses.\n   *   var query = AV.Status.statusQuery(AV.User.current());\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.statusQuery = function(source) {\n    var query = new AV.Query('_Status');\n    if (source) {\n      query.equalTo('source', source);\n    }\n    return query;\n  };\n\n  /**\n   * <p>AV.InboxQuery defines a query that is used to fetch somebody's inbox statuses.</p>\n   * @class\n   */\n  AV.InboxQuery = AV.Query._extend(\n    /** @lends AV.InboxQuery.prototype */ {\n      _objectClass: AV.Status,\n      _sinceId: 0,\n      _maxId: 0,\n      _inboxType: 'default',\n      _owner: null,\n      _newObject: function() {\n        return new AV.Status();\n      },\n      _createRequest: function(params, options) {\n        return AV.InboxQuery.__super__._createRequest.call(\n          this,\n          params,\n          options,\n          '/subscribe/statuses'\n        );\n      },\n\n      /**\n       * Sets the messageId of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is zero.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      sinceId: function(id) {\n        this._sinceId = id;\n        return this;\n      },\n      /**\n       * Sets the maximal messageId of results\n       * This is useful for pagination.\n       * Default is zero that is no limition.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      maxId: function(id) {\n        this._maxId = id;\n        return this;\n      },\n      /**\n       * Sets the owner of the querying inbox.\n       * @param {AV.User} owner The inbox owner.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      owner: function(owner) {\n        this._owner = owner;\n        return this;\n      },\n      /**\n       * Sets the querying inbox type.default is 'default'.\n       * @param {Object} type The inbox type.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      inboxType: function(type) {\n        this._inboxType = type;\n        return this;\n      },\n      _getParams: function() {\n        var params = AV.InboxQuery.__super__._getParams.call(this);\n        params.owner = AV._encode(this._owner);\n        params.inboxType = AV._encode(this._inboxType);\n        params.sinceId = AV._encode(this._sinceId);\n        params.maxId = AV._encode(this._maxId);\n        return params;\n      },\n    }\n  );\n\n  /**\n   * Create a inbox status query to find someone's inbox statuses.\n   * @since 0.3.0\n   * @param {AV.User} owner The inbox's owner\n   * @param {String} inboxType The inbox type,'default' by default.\n   * @return {AV.InboxQuery} The inbox query object.\n   * @see AV.InboxQuery\n   * @example\n   *   //Find current user's default inbox statuses.\n   *   var query = AV.Status.inboxQuery(AV.User.current());\n   *   //find the statuses after the last message id\n   *   query.sinceId(lastMessageId);\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.inboxQuery = function(owner, inboxType) {\n    var query = new AV.InboxQuery(AV.Status);\n    if (owner) {\n      query._owner = owner;\n    }\n    if (inboxType) {\n      query._inboxType = inboxType;\n    }\n    return query;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/status.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\n\nmodule.exports = function(AV) {\n  /**\n   * A builder to generate sort string for app searching.For example:\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var builder = new AV.SearchSortBuilder();\n   *   builder.ascending('key1').descending('key2','max');\n   *   var query = new AV.SearchQuery('Player');\n   *   query.sortBy(builder);\n   *   query.find().then();\n   */\n  AV.SearchSortBuilder = function() {\n    this._sortFields = [];\n  };\n\n  _.extend(\n    AV.SearchSortBuilder.prototype,\n    /** @lends AV.SearchSortBuilder.prototype */ {\n      _addField: function(key, order, mode, missing) {\n        var field = {};\n        field[key] = {\n          order: order || 'asc',\n          mode: mode || 'avg',\n          missing: '_' + (missing || 'last'),\n        };\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      ascending: function(key, mode, missing) {\n        return this._addField(key, 'asc', mode, missing);\n      },\n\n      /**\n       * Sorts the results in descending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      descending: function(key, mode, missing) {\n        return this._addField(key, 'desc', mode, missing);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Object} options The other options such as mode,order, unit etc.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      whereNear: function(key, point, options) {\n        options = options || {};\n        var field = {};\n        var geo = {\n          lat: point.latitude,\n          lon: point.longitude,\n        };\n        var m = {\n          order: options.order || 'asc',\n          mode: options.mode || 'avg',\n          unit: options.unit || 'km',\n        };\n        m[key] = geo;\n        field['_geo_distance'] = m;\n\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Build a sort string by configuration.\n       * @return {String} the sort string.\n       */\n      build: function() {\n        return JSON.stringify(AV._encode(this._sortFields));\n      },\n    }\n  );\n\n  /**\n   * App searching query.Use just like AV.Query:\n   *\n   * Visit <a href='https://leancloud.cn/docs/app_search_guide.html'>App Searching Guide</a>\n   * for more details.\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var query = new AV.SearchQuery('Player');\n   *   query.queryString('*');\n   *   query.find().then(function(results) {\n   *     console.log('Found %d objects', query.hits());\n   *     //Process results\n   *   });\n   */\n  AV.SearchQuery = AV.Query._extend(\n    /** @lends AV.SearchQuery.prototype */ {\n      _sid: null,\n      _hits: 0,\n      _queryString: null,\n      _highlights: null,\n      _sortBuilder: null,\n      _createRequest: function(params, options) {\n        return AVRequest(\n          'search/select',\n          null,\n          null,\n          'GET',\n          params || this._getParams(),\n          options\n        );\n      },\n\n      /**\n       * Sets the sid of app searching query.Default is null.\n       * @param {String} sid  Scroll id for searching.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      sid: function(sid) {\n        this._sid = sid;\n        return this;\n      },\n\n      /**\n       * Sets the query string of app searching.\n       * @param {String} q  The query string.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      queryString: function(q) {\n        this._queryString = q;\n        return this;\n      },\n\n      /**\n       * Sets the highlight fields. Such as\n       * <pre><code>\n       *   query.highlights('title');\n       *   //or pass an array.\n       *   query.highlights(['title', 'content'])\n       * </code></pre>\n       * @param {String|String[]} highlights a list of fields.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      highlights: function(highlights) {\n        var objects;\n        if (highlights && _.isString(highlights)) {\n          objects = arguments;\n        } else {\n          objects = highlights;\n        }\n        this._highlights = objects;\n        return this;\n      },\n\n      /**\n       * Sets the sort builder for this query.\n       * @see AV.SearchSortBuilder\n       * @param { AV.SearchSortBuilder} builder The sort builder.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       *\n       */\n      sortBy: function(builder) {\n        this._sortBuilder = builder;\n        return this;\n      },\n\n      /**\n       * Returns the number of objects that match this query.\n       * @return {Number}\n       */\n      hits: function() {\n        if (!this._hits) {\n          this._hits = 0;\n        }\n        return this._hits;\n      },\n\n      _processResult: function(json) {\n        delete json['className'];\n        delete json['_app_url'];\n        delete json['_deeplink'];\n        return json;\n      },\n\n      /**\n       * Returns true when there are more documents can be retrieved by this\n       * query instance, you can call find function to get more results.\n       * @see AV.SearchQuery#find\n       * @return {Boolean}\n       */\n      hasMore: function() {\n        return !this._hitEnd;\n      },\n\n      /**\n       * Reset current query instance state(such as sid, hits etc) except params\n       * for a new searching. After resetting, hasMore() will return true.\n       */\n      reset: function() {\n        this._hitEnd = false;\n        this._sid = null;\n        this._hits = 0;\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       * Either options.success or options.error is called when the find\n       * completes.\n       *\n       * @see AV.Query#find\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find: function() {\n        var self = this;\n\n        var request = this._createRequest();\n\n        return request.then(function(response) {\n          //update sid for next querying.\n          if (response.sid) {\n            self._oldSid = self._sid;\n            self._sid = response.sid;\n          } else {\n            self._sid = null;\n            self._hitEnd = true;\n          }\n          self._hits = response.hits || 0;\n\n          return _.map(response.results, function(json) {\n            if (json.className) {\n              response.className = json.className;\n            }\n            var obj = self._newObject(response);\n            obj.appURL = json['_app_url'];\n            obj._finishFetch(self._processResult(json), true);\n            return obj;\n          });\n        });\n      },\n\n      _getParams: function() {\n        var params = AV.SearchQuery.__super__._getParams.call(this);\n        delete params.where;\n        if (this.className) {\n          params.clazz = this.className;\n        }\n        if (this._sid) {\n          params.sid = this._sid;\n        }\n        if (!this._queryString) {\n          throw new Error('Please set query string.');\n        } else {\n          params.q = this._queryString;\n        }\n        if (this._highlights) {\n          params.highlights = this._highlights.join(',');\n        }\n        if (this._sortBuilder && params.order) {\n          throw new Error('sort and order can not be set at same time.');\n        }\n        if (this._sortBuilder) {\n          params.sort = this._sortBuilder.build();\n        }\n\n        return params;\n      },\n    }\n  );\n};\n\n/**\n * Sorts the results in ascending order by the given key.\n *\n * @method AV.SearchQuery#ascending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in ascending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addAscending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Sorts the results in descending order by the given key.\n *\n * @method AV.SearchQuery#descending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in descending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addDescending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Include nested AV.Objects for the provided key.  You can use dot\n * notation to specify which fields in the included object are also fetch.\n * @method AV.SearchQuery#include\n * @param {String[]} keys The name of the key to include.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the number of results to skip before returning any results.\n * This is useful for pagination.\n * Default is to skip zero results.\n * @method AV.SearchQuery#skip\n * @param {Number} n the number of results to skip.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the limit of the number of results to return. The default limit is\n * 100, with a maximum of 1000 results being returned at a time.\n * @method AV.SearchQuery#limit\n * @param {Number} n the number of results to limit to.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/search.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   *  LeanCloud\n   *  <a href='/docs/leaninsight_guide.html'></a>\n   * <p><strong><em>\n   *   \n   * </em></strong></p>\n   * @namespace\n   */\n  AV.Insight = AV.Insight || {};\n\n  _.extend(\n    AV.Insight,\n    /** @lends AV.Insight */ {\n      /**\n       *  Insight  Job id id \n       * AV.Insight.JobQuery \n       * @param {Object} jobConfig  JSON <code><pre>\n       *                   { \"sql\" : \"select count(*) as c,gender from _User group by gender\",\n       *                     \"saveAs\": {\n       *                         \"className\" : \"UserGender\",\n       *                         \"limit\": 1\n       *                      }\n       *                   }\n       *                  </pre></code>\n       *               sql  SQL  saveAs limit  1000\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      startJob: function(jobConfig, options) {\n        if (!jobConfig || !jobConfig.sql) {\n          throw new Error('Please provide the sql to run the job.');\n        }\n        var data = {\n          jobConfig: jobConfig,\n          appId: AV.applicationId,\n        };\n        return request({\n          path: '/bigquery/jobs',\n          method: 'POST',\n          data: AV._encode(data, null, true),\n          authOptions: options,\n          signKey: false,\n        }).then(resp => AV._decode(resp).id);\n      },\n\n      /**\n       *  Insight \n       *  <p><strong><em>\n       *     \n       *  </em></strong></p>\n       * @param {String} event \n       * @param {Function}  (err, id) err \n       *                   id  id id AV.Insight.JobQuery \n       *\n       */\n      on: function(event, cb) {},\n    }\n  );\n\n  /**\n   *  Insight \n   * @class\n   * @param {String} id  id\n   * @since 0.5.5\n   */\n  AV.Insight.JobQuery = function(id, className) {\n    if (!id) {\n      throw new Error('Please provide the job id.');\n    }\n    this.id = id;\n    this.className = className;\n    this._skip = 0;\n    this._limit = 100;\n  };\n\n  _.extend(\n    AV.Insight.JobQuery.prototype,\n    /** @lends AV.Insight.JobQuery.prototype */ {\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       *  JSON  status  totalCount \n       * results previewCount \n       * startTimeendTime \n       *\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       *\n       */\n      find: function(options) {\n        var params = {\n          skip: this._skip,\n          limit: this._limit,\n        };\n\n        return request({\n          path: `/bigquery/jobs/${this.id}`,\n          method: 'GET',\n          query: params,\n          authOptions: options,\n          signKey: false,\n        }).then(function(response) {\n          if (response.error) {\n            return Promise.reject(new AVError(response.code, response.error));\n          }\n          return Promise.resolve(response);\n        });\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/insight.js","const _ = require('underscore');\nconst { _request } = require('./request');\nconst AV = require('./av');\n\nconst serializeMessage = message => {\n  if (typeof message === 'string') {\n    return message;\n  }\n  if (typeof message.getPayload === 'function') {\n    return JSON.stringify(message.getPayload());\n  }\n  return JSON.stringify(message);\n};\n\n/**\n * <p>An AV.Conversation is a local representation of a LeanCloud realtime's\n * conversation. This class is a subclass of AV.Object, and retains the\n * same functionality of an AV.Object, but also extends it with various\n * conversation specific methods, like get members, creators of this conversation.\n * </p>\n *\n * @class AV.Conversation\n * @param {String} name The name of the Role to create.\n * @param {Object} [options]\n * @param {Boolean} [options.isSystem] Set this conversation as system conversation.\n * @param {Boolean} [options.isTransient] Set this conversation as transient conversation.\n */\nmodule.exports = AV.Object.extend(\n  '_Conversation',\n  /** @lends AV.Conversation.prototype */ {\n    constructor(name, options = {}) {\n      AV.Object.prototype.constructor.call(this, null, null);\n      this.set('name', name);\n      if (options.isSystem !== undefined) {\n        this.set('sys', options.isSystem ? true : false);\n      }\n      if (options.isTransient !== undefined) {\n        this.set('tr', options.isTransient ? true : false);\n      }\n    },\n    /**\n     * Get current conversation's creator.\n     *\n     * @return {String}\n     */\n    getCreator() {\n      return this.get('c');\n    },\n\n    /**\n     * Get the last message's time.\n     *\n     * @return {Date}\n     */\n    getLastMessageAt() {\n      return this.get('lm');\n    },\n\n    /**\n     * Get this conversation's members\n     *\n     * @return {String[]}\n     */\n    getMembers() {\n      return this.get('m');\n    },\n\n    /**\n     * Add a member to this conversation\n     *\n     * @param {String} member\n     */\n    addMember(member) {\n      return this.add('m', member);\n    },\n\n    /**\n     * Get this conversation's members who set this conversation as muted.\n     *\n     * @return {String[]}\n     */\n    getMutedMembers() {\n      return this.get('mu');\n    },\n\n    /**\n     * Get this conversation's name field.\n     *\n     * @return String\n     */\n    getName() {\n      return this.get('name');\n    },\n\n    /**\n     * Returns true if this conversation is transient conversation.\n     *\n     * @return {Boolean}\n     */\n    isTransient() {\n      return this.get('tr');\n    },\n\n    /**\n     * Returns true if this conversation is system conversation.\n     *\n     * @return {Boolean}\n     */\n    isSystem() {\n      return this.get('sys');\n    },\n\n    /**\n     * Send realtime message to this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}\n     * @param {Object} [options]\n     * @param {Boolean} [options.transient] Whether send this message as transient message or not.\n     * @param {String[]} [options.toClients] Ids of clients to send to. This option can be used only in system conversation.\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    send(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        transient: false,\n        message: serializeMessage(message),\n      };\n      if (options.toClients !== undefined) {\n        data.to_peers = options.toClients;\n      }\n      if (options.transient !== undefined) {\n        data.transient = options.transient ? true : false;\n      }\n      if (options.pushData !== undefined) {\n        data.push_data = options.pushData;\n      }\n      return _request('rtm', 'messages', null, 'POST', data, authOptions);\n    },\n\n    /**\n     * Send realtime broadcast message to all clients, via this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}.\n     * @param {Object} [options]\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }.\n     * @param {Object} [options.validTill] The message will valid till this time.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    broadcast(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        message: serializeMessage(message),\n      };\n      if (options.pushData !== undefined) {\n        data.push = options.pushData;\n      }\n      if (options.validTill !== undefined) {\n        let ts = options.validTill;\n        if (_.isDate(ts)) {\n          ts = ts.getTime();\n        }\n        options.valid_till = ts;\n      }\n      return _request('rtm', 'broadcast', null, 'POST', data, authOptions);\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/conversation.js","const _ = require('underscore');\nconst { request } = require('./request');\nconst { ensureArray, parseDate } = require('./utils');\nconst AV = require('./av');\n\n/**\n * The version change interval for Leaderboard\n * @enum\n */\nAV.LeaderboardVersionChangeInterval = {\n  NEVER: 'never',\n  DAY: 'day',\n  WEEK: 'week',\n  MONTH: 'month',\n};\n\n/**\n * The order of the leaderboard results\n * @enum\n */\nAV.LeaderboardOrder = {\n  ASCENDING: 'ascending',\n  DESCENDING: 'descending',\n};\n\n/**\n * The update strategy for Leaderboard\n * @enum\n */\nAV.LeaderboardUpdateStrategy = {\n  /** Only keep the best statistic. If the leaderboard is in descending order, the best statistic is the highest one. */\n  BETTER: 'better',\n  /** Keep the last updated statistic */\n  LAST: 'last',\n  /** Keep the sum of all updated statistics */\n  SUM: 'sum',\n};\n\n/**\n * @typedef {Object} Ranking\n * @property {number} rank Starts at 0\n * @property {number} value the statistic value of this ranking\n * @property {AV.User} user The user of this ranking\n * @property {Statistic[]} [includedStatistics] Other statistics of the user, specified by the `includeStatistic` option of `AV.Leaderboard.getResults()`\n */\n\n/**\n * @typedef {Object} LeaderboardArchive\n * @property {string} statisticName\n * @property {number} version version of the leaderboard\n * @property {string} status\n * @property {string} url URL for the downloadable archive\n * @property {Date} activatedAt time when this version became active\n * @property {Date} deactivatedAt time when this version was deactivated by a version incrementing\n */\n\n/**\n * @class\n */\nfunction Statistic({ name, value, version }) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {number}\n   */\n  this.value = value;\n  /**\n   * @type {number?}\n   */\n  this.version = version;\n}\n\nconst parseStatisticData = statisticData => {\n  const { statisticName: name, statisticValue: value, version } = AV._decode(\n    statisticData\n  );\n  return new Statistic({ name, value, version });\n};\n\n/**\n * @class\n */\nAV.Leaderboard = function Leaderboard(statisticName) {\n  /**\n   * @type {string}\n   */\n  this.statisticName = statisticName;\n  /**\n   * @type {AV.LeaderboardOrder}\n   */\n  this.order = undefined;\n  /**\n   * @type {AV.LeaderboardUpdateStrategy}\n   */\n  this.updateStrategy = undefined;\n  /**\n   * @type {AV.LeaderboardVersionChangeInterval}\n   */\n  this.versionChangeInterval = undefined;\n  /**\n   * @type {number}\n   */\n  this.version = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.nextResetAt = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.createdAt = undefined;\n};\nconst Leaderboard = AV.Leaderboard;\n\n/**\n * Create an instance of Leaderboard for the give statistic name.\n * @param {string} statisticName\n * @return {AV.Leaderboard}\n */\nAV.Leaderboard.createWithoutData = statisticName =>\n  new Leaderboard(statisticName);\n/**\n * (masterKey required) Create a new Leaderboard.\n * @param {Object} options\n * @param {string} options.statisticName\n * @param {AV.LeaderboardOrder} options.order\n * @param {AV.LeaderboardVersionChangeInterval} [options.versionChangeInterval] default to WEEK\n * @param {AV.LeaderboardUpdateStrategy} [options.updateStrategy] default to BETTER\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.createLeaderboard = (\n  { statisticName, order, versionChangeInterval, updateStrategy },\n  authOptions\n) =>\n  request({\n    method: 'POST',\n    path: '/leaderboard/leaderboards',\n    data: {\n      statisticName,\n      order,\n      versionChangeInterval,\n      updateStrategy,\n    },\n    authOptions,\n  }).then(data => {\n    const leaderboard = new Leaderboard(statisticName);\n    return leaderboard._finishFetch(data);\n  });\n/**\n * Get the Leaderboard with the specified statistic name.\n * @param {string} statisticName\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.getLeaderboard = (statisticName, authOptions) =>\n  Leaderboard.createWithoutData(statisticName).fetch(authOptions);\n/**\n * Get Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} [options]\n * @param {string[]} [options.statisticNames] Specify the statisticNames. If not set, all statistics of the user will be fetched.\n * @param {AuthOptions} [authOptions]\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.getStatistics = (user, { statisticNames } = {}, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'GET',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: statisticNames\n          ? ensureArray(statisticNames).join(',')\n          : undefined,\n      },\n      authOptions,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Update Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to update.\n * @param {AuthOptions} [options] AuthOptions plus:\n * @param {boolean} [options.overwrite] Wethere to overwrite these statistics disregarding the updateStrategy of there leaderboards\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.updateStatistics = (user, statistics, options = {}) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    const data = _.map(statistics, (value, key) => ({\n      statisticName: key,\n      statisticValue: value,\n    }));\n    const { overwrite } = options;\n    return request({\n      method: 'POST',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        overwrite: overwrite ? 1 : undefined,\n      },\n      data,\n      authOptions: options,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Delete Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to delete.\n * @param {AuthOptions} [options]\n * @return {Promise<void>}\n */\nAV.Leaderboard.deleteStatistics = (user, statisticNames, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'DELETE',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: ensureArray(statisticNames).join(','),\n      },\n      authOptions,\n    }).then(() => undefined);\n  });\n\n_.extend(\n  Leaderboard.prototype,\n  /** @lends AV.Leaderboard.prototype */ {\n    _finishFetch(data) {\n      _.forEach(data, (value, key) => {\n        if (key === 'updatedAt' || key === 'objectId') return;\n        if (key === 'expiredAt') {\n          key = 'nextResetAt';\n        }\n        if (key === 'createdAt') {\n          value = parseDate(value);\n        }\n        if (value && value.__type === 'Date') {\n          value = parseDate(value.iso);\n        }\n        this[key] = value;\n      });\n      return this;\n    },\n    /**\n     * Fetch data from the srever.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    fetch(authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * Counts the number of users participated in this leaderboard\n     * @param {Object} [options]\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<number>}\n     */\n    count({ version } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks`,\n        query: {\n          count: 1,\n          limit: 0,\n          version,\n        },\n        authOptions,\n      }).then(({ count }) => count);\n    },\n    _getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      },\n      authOptions,\n      userId\n    ) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks${\n          userId ? `/${userId}` : ''\n        }`,\n        query: {\n          skip,\n          limit,\n          selectUserKeys:\n            _.union(\n              ensureArray(selectUserKeys),\n              ensureArray(includeUserKeys)\n            ).join(',') || undefined,\n          includeUser: includeUserKeys\n            ? ensureArray(includeUserKeys).join(',')\n            : undefined,\n          includeStatistics: includeStatistics\n            ? ensureArray(includeStatistics).join(',')\n            : undefined,\n          version,\n        },\n        authOptions,\n      }).then(({ results: rankings }) =>\n        rankings.map(rankingData => {\n          const {\n            user,\n            statisticValue: value,\n            rank,\n            statistics = [],\n          } = AV._decode(rankingData);\n          return {\n            user,\n            value,\n            rank,\n            includedStatistics: statistics.map(parseStatisticData),\n          };\n        })\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = {},\n      authOptions\n    ) {\n      return this._getResults(\n        {\n          skip,\n          limit,\n          selectUserKeys,\n          includeUserKeys,\n          includeStatistics,\n          version,\n        },\n        authOptions\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard, centered on the specified user.\n     * @param {AV.User} user The specified AV.User pointer.\n     * @param {Object} [options]\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResultsAroundUser(user, options = {}, authOptions) {\n      // getResultsAroundUser(options, authOptions)\n      if (user && typeof user.id !== 'string') {\n        return this.getResultsAroundUser(undefined, user, options);\n      }\n      const {\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = options;\n      return this._getResults(\n        { limit, selectUserKeys, includeUserKeys, includeStatistics, version },\n        authOptions,\n        user ? user.id : 'self'\n      );\n    },\n    _update(data, authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        data,\n        authOptions,\n      }).then(result => this._finishFetch(result));\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardVersionChangeInterval} versionChangeInterval\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateVersionChangeInterval(versionChangeInterval, authOptions) {\n      return this._update({ versionChangeInterval }, authOptions);\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardUpdateStrategy} updateStrategy\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateUpdateStrategy(updateStrategy, authOptions) {\n      return this._update({ updateStrategy }, authOptions);\n    },\n    /**\n     * (masterKey required) Reset the Leaderboard. The version of the Leaderboard will be incremented by 1.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    reset(authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}/incrementVersion`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * (masterKey required) Delete the Leaderboard and its all archived versions.\n     * @param {AuthOptions} [authOptions]\n     * @return {void}\n     */\n    destroy(authOptions) {\n      return AV.request({\n        method: 'DELETE',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(() => undefined);\n    },\n    /**\n     * (masterKey required) Get archived versions.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<LeaderboardArchive[]>}\n     */\n    getArchives({ skip, limit } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/archives`,\n        query: {\n          skip,\n          limit,\n        },\n        authOptions,\n      }).then(({ results }) =>\n        results.map(({ version, status, url, activatedAt, deactivatedAt }) => ({\n          statisticName: this.statisticName,\n          version,\n          status,\n          url,\n          activatedAt: parseDate(activatedAt.iso),\n          deactivatedAt: parseDate(deactivatedAt.iso),\n        }))\n      );\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/leaderboard.js"],"sourceRoot":""}